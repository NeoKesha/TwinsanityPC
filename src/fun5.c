#include "main.h"
/*
// WARNING: Type propagation algorithm not settling

void FUN_00243f60(int param_1, undefined8 param_2, int param_3)

{
	InstanceNode *pIVar1;
	ChunkNode *pCVar2;
	void *pvVar3;
	int *piVar4;
	ulong uVar5;
	float fVar6;
	float fVar7;
	ulong uVar8;
	float fVar9;
	long lVar10;
	int iVar11;
	long lVar12;
	float fVar13;
	float fVar14;

	pIVar1 = *(InstanceNode **)(param_3 + 0x4);
	iVar11 = *(int *)&pIVar1->field_0x12c;
	lVar12 = (long)iVar11;
	if ((*(ulong *)(param_1 + 0x20) & 0x400) != 0x0) {
		*(undefined4 *)&pIVar1->field_0xf4 = *(undefined4 *)(param_1 + 0x24);
	}
	if ((*(ulong *)(param_1 + 0x20) & 0x8000000) == 0x0) {
		if ((*(ulong *)(param_1 + 0x20) & 0x10000000) != 0x0) {
			pCVar2 = (pIVar1->baseNode).ChunkNode;
			fVar14 = (pCVar2->chunkNodeRelData_).unkBbox.bboxMax.x;
			fVar6 = (pCVar2->chunkNodeRelData_).unkBbox.bboxMax.z;
			fVar7 = (pCVar2->chunkNodeRelData_).unkBbox.bboxMin.x;
			fVar9 = (pCVar2->chunkNodeRelData_).unkBbox.bboxMin.z;
			fVar13 = ((pCVar2->chunkNodeRelData_).unkBbox.bboxMax.y -
				(pCVar2->chunkNodeRelData_).unkBbox.bboxMin.y) * 0.50000000;
			*(float *)&pIVar1->field_0xf4 = fVar13;
			fVar14 = (fVar14 - fVar7) * 0.50000000;
			fVar6 = (fVar6 - fVar9) * 0.50000000;
			*(float *)(param_1 + 0x40) =
				(float)((int)fVar6 * (uint)(fVar14 < fVar6) | (int)fVar14 * (uint)(fVar14 >= fVar6)) *
				(1.00000000 / fVar13);
			goto LAB_002440cc;
		}
		uVar8 = *(ulong *)(param_1 + 0x20);
	}
	else {
		pCVar2 = (pIVar1->baseNode).ChunkNode;
		*(float *)&pIVar1->field_0xf4 =
			((pCVar2->chunkNodeRelData_).unkBbox.bboxMax.z -
			(pCVar2->chunkNodeRelData_).unkBbox.bboxMin.z) * 0.50000000;
	LAB_002440cc:
		uVar8 = *(ulong *)(param_1 + 0x20);
	}
	if ((uVar8 & 0x100) == 0x0) {
	LAB_0024413c:
		uVar8 = *(ulong *)(param_1 + 0x20);
	}
	else {
		if ((uVar8 & 0xf) == 0x0) {
			if (lVar12 == 0x0) {
				uVar8 = *(ulong *)(param_1 + 0x20);
			}
			else {
				FUN_00246c10(iVar11, 0x0);
				uVar8 = *(ulong *)(param_1 + 0x20);
			}
		}
		else {
			if (lVar12 == 0x0) {
				pvVar3 = MemoryAllocate(0xe0);
				lVar12 = FUN_002465a0((long)(int)pvVar3, pIVar1);
				FUN_00246c10((int)lVar12, (long)*(int *)(param_1 + 0x20) & 0xf);
				FUN_0023e668(pIVar1);
				*(int *)&pIVar1->field_0x12c = (int)lVar12;
				goto LAB_0024413c;
			}
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
	}
	if ((uVar8 & 0x200) != 0x0) {
		if ((uVar8 & 0xf0) == 0x0) {
			if (lVar12 == 0x0) {
				return;
			}
			FUN_00246f70((int)lVar12, 0x0);
		}
		else {
			if (lVar12 == 0x0) {
				pvVar3 = MemoryAllocate(0xe0);
				lVar12 = FUN_002465a0((long)(int)pvVar3, pIVar1);
				FUN_0023e668(pIVar1);
				*(undefined4 *)&pIVar1->field_0x12c = (int)lVar12;
				lVar10 = *(long *)(param_1 + 0x20);
			}
			else {
				lVar10 = *(long *)(param_1 + 0x20);
			}
			FUN_00246f70((int)lVar12, (lVar10 << 0x1c) >> 0x20 & 0xf);
		}
	}
	if (lVar12 == 0x0) {
		return;
	}
	iVar11 = (int)lVar12;
	if ((*(ulong *)(param_1 + 0x20) & 0x80000000) != 0x0) {
		*(ulong *)(iVar11 + 0x90) = *(ulong *)(iVar11 + 0x90) & 0xffffffffff7fffff | 0x800000;
	}
	if ((*(ulong *)(param_1 + 0x20) & 0x800) == 0x0) {
		FUN_00254260(iVar11);
		uVar8 = *(ulong *)(param_1 + 0x20);
	}
	else {
		if (pIVar1->unkInstanceRelatedStructPtr == (InstanceNode *)0x0) {
			piVar4 = pIVar1->field_0x80;
		}
		else {
			piVar4 = (int *)FUN_0023c8a8(pIVar1->unkInstanceRelatedStructPtr);
		}
		fVar14 = FUN_00209a00((uint *)(param_1 + 0x48), (int)piVar4);
		FUN_002541e0(fVar14, iVar11);
		uVar8 = *(ulong *)(param_1 + 0x20);
	}
	if ((uVar8 & 0x1000) == 0x0) {
		uVar8 = *(ulong *)(iVar11 + 0x88) & 0xff7fffffffffffff;
	}
	else {
		uVar8 = *(ulong *)(iVar11 + 0x88) | 0x80000000000000;
	}
	*(ulong *)(iVar11 + 0x88) = uVar8;
	if ((*(ulong *)(param_1 + 0x20) & 0x100000) == 0x0) {
		uVar8 = *(ulong *)(param_1 + 0x20);
	}
	else {
		*(ulong *)(iVar11 + 0x88) = *(ulong *)(iVar11 + 0x88) | 0x800000000000000;
		uVar8 = *(ulong *)(param_1 + 0x20);
	}
	if ((uVar8 & 0x2000000) == 0x0) {
		uVar8 = *(ulong *)(iVar11 + 0x90) & 0xfffffffffffffffb;
	}
	else {
		uVar8 = *(ulong *)(iVar11 + 0x90) | 0x4;
	}
	*(ulong *)(iVar11 + 0x90) = uVar8;
	if ((*(ulong *)(param_1 + 0x20) & 0x4000000) == 0x0) {
		uVar8 = *(ulong *)(iVar11 + 0x90) & 0xfffffffffffffff7;
	}
	else {
		uVar8 = *(ulong *)(iVar11 + 0x90) | 0x8;
	}
	*(ulong *)(iVar11 + 0x90) = uVar8;
	*(undefined4 *)(iVar11 + 0xa0) = *(undefined4 *)(param_1 + 0x40);
	*(undefined4 *)(iVar11 + 0xbc) = *(undefined4 *)(param_1 + 0x44);
	if ((*(ulong *)(param_1 + 0x20) & 0x20000000) == 0x0) {
		uVar8 = 0x400000;
		if ((*(ulong *)(param_1 + 0x20) & 0x40000000) == 0x0) goto LAB_00244350;
		uVar5 = *(ulong *)(iVar11 + 0x90);
	}
	else {
		uVar5 = *(ulong *)(iVar11 + 0x90);
		uVar8 = 0x200000;
	}
	*(ulong *)(iVar11 + 0x90) = uVar5 | uVar8;
LAB_00244350:
	if ((*(ulong *)(iVar11 + 0x88) & 0xff00000000) == 0x0) {
		FUN_0023e668(pIVar1);
	}
	else {
		if ((*(ulong *)(param_1 + 0x20) & 0x2000) == 0x0) {
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
		else {
			FUN_002542e0(*(undefined4 *)(param_1 + 0x28), iVar11);
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
		if ((uVar8 & 0x1000000) == 0x0) {
			if (*(float *)(param_1 + 0x2c) < 0.00000000) {
				*(ulong *)(iVar11 + 0x90) = *(ulong *)(iVar11 + 0x90) | 0x2000000;
			}
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
		else {
			FUN_00254310(*(undefined4 *)(param_1 + 0x2c), iVar11);
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
		if ((uVar8 & 0x4000) == 0x0) {
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
		else {
			FUN_00254340(*(undefined4 *)(param_1 + 0x30), iVar11);
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
		if ((uVar8 & 0x8000) == 0x0) {
			if ((uVar8 & 0x400000) == 0x0) {
				uVar8 = *(ulong *)(param_1 + 0x20);
			}
			else {
				*(undefined4 *)(iVar11 + 0xb4) = *(undefined4 *)(param_1 + 0x34);
				*(ulong *)(iVar11 + 0x88) = *(ulong *)(iVar11 + 0x88) | 0x2000000000000000;
				uVar8 = *(ulong *)(param_1 + 0x20);
			}
		}
		else {
			FUN_002542a0(*(undefined4 *)(param_1 + 0x34), iVar11);
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
		if ((uVar8 & 0x10000) == 0x0) {
			if ((uVar8 & 0x200000) == 0x0) {
				uVar8 = *(ulong *)(param_1 + 0x20);
			}
			else {
				*(undefined4 *)(iVar11 + 0xb8) = *(undefined4 *)(param_1 + 0x38);
				*(ulong *)(iVar11 + 0x88) = *(ulong *)(iVar11 + 0x88) | 0x1000000000000000;
				uVar8 = *(ulong *)(param_1 + 0x20);
			}
		}
		else {
			FUN_00246a88(*(undefined4 *)(param_1 + 0x38), lVar12);
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
		if ((uVar8 & 0x800000) == 0x0) {
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
		else {
			FUN_00254380(*(undefined4 *)(param_1 + 0x3c), iVar11);
			uVar8 = *(ulong *)(param_1 + 0x20);
		}
		if ((uVar8 & 0x80000) != 0x0) {
			FUN_002546f0(iVar11);
		}
		uVar8 = *(ulong *)(iVar11 + 0x88);
		if (*(int *)(iVar11 + 0xd4) == 0x0) {
			*(ulong *)(iVar11 + 0x88) =
				uVar8 & 0xfffffcffffffffff | ((*(long *)(param_1 + 0x20) << 0xf) >> 0x20 & 0x3U) << 0x28;
			uVar8 = *(ulong *)(iVar11 + 0x88);
		}
		*(ulong *)(iVar11 + 0x88) = uVar8 & 0xfdffffffffffffff;
		*(ulong *)(iVar11 + 0x90) = *(ulong *)(iVar11 + 0x90) | 0x7800;
	}
	return;
}



void FUN_00244560(int param_1, int *param_2)

{
	ushort uVar1;
	ushort *puVar2;
	ulong uVar3;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	do {
		uVar3 = FUN_00208818((int)local_30);
		if (uVar3 != 0x0) {
			return;
		}
		puVar2 = (ushort *)
			(**(code **)(local_30[0] + 0x24))((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		uVar1 = *puVar2;
		if (uVar1 == 0x4b) {
			uVar3 = *(ulong *)(param_1 + 0x8) | 0x100000000;
			*(undefined4 *)(param_1 + 0x18) = *(undefined4 *)(puVar2 + 0x2);
		LAB_002446d8:
			*(ulong *)(param_1 + 0x8) = uVar3;
		}
		else {
			if (uVar1 < 0x4c) {
				if (uVar1 == 0x49) {
					uVar3 = *(ulong *)(param_1 + 0x8) | 0x100000000;
					*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(puVar2 + 0x2);
				}
				else {
					if (uVar1 < 0x4a) {
						if (uVar1 != 0x3f) goto LAB_002446dc;
						uVar3 = *(ulong *)(param_1 + 0x8) | 0x200000000;
						*(undefined4 *)(param_1 + 0x20) = *(undefined4 *)(puVar2 + 0x2);
					}
					else {
						uVar3 = *(ulong *)(param_1 + 0x8) | 0x100000000;
						*(undefined4 *)(param_1 + 0x14) = *(undefined4 *)(puVar2 + 0x2);
					}
				}
				goto LAB_002446d8;
			}
			if (uVar1 == 0x74) {
				uVar3 = *(ulong *)(param_1 + 0x8) | 0x800000000;
				*(undefined4 *)(param_1 + 0x28) = *(undefined4 *)(puVar2 + 0x2);
				goto LAB_002446d8;
			}
			if (uVar1 < 0x75) {
				if (uVar1 == 0x73) {
					uVar3 = *(ulong *)(param_1 + 0x8) | 0x400000000;
					*(undefined4 *)(param_1 + 0x24) = *(undefined4 *)(puVar2 + 0x2);
					goto LAB_002446d8;
				}
			}
			else {
				if (((uVar1 == 0xffff) && (*(char *)(puVar2 + 0x1) == '\x04')) &&
					(*(int *)(puVar2 + 0x2) == 0x42)) {
					uVar3 = *(ulong *)(param_1 + 0x8) | 0x1000000000;
					goto LAB_002446d8;
				}
			}
		}
	LAB_002446dc:
		FUN_00208830((int)local_30);
	} while (true);
}



void FUN_00244710(int param_1, undefined8 param_2, int param_3)

{
	int *piVar1;
	int iVar2;
	TransformedGeometyPoint *pTVar3;
	int iVar4;
	ulong uVar5;
	undefined local_40;
	undefined7 uStack63;
	undefined4 uStack56;
	undefined4 uStack52;

	piVar1 = *(int **)(param_3 + 0x4);
	iVar2 = piVar1[0x4b];
	*(ulong *)(iVar2 + 0x88) = *(ulong *)(iVar2 + 0x88) | 0x100000000000000;
	if ((*(ulong *)(param_1 + 0x8) & 0x100000000) == 0x0) {
		uVar5 = *(ulong *)(param_1 + 0x8);
	}
	else {
		pTVar3 = *(TransformedGeometyPoint **)(*piVar1 + 0x8);
		RotateAndTranslate_(pTVar3);
		iVar4 = piVar1[0x4a];
		FUN_0018ec48((long)(int)pTVar3, (undefined4 *)&local_40, (undefined4 *)&local_40);
		*(undefined4 *)(iVar4 + 0x30) = *(undefined4 *)(iVar4 + 0x20);
		*(undefined4 *)(iVar4 + 0x34) = *(undefined4 *)(iVar4 + 0x24);
		*(undefined4 *)(iVar4 + 0x38) = *(undefined4 *)(iVar4 + 0x28);
		*(undefined4 *)(iVar4 + 0x3c) = *(undefined4 *)(iVar4 + 0x2c);
		*(undefined4 *)(iVar4 + 0x20) = (int)CONCAT71(uStack63, local_40);
		*(undefined4 *)(iVar4 + 0x24) = (int)((uint7)uStack63 >> 0x18);
		*(undefined4 *)(iVar4 + 0x28) = uStack56;
		*(undefined4 *)(iVar4 + 0x2c) = uStack52;
		uVar5 = *(ulong *)(param_1 + 0x8);
	}
	if ((uVar5 & 0x400000000) == 0x0) {
		uVar5 = *(ulong *)(param_1 + 0x8);
	}
	else {
		FUN_00254340(*(undefined4 *)(param_1 + 0x24), iVar2);
		uVar5 = *(ulong *)(param_1 + 0x8);
	}
	if ((uVar5 & 0x200000000) == 0x0) {
		uVar5 = *(ulong *)(param_1 + 0x8);
	}
	else {
		FUN_002542e0(*(undefined4 *)(param_1 + 0x20), iVar2);
		uVar5 = *(ulong *)(param_1 + 0x8);
	}
	if ((uVar5 & 0x800000000) == 0x0) {
		uVar5 = *(ulong *)(param_1 + 0x8);
	}
	else {
		FUN_002542a0(*(undefined4 *)(param_1 + 0x28), iVar2);
		uVar5 = *(ulong *)(param_1 + 0x8);
	}
	if ((uVar5 & 0x1000000000) != 0x0) {
		*(ulong *)(iVar2 + 0x88) = *(ulong *)(iVar2 + 0x88) | 0x200000000000000;
		*(ulong *)(iVar2 + 0x90) = *(ulong *)(iVar2 + 0x90) & 0xffffffffffff87ff;
	}
	return;
}



void FUN_00244858(int param_1, int *param_2)

{
	ushort uVar1;
	uint uVar2;
	bool bVar3;
	ushort *puVar4;
	int iVar5;
	ulong uVar6;
	ulong uVar7;
	float fVar8;
	int local_40[0x4];

	FUN_00208798((long)(int)local_40, param_2);
	FUN_002087f8((int)local_40);
	do {
		uVar6 = FUN_00208818((int)local_40);
		if (uVar6 != 0x0) {
			if ((*(ulong *)(param_1 + 0x20) & 0x100000) == 0x0) {
				bVar3 = false;
				if ((ABS(*(float *)(param_1 + 0x10)) <= 0.00005000) &&
					(bVar3 = false, ABS(*(float *)(param_1 + 0x14)) <= 0.00005000)) {
					bVar3 = true;
				}
				if (!bVar3) {
					*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x200000;
				}
			}
			return;
		}
		puVar4 = (ushort *)
			(**(code **)(local_40[0] + 0x24))((int)local_40 + (int)*(short *)(local_40[0] + 0x20));
		iVar5 = FUN_00208528((short *)puVar4,
			(uint)((ulong)(*(long *)(param_1 + 0x20) << 0x14) >> 0x20) & 0xff);
		*(ulong *)(param_1 + 0x20) =
			*(ulong *)(param_1 + 0x20) & 0xfffffffffff00fff | ((long)iVar5 & 0xffU) << 0xc;
		iVar5 = FUN_00208550((short *)puVar4, *(uint *)(param_1 + 0x20) & 0xf);
		*(ulong *)(param_1 + 0x20) =
			*(ulong *)(param_1 + 0x20) & 0xfffffffffffffff0 | (long)iVar5 & 0xfU;
		FUN_00208578((short *)puVar4, (undefined4 *)(param_1 + 0x10));
		uVar1 = *puVar4;
		if (uVar1 == 0x73) {
			*(undefined4 *)(param_1 + 0x2c) = *(undefined4 *)(puVar4 + 0x2);
			*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x800000;
		}
		else {
			if (uVar1 < 0x74) {
				if (uVar1 == 0x41) {
				LAB_00244b54:
					uVar6 = *(ulong *)(param_1 + 0x20);
					uVar7 = 0x20000000;
				}
				else {
					if (0x41 < uVar1) {
						if (uVar1 == 0x4a) {
							*(undefined4 *)(param_1 + 0x14) = *(undefined4 *)(puVar4 + 0x2);
						LAB_00244acc:
							*(ulong *)(param_1 + 0x20) =
								*(ulong *)(param_1 + 0x20) & 0xffffffffffdfffff | 0x100000;
						}
						else {
							if (uVar1 < 0x4b) {
								if (uVar1 == 0x49) {
									*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(puVar4 + 0x2);
									*(ulong *)(param_1 + 0x20) =
										*(ulong *)(param_1 + 0x20) & 0xffffffffffdfffff | 0x100000;
								}
							}
							else {
								if (uVar1 == 0x4b) {
									*(undefined4 *)(param_1 + 0x18) = *(undefined4 *)(puVar4 + 0x2);
									goto LAB_00244acc;
								}
							}
						}
						goto LAB_00244c04;
					}
					if (uVar1 != 0xc) {
						if (uVar1 < 0xd) {
							if (uVar1 == 0x6) {
								*(ulong *)(param_1 + 0x20) =
									*(ulong *)(param_1 + 0x20) & 0xfffffffffffff00f |
									(ulong)*(byte *)(puVar4 + 0x2) << 0x4;
							}
						}
						else {
							if (uVar1 == 0x3f) {
								*(undefined4 *)(param_1 + 0x28) = *(undefined4 *)(puVar4 + 0x2);
								*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x400000;
							}
						}
						goto LAB_00244c04;
					}
					uVar6 = *(ulong *)(param_1 + 0x20);
					uVar7 = 0x10000000;
				}
				*(undefined4 *)(param_1 + 0x44) = *(undefined4 *)(puVar4 + 0x2);
				*(ulong *)(param_1 + 0x20) = uVar6 | uVar7;
			}
			else {
				if (uVar1 == 0xab) {
					*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x200000000;
					*(undefined4 *)(param_1 + 0x3c) = *(undefined4 *)(puVar4 + 0x2);
				}
				else {
					if (uVar1 < 0xac) {
						if (uVar1 == 0x75) {
							fVar8 = *(float *)(puVar4 + 0x2);
							*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x2000000;
							*(float *)(param_1 + 0x34) = fVar8 * 0.01745329;
						}
						else {
							if (uVar1 < 0x75) {
								*(undefined4 *)(param_1 + 0x30) = *(undefined4 *)(puVar4 + 0x2);
								*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x1000000;
							}
							else {
								if (uVar1 == 0xaa) {
									*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x100000000;
									*(undefined4 *)(param_1 + 0x38) = *(undefined4 *)(puVar4 + 0x2);
								}
							}
						}
					}
					else {
						if (uVar1 == 0xc5) {
							*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x800000000;
							goto LAB_00244b54;
						}
						if (uVar1 < 0xc6) {
							if (uVar1 == 0xac) {
								*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x400000000;
								*(undefined4 *)(param_1 + 0x40) = *(undefined4 *)(puVar4 + 0x2);
							}
						}
						else {
							if ((uVar1 == 0xffff) && (*(char *)(puVar4 + 0x1) == '\x04')) {
								uVar2 = *(uint *)(puVar4 + 0x2);
								if (uVar2 == 0x43) {
									uVar6 = *(ulong *)(param_1 + 0x20);
									uVar7 = 0x4000000;
								LAB_00244a74:
									*(ulong *)(param_1 + 0x20) = uVar6 | uVar7;
								}
								else {
									if (uVar2 < 0x44) {
										if (uVar2 == 0x42) {
											uVar6 = *(ulong *)(param_1 + 0x20);
											uVar7 = 0x8000000;
											goto LAB_00244a74;
										}
									}
									else {
										if (uVar2 == 0x8e) {
											uVar6 = *(ulong *)(param_1 + 0x20);
											uVar7 = 0x1000000000;
											goto LAB_00244a74;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	LAB_00244c04:
		FUN_00208830((int)local_40);
	} while (true);
}



void FUN_00244cc8(int param_1, undefined8 param_2, int param_3)

{
	int *piVar1;
	int iVar2;
	int iVar3;
	TransformedGeometyPoint *pTVar4;
	int iVar5;
	undefined4 uVar6;
	undefined4 uVar7;
	undefined4 uVar8;
	undefined4 uVar9;
	ulong uVar10;
	long lVar11;
	float fVar12;
	Vector4 local_60;
	float local_50;
	float fStack76;
	undefined4 uStack72;
	undefined4 uStack68;
	undefined8 local_40;
	float fStack56;
	float fStack52;

	piVar1 = *(int **)(param_3 + 0x4);
	iVar2 = piVar1[0x4b];
	if (iVar2 != 0x0) {
		*(ulong *)(iVar2 + 0x88) = *(ulong *)(iVar2 + 0x88) | 0x100000000000000;
		iVar3 = piVar1[0x4a];
		if ((*(ulong *)(param_1 + 0x20) & 0x100000) == 0x0) {
			iVar5 = *(int *)(*piVar1 + 0x8);
			if ((*(ulong *)(iVar5 + 0x60) & 0x4) != 0x0) {
				*(undefined4 *)(iVar5 + 0x40) = *(undefined4 *)(iVar5 + 0x30);
				*(undefined4 *)(iVar5 + 0x4c) = *(undefined4 *)(iVar5 + 0x3c);
				*(undefined4 *)(iVar5 + 0x44) = *(undefined4 *)(iVar5 + 0x34);
				*(undefined4 *)(iVar5 + 0x48) = *(undefined4 *)(iVar5 + 0x38);
				*(ulong *)(iVar5 + 0x60) = *(ulong *)(iVar5 + 0x60) & 0xfffffffffffffffa;
			}
			local_50 = *(float *)(iVar5 + 0x40);
			fStack76 = *(float *)(iVar5 + 0x44);
			uStack72 = *(undefined4 *)(iVar5 + 0x48);
			uStack68 = *(undefined4 *)(iVar5 + 0x4c);
			MovePositionFromPos2ToPos1(&local_60, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
			uVar10 = *(ulong *)(param_1 + 0x20);
			local_60.w = 1.00000000;
			if (((uVar10 & 0xff000) == 0xfa000) || ((uVar10 & 0xff000) == 0xef000)) {
				FUN_0020b6e8(*(undefined4 *)(param_1 + 0x38), *(undefined4 *)(param_1 + 0x3c),
					*(undefined4 *)(param_1 + 0x40), 0x0, 0x0, piVar1[0x49], &local_60, piVar1, 0x1);
				uVar10 = *(ulong *)(param_1 + 0x20);
			}
			else {
				lVar11 = (long)(param_1 + 0x10);
				if ((uVar10 & 0x200000) == 0x0) {
					lVar11 = 0x0;
				}
				FUN_0022d9e8((float *)&local_60, (long)*(int *)(param_1 + 0x20) & 0xf, param_3, lVar11,
					(long)(uVar10 << 0x14) >> 0x20 & 0xff, (long)(uVar10 << 0x1c) >> 0x20 & 0xff);
				uVar10 = *(ulong *)(param_1 + 0x20);
			}
			if ((uVar10 & 0x20000000) == 0x0) {
				if ((uVar10 & 0x10000000) != 0x0) {
					FUN_0022c9a0(*(float *)(iVar2 + 0xa4), *(float *)(param_1 + 0x44), &local_50,
						(undefined8 *)&local_60, (float *)&local_40);
				}
				uVar6 = *(undefined4 *)(iVar3 + 0x20);
				uVar7 = *(undefined4 *)(iVar3 + 0x24);
				uVar8 = *(undefined4 *)(iVar3 + 0x28);
				uVar9 = *(undefined4 *)(iVar3 + 0x2c);
			}
			else {
				fVar12 = *(float *)(param_1 + 0x44);
				if ((uVar10 & 0x800000000) != 0x0) {
					fVar12 = (local_60.y - fStack76) + fVar12;
				}
				FUN_0022c870(*(float *)(iVar2 + 0xa4), fVar12, &local_50, (float *)&local_60, (float *)&local_40
				);
				uVar6 = *(undefined4 *)(iVar3 + 0x20);
				uVar7 = *(undefined4 *)(iVar3 + 0x24);
				uVar8 = *(undefined4 *)(iVar3 + 0x28);
				uVar9 = *(undefined4 *)(iVar3 + 0x2c);
			}
			*(undefined4 *)(iVar3 + 0x30) = uVar6;
			*(undefined4 *)(iVar3 + 0x34) = uVar7;
			*(undefined4 *)(iVar3 + 0x38) = uVar8;
			*(undefined4 *)(iVar3 + 0x3c) = uVar9;
		}
		else {
			local_60.x = *(float *)(param_1 + 0x10);
			local_60.y = *(float *)(param_1 + 0x14);
			local_60.z = *(float *)(param_1 + 0x18);
			local_60.w = *(float *)(param_1 + 0x1c);
			pTVar4 = *(TransformedGeometyPoint **)(*piVar1 + 0x8);
			RotateAndTranslate_(pTVar4);
			FUN_0018ec48((long)(int)pTVar4, (undefined4 *)&local_60, (undefined4 *)&local_60);
			*(undefined4 *)(iVar3 + 0x30) = *(undefined4 *)(iVar3 + 0x20);
			*(undefined4 *)(iVar3 + 0x34) = *(undefined4 *)(iVar3 + 0x24);
			*(undefined4 *)(iVar3 + 0x38) = *(undefined4 *)(iVar3 + 0x28);
			*(undefined4 *)(iVar3 + 0x3c) = *(undefined4 *)(iVar3 + 0x2c);
			local_40 = CONCAT44(local_60.y, local_60.x);
			fStack56 = local_60.z;
			fStack52 = local_60.w;
		}
		*(undefined4 *)(iVar3 + 0x20) = (int)local_40;
		*(undefined4 *)(iVar3 + 0x24) = (int)((ulong)local_40 >> 0x20);
		*(float *)(iVar3 + 0x28) = fStack56;
		*(float *)(iVar3 + 0x2c) = fStack52;
		if ((*(ulong *)(param_1 + 0x20) & 0x1000000) == 0x0) {
			uVar10 = *(ulong *)(param_1 + 0x20);
		}
		else {
			FUN_002542a0(*(undefined4 *)(param_1 + 0x30), iVar2);
			uVar10 = *(ulong *)(param_1 + 0x20);
		}
		if ((uVar10 & 0x800000) == 0x0) {
			uVar10 = *(ulong *)(param_1 + 0x20);
		}
		else {
			FUN_00254340(*(undefined4 *)(param_1 + 0x2c), iVar2);
			uVar10 = *(ulong *)(param_1 + 0x20);
		}
		if ((uVar10 & 0x400000) == 0x0) {
			uVar10 = *(ulong *)(param_1 + 0x20);
		}
		else {
			FUN_002542e0(*(undefined4 *)(param_1 + 0x28), iVar2);
			uVar10 = *(ulong *)(param_1 + 0x20);
		}
		if ((uVar10 & 0x2000000) == 0x0) {
			uVar10 = *(ulong *)(param_1 + 0x20);
		}
		else {
			FUN_002549b8(*(undefined4 *)(param_1 + 0x34), iVar2);
			uVar10 = *(ulong *)(param_1 + 0x20);
		}
		if ((uVar10 & 0x1000000000) == 0x0) {
			uVar10 = *(ulong *)(iVar2 + 0x90) & 0xfffffffffffffffb;
		}
		else {
			uVar10 = *(ulong *)(iVar2 + 0x90) | 0x4;
		}
		*(ulong *)(iVar2 + 0x90) = uVar10;
		if ((*(ulong *)(param_1 + 0x20) & 0x8000000) != 0x0) {
			*(ulong *)(iVar2 + 0x88) = *(ulong *)(iVar2 + 0x88) | 0x200000000000000;
			*(ulong *)(iVar2 + 0x90) = *(ulong *)(iVar2 + 0x90) & 0xffffffffffff87ff;
		}
		FUN_00254a10(iVar2);
	}
	return;
}



void FUN_00245008(int param_1, int *param_2)

{
	ushort uVar1;
	bool bVar2;
	ushort *puVar3;
	int iVar4;
	ulong uVar5;
	undefined4 uVar6;
	int local_40[0x4];

	FUN_00208798((long)(int)local_40, param_2);
	FUN_002087f8((int)local_40);
	do {
		uVar5 = FUN_00208818((int)local_40);
		if (uVar5 != 0x0) {
			if ((*(ulong *)(param_1 + 0x20) & 0x100000) == 0x0) {
				bVar2 = false;
				if ((ABS(*(float *)(param_1 + 0x10)) <= 0.00005000) &&
					(bVar2 = false, ABS(*(float *)(param_1 + 0x14)) <= 0.00005000)) {
					bVar2 = true;
				}
				if (!bVar2) {
					*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x200000;
				}
			}
			return;
		}
		puVar3 = (ushort *)
			(**(code **)(local_40[0] + 0x24))((int)local_40 + (int)*(short *)(local_40[0] + 0x20));
		iVar4 = FUN_00208528((short *)puVar3,
			(uint)((ulong)(*(long *)(param_1 + 0x20) << 0x14) >> 0x20) & 0xff);
		*(ulong *)(param_1 + 0x20) =
			*(ulong *)(param_1 + 0x20) & 0xfffffffffff00fff | ((long)iVar4 & 0xffU) << 0xc;
		iVar4 = FUN_00208550((short *)puVar3, *(uint *)(param_1 + 0x20) & 0xf);
		*(ulong *)(param_1 + 0x20) =
			*(ulong *)(param_1 + 0x20) & 0xfffffffffffffff0 | (long)iVar4 & 0xfU;
		FUN_00208578((short *)puVar3, (undefined4 *)(param_1 + 0x10));
		uVar1 = *puVar3;
		if (uVar1 == 0x4a) {
			*(undefined4 *)(param_1 + 0x14) = *(undefined4 *)(puVar3 + 0x2);
		LAB_002451b4:
			*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) & 0xffffffffffdfffff | 0x100000;
		}
		else {
			if (uVar1 < 0x4b) {
				if (uVar1 == 0xc) {
					uVar6 = *(undefined4 *)(puVar3 + 0x2);
					uVar5 = 0x400000;
				LAB_00245208:
					*(undefined4 *)(param_1 + 0x24) = uVar6;
					*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | uVar5;
				}
				else {
					if (uVar1 < 0xd) {
						if (uVar1 == 0x6) {
							*(ulong *)(param_1 + 0x20) =
								*(ulong *)(param_1 + 0x20) & 0xfffffffffffff00f |
								(ulong)*(byte *)(puVar3 + 0x2) << 0x4;
						}
					}
					else {
						if (uVar1 == 0x41) {
						LAB_002451f4:
							uVar6 = *(undefined4 *)(puVar3 + 0x2);
							uVar5 = 0x800000;
							goto LAB_00245208;
						}
						if (uVar1 == 0x49) {
							*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(puVar3 + 0x2);
							*(ulong *)(param_1 + 0x20) =
								*(ulong *)(param_1 + 0x20) & 0xffffffffffdfffff | 0x100000;
						}
					}
				}
			}
			else {
				if (uVar1 == 0xa0) {
					*(undefined4 *)(param_1 + 0x28) = *(undefined4 *)(puVar3 + 0x2);
				}
				else {
					if (uVar1 < 0xa1) {
						if (uVar1 == 0x4b) {
							*(undefined4 *)(param_1 + 0x18) = *(undefined4 *)(puVar3 + 0x2);
							goto LAB_002451b4;
						}
						if (uVar1 == 0x9f) {
							*(undefined4 *)(param_1 + 0x2c) = *(undefined4 *)(puVar3 + 0x2);
						}
					}
					else {
						if (uVar1 == 0xc5) {
							*(ulong *)(param_1 + 0x20) = *(ulong *)(param_1 + 0x20) | 0x1000000;
							goto LAB_002451f4;
						}
					}
				}
			}
		}
		FUN_00208830((int)local_40);
	} while (true);
}



void FUN_002452f0(int param_1, undefined8 param_2, float *param_3)

{
	int *piVar1;
	int iVar2;
	int iVar3;
	TransformedGeometyPoint *pTVar4;
	int iVar5;
	undefined4 uVar6;
	undefined4 uVar7;
	undefined4 uVar8;
	undefined4 uVar9;
	long lVar10;
	ulong uVar11;
	float fVar12;
	Vector4 VStack96;
	float local_50;
	undefined4 uStack76;
	undefined4 uStack72;
	undefined4 uStack68;
	float local_40;
	float fStack60;
	undefined4 uStack56;
	undefined4 uStack52;

	piVar1 = (int *)param_3[0x1];
	iVar2 = piVar1[0x4b];
	iVar3 = piVar1[0x4a];
	if ((*(ulong *)(param_1 + 0x20) & 0x100000) == 0x0) {
		iVar5 = *(int *)(*piVar1 + 0x8);
		if ((*(ulong *)(iVar5 + 0x60) & 0x4) != 0x0) {
			*(undefined4 *)(iVar5 + 0x40) = *(undefined4 *)(iVar5 + 0x30);
			*(undefined4 *)(iVar5 + 0x4c) = *(undefined4 *)(iVar5 + 0x3c);
			*(undefined4 *)(iVar5 + 0x44) = *(undefined4 *)(iVar5 + 0x34);
			*(undefined4 *)(iVar5 + 0x48) = *(undefined4 *)(iVar5 + 0x38);
			*(ulong *)(iVar5 + 0x60) = *(ulong *)(iVar5 + 0x60) & 0xfffffffffffffffa;
		}
		local_40 = *(float *)(iVar5 + 0x40);
		fStack60 = *(float *)(iVar5 + 0x44);
		uStack56 = *(undefined4 *)(iVar5 + 0x48);
		uStack52 = *(undefined4 *)(iVar5 + 0x4c);
		MovePositionFromPos2ToPos1(&VStack96, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		uVar11 = *(ulong *)(param_1 + 0x20);
		lVar10 = (long)(param_1 + 0x10);
		if ((uVar11 & 0x200000) == 0x0) {
			lVar10 = 0x0;
		}
		VStack96.w = 1.00000000;
		FUN_0022d9e8((float *)&VStack96, (long)*(int *)(param_1 + 0x20) & 0xf, (int)param_3, lVar10,
			(long)(uVar11 << 0x14) >> 0x20 & 0xff, (long)(uVar11 << 0x1c) >> 0x20 & 0xff);
		uVar11 = *(ulong *)(param_1 + 0x20);
		if ((uVar11 & 0x800000) == 0x0) {
			if ((uVar11 & 0x400000) != 0x0) {
				FUN_0022c9a0(*(float *)(iVar2 + 0xa4), *(float *)(param_1 + 0x24), &local_40,
					(undefined8 *)&VStack96, &local_50);
			}
			uVar6 = *(undefined4 *)(iVar3 + 0x20);
			uVar7 = *(undefined4 *)(iVar3 + 0x24);
			uVar8 = *(undefined4 *)(iVar3 + 0x28);
			uVar9 = *(undefined4 *)(iVar3 + 0x2c);
		}
		else {
			fVar12 = *(float *)(param_1 + 0x24);
			if ((uVar11 & 0x1000000) != 0x0) {
				fVar12 = (VStack96.y - fStack60) + fVar12;
			}
			FUN_0022c870(*(float *)(iVar2 + 0xa4), fVar12, &local_40, (float *)&VStack96, &local_50);
			uVar6 = *(undefined4 *)(iVar3 + 0x20);
			uVar7 = *(undefined4 *)(iVar3 + 0x24);
			uVar8 = *(undefined4 *)(iVar3 + 0x28);
			uVar9 = *(undefined4 *)(iVar3 + 0x2c);
		}
		*(undefined4 *)(iVar3 + 0x30) = uVar6;
		*(undefined4 *)(iVar3 + 0x34) = uVar7;
		*(undefined4 *)(iVar3 + 0x38) = uVar8;
		*(undefined4 *)(iVar3 + 0x3c) = uVar9;
		*(float *)(iVar3 + 0x20) = local_50;
		*(undefined4 *)(iVar3 + 0x24) = uStack76;
		*(undefined4 *)(iVar3 + 0x28) = uStack72;
		*(undefined4 *)(iVar3 + 0x2c) = uStack68;
	}
	else {
		local_50 = *(float *)(param_1 + 0x10);
		uStack76 = *(undefined4 *)(param_1 + 0x14);
		uStack72 = *(undefined4 *)(param_1 + 0x18);
		uStack68 = *(undefined4 *)(param_1 + 0x1c);
		pTVar4 = *(TransformedGeometyPoint **)(*piVar1 + 0x8);
		RotateAndTranslate_(pTVar4);
		FUN_0018ec48((long)(int)pTVar4, &local_50, &local_50);
		*(undefined4 *)(iVar3 + 0x30) = *(undefined4 *)(iVar3 + 0x20);
		*(undefined4 *)(iVar3 + 0x34) = *(undefined4 *)(iVar3 + 0x24);
		*(undefined4 *)(iVar3 + 0x38) = *(undefined4 *)(iVar3 + 0x28);
		*(undefined4 *)(iVar3 + 0x3c) = *(undefined4 *)(iVar3 + 0x2c);
		*(float *)(iVar3 + 0x20) = local_50;
		*(undefined4 *)(iVar3 + 0x24) = uStack76;
		*(undefined4 *)(iVar3 + 0x28) = uStack72;
		*(undefined4 *)(iVar3 + 0x2c) = uStack68;
	}
	FUN_00233d68(*(float *)(param_1 + 0x2c), *(float *)(param_1 + 0x28), piVar1, &local_50);
	return;
}



void FUN_002454f8(int param_1, int *param_2)

{
	ushort uVar1;
	uint uVar2;
	ushort *puVar3;
	ulong uVar4;
	ulong uVar5;
	int local_30[0x4];

	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x10), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x1c) = 0x3f800000;
	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	do {
		uVar4 = FUN_00208818((int)local_30);
		if (uVar4 != 0x0) {
			return;
		}
		puVar3 = (ushort *)
			(**(code **)(local_30[0] + 0x24))((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		uVar1 = *puVar3;
		if (uVar1 == 0x4b) {
			*(undefined4 *)(param_1 + 0x18) = *(undefined4 *)(puVar3 + 0x2);
			*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x100000000000;
		}
		else {
			if (uVar1 < 0x4c) {
				if (uVar1 == 0x49) {
					*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(puVar3 + 0x2);
					*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x100000000000;
				}
				else {
					if (uVar1 < 0x4a) {
						if (uVar1 == 0x6) {
							*(undefined *)(param_1 + 0xc) = (char)*(undefined4 *)(puVar3 + 0x2);
						}
					}
					else {
						*(undefined4 *)(param_1 + 0x14) = *(undefined4 *)(puVar3 + 0x2);
						*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x100000000000;
					}
				}
			}
			else {
				if (uVar1 == 0xa0) {
					*(undefined4 *)(param_1 + 0x20) = *(undefined4 *)(puVar3 + 0x2);
					*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x80000000000;
				}
				else {
					if (uVar1 < 0xa1) {
						if (uVar1 == 0x9f) {
							*(undefined4 *)(param_1 + 0x24) = *(undefined4 *)(puVar3 + 0x2);
							*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x80000000000;
						}
					}
					else {
						if ((uVar1 == 0xffff) && (*(char *)(puVar3 + 0x1) == '\x04')) {
							uVar2 = *(uint *)(puVar3 + 0x2);
							if (uVar2 == 0x45) {
								uVar5 = 0x10000000000;
								uVar4 = *(ulong *)(param_1 + 0x8);
							}
							else {
								if (uVar2 < 0x46) {
									if (uVar2 == 0x1c) {
										*(undefined *)(param_1 + 0xc) = 0xfb;
									}
									else {
										if (uVar2 == 0x44) {
											*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) & 0xfffffeffffffffff;
										}
									}
									goto LAB_00245720;
								}
								if (uVar2 == 0x46) {
									uVar5 = 0x20000000000;
									uVar4 = *(ulong *)(param_1 + 0x8);
								}
								else {
									if (uVar2 != 0x85) goto LAB_00245720;
									uVar4 = *(ulong *)(param_1 + 0x8);
									uVar5 = 0x40000000000;
								}
							}
							*(ulong *)(param_1 + 0x8) = uVar4 | uVar5;
						}
					}
				}
			}
		}
	LAB_00245720:
		FUN_00208830((int)local_30);
	} while (true);
}



void FUN_00245758(int param_1, undefined8 param_2, int param_3)

{
	TransformedGeometyPoint *pTVar1;
	float *pfVar2;
	float fVar3;
	int iVar4;
	GameNode *pGVar5;
	float **ppfVar6;
	NodeList *nodeList;
	undefined4 local_60;
	undefined4 uStack92;
	undefined4 uStack88;
	undefined4 uStack84;
	float local_50;
	undefined4 uStack76;
	undefined4 uStack72;
	undefined4 uStack68;
	float local_40;
	undefined4 local_3c;
	undefined4 local_38;
	undefined4 local_34;

	if (*(byte *)(param_1 + 0xc) == 0xff) {
		if ((*(ulong *)(param_1 + 0x8) & 0x40000000000) == 0x0) {
			iVar4 = **(int **)(param_3 + 0x4);
		}
		else {
			iVar4 = *(int *)(param_3 + 0x20);
		}
	}
	else {
		iVar4 = *(int *)(*(int *)(param_3 + 0x4) + 0x14);
		iVar4 = (**(code **)(iVar4 + 0x124))
			(*(int *)(param_3 + 0x4) + (int)*(short *)(iVar4 + 0x120),
			(ulong)*(byte *)(param_1 + 0xc));
	}
	nodeList = (NodeList *)(iVar4 + 0xd4);
	if ((iVar4 != 0x0) && (pGVar5 = GetGameNode(nodeList, 0x1), pGVar5 != (GameNode *)0x0)) {
		if ((*(ulong *)(param_1 + 0x8) & 0x100000000000) == 0x0) {
			if (((*(ulong *)(param_1 + 0x8) & 0x80000000000) != 0x0) &&
				(pGVar5 = GetGameNode(nodeList, 0x5), pGVar5 != (GameNode *)0x0)) {
				pGVar5[0x6].ChunkNode =
					(ChunkNode *)((float)pGVar5[0x6].ChunkNode + *(float *)(param_1 + 0x20));
				*(float *)&pGVar5[0x6].field_0x4 =
					*(float *)&pGVar5[0x6].field_0x4 + *(float *)(param_1 + 0x24);
				*(float *)&pGVar5[0x6].field_0x8 = (float)pGVar5[0x6].field_0x8 + *(float *)(param_1 + 0x28)
					;
				pGVar5[0x1].ChunkNode = (ChunkNode *)((uint)pGVar5[0x1].ChunkNode | 0x1);
			}
		}
		else {
			uStack72 = *(undefined4 *)(param_1 + 0x18);
			uStack68 = *(undefined4 *)(param_1 + 0x1c);
			local_50 = (float)*(undefined8 *)(param_1 + 0x10);
			uStack76 = (undefined4)((ulong)*(undefined8 *)(param_1 + 0x10) >> 0x20);
			pTVar1 = *(TransformedGeometyPoint **)(**(int **)(param_3 + 0x4) + 0x8);
			RotateAndTranslate_(pTVar1);
			FUN_0018ec48((long)(int)pTVar1, &local_50, &local_50);
			ppfVar6 = (float **)FUN_0023e918(iVar4);
			FUN_0023ddd8(ppfVar6);
			pfVar2 = ppfVar6[0x4b];
			if (pfVar2 == (float *)0x0) {
				pGVar5 = GetGameNode(nodeList, 0x5);
				if ((pGVar5 != (GameNode *)0x0) ||
					(pGVar5 = GetGameNode(nodeList, 0x5), pGVar5 != (GameNode *)0x0)) {
					local_40 = 0.00000000;
					local_3c = 0x0;
					local_38 = 0x0;
					local_34 = 0x3f800000;
					FUN_0028a518((int)pGVar5, &local_50, &local_40);
				}
			}
			else {
				fVar3 = (*ppfVar6)[0x2];
				if ((*(ulong *)((int)fVar3 + 0x60) & 0x4) != 0x0) {
					*(undefined4 *)((int)fVar3 + 0x40) = *(undefined4 *)((int)fVar3 + 0x30);
					*(undefined4 *)((int)fVar3 + 0x4c) = *(undefined4 *)((int)fVar3 + 0x3c);
					*(undefined4 *)((int)fVar3 + 0x44) = *(undefined4 *)((int)fVar3 + 0x34);
					*(undefined4 *)((int)fVar3 + 0x48) = *(undefined4 *)((int)fVar3 + 0x38);
					*(ulong *)((int)fVar3 + 0x60) = *(ulong *)((int)fVar3 + 0x60) & 0xfffffffffffffffa;
				}
				local_60 = *(undefined4 *)((int)fVar3 + 0x40);
				uStack92 = *(undefined4 *)((int)fVar3 + 0x44);
				uStack88 = *(undefined4 *)((int)fVar3 + 0x48);
				uStack84 = *(undefined4 *)((int)fVar3 + 0x4c);
				FUN_0024c3f0((int)pfVar2, &local_50, (undefined8 *)&local_60);
			}
		}
	}
	return;
}



void FUN_002459a0(int param_1, int *param_2)

{
	ushort uVar1;
	uint uVar2;
	ushort *puVar3;
	ulong uVar4;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	while (uVar4 = FUN_00208818((int)local_30), uVar4 == 0x0) {
		puVar3 = (ushort *)
			(**(code **)(local_30[0] + 0x24))((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		uVar1 = *puVar3;
		if (uVar1 == 0xcd) {
			*(undefined4 *)(param_1 + 0xc) = *(undefined4 *)(puVar3 + 0x2);
		}
		else {
			if (uVar1 < 0xce) {
				if (uVar1 == 0xcc) {
					*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(puVar3 + 0x2);
				}
			}
			else {
				if ((uVar1 == 0xffff) && (*(char *)(puVar3 + 0x1) == '\x04')) {
					uVar2 = *(uint *)(puVar3 + 0x2);
					if (uVar2 == 0xa8) {
						*(undefined4 *)(param_1 + 0x18) = 0x1;
					}
					else {
						if (uVar2 < 0xa9) {
							if (uVar2 == 0xa7) {
								*(undefined4 *)(param_1 + 0x18) = 0x2;
							}
						}
						else {
							if (uVar2 == 0xa9) {
								*(undefined4 *)(param_1 + 0x14) = 0x0;
							}
							else {
								if (uVar2 == 0xaa) {
									*(undefined4 *)(param_1 + 0x14) = 0x1;
								}
							}
						}
					}
				}
			}
		}
		FUN_00208830((int)local_30);
	}
	return;
}



void FUN_00245ad0(undefined8 param_1, int param_2, int param_3)

{
	float **ppfVar1;
	float *pfVar2;
	bool bVar3;
	int iVar4;
	GameNode *pGVar5;
	long lVar6;
	GameNode *pGVar7;
	float *pfVar8;
	float fVar9;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 uStack116;
	float local_70;
	float local_6c;
	float local_68;
	undefined4 local_64;
	float *local_60;
	GameNode *pGStack92;
	GameNode *local_58;
	undefined4 local_54;

	ppfVar1 = *(float ***)(param_3 + 0x4);
	pfVar8 = (float *)0x0;
	if (ppfVar1 != (float **)0x0) {
		bVar3 = false;
		if (((*(byte *)(ppfVar1 + 0x22) ^ 0x1) & 0x1) == 0x0) {
			pfVar2 = ppfVar1[0xc];
			bVar3 = false;
			if (pfVar2 != (float *)0x0) {
				if (((uint)pfVar2[0x1] & 0x1) == 0x0) {
					bVar3 = true;
					pfVar8 = pfVar2;
				}
				else {
					ppfVar1[0xc] = (float *)0x0;
					ppfVar1[0x22] = (float *)((uint)ppfVar1[0x22] & 0xfffffffc);
					bVar3 = false;
				}
			}
		}
		if ((bVar3) && (iVar4 = FUN_0023e918((int)pfVar8), iVar4 != 0x0)) {
			iVar4 = FUN_0023e608(iVar4);
			fVar9 = (*ppfVar1)[0x2];
			if ((*(ulong *)((int)fVar9 + 0x60) & 0x4) != 0x0) {
				*(undefined4 *)((int)fVar9 + 0x40) = *(undefined4 *)((int)fVar9 + 0x30);
				*(undefined4 *)((int)fVar9 + 0x4c) = *(undefined4 *)((int)fVar9 + 0x3c);
				*(undefined4 *)((int)fVar9 + 0x44) = *(undefined4 *)((int)fVar9 + 0x34);
				*(undefined4 *)((int)fVar9 + 0x48) = *(undefined4 *)((int)fVar9 + 0x38);
				*(ulong *)((int)fVar9 + 0x60) = *(ulong *)((int)fVar9 + 0x60) & 0xfffffffffffffffa;
			}
			local_80 = *(float *)((int)fVar9 + 0x40);
			fStack124 = *(float *)((int)fVar9 + 0x44);
			local_78 = *(float *)((int)fVar9 + 0x48);
			uStack116 = *(undefined4 *)((int)fVar9 + 0x4c);
			local_70 = 0.00000000;
			local_6c = 0.00000000;
			local_68 = 0.00000000;
			local_64 = 0x3f800000;
			FUN_0024c690(iVar4, &local_80, &local_70);
			iVar4 = 0x0;
			if (ppfVar1[0x2] != (float *)0x0) {
				iVar4 = *(int *)(param_2 + 0x4) - (int)ppfVar1[0x2];
			}
			fVar9 = (float)iVar4 * DAT_00309b80;
			local_70 = local_70 * fVar9;
			local_68 = local_68 * fVar9;
			local_6c = local_6c * fVar9;
			FUN_0023ddd8(ppfVar1);
			pfVar2 = ppfVar1[0x4b];
			if (pfVar2 != (float *)0x0) {
				*(ulong *)(pfVar2 + 0x22) = *(ulong *)(pfVar2 + 0x22) | 0x300000000000000;
				*(ulong *)(pfVar2 + 0x24) = *(ulong *)(pfVar2 + 0x24) & 0xffffffffffff87ff;
				bVar3 = false;
				local_60 = ppfVar1[0x8];
				pGStack92 = (GameNode *)ppfVar1[0x9];
				local_58 = (GameNode *)ppfVar1[0xa];
				local_54 = 0x3f800000;
				pGVar7 = (GameNode *)0x0;
				if (((ulong)(long)(int)pfVar8[0x1] >> 0x6 & 0x1) != 0x0) {
					pGVar5 = GetGameNode((NodeList *)((int)pfVar8[0x34] + 0xd4), 0x1);
					lVar6 = (**(code **)(pGVar5->methods + 0x7c))
						((int)&pGVar5->ChunkNode + (int)*(short *)(pGVar5->methods + 0x78));
					if ((lVar6 != 0x0) && (pGVar7 = pGVar5[0xc].prevNode, pGVar7 != (GameNode *)0x0)) {
						local_60 = (float *)pGVar5[0x1].field_0x8;
						pGStack92 = pGVar5[0x1].prevNode;
						local_58 = pGVar5[0x1].nextNode;
						bVar3 = true;
						local_54 = 0x3f800000;
					}
				}
				if (bVar3) {
					local_60 = (float *)(((float)local_60 + local_80) * 0.50000000);
					local_70 = local_70 * 0.50000000;
					pGStack92 = (GameNode *)(((float)pGStack92 + fStack124) * 0.50000000);
					local_68 = local_68 * 0.50000000;
					local_58 = (GameNode *)(((float)local_58 + local_78) * 0.50000000);
					local_6c = local_6c * 0.50000000;
					FUN_0024c508((int)pfVar2, (undefined8 *)&local_70, (undefined8 *)&local_60);
					local_70 = -local_70;
					local_6c = -local_6c;
					local_68 = -local_68;
					FUN_0024c508((int)pGVar7, (undefined8 *)&local_70, (undefined8 *)&local_60);
				}
				else {
					FUN_0024c508((int)pfVar2, (undefined8 *)&local_70, (undefined8 *)&local_60);
				}
			}
		}
	}
	return;
}



void FUN_00245e50(int param_1, int *param_2)

{
	ushort uVar1;
	ushort *puVar2;
	ulong uVar3;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	while (uVar3 = FUN_00208818((int)local_30), uVar3 == 0x0) {
		puVar2 = (ushort *)
			(**(code **)(local_30[0] + 0x24))((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		uVar1 = *puVar2;
		if (uVar1 == 0x94) {
			*(undefined4 *)(param_1 + 0x20) = *(undefined4 *)(puVar2 + 0x2);
		}
		else {
			if (uVar1 < 0x95) {
				if (uVar1 == 0x83) {
					*(undefined4 *)(param_1 + 0x14) = *(undefined4 *)(puVar2 + 0x2);
				}
				else {
					if (uVar1 < 0x84) {
						if (uVar1 == 0x82) {
							*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(puVar2 + 0x2);
						}
					}
					else {
						if (uVar1 == 0x84) {
							*(undefined4 *)(param_1 + 0x18) = *(undefined4 *)(puVar2 + 0x2);
						}
					}
				}
			}
			else {
				if (uVar1 == 0x103) {
					*(undefined *)(param_1 + 0x28) = 0x1;
					*(undefined4 *)(param_1 + 0x24) = *(undefined4 *)(puVar2 + 0x2);
				}
				else {
					if ((uVar1 < 0x104) && (uVar1 == 0xcd)) {
						*(undefined4 *)(param_1 + 0x1c) = *(undefined4 *)(puVar2 + 0x2);
					}
				}
			}
		}
		FUN_00208830((int)local_30);
	}
	return;
}



// WARNING: Type propagation algorithm not settling

void FUN_00245f80(int param_1, undefined8 param_2, int param_3)

{
	ChunkNode *pCVar1;
	UnkChunkRelatedData *pUVar2;
	TransformedGeometyPoint *pTVar3;
	bool bVar4;
	uint uVar5;
	GameNode *pGVar6;
	int iVar7;
	uint uVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	undefined4 uVar12;
	int local_220[0x40];
	int *local_120;
	undefined2 local_11c;
	undefined2 local_11a;
	undefined4 local_118;
	uint local_114;
	undefined4 local_110;
	undefined4 local_10c;
	undefined4 local_108;
	undefined4 local_104;
	undefined4 local_100;
	float local_f0;
	float fStack236;
	float local_e8;
	float fStack228;
	Vector4 local_e0;
	float local_d0;
	float fStack204;
	float local_c8;
	undefined4 local_c4;
	Vector4 local_c0;
	Vector4 local_b0;
	float local_a0;
	undefined4 uStack156;
	undefined4 local_98;
	undefined4 local_94;
	float local_90;
	float local_8c;
	float local_88;
	undefined4 local_84;
	float local_80;
	float local_7c;
	float local_78;
	undefined4 local_74;

	local_120 = local_220;
	local_11a = 0x40;
	local_11c = 0x0;
	local_118 = 0x7149f2ca;
	local_10c = 0x1;
	local_110 = 0x0;
	local_108 = 0x0;
	local_114 = local_114 & 0xfffffffe | 0x2;
	local_100 = 0x0;
	local_104 = 0x0;
	local_e0.x = *(float *)(param_1 + 0x10);
	local_e0.y = *(float *)(param_1 + 0x14);
	local_e0.z = *(float *)(param_1 + 0x18);
	local_e0.w = *(float *)(param_1 + 0x1c);
	pCVar1 = (ChunkNode *)(*(ChunkNode **)(param_3 + 0x4))->field_0x0;
	pUVar2 = pCVar1->chunkData_;
	FUN_001f0458((int)&local_120, pCVar1);
	pTVar3 = pCVar1->transformMatrixPtr;
	if ((pTVar3->unkBitfield & 0x4) != 0x0) {
		fVar11 = (pTVar3->transformMatrix).wComponents.y;
		fVar9 = (pTVar3->transformMatrix).wComponents.z;
		fVar10 = (pTVar3->transformMatrix).wComponents.w;
		(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
		(pTVar3->positionVector).w = fVar10;
		(pTVar3->positionVector).y = fVar11;
		(pTVar3->positionVector).z = fVar9;
		pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
	}
	bVar4 = false;
	local_f0 = (pTVar3->positionVector).x;
	fStack236 = (pTVar3->positionVector).y;
	local_e8 = (pTVar3->positionVector).z;
	fStack228 = (pTVar3->positionVector).w;
	if ((ABS(local_e0.x) <= 0.00005000) && (ABS(local_e0.y) <= 0.00005000)) {
		bVar4 = true;
	}
	if (bVar4) {
		pTVar3 = pCVar1->transformMatrixPtr;
		if ((pTVar3->unkBitfield & 0x4) != 0x0) {
			fVar11 = (pTVar3->transformMatrix).wComponents.y;
			fVar9 = (pTVar3->transformMatrix).wComponents.z;
			fVar10 = (pTVar3->transformMatrix).wComponents.w;
			(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
			(pTVar3->positionVector).w = fVar10;
			(pTVar3->positionVector).y = fVar11;
			(pTVar3->positionVector).z = fVar9;
			pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
		}
		local_e8 = (pTVar3->positionVector).z;
		fStack228 = (pTVar3->positionVector).w;
		local_f0 = (float)*(undefined8 *)&pTVar3->positionVector;
		fStack236 = (float)((ulong)*(undefined8 *)&pTVar3->positionVector >> 0x20);
	}
	else {
		local_d0 = local_e0.x;
		fStack204 = local_e0.y;
		local_c8 = local_e0.z;
		local_c4 = 0x3f800000;
		pTVar3 = pCVar1->transformMatrixPtr;
		RotateAndTranslate_(pTVar3);
		local_e8 = local_e8 +
			(pTVar3->transformMatrix).xComponents.z * local_d0 +
			(pTVar3->transformMatrix).yComponents.z * fStack204 +
			(pTVar3->transformMatrix).zComponents.z * local_c8;
		local_f0 = local_f0 +
			(pTVar3->transformMatrix).xComponents.x * local_d0 +
			(pTVar3->transformMatrix).yComponents.x * fStack204 +
			(pTVar3->transformMatrix).zComponents.x * local_c8;
		fStack236 = fStack236 +
			(pTVar3->transformMatrix).xComponents.y * local_d0 +
			(pTVar3->transformMatrix).yComponents.y * fStack204 +
			(pTVar3->transformMatrix).zComponents.y * local_c8;
	}
	local_e0.x = local_f0;
	local_e0.y = fStack236;
	local_e0.z = local_e8;
	uVar5 = FUN_001f1f08((int)pUVar2, &local_e0, 0x20, (int *)&local_120, 0x0);
	if (*(char *)(param_1 + 0x28) == '\0') {
		uVar8 = 0x0;
		if (uVar5 != 0x0) {
			iVar7 = 0x0;
			do {
				iVar7 = *(int *)((int)local_220 + iVar7);
				pGVar6 = GetGameNode((NodeList *)(iVar7 + 0xd4), 0x5);
				if (pGVar6 != (GameNode *)0x0) {
					iVar7 = *(int *)(iVar7 + 0x8);
					if ((*(ulong *)(iVar7 + 0x60) & 0x4) != 0x0) {
						*(undefined4 *)(iVar7 + 0x40) = *(undefined4 *)(iVar7 + 0x30);
						*(undefined4 *)(iVar7 + 0x4c) = *(undefined4 *)(iVar7 + 0x3c);
						*(undefined4 *)(iVar7 + 0x44) = *(undefined4 *)(iVar7 + 0x34);
						*(undefined4 *)(iVar7 + 0x48) = *(undefined4 *)(iVar7 + 0x38);
						*(ulong *)(iVar7 + 0x60) = *(ulong *)(iVar7 + 0x60) & 0xfffffffffffffffa;
					}
					local_c0.w = *(float *)(iVar7 + 0x4c);
					local_c0.x = *(float *)(iVar7 + 0x40) - local_f0;
					local_c0.y = *(float *)(iVar7 + 0x44) - fStack236;
					local_c0.z = *(float *)(iVar7 + 0x48) - local_e8;
					fVar9 = RSQRT(0.00000000, &local_c0);
					local_c0.x = local_c0.x * fVar9;
					local_c0.y = local_c0.y * fVar9;
					local_c8 = *(float *)(param_1 + 0x20);
					local_c0.z = local_c0.z * fVar9;
					local_d0 = local_c0.x * local_c8;
					fStack204 = local_c0.y * local_c8;
					local_c8 = local_c0.z * local_c8;
					local_b0.x = 0.00000000;
					local_c4 = 0x3f800000;
					local_b0.y = 0.00000000;
					local_b0.z = 0.00000000;
					local_b0.w = 1.00000000;
					FUN_0028a518((int)pGVar6, &local_d0, (float *)&local_b0);
				}
				uVar8 = uVar8 + 0x1 & 0xffff;
				iVar7 = uVar8 << 0x2;
			} while (uVar8 < uVar5);
		}
	}
	else {
		uVar8 = 0x0;
		if (uVar5 != 0x0) {
			uVar12 = 0x3f800000;
			fVar9 = *(float *)(param_1 + 0x24);
			while (true) {
				iVar7 = local_220[uVar8];
				fVar9 = (fVar9 - *(float *)(param_1 + 0x20)) / *(float *)(param_1 + 0x1c);
				pGVar6 = GetGameNode((NodeList *)(iVar7 + 0xd4), 0x5);
				if (pGVar6 != (GameNode *)0x0) {
					iVar7 = *(int *)(iVar7 + 0x8);
					if ((*(ulong *)(iVar7 + 0x60) & 0x4) != 0x0) {
						*(undefined4 *)(iVar7 + 0x40) = *(undefined4 *)(iVar7 + 0x30);
						*(undefined4 *)(iVar7 + 0x4c) = *(undefined4 *)(iVar7 + 0x3c);
						*(undefined4 *)(iVar7 + 0x44) = *(undefined4 *)(iVar7 + 0x34);
						*(undefined4 *)(iVar7 + 0x48) = *(undefined4 *)(iVar7 + 0x38);
						*(ulong *)(iVar7 + 0x60) = *(ulong *)(iVar7 + 0x60) & 0xfffffffffffffffa;
					}
					local_c0.w = *(float *)(iVar7 + 0x4c);
					local_c0.x = *(float *)(iVar7 + 0x40) - local_f0;
					local_c0.y = *(float *)(iVar7 + 0x44) - fStack236;
					local_c0.z = *(float *)(iVar7 + 0x48) - local_e8;
					local_b0.x = local_c0.x;
					local_b0.y = local_c0.y;
					local_b0.z = local_c0.z;
					local_b0.w = local_c0.w;
					fVar10 = RSQRT(0.00000000, &local_b0);
					local_b0.x = local_b0.x * fVar10;
					local_b0.y = local_b0.y * fVar10;
					local_88 = *(float *)(param_1 + 0x20);
					local_b0.z = local_b0.z * fVar10;
					local_90 = local_b0.x * local_88;
					local_8c = local_b0.y * local_88;
					local_88 = local_b0.z * local_88;
					local_80 = local_c0.x * fVar9;
					local_7c = local_c0.y * fVar9;
					local_78 = local_c0.z * fVar9;
					local_d0 = local_90 + local_80;
					fStack204 = local_8c + local_7c;
					local_c8 = local_88 + local_78;
					local_a0 = 0.00000000;
					uStack156 = 0x40400000;
					local_98 = 0x0;
					local_c4 = uVar12;
					local_94 = uVar12;
					local_84 = uVar12;
					local_74 = uVar12;
					FUN_0028a518((int)pGVar6, &local_d0, &local_a0);
				}
				uVar8 = uVar8 + 0x1 & 0xffff;
				if (uVar5 <= uVar8) break;
				fVar9 = *(float *)(param_1 + 0x24);
			}
		}
	}
	return;
}



undefined8 FUN_002465a0(undefined8 param_1, InstanceNode *param_2)

{
	bool bVar1;
	int iVar2;
	undefined *puVar3;
	uint uVar4;

	iVar2 = 0x2;
	do {
		bVar1 = iVar2 != -0x1;
		iVar2 += -0x1;
	} while (bVar1);
	iVar2 = (int)param_1;
	*(InstanceNode **)(iVar2 + 0x94) = param_2;
	*(ulong *)(iVar2 + 0x90) = *(ulong *)(iVar2 + 0x90) & 0xfffffffffc7ffbc7 | 0x1;
	*(ulong *)(iVar2 + 0x88) = *(ulong *)(iVar2 + 0x88) & 0x80230000ffffffff;
	uVar4 = 0x0;
	*(undefined4 *)(iVar2 + 0xd0) = 0x0;
	*(undefined4 *)(iVar2 + 0xd4) = 0x0;
	*(undefined4 *)(iVar2 + 0xa8) = 0x3f800000;
	*(undefined4 *)(iVar2 + 0xb0) = 0x3f800000;
	*(undefined4 *)(iVar2 + 0xb4) = 0x0;
	*(undefined4 *)(iVar2 + 0xbc) = 0x3f800000;
	*(undefined4 *)(iVar2 + 0xc4) = 0x0;
	*(undefined4 *)(iVar2 + 0xc8) = 0x0;
	*(undefined4 *)(iVar2 + 0xa0) = 0x3f800000;
	*(undefined4 *)(iVar2 + 0x40) = 0x0;
	*(undefined4 *)(iVar2 + 0x4c) = 0x3f800000;
	*(undefined4 *)(iVar2 + 0x44) = 0x3f800000;
	*(undefined4 *)(iVar2 + 0x48) = 0x0;
	*(undefined4 *)(iVar2 + 0xcc) = *(undefined4 *)(*(int *)&param_2->field_0x128 + 0x24);
	do {
		puVar3 = (undefined *)(iVar2 + 0x88 + uVar4);
		uVar4 += 0x1;
		*puVar3 = 0xff;
	} while (uVar4 < 0x4);
	*(undefined *)(iVar2 + 0xde) = 0xff;
	*(undefined2 *)(iVar2 + 0xdc) = 0xffff;
	*(ulong *)(iVar2 + 0x90) = *(ulong *)(iVar2 + 0x90) & 0xffffffffff887c3f | 0x87800;
	*(undefined4 *)(iVar2 + 0xd8) = 0x0;
	*(undefined4 *)(iVar2 + 0x80) = 0x0;
	*(undefined4 *)(iVar2 + 0x84) = 0x0;
	*(undefined4 *)(iVar2 + 0x9c) = 0x0;
	*(undefined4 *)(iVar2 + 0x98) = 0x0;
	return param_1;
}



void FUN_00246950(int param_1)

{
	ushort uVar1;
	ushort *puVar2;
	char cVar3;
	ulong uVar4;

	if ((*(ulong *)(param_1 + 0x90) & 0x400) != 0x0) {
		puVar2 = (ushort *)FUN_001f2480(*(int *)(**(int **)(param_1 + 0x94) + 0xa0));
		uVar4 = (long)*(int *)(param_1 + 0x8c) & 0xf;
		*(ulong *)(param_1 + 0x90) = *(ulong *)(param_1 + 0x90) & 0xfffffffffffffbff;
		if (uVar4 < 0x9) {
			if (puVar2[0x1] < 0xff) {
				if (*(int *)(param_1 + 0xd8) == 0x0) {
					*(ushort **)(param_1 + 0xd8) = puVar2;
				}
				*(ushort *)(param_1 + 0xdc) = puVar2[0x1];
				uVar1 = puVar2[0x1];
				puVar2[0x1] = uVar1 + 0x1;
				*(int *)(puVar2 + (uint)uVar1 * 0x2 + 0x2) = param_1;
				uVar4 = *(ulong *)(param_1 + 0x88);
			}
			else {
				uVar4 = *(ulong *)(param_1 + 0x88);
			}
			*(ulong *)(param_1 + 0x88) = uVar4 | 0x100000000000;
			cVar3 = *(char *)(param_1 + 0xde);
		}
		else {
			if (*(int *)(param_1 + 0xd4) == 0x0) {
				FUN_00247270(param_1, uVar4);
				cVar3 = *(char *)(param_1 + 0xde);
			}
			else {
				cVar3 = *(char *)(param_1 + 0xde);
			}
		}
		if ((cVar3 != -0x1) && (*puVar2 < 0xff)) {
			if (*(int *)(param_1 + 0xd8) == 0x0) {
				*(ushort **)(param_1 + 0xd8) = puVar2;
			}
			*(undefined *)(param_1 + 0xde) = *(undefined *)puVar2;
			uVar1 = *puVar2;
			*puVar2 = uVar1 + 0x1;
			*(int *)(puVar2 + (uint)uVar1 * 0x2 + 0x202) = param_1;
		}
	}
	return;
}



void FUN_00246a88(float param_1, int param_2)

{
	int iVar1;
	ulong uVar2;
	InstanceNode *pIVar3;
	float in_f0;
	float fVar4;

	*(float *)(param_2 + 0xb8) = param_1;
	*(ulong *)(param_2 + 0x88) = *(ulong *)(param_2 + 0x88) | 0x1000000000000;
	if (*(int *)(param_2 + 0xd4) == 0x0) {
		return;
	}
	iVar1 = *(int *)(param_2 + 0x94);
	if (*(int *)(iVar1 + 0x120) == 0x0) {
		pIVar3 = *(InstanceNode **)(iVar1 + 0x98);
		if (pIVar3 == (InstanceNode *)0x0) {
			iVar1 = *(int *)(iVar1 + 0x80);
		}
		else {
		LAB_00246b08:
			iVar1 = FUN_0023c8a8(pIVar3);
		}
	}
	else {
		fVar4 = *(float *)(*(int *)(iVar1 + 0x120) + 0x60);
		in_f0 = 0.00000000;
		uVar2 = *(ulong *)(param_2 + 0x88);
		if (0.00000000 < fVar4) goto LAB_00246b2c;
		pIVar3 = *(InstanceNode **)((int)uVar2 + 0x98);
		if (pIVar3 != (InstanceNode *)0x0) goto LAB_00246b08;
		iVar1 = *(int *)((int)uVar2 + 0x80);
	}
	FUN_00262110(iVar1, 0x0);
	uVar2 = *(ulong *)(param_2 + 0x88);
	fVar4 = in_f0;
LAB_00246b2c:
	uVar2 = uVar2 >> 0x24 & 0xf;
	if (uVar2 == 0x9) {
		FUN_00289e88(fVar4, param_1, param_1, param_1, *(int *)(param_2 + 0xd4));
	}
	else {
		if ((0x8 < uVar2) && (uVar2 < 0xc)) {
			iVar1 = **(int **)(param_2 + 0x94);
			FUN_00289e88(fVar4, (*(float *)(iVar1 + 0x70) - *(float *)(iVar1 + 0x60)) * param_1,
				(*(float *)(iVar1 + 0x74) - *(float *)(iVar1 + 0x64)) * param_1,
				(*(float *)(iVar1 + 0x78) - *(float *)(iVar1 + 0x68)) * param_1,
				*(int *)(param_2 + 0xd4));
		}
	}
	return;
}



void FUN_00246c10(int param_1, ulong param_2)

{
	ushort uVar1;
	int iVar2;
	int iVar3;
	ulong uVar4;
	ushort uVar5;
	int *piVar6;
	ulong uVar7;
	ulong uVar8;

	if (param_2 == 0x0) {
		if (*(short *)(param_1 + 0xdc) == -0x1) {
			uVar4 = *(ulong *)(param_1 + 0x88);
		}
		else {
			iVar3 = *(int *)(**(int **)(param_1 + 0x94) + 0xa0);
			if (iVar3 == 0x0) {
				uVar4 = *(ulong *)(param_1 + 0x88);
			}
			else {
				iVar3 = FUN_001f2480(iVar3);
				if (iVar3 == 0x0) {
					uVar4 = *(ulong *)(param_1 + 0x88);
				}
				else {
					uVar1 = *(ushort *)(param_1 + 0xdc);
					if (uVar1 != 0xffff) {
						uVar5 = *(short *)(iVar3 + 0x2) - 0x1;
						*(ushort *)(iVar3 + 0x2) = uVar5;
						iVar2 = *(int *)(iVar3 + 0x4 + (uint)uVar5 * 0x4);
						*(int *)(iVar3 + 0x4 + (uint)uVar1 * 0x4) = iVar2;
						*(ushort *)(iVar2 + 0xdc) = uVar1;
						FUN_00254150(param_1);
					}
					uVar4 = *(ulong *)(param_1 + 0x88);
				}
			}
		}
		*(ulong *)(param_1 + 0x88) = uVar4 & 0xffffeff0ffffffff;
		if (0x8 < ((uVar4 & 0xffffefffffffffff) >> 0x24 & 0xf)) {
			return;
		}
		if (*(int **)(param_1 + 0xd4) == (int *)0x0) {
			uVar4 = *(ulong *)(param_1 + 0x88);
		}
		else {
			FUN_00292e90(UnkStruct_0x14_HasSomeDataPTRs, *(int **)(param_1 + 0xd4));
			*(undefined4 *)(param_1 + 0xd4) = 0x0;
			uVar4 = *(ulong *)(param_1 + 0x88);
		}
		if ((uVar4 >> 0x24 & 0xf) < 0x9) {
			uVar4 = *(ulong *)(param_1 + 0x88);
		}
		else {
			*(ulong *)(param_1 + 0x88) = uVar4 & 0xffffff0fffffffff | 0x1000000000;
			uVar4 = *(ulong *)(param_1 + 0x88);
		}
		if (((long)uVar4 >> 0x20 & 0xfU) < 0x9) {
			piVar6 = *(int **)(param_1 + 0x94);
			goto LAB_00246f38;
		}
	}
	else {
		iVar3 = FUN_001f2480(*(int *)(**(int **)(param_1 + 0x94) + 0xa0));
		uVar4 = *(ulong *)(param_1 + 0x88);
		uVar7 = uVar4 & 0xfffffff0ffffffff | (param_2 & 0xf) << 0x20;
		uVar8 = (long)uVar7 >> 0x20 & 0xf;
		*(ulong *)(param_1 + 0x88) = uVar7;
		if (0x8 < uVar8) {
			if (*(int *)(param_1 + 0xd4) == 0x0) {
				FUN_00247270(param_1, uVar8);
				uVar1 = *(ushort *)(param_1 + 0xdc);
			}
			else {
				uVar1 = *(ushort *)(param_1 + 0xdc);
			}
			if (uVar1 != 0xffff) {
				uVar5 = *(short *)(iVar3 + 0x2) - 0x1;
				*(ushort *)(iVar3 + 0x2) = uVar5;
				iVar2 = *(int *)(iVar3 + 0x4 + (uint)uVar5 * 0x4);
				*(int *)(iVar3 + 0x4 + (uint)uVar1 * 0x4) = iVar2;
				*(ushort *)(iVar2 + 0xdc) = uVar1;
				FUN_00254150(param_1);
			}
			*(ulong *)(param_1 + 0x88) = *(ulong *)(param_1 + 0x88) & 0xffffefffffffffff;
			return;
		}
		if ((uVar4 & 0x100000000000) == 0x0) {
			if (*(ushort *)(iVar3 + 0x2) < 0xff) {
				if (*(int *)(param_1 + 0xd8) == 0x0) {
					*(int *)(param_1 + 0xd8) = iVar3;
				}
				*(undefined2 *)(param_1 + 0xdc) = *(undefined2 *)(iVar3 + 0x2);
				uVar1 = *(ushort *)(iVar3 + 0x2);
				*(short *)(iVar3 + 0x2) = uVar1 + 0x1;
				*(int *)(iVar3 + (uint)uVar1 * 0x4 + 0x4) = param_1;
				uVar4 = *(ulong *)(param_1 + 0x88);
			}
			else {
				uVar4 = *(ulong *)(param_1 + 0x88);
			}
			*(ulong *)(param_1 + 0x88) = uVar4 | 0x100000000000;
			uVar4 = *(ulong *)(param_1 + 0x88);
		}
		else {
			uVar4 = *(ulong *)(param_1 + 0x88);
		}
		if (0x8 < (uVar4 >> 0x24 & 0xf)) {
			return;
		}
		if (*(int **)(param_1 + 0xd4) == (int *)0x0) {
			return;
		}
		FUN_00292e90(UnkStruct_0x14_HasSomeDataPTRs, *(int **)(param_1 + 0xd4));
		*(undefined4 *)(param_1 + 0xd4) = 0x0;
		if (0x8 < (*(ulong *)(param_1 + 0x88) >> 0x24 & 0xf)) {
			*(ulong *)(param_1 + 0x88) = *(ulong *)(param_1 + 0x88) & 0xffffff0fffffffff | 0x1000000000;
		}
		uVar4 = *(ulong *)(param_1 + 0x88);
		if (((long)uVar4 >> 0x20 & 0xfU) < 0x9) {
			piVar6 = *(int **)(param_1 + 0x94);
			goto LAB_00246f38;
		}
	}
	*(ulong *)(param_1 + 0x88) = uVar4 & 0xfffffff0ffffffff | 0x100000000;
	piVar6 = *(int **)(param_1 + 0x94);
LAB_00246f38:
	if (piVar6[0x48] == 0x0) {
		*(uint *)(*piVar6 + 0x4) = *(uint *)(*piVar6 + 0x4) & 0xffff7fff;
	}
	return;
}



void FUN_00246f70(int param_1, ulong param_2)

{
	char cVar1;
	byte bVar2;
	ushort uVar3;
	ushort *puVar4;
	int iVar5;
	void *pvVar6;
	undefined8 uVar7;
	int *piVar8;
	ulong uVar9;

	if (param_2 == 0x0) {
		if ((long)*(int *)(param_1 + 0xd0) == 0x0) {
			cVar1 = *(char *)(param_1 + 0xde);
		}
		else {
			FUN_00292f70((long)*(int *)(param_1 + 0xd0), 0x3);
			*(undefined4 *)(param_1 + 0xd0) = 0x0;
			cVar1 = *(char *)(param_1 + 0xde);
		}
		if (cVar1 == -0x1) {
			uVar9 = *(ulong *)(param_1 + 0x88);
		}
		else {
			iVar5 = *(int *)(**(int **)(param_1 + 0x94) + 0xa0);
			if (iVar5 == 0x0) {
				uVar9 = *(ulong *)(param_1 + 0x88);
			}
			else {
				puVar4 = (ushort *)FUN_001f2480(iVar5);
				if (puVar4 == (ushort *)0x0) {
					uVar9 = *(ulong *)(param_1 + 0x88);
				}
				else {
					bVar2 = *(byte *)(param_1 + 0xde);
					if (bVar2 != 0xff) {
						uVar3 = *puVar4;
						*puVar4 = uVar3 - 0x1;
						iVar5 = *(int *)(puVar4 + 0x202 + (uint)(ushort)(uVar3 - 0x1) * 0x2);
						*(int *)(puVar4 + 0x202 + (uint)bVar2 * 0x2) = iVar5;
						*(byte *)(iVar5 + 0xde) = bVar2;
						FUN_00254190(param_1);
					}
					uVar9 = *(ulong *)(param_1 + 0x88);
				}
			}
		}
		*(ulong *)(param_1 + 0x88) = uVar9 & 0xffffff0fffffffff;
		if (0x8 < ((long)(uVar9 & 0xffffff0fffffffff) >> 0x20 & 0xfU)) {
			return;
		}
		if (*(int **)(param_1 + 0xd4) == (int *)0x0) {
			uVar9 = *(ulong *)(param_1 + 0x88);
		}
		else {
			FUN_00292e90(UnkStruct_0x14_HasSomeDataPTRs, *(int **)(param_1 + 0xd4));
			*(undefined4 *)(param_1 + 0xd4) = 0x0;
			uVar9 = *(ulong *)(param_1 + 0x88);
		}
		if ((uVar9 >> 0x24 & 0xf) < 0x9) {
			uVar9 = *(ulong *)(param_1 + 0x88);
		}
		else {
		LAB_002471f8:
			*(ulong *)(param_1 + 0x88) = uVar9 & 0xffffff0fffffffff | 0x1000000000;
		LAB_002471fc:
			uVar9 = *(ulong *)(param_1 + 0x88);
		}
		if (((long)uVar9 >> 0x20 & 0xfU) < 0x9) {
			piVar8 = *(int **)(param_1 + 0x94);
		}
		else {
			*(ulong *)(param_1 + 0x88) = uVar9 & 0xfffffff0ffffffff | 0x100000000;
			piVar8 = *(int **)(param_1 + 0x94);
		}
		if (piVar8[0x48] == 0x0) {
			*(uint *)(*piVar8 + 0x4) = *(uint *)(*piVar8 + 0x4) & 0xffff7fff;
		}
	}
	else {
		*(ulong *)(param_1 + 0x88) =
			*(ulong *)(param_1 + 0x88) & 0xffffff0fffffffff | (param_2 & 0xf) << 0x24;
		if (*(char *)(param_1 + 0xde) == -0x1) {
			puVar4 = (ushort *)FUN_001f2480(*(int *)(**(int **)(param_1 + 0x94) + 0xa0));
			if (*puVar4 < 0xff) {
				if (*(int *)(param_1 + 0xd8) == 0x0) {
					*(ushort **)(param_1 + 0xd8) = puVar4;
				}
				*(undefined *)(param_1 + 0xde) = *(undefined *)puVar4;
				uVar3 = *puVar4;
				*puVar4 = uVar3 + 0x1;
				*(int *)(puVar4 + (uint)uVar3 * 0x2 + 0x202) = param_1;
				goto LAB_0024710c;
			}
			iVar5 = *(int *)(param_1 + 0xd0);
		}
		else {
		LAB_0024710c:
			iVar5 = *(int *)(param_1 + 0xd0);
		}
		if (iVar5 == 0x0) {
			uVar9 = *(ulong *)(param_1 + 0x88);
			if ((uVar9 >> 0x24 & 0xf) < 0x9) {
				pvVar6 = MemoryAllocate(0x50);
				uVar7 = FUN_00292f28((long)(int)pvVar6, **(undefined4 **)(param_1 + 0x94), 0x50);
				*(int *)(param_1 + 0xd0) = (int)uVar7;
				*(undefined4 *)((int)uVar7 + 0x30) = 0x3f800000;
				uVar9 = *(ulong *)(param_1 + 0x88);
				goto LAB_00247160;
			}
			iVar5 = *(int *)(param_1 + 0xd4);
		}
		else {
			uVar9 = *(ulong *)(param_1 + 0x88);
		LAB_00247160:
			if ((uVar9 >> 0x24 & 0xf) < 0x9) {
				if (0x8 < ((long)uVar9 >> 0x20 & 0xfU)) {
					return;
				}
				if (*(int **)(param_1 + 0xd4) == (int *)0x0) {
					return;
				}
				FUN_00292e90(UnkStruct_0x14_HasSomeDataPTRs, *(int **)(param_1 + 0xd4));
				uVar9 = *(ulong *)(param_1 + 0x88);
				*(undefined4 *)(param_1 + 0xd4) = 0x0;
				if (0x8 < (uVar9 >> 0x24 & 0xf)) goto LAB_002471f8;
				goto LAB_002471fc;
			}
			iVar5 = *(int *)(param_1 + 0xd4);
		}
		if (iVar5 == 0x0) {
			FUN_00247270(param_1, uVar9 >> 0x24 & 0xf);
		}
	}
	return;
}



void FUN_00247270(int param_1, long param_2)

{
	bool bVar1;
	int iVar2;
	long lVar3;
	InstanceNode *pIVar4;
	uint uVar5;
	float fVar6;
	undefined4 uVar7;
	float fVar8;

	bVar1 = param_2 == 0x9;
	lVar3 = FUN_00290880(UnkStruct_0x14_HasSomeDataPTRs, (long)**(int **)(param_1 + 0x94), (ulong)bVar1)
		;
	*(int *)(param_1 + 0xd4) = (int)lVar3;
	fVar6 = (float)FUN_0028d6e0((int)lVar3, (long)**(int **)(param_1 + 0x94), 0x0);
	iVar2 = *(int *)(param_1 + 0x94);
	if (*(int *)(iVar2 + 0x120) == 0x0) {
		pIVar4 = *(InstanceNode **)(iVar2 + 0x98);
		if (pIVar4 == (InstanceNode *)0x0) {
			iVar2 = *(int *)(iVar2 + 0x80);
		}
		else {
		LAB_00247314:
			iVar2 = FUN_0023c8a8(pIVar4);
		}
	}
	else {
		fVar8 = *(float *)(*(int *)(iVar2 + 0x120) + 0x60);
		fVar6 = 0.00000000;
		if (0.00000000 < fVar8) goto LAB_00247334;
		pIVar4 = *(InstanceNode **)(iVar2 + 0x98);
		if (pIVar4 != (InstanceNode *)0x0) goto LAB_00247314;
		iVar2 = *(int *)(iVar2 + 0x80);
	}
	FUN_00262110(iVar2, 0x0);
	fVar8 = fVar6;
LAB_00247334:
	if (bVar1) {
		FUN_00289e88(fVar8, 1.00000000, 1.00000000, 1.00000000, *(int *)(param_1 + 0xd4));
	}
	FUN_00292378(0x3e99999a, *(int *)(param_1 + 0xd4));
	FUN_00292390(0x3f4ccccd, *(int *)(param_1 + 0xd4));
	uVar5 = uRam0030a11c | 0x30;
	*(ulong *)(*(int *)(param_1 + 0xd4) + 0x2e0) =
		*(ulong *)(*(int *)(param_1 + 0xd4) + 0x2e0) & 0xfffffffffffffffe | 0x1;
	*(uint *)(*(int *)(param_1 + 0xd4) + 0x330) = uVar5;
	if (bVar1) {
		iVar2 = *(int *)(param_1 + 0xd4);
		uVar7 = *(undefined4 *)(*(int *)(param_1 + 0x94) + 0xf4);
		*(undefined *)(iVar2 + 0x390) = 0x0;
		*(undefined4 *)(iVar2 + 0x380) = uVar7;
	}
	*(ulong *)(param_1 + 0x88) = *(ulong *)(param_1 + 0x88) & 0xfffffcffffffffff;
	*(uint *)(**(int **)(param_1 + 0x94) + 0x4) = *(uint *)(**(int **)(param_1 + 0x94) + 0x4) | 0x8000
		;
	return;
}



// WARNING: Type propagation algorithm not settling

void FUN_00247490(undefined8 param_1, undefined8 param_2)

{
	byte bVar1;
	ChunkNode *pCVar2;
	UnkChunkRelatedData *pUVar3;
	int iVar4;
	GameNode *pGVar5;
	int iVar6;
	UnkScriptRelatedStoredInGlobal *pUVar7;
	ulong uVar8;
	ulong uVar9;
	long lVar10;
	NodeList *nodeList;
	int iVar11;
	long lVar12;
	undefined8 *puVar13;
	float fVar14;
	float fVar15;
	undefined4 uVar16;
	float local_1d0;
	float fStack460;
	float fStack456;
	float local_1c4;
	float local_1c0;
	float fStack444;
	float local_1b8;
	float fStack436;
	float local_1b0;
	float fStack428;
	float local_1a8;
	float fStack420;
	int local_1a0[0x40];
	int *local_a0;
	ushort local_9c;
	undefined2 local_9a;
	undefined4 local_98;
	uint local_94;
	undefined4 local_90;
	undefined4 local_8c;
	undefined4 local_88;
	undefined4 local_84;
	undefined4 local_80;
	int *local_70;
	ChunkNode *local_6c;
	Vector4 *local_68;

	iVar11 = (int)param_1;
	pCVar2 = (ChunkNode *)(*(ChunkNode **)(iVar11 + 0x94))->field_0x0;
	pUVar3 = pCVar2->chunkData_;
	if (pUVar3 != (UnkChunkRelatedData *)0x0) {
		local_68 = (Vector4 *)(iVar11 + 0x50);
		fVar14 = 1.00000000;
		uVar16 = *(undefined4 *)(iVar11 + 0x5c);
		MovePositionFromPos2ToPos1(local_68, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		*(undefined4 *)(iVar11 + 0x5c) = uVar16;
		*(undefined4 *)(iVar11 + 0x60) = 0x0;
		local_70 = *(int **)(iVar11 + 0x84);
		*(undefined4 *)(iVar11 + 0x84) = 0x0;
		puVar13 = (undefined8 *)param_2;
		fStack456 = *(float *)(puVar13 + 0x1);
		fVar15 = *(float *)((int)puVar13 + 0xc);
		local_1d0 = (float)*puVar13;
		fStack460 = (float)((ulong)*puVar13 >> 0x20);
		local_1b0 = local_1d0 + fVar15;
		local_1c0 = local_1d0 - fVar15;
		fStack444 = fStack460 - fVar15;
		local_1b8 = fStack456 - fVar15;
		fStack428 = fStack460 + fVar15;
		local_1a8 = fStack456 + fVar15;
		if ((*(ulong *)(iVar11 + 0x88) & 0xf00000000) == 0x500000000) {
			fVar15 = fVar15 * *(float *)(iVar11 + 0xa0);
			local_1c0 = (local_1c0 + local_1b0) * 0.50000000;
			local_1b8 = (local_1b8 + local_1a8) * 0.50000000;
			local_1b0 = local_1c0 + fVar15;
			local_1a8 = local_1b8 + fVar15;
			local_1c0 = local_1c0 - fVar15;
			local_1b8 = local_1b8 - fVar15;
		}
		local_a0 = local_1a0;
		local_9a = 0x40;
		local_9c = 0x0;
		local_98 = 0x7149f2ca;
		local_90 = 0x10;
		local_8c = 0x1;
		local_88 = 0x0;
		local_94 = local_94 & 0xfffffffe | 0x2;
		local_80 = 0x0;
		local_84 = 0x0;
		local_1c4 = fVar14;
		fStack436 = fVar14;
		fStack420 = fVar14;
		FUN_001f0458((int)&local_a0, pCVar2);
		FUN_001ed750((int)pUVar3, (long)(int)&local_1c0, DAT_0030a118, (int *)&local_a0);
		if ((*(ulong *)(iVar11 + 0x90) & 0x800000) == 0x0) {
			uVar8 = *(ulong *)(iVar11 + 0x88);
		}
		else {
			FUN_002480c0(iVar11);
			uVar8 = *(ulong *)(iVar11 + 0x88);
		}
		if ((uVar8 & 0xf00000000) == 0x600000000) {
			FUN_00248a68(param_1, puVar13, (int *)&local_a0);
			uVar8 = *(ulong *)(iVar11 + 0x88);
		}
		else {
			lVar12 = 0x0;
			local_6c = pCVar2->nextChunkNode;
			if (local_9c != 0x0) {
				iVar4 = 0x0;
				do {
					iVar4 = *(int *)((int)local_1a0 + iVar4);
					uVar8 = SEXT48(iVar4);
					if (((long)*(int *)(iVar4 + 0x28) == (long)(int)pCVar2) || (uVar8 == (long)(int)local_6c))
					{
					LAB_00247938:
						uVar9 = (ulong)local_9c;
					}
					else {
						nodeList = (NodeList *)(iVar4 + 0xd4);
						pGVar5 = GetGameNode(nodeList, 0x5);
						if (pGVar5 == (GameNode *)0x0) {
							bVar1 = *(byte *)(iVar4 + 0x30);
						LAB_00247750:
							if ((bVar1 & 0x1) == 0x0) {
								uVar9 = (ulong)local_9c;
								if ((ulong)(long)(int)pCVar2 < uVar8) {
									pGVar5 = GetGameNode(nodeList, 0x1);
									lVar10 = (**(code **)(pGVar5->methods + 0x7c))
										((int)&pGVar5->ChunkNode +
										(int)*(short *)(pGVar5->methods + 0x78));
									uVar9 = (ulong)local_9c;
									if ((lVar10 != 0x0) && ((long)(int)pGVar5[0xc].prevNode != 0x0)) {
										lVar10 = FUN_00254830(param_1, param_2, (long)(int)pGVar5[0xc].prevNode);
										uVar9 = (ulong)local_9c;
										if (lVar10 != 0x0) {
											*(ulong *)(iVar11 + 0x88) = *(ulong *)(iVar11 + 0x88) | 0x28000000000000;
											*(float *)(iVar11 + 0x60) = *(float *)(iVar11 + 0x60) + fVar14;
											if (*(char *)(iVar4 + 0x5) < '\0') {
												FUN_00254730(iVar11, iVar4);
											}
											pGVar5 = GetGameNode(nodeList, 0x5);
											if (pGVar5 == (GameNode *)0x0) {
												if (*(int *)(iVar11 + 0x80) == 0x0) {
													if (*(int *)(iVar11 + 0x84) == 0x0) {
														FUN_002485a0(param_1, uVar8);
														uVar8 = (ulong)*(byte *)((int)&pCVar2->unkBitField + 0x1);
													}
													else {
														uVar8 = (ulong)*(byte *)((int)&pCVar2->unkBitField + 0x1);
													}
												}
												else {
													uVar8 = (ulong)*(byte *)((int)&pCVar2->unkBitField + 0x1);
												}
											}
											else {
												FUN_00248270(param_1, pGVar5);
												uVar8 = (ulong)*(byte *)((int)&pCVar2->unkBitField + 0x1);
											}
											if (uVar8 >> 0x7 != 0x0) {
												iVar4 = *(int *)(*(int *)(iVar11 + 0x94) + 0x14);
												(**(code **)(iVar4 + 0xdc))
													(0x0, *(int *)(iVar11 + 0x94) + (int)*(short *)(iVar4 + 0xd8));
											}
											goto LAB_00247938;
										}
									}
								}
							}
							else {
								iVar6 = FUN_00248bb8(iVar11, (ulong *)&local_1d0, &local_1c0, uVar8,
									(long)(iVar4 + 0x10));
								uVar9 = (ulong)local_9c;
								if (iVar6 != 0x0) {
									*(ulong *)(iVar11 + 0x88) = *(ulong *)(iVar11 + 0x88) | 0x28000000000000;
									*(float *)(iVar11 + 0x60) = *(float *)(iVar11 + 0x60) + fVar14;
									if (*(char *)(iVar4 + 0x5) < '\0') {
										FUN_00254730(iVar11, iVar4);
									}
									pGVar5 = GetGameNode(nodeList, 0x5);
									if (pGVar5 == (GameNode *)0x0) {
										if (*(int *)(iVar11 + 0x80) == 0x0) {
											if (*(int *)(iVar11 + 0x84) == 0x0) {
												FUN_002485a0(param_1, uVar8);
												uVar8 = (ulong)*(byte *)((int)&pCVar2->unkBitField + 0x1);
											}
											else {
												uVar8 = (ulong)*(byte *)((int)&pCVar2->unkBitField + 0x1);
											}
										}
										else {
											uVar8 = (ulong)*(byte *)((int)&pCVar2->unkBitField + 0x1);
										}
									}
									else {
										FUN_00248270(param_1, pGVar5);
										uVar8 = (ulong)*(byte *)((int)&pCVar2->unkBitField + 0x1);
									}
									if (uVar8 >> 0x7 == 0x0) goto LAB_00247938;
									iVar4 = *(int *)(*(int *)(iVar11 + 0x94) + 0x14);
									(**(code **)(iVar4 + 0xdc))
										(0x0, *(int *)(iVar11 + 0x94) + (int)*(short *)(iVar4 + 0xd8));
									uVar9 = (ulong)local_9c;
								}
							}
						}
						else {
							lVar10 = (**(code **)(pGVar5->methods + 0x7c))
								((int)&pGVar5->ChunkNode + (int)*(short *)(pGVar5->methods + 0x78)
									);
							if (lVar10 == 0x0) {
								bVar1 = *(byte *)(iVar4 + 0x30);
								goto LAB_00247750;
							}
							iVar4 = FUN_00247ba0(iVar11, (float *)puVar13, (undefined4 *)pGVar5);
							uVar9 = (ulong)local_9c;
							if (iVar4 != 0x0) {
								*(ulong *)(iVar11 + 0x88) = *(ulong *)(iVar11 + 0x88) | 0x28000000000000;
								*(float *)(iVar11 + 0x60) = *(float *)(iVar11 + 0x60) + fVar14;
								goto LAB_00247938;
							}
						}
					}
					iVar4 = (int)lVar12 + 0x1;
					lVar12 = (long)iVar4;
					iVar4 *= 0x4;
				} while (lVar12 < (long)uVar9);
			}
			uVar8 = *(ulong *)(iVar11 + 0x88);
		}
		if ((uVar8 & 0x8000000000000) == 0x0) {
			iVar4 = *(int *)(iVar11 + 0x84);
		}
		else {
			pUVar7 = FUN_00197da8(pCVar2);
			fVar14 = 1.00000000 / *(float *)(iVar11 + 0x60);
			fVar15 = (float)pUVar7->field_0x8 * DAT_00309b80;
			*(float *)(iVar11 + 0x50) = *(float *)(iVar11 + 0x50) * fVar14;
			local_68->y = local_68->y * fVar14;
			local_68->z = local_68->z * fVar14;
			FUN_0024b408(fVar15, iVar11, (undefined8 *)local_68,
				(float *)(*(int *)(*(int *)(iVar11 + 0x94) + 0x128) + 0x20));
			iVar4 = *(int *)(iVar11 + 0x84);
		}
		if ((iVar4 == 0x0) || ((*(uint *)(iVar4 + 0x1c) & 0x1) == 0x0)) {
			if ((local_70 != (int *)0x0) && ((local_70[0x7] & 0x1U) != 0x0)) {
				uVar8 = (long)(int)(((uint)((*(ulong *)(iVar11 + 0x90) << 0x11) >> 0x20) & 0xf) + 0x1) & 0xf
					;
				*(ulong *)(iVar11 + 0x90) = *(ulong *)(iVar11 + 0x90) & 0xfffffffffff87fff | uVar8 << 0xf;
				if (uVar8 == 0x5) {
					FUN_00254788(iVar11);
				}
				else {
					iVar4 = *(int *)(**(int **)(iVar11 + 0x94) + 0x8);
					if ((*(ulong *)(iVar4 + 0x60) & 0x4) != 0x0) {
						*(undefined4 *)(iVar4 + 0x40) = *(undefined4 *)(iVar4 + 0x30);
						*(undefined4 *)(iVar4 + 0x4c) = *(undefined4 *)(iVar4 + 0x3c);
						*(undefined4 *)(iVar4 + 0x44) = *(undefined4 *)(iVar4 + 0x34);
						*(undefined4 *)(iVar4 + 0x48) = *(undefined4 *)(iVar4 + 0x38);
						*(ulong *)(iVar4 + 0x60) = *(ulong *)(iVar4 + 0x60) & 0xfffffffffffffffa;
					}
					local_1d0 = *(float *)(iVar4 + 0x40);
					fStack460 = *(float *)(iVar4 + 0x44);
					fStack456 = *(float *)(iVar4 + 0x48);
					local_1c4 = *(float *)(iVar4 + 0x4c);
					FUN_002547a8(iVar11, (undefined8 *)&local_1d0);
					FUN_002490a8(iVar11, local_70);
					*(int **)(iVar11 + 0x84) = local_70;
				}
			}
		}
		else {
			iVar4 = *(int *)(**(int **)(iVar11 + 0x94) + 0x8);
			if ((*(ulong *)(iVar4 + 0x60) & 0x4) != 0x0) {
				*(undefined4 *)(iVar4 + 0x40) = *(undefined4 *)(iVar4 + 0x30);
				*(undefined4 *)(iVar4 + 0x4c) = *(undefined4 *)(iVar4 + 0x3c);
				*(undefined4 *)(iVar4 + 0x44) = *(undefined4 *)(iVar4 + 0x34);
				*(undefined4 *)(iVar4 + 0x48) = *(undefined4 *)(iVar4 + 0x38);
				*(ulong *)(iVar4 + 0x60) = *(ulong *)(iVar4 + 0x60) & 0xfffffffffffffffa;
			}
			local_1d0 = *(float *)(iVar4 + 0x40);
			fStack460 = *(float *)(iVar4 + 0x44);
			fStack456 = *(float *)(iVar4 + 0x48);
			local_1c4 = *(float *)(iVar4 + 0x4c);
			FUN_002547a8(iVar11, (undefined8 *)&local_1d0);
			FUN_002490a8(iVar11, *(int **)(iVar11 + 0x84));
		}
	}
	return;
}



// WARNING: Removing unreachable block (ram,0x00247e1c)
// WARNING: Removing unreachable block (ram,0x0024801c)

undefined4 FUN_00247ba0(int param_1, float *param_2, undefined4 *param_3)

{
	int iVar1;
	int iVar2;
	undefined4 uVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	Vector4 local_e0;
	float local_d0;
	float fStack204;
	float local_c8;
	float local_c4;
	undefined4 local_c0;
	undefined4 uStack188;
	undefined4 uStack184;
	float fStack180;
	undefined4 local_b0;
	undefined4 uStack172;
	undefined4 uStack168;
	float local_a4;

	fVar10 = (float)param_3[0xe0];
	fVar4 = (float)param_3[0x38] - *param_2;
	fVar8 = (float)param_3[0x39] - param_2[0x1];
	fVar9 = param_2[0x3];
	fVar6 = (float)param_3[0x3a] - param_2[0x2];
	fVar7 = fVar6 * fVar6;
	fVar11 = SQRT(fVar4 * fVar4 + fVar8 * fVar8 + fVar7);
	if (fVar9 + fVar10 <= fVar11) {
		uVar3 = 0x0;
	}
	else {
		local_e0.w = 1.00000000;
		FUN_00262110(*(int *)(*(int *)(*(int *)(param_1 + 0x94) + 0x84) + 0xc), 0x0);
		fVar5 = local_e0.w / fVar11;
		fVar7 = fVar7 / (fVar7 + (float)param_3[0x7]);
		local_c8 = ((fVar9 + fVar10) - fVar11) * fVar7;
		local_d0 = fVar4 * fVar5 * local_c8;
		fStack204 = fVar8 * fVar5 * local_c8;
		local_c8 = fVar6 * fVar5 * local_c8;
		local_e0.x = (float)param_3[0x38] + local_d0;
		local_e0.y = (float)param_3[0x39] + fStack204;
		local_e0.z = (float)param_3[0x3a] + local_c8;
		local_c4 = local_e0.w;
		FUN_002923b8((int)param_3, (float *)&local_e0);
		iVar1 = *(int *)(param_1 + 0x94);
		iVar2 = *(int *)(iVar1 + 0x128);
		local_c4 = *(float *)(iVar2 + 0x3c);
		local_d0 = *(float *)(iVar2 + 0x30) - (float)param_3[0x54];
		fStack204 = *(float *)(iVar2 + 0x34) - (float)param_3[0x55];
		local_c8 = *(float *)(iVar2 + 0x38) - (float)param_3[0x56];
		local_e0.x = local_d0 * fVar7;
		local_e0.y = fStack204 * fVar7;
		local_e0.z = local_c8 * fVar7;
		local_c0 = *(undefined4 *)(iVar1 + 0x20);
		uStack188 = *(undefined4 *)(iVar1 + 0x24);
		uStack184 = *(undefined4 *)(iVar1 + 0x28);
		fStack180 = local_e0.w;
		fVar4 = local_c4;
		local_b0 = local_c0;
		uStack172 = uStack188;
		uStack168 = uStack184;
		local_a4 = local_e0.w;
		if ((*(ulong *)(param_1 + 0x90) & 0x200000) == 0x0) {
			if ((*(ulong *)(param_1 + 0x90) & 0x400000) == 0x0) {
				fVar6 = *(float *)(param_1 + 0xbc);
				local_e0.x = local_e0.x * fVar6;
				local_e0.y = local_e0.y * fVar6;
				local_e0.z = local_e0.z * fVar6;
			}
			else {
				local_e0.w = local_c4;
				fVar6 = RSQRT(0.00000000, &local_e0);
				fVar4 = *(float *)(param_1 + 0xbc);
				local_e0.x = local_e0.x * fVar6 * fVar4;
				local_e0.y = local_e0.y * fVar6 * fVar4;
				local_e0.z = local_e0.z * fVar6 * fVar4;
				fVar4 = local_e0.w;
			}
		}
		else {
			if (*(float *)(param_1 + 0xbc) <
				SQRT(local_e0.x * local_e0.x + local_e0.y * local_e0.y + local_e0.z * local_e0.z)) {
				local_e0.w = local_c4;
				fVar6 = RSQRT(0.00000000, &local_e0);
				fVar4 = *(float *)(param_1 + 0xbc);
				local_e0.x = local_e0.x * fVar6 * fVar4;
				local_e0.y = local_e0.y * fVar6 * fVar4;
				local_e0.z = local_e0.z * fVar6 * fVar4;
				fVar4 = local_e0.w;
			}
		}
		local_e0.w = fVar4;
		if (0.01000000 < local_e0.x * local_e0.x + local_e0.y * local_e0.y + local_e0.z * local_e0.z) {
			local_e0.x = -local_e0.x;
			local_e0.y = -local_e0.y;
			local_e0.z = -local_e0.z;
			iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x14);
			(**(code **)(iVar1 + 0xe4))
				(*(int *)(param_1 + 0x94) + (int)*(short *)(iVar1 + 0xe0), *param_3, &local_c0,
					&local_e0);
			iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x84);
			iVar2 = *(int *)(iVar1 + 0x40);
			(**(code **)(iVar2 + 0x3c))(iVar1 + *(short *)(iVar2 + 0x38), *param_3, &local_c0, &local_e0);
		}
		uVar3 = 0x1;
	}
	return uVar3;
}



void FUN_002480c0(int param_1)

{
	int iVar1;
	TransformedGeometyPoint *pTVar2;
	int iVar3;
	uint uVar4;
	GameNode *pGVar5;
	ChunkNode *pCVar6;
	int *piVar7;
	uint uVar8;
	int local_120[0x20];
	int *local_a0;
	undefined2 local_9c;
	undefined2 local_9a;
	undefined4 local_98;
	uint local_94;
	undefined4 local_90;
	undefined4 local_8c;
	undefined4 local_88;
	undefined4 local_84;
	undefined4 local_80;
	undefined4 local_70;
	undefined4 uStack108;
	undefined4 uStack104;
	undefined4 uStack100;
	undefined8 auStack96[0x2];

	piVar7 = local_120;
	local_a0 = local_120;
	uVar8 = 0x0;
	iVar1 = **(int **)(param_1 + 0x94);
	local_9a = 0x20;
	local_9c = 0x0;
	local_98 = 0x7149f2ca;
	local_8c = 0x1;
	local_90 = 0x0;
	local_88 = 0x0;
	local_94 = local_94 & 0xfffffffe | 0x2;
	local_80 = 0x0;
	local_84 = 0x0;
	uVar4 = FUN_001ed750(*(int *)(iVar1 + 0xa0), (long)(iVar1 + 0x40), 0x80, (int *)&local_a0);
	if (uVar4 != 0x0) {
		do {
			pGVar5 = GetGameNode((NodeList *)(*piVar7 + 0xd4), 0x7);
			if ((*(byte *)&pGVar5[0x10].ChunkNode & 0x1) != 0x0) {
				if ((*(float ***)(param_1 + 0x94))[0x4b][0x35] == 0.00000000) {
					pCVar6 = pGVar5->ChunkNode;
				}
				else {
					FUN_0023ddd8(*(float ***)(param_1 + 0x94));
					pCVar6 = pGVar5->ChunkNode;
				}
				pTVar2 = pCVar6->transformMatrixPtr;
				RotateAndTranslate_(pTVar2);
				FUN_0018ec48((long)(int)pTVar2, &pGVar5[0xf].field_0x8, (undefined4 *)auStack96);
				iVar3 = *(int *)(iVar1 + 0x8);
				if ((*(ulong *)(iVar3 + 0x60) & 0x4) != 0x0) {
					*(undefined4 *)(iVar3 + 0x40) = *(undefined4 *)(iVar3 + 0x30);
					*(undefined4 *)(iVar3 + 0x4c) = *(undefined4 *)(iVar3 + 0x3c);
					*(undefined4 *)(iVar3 + 0x44) = *(undefined4 *)(iVar3 + 0x34);
					*(undefined4 *)(iVar3 + 0x48) = *(undefined4 *)(iVar3 + 0x38);
					*(ulong *)(iVar3 + 0x60) = *(ulong *)(iVar3 + 0x60) & 0xfffffffffffffffa;
				}
				local_70 = *(undefined4 *)(iVar3 + 0x40);
				uStack108 = *(undefined4 *)(iVar3 + 0x44);
				uStack104 = *(undefined4 *)(iVar3 + 0x48);
				uStack100 = *(undefined4 *)(iVar3 + 0x4c);
				FUN_0024c508(param_1, auStack96, (undefined8 *)&local_70);
			}
			uVar8 += 0x1;
			piVar7 = piVar7 + 0x1;
		} while (uVar8 < uVar4);
	}
	return;
}



void FUN_00248270(int param_1, undefined4 *param_2)

{
	int iVar1;
	int iVar2;
	float fVar3;
	float in_f0;
	float fVar4;
	Vector4 local_c0;
	float local_b0;
	float fStack172;
	float local_a8;
	float fStack164;
	float local_a0;
	float fStack156;
	float fStack152;
	undefined4 uStack148;
	Vector4 local_90;
	Matrix4x4 local_80;

	FUN_00262110(*(int *)(*(int *)(*(int *)(param_1 + 0x94) + 0x84) + 0xc), 0x0);
	iVar1 = *(int *)(param_1 + 0x94);
	iVar2 = *(int *)(iVar1 + 0x128);
	local_c0.w = *(float *)(iVar2 + 0x3c);
	in_f0 = in_f0 / (in_f0 + (float)param_2[0x7]);
	local_b0 = *(float *)(iVar2 + 0x30) - (float)param_2[0x54];
	fStack172 = *(float *)(iVar2 + 0x34) - (float)param_2[0x55];
	local_80.yComponents.x = (float)param_2[0x30];
	local_80.yComponents.y = (float)param_2[0x31];
	local_80.yComponents.z = (float)param_2[0x32];
	local_80.yComponents.w = (float)param_2[0x33];
	local_a8 = *(float *)(iVar2 + 0x38) - (float)param_2[0x56];
	local_c0.x = local_b0 * in_f0;
	local_c0.y = fStack172 * in_f0;
	local_c0.z = local_a8 * in_f0;
	local_80.zComponents.x = (float)param_2[0x34];
	local_80.zComponents.y = (float)param_2[0x35];
	local_80.zComponents.z = (float)param_2[0x36];
	local_80.zComponents.w = (float)param_2[0x37];
	local_a0 = *(float *)(iVar1 + 0x20);
	fStack156 = *(float *)(iVar1 + 0x24);
	fStack152 = *(float *)(iVar1 + 0x28);
	local_80.xComponents.x = (float)param_2[0x2c];
	local_80.xComponents.y = (float)param_2[0x2d];
	local_80.xComponents.z = (float)param_2[0x2e];
	local_80.xComponents.w = (float)param_2[0x2f];
	local_80.wComponents.x = (float)param_2[0x38];
	local_80.wComponents.y = (float)param_2[0x39];
	local_80.wComponents.z = (float)param_2[0x3a];
	local_80.wComponents.w = (float)param_2[0x3b];
	local_90.w = 1.00000000;
	uStack148 = 0x3f800000;
	fStack164 = local_c0.w;
	local_90.x = local_a0;
	local_90.y = fStack156;
	local_90.z = fStack152;
	FUN_0018ef98(&local_80);
	MultiplyMatrixByVector(&local_80, &local_90, &local_90);
	FUN_0028a518((int)param_2, (float *)&local_c0, (float *)&local_90);
	if ((*(ulong *)(param_1 + 0x90) & 0x200000) == 0x0) {
		if ((*(ulong *)(param_1 + 0x90) & 0x400000) == 0x0) {
			fVar3 = *(float *)(param_1 + 0xbc);
			local_c0.x = local_c0.x * fVar3;
			local_c0.y = local_c0.y * fVar3;
			local_c0.z = local_c0.z * fVar3;
		}
		else {
			fVar4 = RSQRT(0.00000000, &local_c0);
			fVar3 = *(float *)(param_1 + 0xbc);
			local_c0.x = local_c0.x * fVar4 * fVar3;
			local_c0.y = local_c0.y * fVar4 * fVar3;
			local_c0.z = local_c0.z * fVar4 * fVar3;
		}
	}
	else {
		if (*(float *)(param_1 + 0xbc) <
			SQRT(local_c0.x * local_c0.x + local_c0.y * local_c0.y + local_c0.z * local_c0.z)) {
			fVar4 = RSQRT(0.00000000, &local_c0);
			fVar3 = *(float *)(param_1 + 0xbc);
			local_c0.x = local_c0.x * fVar4 * fVar3;
			local_c0.y = local_c0.y * fVar4 * fVar3;
			local_c0.z = local_c0.z * fVar4 * fVar3;
		}
	}
	if (0.00100000 < local_c0.x * local_c0.x + local_c0.y * local_c0.y + local_c0.z * local_c0.z) {
		local_c0.x = -local_c0.x;
		local_c0.y = -local_c0.y;
		local_c0.z = -local_c0.z;
		iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x84);
		iVar2 = *(int *)(iVar1 + 0x40);
		(**(code **)(iVar2 + 0x3c))(iVar1 + *(short *)(iVar2 + 0x38), *param_2, &local_a0, &local_c0);
	}
	fVar3 = -(1.00000000 - in_f0);
	iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x128);
	*(float *)(iVar1 + 0x20) = *(float *)(iVar1 + 0x20) + local_b0 * fVar3;
	*(float *)(iVar1 + 0x24) = *(float *)(iVar1 + 0x24) + fStack172 * fVar3;
	*(float *)(iVar1 + 0x28) = *(float *)(iVar1 + 0x28) + local_a8 * fVar3;
	return;
}



void FUN_002485a0(int param_1, undefined8 param_2)

{
	int iVar1;
	GameNode *pGVar2;
	undefined4 *puVar3;
	int iVar4;
	GameNode *pGVar5;
	long lVar6;
	float in_f0;
	float fVar7;
	float fVar8;
	Vector4 local_70;
	float local_60;
	float local_5c;
	float local_58;
	undefined4 local_54;
	undefined4 local_50;
	undefined4 uStack76;
	undefined4 uStack72;
	undefined4 local_44;

	pGVar5 = GetGameNode((NodeList *)((int)param_2 + 0xd4), 0x1);
	if (pGVar5 == (GameNode *)0x0) {
		return;
	}
	FUN_00262110(*(int *)(*(int *)(*(int *)(param_1 + 0x94) + 0x84) + 0xc), 0x0);
	iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x128);
	local_70.x = *(float *)(iVar1 + 0x30);
	local_70.y = *(float *)(iVar1 + 0x34);
	local_70.z = *(float *)(iVar1 + 0x38);
	local_70.w = *(float *)(iVar1 + 0x3c);
	local_60 = 0.00000000;
	local_5c = 0.00000000;
	local_58 = 0.00000000;
	local_54 = 0x3f800000;
	pGVar2 = pGVar5[0x5].prevNode[0x2].nextNode;
	lVar6 = (*(code *)pGVar2[0x3].methods)
		((int)&(pGVar5[0x5].prevNode)->ChunkNode + (int)*(short *)&pGVar2[0x3].nextNode
			, &local_60);
	if (lVar6 == 0x0) {
		FUN_0023d8e0((int)pGVar5, &local_60);
	}
	local_70.x = (local_70.x - local_60) * in_f0;
	local_70.y = (local_70.y - local_5c) * in_f0;
	local_70.z = (local_70.z - local_58) * in_f0;
	if ((*(ulong *)(param_1 + 0x90) & 0x200000) == 0x0) {
		if ((*(ulong *)(param_1 + 0x90) & 0x400000) == 0x0) {
			fVar7 = *(float *)(param_1 + 0xbc);
			local_70.z = local_70.z * fVar7;
			local_70.x = local_70.x * fVar7;
			local_70.y = local_70.y * fVar7;
			goto LAB_0024874c;
		}
	}
	else {
		if (SQRT(local_70.x * local_70.x + local_70.y * local_70.y + local_70.z * local_70.z) <=
			*(float *)(param_1 + 0xbc)) goto LAB_0024874c;
	}
	fVar8 = RSQRT(0.00000000, &local_70);
	fVar7 = *(float *)(param_1 + 0xbc);
	local_70.x = local_70.x * fVar8 * fVar7;
	local_70.y = local_70.y * fVar8 * fVar7;
	local_70.z = local_70.z * fVar8 * fVar7;
LAB_0024874c:
	if (0.00100000 < local_70.x * local_70.x + local_70.y * local_70.y + local_70.z * local_70.z) {
		puVar3 = *(undefined4 **)(param_1 + 0x94);
		local_50 = puVar3[0x8];
		uStack76 = puVar3[0x9];
		uStack72 = puVar3[0xa];
		local_44 = 0x3f800000;
		pGVar2 = pGVar5[0x5].prevNode[0x2].nextNode;
		(*(code *)pGVar2[0x2].prevNode)
			((int)&(pGVar5[0x5].prevNode)->ChunkNode + (int)*(short *)&pGVar2[0x2].field_0x8,
				*puVar3, &local_50, &local_70);
		local_70.x = -local_70.x;
		local_70.y = -local_70.y;
		local_70.z = -local_70.z;
		iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x84);
		iVar4 = *(int *)(iVar1 + 0x40);
		(**(code **)(iVar4 + 0x3c))(iVar1 + *(short *)(iVar4 + 0x38), param_2, &local_50, &local_70);
	}
	return;
}



void FUN_00248838(undefined8 param_1, undefined8 *param_2, int *param_3, float *param_4)

{
	undefined8 uVar1;
	float fVar2;
	float fVar3;
	int iVar4;
	long lVar5;
	float fVar6;
	Vector4 local_70;

	lVar5 = 0x0;
	uVar1 = *param_2;
	fVar2 = *(float *)(param_2 + 0x1);
	fVar3 = *(float *)((int)param_2 + 0xc);
	*param_4 = (float)uVar1;
	param_4[0x1] = (float)((ulong)uVar1 >> 0x20);
	param_4[0x2] = fVar2;
	param_4[0x3] = fVar3;
	if (*(short *)(param_3 + 0x1) != 0x0) {
		iVar4 = *param_3;
		fVar2 = *(float *)((int)param_2 + 0xc);
		while (true) {
			iVar4 = *(int *)((int)lVar5 * 0x4 + iVar4);
			local_70.w = *(float *)(iVar4 + 0x4c);
			local_70.x = (*(float *)(iVar4 + 0x40) + *(float *)(iVar4 + 0x50)) * 0.50000000 -
				*(float *)param_2;
			local_70.y = (*(float *)(iVar4 + 0x44) + *(float *)(iVar4 + 0x54)) * 0.50000000 -
				*(float *)((int)param_2 + 0x4);
			local_70.z = (*(float *)(iVar4 + 0x48) + *(float *)(iVar4 + 0x58)) * 0.50000000 -
				*(float *)(param_2 + 0x1);
			FUN_00200008(iVar4 + 0x40);
			lVar5 = (long)((int)lVar5 + 0x1);
			fVar3 = fVar2;
			fVar6 = RSQRT(0.00000000, &local_70);
			*(float *)param_2 = *(float *)param_2 + local_70.x * fVar6 * fVar2;
			*(float *)((int)param_2 + 0x4) = *(float *)((int)param_2 + 0x4) + local_70.y * fVar6 * fVar2;
			*(float *)(param_2 + 0x1) = *(float *)(param_2 + 0x1) + local_70.z * fVar6 * fVar2;
			if ((long)(ulong)*(ushort *)(param_3 + 0x1) <= lVar5) break;
			iVar4 = *param_3;
			fVar2 = fVar3;
		}
	}
	*param_4 = *param_4 - *(float *)param_2;
	param_4[0x1] = param_4[0x1] - *(float *)((int)param_2 + 0x4);
	param_4[0x2] = param_4[0x2] - *(float *)(param_2 + 0x1);
	return;
}



// WARNING: Type propagation algorithm not settling

uint FUN_00248a68(undefined8 param_1, undefined8 *param_2, int *param_3)

{
	ChunkNode *pCVar1;
	TransformedGeometyPoint *pTVar2;
	bool bVar3;
	uint uVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float local_20;
	float local_1c;
	float local_18;
	undefined4 local_14;

	pCVar1 = (ChunkNode *)(*(ChunkNode **)((int)param_1 + 0x94))->field_0x0;
	local_14 = 0x3f800000;
	local_20 = 0.00000000;
	local_1c = 0.00000000;
	local_18 = 0.00000000;
	FUN_00248838(param_1, param_2, param_3, &local_20);
	bVar3 = false;
	pTVar2 = pCVar1->transformMatrixPtr;
	if ((ABS(local_20) <= 0.00005000) && (ABS(local_1c) <= 0.00005000)) {
		bVar3 = true;
	}
	uVar4 = 0x0;
	if (!bVar3) {
		if ((pTVar2->unkBitfield & 0x4) != 0x0) {
			fVar7 = (pTVar2->transformMatrix).wComponents.y;
			fVar6 = (pTVar2->transformMatrix).wComponents.z;
			fVar5 = (pTVar2->transformMatrix).wComponents.w;
			(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
			(pTVar2->positionVector).y = fVar7;
			(pTVar2->positionVector).z = fVar6;
			(pTVar2->positionVector).w = fVar5;
			pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
		}
		fVar5 = (pTVar2->positionVector).x;
		uVar4 = 0x1;
		pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffb | 0x1;
		(pTVar2->positionVector).x = fVar5 + local_20;
		(pTVar2->positionVector).y = (pTVar2->positionVector).y + local_1c;
		(pTVar2->positionVector).z = (pTVar2->positionVector).z + local_18;
	}
	if (uVar4 != 0x0) {
		uVar4 = FUN_001977d8(pCVar1);
	}
	return uVar4;
}



// WARNING: Type propagation algorithm not settling

undefined4
FUN_00248bb8(int param_1, ulong *param_2, float *param_3, undefined8 param_4, undefined8 param_5)

{
	ChunkNode *pCVar1;
	TransformedGeometyPoint *pTVar2;
	int iVar3;
	uint uVar4;
	undefined8 uVar5;
	bool bVar6;
	bool bVar7;
	int iVar8;
	undefined *puVar9;
	ulong uVar10;
	ulong uVar11;
	uint uVar12;
	Matrix4x4 *pMVar13;
	int iVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	undefined auStack416[0x20];
	float local_180;
	float fStack380;
	float fStack376;
	float fStack372;
	float local_170;
	float fStack364;
	float fStack360;
	float fStack356;
	float local_160;
	float fStack348;
	float fStack344;
	float fStack340;
	float local_150;
	float fStack332;
	float fStack328;
	float fStack324;
	float local_140;
	float local_13c;
	float local_138;
	undefined4 local_130;
	undefined4 uStack300;
	float fStack296;
	float fStack292;
	undefined4 local_120;
	undefined4 uStack284;
	float fStack280;
	float fStack276;
	undefined4 local_110;
	undefined4 uStack268;
	float fStack264;
	float fStack260;
	float local_100;
	float fStack252;
	float local_f8;
	float fStack244;
	float local_f0;
	float fStack236;
	float local_e8;
	float fStack228;
	undefined8 local_e0;
	float local_d8;
	float local_d4;
	float local_d0;
	float local_cc;
	float local_c8;
	float afStack192[0x4];
	Matrix4x4 local_b0;
	GameNode *local_70;
	undefined4 local_6c;
	float *local_68;

	pCVar1 = (ChunkNode *)(*(ChunkNode **)(param_1 + 0x94))->field_0x0;
	local_6c = 0x0;
	uVar12 = (uint)param_4;
	if ((((ulong)(long)pCVar1->unkBitField >> 0x6 & 0x1) != 0x0) &&
		(uVar10 = FUN_00198178((int)pCVar1, uVar12), uVar10 != 0x0)) {
		return 0x0;
	}
	if ((((ulong)(long)*(int *)(uVar12 + 0x4) >> 0x6 & 0x1) != 0x0) &&
		(uVar10 = FUN_00198178(uVar12, (uint)pCVar1), uVar10 != 0x0)) {
		return 0x0;
	}
	pTVar2 = pCVar1->transformMatrixPtr;
	uVar10 = 0x0;
	RotateAndTranslate_(pTVar2);
	uVar5 = *(undefined8 *)&(pTVar2->transformMatrix).xComponents;
	fStack296 = (pTVar2->transformMatrix).xComponents.z;
	fStack292 = (pTVar2->transformMatrix).xComponents.w;
	local_130 = (undefined4)uVar5;
	uStack300 = (undefined4)((ulong)uVar5 >> 0x20);
	uVar5 = *(undefined8 *)&(pTVar2->transformMatrix).yComponents;
	fStack280 = (pTVar2->transformMatrix).yComponents.z;
	fStack276 = (pTVar2->transformMatrix).yComponents.w;
	local_120 = (undefined4)uVar5;
	uStack284 = (undefined4)((ulong)uVar5 >> 0x20);
	uVar5 = *(undefined8 *)&(pTVar2->transformMatrix).zComponents;
	fStack264 = (pTVar2->transformMatrix).zComponents.z;
	fStack260 = (pTVar2->transformMatrix).zComponents.w;
	local_110 = (undefined4)uVar5;
	uStack268 = (undefined4)((ulong)uVar5 >> 0x20);
	fVar18 = param_3[0x5] - *(float *)((int)param_2 + 0x4);
	uVar5 = *(undefined8 *)&(pTVar2->transformMatrix).wComponents;
	local_e8 = (pTVar2->transformMatrix).wComponents.z;
	fStack244 = (pTVar2->transformMatrix).wComponents.w;
	local_f0 = (float)uVar5;
	fStack236 = (float)((ulong)uVar5 >> 0x20);
	fStack252 = *(float *)((int)param_2 + 0x4) - fStack236;
	local_d8 = *(float *)(param_2 + 0x1) - local_e8;
	local_e0 = CONCAT44(fStack252, *(float *)param_2 - local_f0);
	local_d4 = 1.00000000;
	local_100 = local_f0 + (*(float *)param_2 - local_f0);
	fStack252 = fStack236 + fStack252;
	local_f8 = local_e8 + local_d8;
	fStack228 = fStack244;
	FUN_00197da8(pCVar1);
	local_68 = (float *)(*(int *)(*(int *)(param_1 + 0x94) + 0x128) + 0x20);
	do {
		uVar11 = FUN_001f0c48((ChunkNodeRelated *)param_5);
		pMVar13 = (Matrix4x4 *)(auStack416 + 0x20);
		if ((long)uVar11 <= (long)uVar10) {
			return local_6c;
		}
		FUN_001f0cc8(param_5, uVar10, (long)(int)&local_70, (long)(int)pMVar13);
		LoadBbox(local_70, pMVar13, (Matrix4x4 *)auStack416);
		iVar8 = FUN_001f8db0(param_3, (float *)auStack416);
		iVar14 = (int)uVar10;
		uVar11 = SEXT48(iVar14 + 0x1);
		if (iVar8 != 0x0) {
			if ((*(ulong *)(param_1 + 0x88) & 0xf00000000) == 0x500000000) {
				local_cc = fVar18;
				local_d8 = fVar18 * *(float *)(param_1 + 0xa0);
				local_c8 = local_d8;
				local_d0 = local_d8;
				local_e0 = CONCAT44(fVar18, local_d8);
				puVar9 = &local_e0 + 0x7;
				uVar4 = (uint)puVar9 & 0x7;
				*(ulong *)(puVar9 + -uVar4) =
					*(ulong *)(puVar9 + -uVar4) & -0x1 << (uVar4 + 0x1) * 0x8 |
					local_e0 >> (0x7 - uVar4) * 0x8;
				iVar8 = FUN_001fd908((long)(int)local_70, (long)(int)&local_130, (float *)&local_e0,
					(undefined4 *)pMVar13, (long)(int)&local_140, afStack192);
			}
			else {
				local_e0 = *param_2;
				local_d8 = *(float *)(param_2 + 0x1);
				local_d4 = *(float *)((int)param_2 + 0xc);
				local_b0.xComponents.x = local_180;
				local_b0.xComponents.y = fStack380;
				local_b0.xComponents.z = fStack376;
				local_b0.xComponents.w = fStack372;
				local_b0.wComponents.x = local_150;
				local_b0.wComponents.y = fStack332;
				local_b0.wComponents.z = fStack328;
				local_b0.wComponents.w = fStack324;
				local_b0.yComponents.x = local_170;
				local_b0.yComponents.y = fStack364;
				local_b0.yComponents.z = fStack360;
				local_b0.yComponents.w = fStack356;
				local_b0.zComponents.x = local_160;
				local_b0.zComponents.y = fStack348;
				local_b0.zComponents.z = fStack344;
				local_b0.zComponents.w = fStack340;
				FUN_0018ef98(&local_b0);
				MultiplyMatrixByVector(&local_b0, (Vector4 *)&local_e0, (Vector4 *)&local_e0);
				iVar8 = FUN_00201020(fVar18, (long)(int)local_70, (float *)&local_e0, (long)(int)&local_140);
			}
			if (iVar8 != 0x0) {
				local_6c = 0x1;
				if ((*(ulong *)(param_1 + 0x88) & 0x80000000000000) == 0x0) {
					if ((*(ulong *)(param_1 + 0x88) & 0xf00000000) != 0x500000000) {
						FUN_0018ec48((long)(int)(auStack416 + 0x20), &local_140, &local_140);
					}
					bVar6 = false;
					local_140 = local_140 * 0.99000001;
					local_13c = local_13c * 0.99000001;
					local_138 = local_138 * 0.99000001;
					pTVar2 = pCVar1->transformMatrixPtr;
					if ((ABS(local_140) <= 0.00005000) && (bVar6 = false, ABS(local_13c) <= 0.00005000)) {
						bVar6 = true;
					}
					bVar7 = false;
					if (!bVar6) {
						if ((pTVar2->unkBitfield & 0x4) != 0x0) {
							fVar17 = (pTVar2->transformMatrix).wComponents.y;
							fVar16 = (pTVar2->transformMatrix).wComponents.z;
							fVar15 = (pTVar2->transformMatrix).wComponents.w;
							(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
							(pTVar2->positionVector).y = fVar17;
							(pTVar2->positionVector).z = fVar16;
							(pTVar2->positionVector).w = fVar15;
							pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
						}
						fVar15 = (pTVar2->positionVector).x;
						bVar7 = true;
						pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffb | 0x1;
						(pTVar2->positionVector).x = fVar15 + local_140;
						(pTVar2->positionVector).y = (pTVar2->positionVector).y + local_13c;
						(pTVar2->positionVector).z = (pTVar2->positionVector).z + local_138;
					}
					if (bVar7) {
						FUN_001977d8(pCVar1);
						iVar8 = pCVar1->unkBitField;
					}
					else {
						iVar8 = pCVar1->unkBitField;
					}
					if (((ulong)(long)iVar8 >> 0x6 & 0x1) == 0x0) {
						iVar8 = *(int *)(param_1 + 0x94);
					}
					else {
						FUN_002549b0();
						iVar8 = *(int *)(param_1 + 0x94);
					}
					iVar8 = *(int *)(iVar8 + 0x128);
					*(undefined4 *)(iVar8 + 0x30) = *(undefined4 *)(iVar8 + 0x20);
					*(undefined4 *)(iVar8 + 0x34) = *(undefined4 *)(iVar8 + 0x24);
					*(undefined4 *)(iVar8 + 0x38) = *(undefined4 *)(iVar8 + 0x28);
					*(undefined4 *)(iVar8 + 0x3c) = *(undefined4 *)(iVar8 + 0x2c);
					FUN_0024b168(param_1, uVar12, &local_140, local_68);
					puVar9 = FUN_001ebb40((int **)(ChunkNodeRelated *)param_5, uVar10);
					uVar11 = SEXT48(iVar14 + 0x1);
					if (puVar9 == (undefined *)0x0) goto LAB_00249054;
					if ((*(ulong *)(puVar9 + 0x8) >> 0x8 & 0x1) != 0x0) {
						iVar8 = *(int *)(*(int *)(param_1 + 0x94) + 0x84);
						iVar3 = *(int *)(iVar8 + 0x40);
						(**(code **)(iVar3 + 0x4c))(iVar8 + *(short *)(iVar3 + 0x48), puVar9 + 0x40, param_4, 0x0);
					}
				}
			}
			uVar11 = SEXT48(iVar14 + 0x1);
		}
	LAB_00249054:
		uVar10 = uVar11 & 0xff;
	} while (true);
}



// WARNING: Type propagation algorithm not settling

void FUN_002490a8(int param_1, int *param_2)

{
	ChunkNode *pCVar1;
	TransformedGeometyPoint *pTVar2;
	int iVar3;
	undefined8 uVar4;
	bool bVar5;
	bool bVar6;
	Matrix4x4 *mat;
	undefined8 *puVar7;
	UnkScriptRelatedStoredInGlobal *pUVar8;
	undefined4 uVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	Matrix4x4 local_120;
	Matrix4x4 MStack224;
	Matrix4x4 local_a0;
	float local_60;
	float local_50;
	float local_4c;
	float local_48;
	float local_44;
	float local_40[0x4];

	pCVar1 = (ChunkNode *)(*(ChunkNode **)(param_1 + 0x94))->field_0x0;
	pTVar2 = pCVar1->transformMatrixPtr;
	iVar3 = *param_2;
	if ((pTVar2->unkBitfield & 0x4) != 0x0) {
		fVar13 = (pTVar2->transformMatrix).wComponents.y;
		fVar10 = (pTVar2->transformMatrix).wComponents.z;
		fVar11 = (pTVar2->transformMatrix).wComponents.w;
		(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
		(pTVar2->positionVector).w = fVar11;
		(pTVar2->positionVector).y = fVar13;
		(pTVar2->positionVector).z = fVar10;
		pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
	}
	local_120.zComponents.x = (pTVar2->positionVector).x;
	local_120.zComponents.y = (pTVar2->positionVector).y;
	local_120.zComponents.z = (pTVar2->positionVector).z;
	if (iVar3 == *(int *)(param_1 + 0x80)) {
		mat = (Matrix4x4 *)FUN_00192b38(param_2);
		MultiplyMatrixByVector(mat, (Vector4 *)(param_1 + 0x70), &local_120.yComponents);
		local_120.zComponents.w = local_120.yComponents.w;
		local_120.zComponents.x = local_120.yComponents.x - local_120.zComponents.x;
		local_120.zComponents.y = local_120.yComponents.y - local_120.zComponents.y;
		local_120.zComponents.z = local_120.yComponents.z - local_120.zComponents.z;
		puVar7 = (undefined8 *)FUN_00192af0(param_2);
		local_a0.xComponents.z = *(float *)(puVar7 + 0x1);
		local_a0.xComponents.w = *(float *)((int)puVar7 + 0xc);
		local_a0.xComponents.x = (float)*puVar7;
		local_a0.xComponents.y = (float)((ulong)*puVar7 >> 0x20);
		local_a0.yComponents.x = *(float *)(puVar7 + 0x2);
		local_a0.yComponents.y = *(float *)((int)puVar7 + 0x14);
		local_a0.yComponents.z = *(float *)(puVar7 + 0x3);
		local_a0.yComponents.w = *(float *)((int)puVar7 + 0x1c);
		local_a0.zComponents.x = *(float *)(puVar7 + 0x4);
		local_a0.zComponents.y = *(float *)((int)puVar7 + 0x24);
		local_a0.zComponents.z = *(float *)(puVar7 + 0x5);
		local_a0.zComponents.w = *(float *)((int)puVar7 + 0x2c);
		local_a0.wComponents.x = *(float *)(puVar7 + 0x6);
		local_a0.wComponents.y = *(float *)((int)puVar7 + 0x34);
		local_a0.wComponents.z = *(float *)(puVar7 + 0x7);
		local_a0.wComponents.w = *(float *)((int)puVar7 + 0x3c);
		FUN_0018ef98(&local_a0);
		MultiplyMatrices(&local_a0, mat, &MStack224);
		FUN_0018bf88(MStack224.xComponents.z, (long)(int)&local_120);
		bVar5 = false;
		local_120.xComponents.x = (float)-(int)local_120.xComponents.x;
		pTVar2 = pCVar1->transformMatrixPtr;
		if ((ABS(local_120.zComponents.x) <= 0.00005000) && (ABS(local_120.zComponents.y) <= 0.00005000)
			) {
			bVar5 = true;
		}
		bVar6 = false;
		if (!bVar5) {
			if ((pTVar2->unkBitfield & 0x4) != 0x0) {
				fVar13 = (pTVar2->transformMatrix).wComponents.y;
				fVar11 = (pTVar2->transformMatrix).wComponents.z;
				fVar10 = (pTVar2->transformMatrix).wComponents.w;
				(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
				(pTVar2->positionVector).y = fVar13;
				(pTVar2->positionVector).z = fVar11;
				(pTVar2->positionVector).w = fVar10;
				pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
			}
			fVar10 = (pTVar2->positionVector).x;
			bVar6 = true;
			pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffb | 0x1;
			(pTVar2->positionVector).x = fVar10 + local_120.zComponents.x;
			(pTVar2->positionVector).y = (pTVar2->positionVector).y + local_120.zComponents.y;
			(pTVar2->positionVector).z = (pTVar2->positionVector).z + local_120.zComponents.z;
		}
		if (bVar6) {
			FUN_001977d8(pCVar1);
		}
		pTVar2 = pCVar1->transformMatrixPtr;
		local_120.wComponents.x = local_120.xComponents.x;
		local_60 = local_120.xComponents.x;
		if (local_120.xComponents.x == 0.00000000) {
			bVar5 = false;
		}
		else {
			if ((pTVar2->unkBitfield & 0x8) != 0x0) {
				FUN_00187090(&pTVar2->rotationVector, pTVar2);
				pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffff5;
			}
			pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffff7 | 0x2;
			local_40[0] = local_60;
			FUN_0018ddb0(&local_50, local_40);
			FUN_0018dce8(&local_50, &local_50, &pTVar2->rotationVector);
			bVar5 = true;
			(pTVar2->rotationVector).x = local_50;
			(pTVar2->rotationVector).y = local_4c;
			(pTVar2->rotationVector).z = local_48;
			(pTVar2->rotationVector).w = local_44;
		}
		if (bVar5) {
			FUN_001977d8(pCVar1);
		}
		pUVar8 = FUN_00197da8(pCVar1);
		fVar12 = (float)pUVar8->field_0x8 * DAT_00309b80;
		iVar3 = *(int *)(*(int *)(param_1 + 0x94) + 0x128);
		fVar10 = *(float *)(iVar3 + 0x30);
		fVar11 = *(float *)(iVar3 + 0x34);
		fVar13 = *(float *)(iVar3 + 0x38);
		uVar9 = *(undefined4 *)(iVar3 + 0x3c);
		iVar3 = *(int *)(*(int *)(param_1 + 0x94) + 0x128);
		*(undefined4 *)(iVar3 + 0x30) = *(undefined4 *)(iVar3 + 0x20);
		*(undefined4 *)(iVar3 + 0x34) = *(undefined4 *)(iVar3 + 0x24);
		*(undefined4 *)(iVar3 + 0x38) = *(undefined4 *)(iVar3 + 0x28);
		*(undefined4 *)(iVar3 + 0x3c) = *(undefined4 *)(iVar3 + 0x2c);
		*(float *)(iVar3 + 0x20) = fVar10 + local_120.zComponents.x * fVar12;
		*(float *)(iVar3 + 0x24) = fVar11 + local_120.zComponents.y * fVar12;
		*(float *)(iVar3 + 0x28) = fVar13 + local_120.zComponents.z * fVar12;
		*(undefined4 *)(iVar3 + 0x2c) = uVar9;
	}
	else {
		*(uint *)(*(int *)(param_1 + 0x94) + 0x88) = *(uint *)(*(int *)(param_1 + 0x94) + 0x88) | 0x40;
		*(int *)(param_1 + 0x80) = iVar3;
		pTVar2 = *(TransformedGeometyPoint **)(iVar3 + 0x8);
		RotateAndTranslate_(pTVar2);
		uVar4 = *(undefined8 *)&(pTVar2->transformMatrix).xComponents;
		local_120.xComponents.z = (pTVar2->transformMatrix).xComponents.z;
		local_120.xComponents.w = (pTVar2->transformMatrix).xComponents.w;
		local_120.xComponents.x = (float)uVar4;
		local_120.xComponents.y = (float)((ulong)uVar4 >> 0x20);
		local_120.yComponents.x = (pTVar2->transformMatrix).yComponents.x;
		local_120.yComponents.y = (pTVar2->transformMatrix).yComponents.y;
		local_120.yComponents.z = (pTVar2->transformMatrix).yComponents.z;
		local_120.yComponents.w = (pTVar2->transformMatrix).yComponents.w;
		local_120.zComponents.x = (pTVar2->transformMatrix).zComponents.x;
		local_120.zComponents.y = (pTVar2->transformMatrix).zComponents.y;
		local_120.zComponents.z = (pTVar2->transformMatrix).zComponents.z;
		local_120.zComponents.w = (pTVar2->transformMatrix).zComponents.w;
		local_120.wComponents.x = (pTVar2->transformMatrix).wComponents.x;
		local_120.wComponents.y = (pTVar2->transformMatrix).wComponents.y;
		local_120.wComponents.z = (pTVar2->transformMatrix).wComponents.z;
		local_120.wComponents.w = (pTVar2->transformMatrix).wComponents.w;
		FUN_0018ef98(&local_120);
		pTVar2 = pCVar1->transformMatrixPtr;
		if ((pTVar2->unkBitfield & 0x4) != 0x0) {
			fVar13 = (pTVar2->transformMatrix).wComponents.y;
			fVar10 = (pTVar2->transformMatrix).wComponents.z;
			fVar11 = (pTVar2->transformMatrix).wComponents.w;
			(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
			(pTVar2->positionVector).w = fVar11;
			(pTVar2->positionVector).y = fVar13;
			(pTVar2->positionVector).z = fVar10;
			pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
		}
		fVar10 = (pTVar2->positionVector).y;
		fVar11 = (pTVar2->positionVector).z;
		fVar13 = (pTVar2->positionVector).w;
		*(float *)(param_1 + 0x70) = (pTVar2->positionVector).x;
		*(float *)(param_1 + 0x74) = fVar10;
		*(float *)(param_1 + 0x78) = fVar11;
		*(float *)(param_1 + 0x7c) = fVar13;
		MultiplyMatrixByVector(&local_120, (Vector4 *)(param_1 + 0x70), (Vector4 *)(param_1 + 0x70));
	}
	return;
}



// WARNING: Type propagation algorithm not settling

void FUN_00249510(int param_1)

{
	ChunkNode *pCVar1;
	UnkScriptRelatedStoredInGlobal *pUVar2;
	int iVar3;
	ulong uVar4;
	undefined4 local_30;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 local_24;

	pCVar1 = (ChunkNode *)(*(ChunkNode **)(param_1 + 0x94))->field_0x0;
	pUVar2 = FUN_00197da8(pCVar1);
	if (((*(byte *)&pUVar2->field_0x0 & 0x1) != 0x0) && (*(int **)(param_1 + 0xd0) != (int *)0x0)) {
		FUN_00293048(*(int **)(param_1 + 0xd0), (float *)&(pCVar1->chunkNodeRelData_).unkBbox);
		if ((*(ulong *)(param_1 + 0x88) & 0xc0000000000) == 0x0) {
			iVar3 = *(int *)(param_1 + 0x94);
			uVar4 = *(ulong *)(param_1 + 0x88) & 0xf000000000;
			local_30 = *(undefined4 *)(iVar3 + 0x20);
			uStack44 = *(undefined4 *)(iVar3 + 0x24);
			uStack40 = *(undefined4 *)(iVar3 + 0x28);
			local_24 = *(undefined4 *)(iVar3 + 0xf4);
			if (uVar4 == 0x5000000000) {
				iVar3 = FUN_0024ac68(param_1, (undefined8 *)&local_30);
			}
			else {
				if (uVar4 == 0x6000000000) {
					iVar3 = FUN_00249618(param_1, (undefined8 *)&local_30);
				}
				else {
					iVar3 = FUN_0024a7b8(param_1, (undefined8 *)&local_30);
				}
			}
			if (iVar3 != 0x0) {
				*(ulong *)(param_1 + 0x88) = *(ulong *)(param_1 + 0x88) | 0x30000000000000;
			}
		}
	}
	return;
}



// WARNING: Type propagation algorithm not settling

int FUN_00249618(int param_1, undefined8 *param_2)

{
	int iVar1;
	ChunkNode *pCVar2;
	TransformedGeometyPoint *pTVar3;
	bool bVar4;
	bool bVar5;
	undefined8 *puVar6;
	int iVar7;
	int iVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float local_90;
	float fStack140;
	float local_88;
	undefined4 uStack132;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;
	float local_70;
	undefined4 uStack108;
	float local_68;
	undefined4 uStack100;
	float local_60;
	float fStack92;
	float local_58;
	undefined4 local_54;
	float local_50;
	float fStack76;
	float local_48;
	undefined4 uStack68;

	iVar8 = 0x0;
	fVar11 = *(float *)((int)param_2 + 0xc);
	local_78 = *(float *)(param_2 + 0x1);
	local_80 = (float)*param_2;
	fStack124 = (float)((ulong)*param_2 >> 0x20);
	local_74 = 0x3f800000;
	iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x128);
	local_70 = *(float *)(iVar1 + 0x20);
	uStack108 = *(undefined4 *)(iVar1 + 0x24);
	local_68 = *(float *)(iVar1 + 0x28);
	uStack100 = *(undefined4 *)(iVar1 + 0x2c);
	local_54 = 0x3f800000;
	local_60 = local_80;
	fStack92 = fStack124;
	local_58 = local_78;
	puVar6 = (undefined8 *)FUN_00293298(*(int *)(param_1 + 0xd0));
	while (puVar6 != (undefined8 *)0x0) {
		local_90 = local_60;
		fStack140 = fStack92;
		local_88 = local_58;
		uStack132 = local_54;
		iVar7 = FUN_002801d8(fVar11, puVar6, (undefined8 *)&local_60, (long)(int)&local_90);
		if (iVar7 != 0x0) {
			iVar8 = 0x1;
			uStack68 = local_54;
			local_48 = *(float *)(param_1 + 0xb0);
			local_50 = (local_60 - local_90) * local_48;
			fStack76 = (fStack92 - fStack140) * local_48;
			local_48 = (local_58 - local_88) * local_48;
			local_60 = local_60 - local_50;
			fStack92 = fStack92 - fStack76;
			local_58 = local_58 - local_48;
		}
		puVar6 = (undefined8 *)FUN_002932c0(*(int *)(param_1 + 0xd0));
	}
	if (iVar8 != 0x0) {
		bVar4 = false;
		local_60 = local_60 - local_80;
		local_58 = local_58 - local_78;
		fStack92 = fStack92 - fStack124;
		pCVar2 = (ChunkNode *)(*(ChunkNode **)(param_1 + 0x94))->field_0x0;
		pTVar3 = pCVar2->transformMatrixPtr;
		if ((ABS(local_60) <= 0.00005000) && (bVar4 = false, ABS(fStack92) <= 0.00005000)) {
			bVar4 = true;
		}
		bVar5 = false;
		if (!bVar4) {
			if ((pTVar3->unkBitfield & 0x4) != 0x0) {
				fVar10 = (pTVar3->transformMatrix).wComponents.y;
				fVar9 = (pTVar3->transformMatrix).wComponents.z;
				fVar11 = (pTVar3->transformMatrix).wComponents.w;
				(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
				(pTVar3->positionVector).y = fVar10;
				(pTVar3->positionVector).z = fVar9;
				(pTVar3->positionVector).w = fVar11;
				pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
			}
			fVar11 = (pTVar3->positionVector).x;
			bVar5 = true;
			pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
			(pTVar3->positionVector).x = fVar11 + local_60;
			(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack92;
			(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_58;
		}
		if (bVar5) {
			FUN_001977d8(pCVar2);
			fVar11 = *(float *)(iVar1 + 0x28);
		}
		else {
			fVar11 = *(float *)(iVar1 + 0x28);
		}
		fVar9 = local_70 - *(float *)(iVar1 + 0x20);
		FUN_0023de38((fVar9 * fVar9 + (local_68 - fVar11) * (local_68 - fVar11)) * 25.00000000,
			*(int *)(param_1 + 0x94));
	}
	return iVar8;
}



// WARNING: Type propagation algorithm not settling

undefined4 FUN_002498c8(long param_1, undefined8 *param_2, float *param_3, int param_4)

{
	ChunkNode *pCVar1;
	ChunkNode *pCVar2;
	TransformedGeometyPoint *pTVar3;
	int iVar4;
	bool bVar5;
	undefined4 uVar6;
	undefined *puVar7;
	undefined *puVar8;
	ulong uVar9;
	bool bVar10;
	int iVar11;
	int iVar12;
	float fVar13;
	float fVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float local_50;
	float fStack76;
	float local_48;
	undefined4 uStack68;

	iVar12 = (int)param_1;
	pCVar1 = (ChunkNode *)(*(ChunkNode **)(iVar12 + 0x94))->field_0x0;
	pCVar2 = (ChunkNode *)(*(ChunkNode **)(param_4 + 0x94))->field_0x0;
	if ((((ulong)(long)pCVar1->unkBitField >> 0x6 & 0x1) != 0x0) &&
		(uVar9 = FUN_00198178((int)pCVar1, (uint)pCVar2), uVar9 != 0x0)) {
		return 0x0;
	}
	if ((((ulong)(long)pCVar2->unkBitField >> 0x6 & 0x1) != 0x0) &&
		(uVar9 = FUN_00198178((int)pCVar2, (uint)pCVar1), uVar9 != 0x0)) {
		return 0x0;
	}
	if (((*(ulong *)(iVar12 + 0x88) & 0xf00000000) == 0x500000000) ||
		((*(ulong *)(param_4 + 0x88) & 0xf00000000) == 0x500000000)) {
		uVar6 = FUN_0024a078(param_1, param_2, param_3, param_4);
	}
	else {
		uStack68 = *(undefined4 *)((int)param_2 + 0xc);
		local_50 = (float)*param_2 - *param_3;
		fStack76 = (float)((ulong)*param_2 >> 0x20) - param_3[0x1];
		local_48 = *(float *)(param_2 + 0x1) - param_3[0x2];
		fVar14 = SQRT(local_50 * local_50 + fStack76 * fStack76 + local_48 * local_48);
		uVar6 = 0x0;
		if (0.00000000 < fVar14) {
			fVar17 = *(float *)((int)param_2 + 0xc);
			fVar16 = param_3[0x3];
			fVar15 = (fVar17 + fVar16) - fVar14;
			if (0.00000000 < fVar15) {
				fVar13 = (fVar15 * 0.50000000) / fVar14;
				local_50 = local_50 * fVar13;
				fStack76 = fStack76 * fVar13;
				local_48 = local_48 * fVar13;
				if ((*(ulong *)(iVar12 + 0x88) & 0x80000000000000) == 0x0) {
					if ((*(ulong *)(param_4 + 0x88) & 0x80000000000000) == 0x0) {
						local_48 = local_48 * fVar13;
						local_50 = local_50 * fVar13;
						fStack76 = fStack76 * fVar13;
						FUN_00254868(fVar17, fVar16, param_1, &local_50);
						bVar5 = false;
						pTVar3 = pCVar1->transformMatrixPtr;
						if ((ABS(local_50) <= 0.00005000) && (ABS(fStack76) <= 0.00005000)) {
							bVar5 = true;
						}
						bVar10 = false;
						if (!bVar5) {
							if ((pTVar3->unkBitfield & 0x4) != 0x0) {
								fVar16 = (pTVar3->transformMatrix).wComponents.y;
								fVar15 = (pTVar3->transformMatrix).wComponents.z;
								fVar14 = (pTVar3->transformMatrix).wComponents.w;
								(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
								(pTVar3->positionVector).y = fVar16;
								(pTVar3->positionVector).z = fVar15;
								(pTVar3->positionVector).w = fVar14;
								pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
							}
							fVar14 = (pTVar3->positionVector).x;
							bVar10 = true;
							pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
							(pTVar3->positionVector).x = fVar14 + local_50;
							(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack76;
							(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_48;
						}
						if (bVar10) {
							FUN_001977d8(pCVar1);
						}
						bVar5 = false;
						local_50 = -local_50;
						fStack76 = -fStack76;
						local_48 = -local_48;
						pTVar3 = pCVar2->transformMatrixPtr;
						if ((ABS(local_50) <= 0.00005000) && (bVar5 = false, ABS(fStack76) <= 0.00005000)) {
							bVar5 = true;
						}
						bVar10 = false;
						if (!bVar5) {
							if ((pTVar3->unkBitfield & 0x4) != 0x0) {
								fVar16 = (pTVar3->transformMatrix).wComponents.y;
								fVar15 = (pTVar3->transformMatrix).wComponents.z;
								fVar14 = (pTVar3->transformMatrix).wComponents.w;
								(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
								(pTVar3->positionVector).y = fVar16;
								(pTVar3->positionVector).z = fVar15;
								(pTVar3->positionVector).w = fVar14;
								pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
							}
							fVar14 = (pTVar3->positionVector).x;
							bVar10 = true;
							pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
							(pTVar3->positionVector).x = fVar14 + local_50;
							(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack76;
							(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_48;
						}
						if (bVar10) {
							FUN_001977d8(pCVar2);
							iVar11 = *(int *)(iVar12 + 0x94);
						}
						else {
							iVar11 = *(int *)(iVar12 + 0x94);
						}
					}
					else {
						fVar15 = fVar15 / fVar14;
						local_48 = local_48 * fVar15;
						local_50 = local_50 * fVar15;
						fStack76 = fStack76 * fVar15;
						FUN_002548d8(fVar17, param_1, &local_50);
						bVar5 = false;
						pTVar3 = pCVar1->transformMatrixPtr;
						if ((ABS(local_50) <= 0.00005000) && (ABS(fStack76) <= 0.00005000)) {
							bVar5 = true;
						}
						bVar10 = false;
						if (!bVar5) {
							if ((pTVar3->unkBitfield & 0x4) != 0x0) {
								fVar16 = (pTVar3->transformMatrix).wComponents.y;
								fVar15 = (pTVar3->transformMatrix).wComponents.z;
								fVar14 = (pTVar3->transformMatrix).wComponents.w;
								(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
								(pTVar3->positionVector).y = fVar16;
								(pTVar3->positionVector).z = fVar15;
								(pTVar3->positionVector).w = fVar14;
								pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
							}
							fVar14 = (pTVar3->positionVector).x;
							bVar10 = true;
							pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
							(pTVar3->positionVector).x = fVar14 + local_50;
							(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack76;
							(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_48;
						}
						if (bVar10) {
							FUN_001977d8(pCVar1);
							iVar11 = *(int *)(iVar12 + 0x94);
						}
						else {
							iVar11 = *(int *)(iVar12 + 0x94);
						}
					}
				}
				else {
					fVar14 = -fVar15 / fVar14;
					local_48 = local_48 * fVar14;
					local_50 = local_50 * fVar14;
					fStack76 = fStack76 * fVar14;
					FUN_002548d8(fVar16, param_1, &local_50);
					bVar5 = false;
					pTVar3 = pCVar2->transformMatrixPtr;
					if ((ABS(local_50) <= 0.00005000) && (ABS(fStack76) <= 0.00005000)) {
						bVar5 = true;
					}
					bVar10 = false;
					if (!bVar5) {
						if ((pTVar3->unkBitfield & 0x4) != 0x0) {
							fVar16 = (pTVar3->transformMatrix).wComponents.y;
							fVar15 = (pTVar3->transformMatrix).wComponents.z;
							fVar14 = (pTVar3->transformMatrix).wComponents.w;
							(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
							(pTVar3->positionVector).y = fVar16;
							(pTVar3->positionVector).z = fVar15;
							(pTVar3->positionVector).w = fVar14;
							pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
						}
						fVar14 = (pTVar3->positionVector).x;
						bVar10 = true;
						pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
						(pTVar3->positionVector).x = fVar14 + local_50;
						(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack76;
						(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_48;
					}
					if (bVar10) {
						FUN_001977d8(pCVar2);
						iVar11 = *(int *)(iVar12 + 0x94);
					}
					else {
						iVar11 = *(int *)(iVar12 + 0x94);
					}
				}
				iVar4 = *(int *)(iVar11 + 0x128);
				fVar14 = (local_50 * *(float *)(iVar4 + 0x20) + fStack76 * *(float *)(iVar4 + 0x24) +
					local_48 * *(float *)(iVar4 + 0x28)) * 0.30000001;
				FUN_0023de38((fVar14 + fVar14) * (local_50 * local_50 + local_48 * local_48), iVar11);
				puVar7 = FUN_001ebb40((int **)&pCVar1->chunkNodeRelData_, 0x0);
				puVar8 = FUN_001ebb40((int **)&pCVar2->chunkNodeRelData_, 0x0);
				if ((puVar7 != (undefined *)0x0) && ((*(ulong *)(puVar7 + 0x8) >> 0x8 & 0x1) != 0x0)) {
					iVar11 = *(int *)(*(int *)(param_4 + 0x94) + 0x84);
					iVar4 = *(int *)(iVar11 + 0x40);
					(**(code **)(iVar4 + 0x4c))(iVar11 + *(short *)(iVar4 + 0x48), puVar7 + 0x40, pCVar1, 0x0);
				}
				uVar6 = 0x1;
				if (puVar8 != (undefined *)0x0) {
					if ((*(ulong *)(puVar8 + 0x8) >> 0x8 & 0x1) != 0x0) {
						iVar12 = *(int *)(*(int *)(iVar12 + 0x94) + 0x84);
						iVar11 = *(int *)(iVar12 + 0x40);
						(**(code **)(iVar11 + 0x4c))
							(iVar12 + *(short *)(iVar11 + 0x48), puVar8 + 0x40, pCVar2, 0x0);
					}
					uVar6 = 0x1;
				}
			}
		}
	}
	return uVar6;
}



// WARNING: Type propagation algorithm not settling

undefined4 FUN_0024a078(long param_1, undefined8 *param_2, float *param_3, int param_4)

{
	ChunkNode *pCVar1;
	ChunkNode *pCVar2;
	TransformedGeometyPoint *pTVar3;
	int iVar4;
	bool bVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined4 uVar8;
	bool bVar9;
	int iVar10;
	int iVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float fVar15;
	float fVar16;
	float local_50;
	float fStack76;
	float local_48;
	undefined4 uStack68;

	fVar16 = *(float *)((int)param_2 + 0xc);
	fVar15 = param_3[0x3];
	iVar11 = (int)param_1;
	pCVar1 = (ChunkNode *)(*(ChunkNode **)(iVar11 + 0x94))->field_0x0;
	pCVar2 = (ChunkNode *)(*(ChunkNode **)(param_4 + 0x94))->field_0x0;
	if (param_3[0x1] + fVar15 < *(float *)((int)param_2 + 0x4) - fVar16) {
		uVar8 = 0x0;
	}
	else {
		uVar8 = 0x0;
		if (param_3[0x1] - fVar15 <= *(float *)((int)param_2 + 0x4) + fVar16) {
			uStack68 = *(undefined4 *)((int)param_2 + 0xc);
			local_50 = (float)*param_2 - *param_3;
			fStack76 = 0.00000000;
			local_48 = *(float *)(param_2 + 0x1) - param_3[0x2];
			fVar13 = SQRT(local_50 * local_50 + local_48 * local_48);
			fVar14 = (fVar16 * *(float *)(iVar11 + 0xa0) + fVar15 * *(float *)(param_4 + 0xa0)) - fVar13;
			uVar8 = 0x0;
			if (0.00000000 < fVar14) {
				fVar12 = (fVar14 * 0.50000000) / fVar13;
				local_50 = local_50 * fVar12;
				local_48 = local_48 * fVar12;
				if ((*(ulong *)(iVar11 + 0x88) & 0x80000000000000) == 0x0) {
					if ((*(ulong *)(param_4 + 0x88) & 0x80000000000000) == 0x0) {
						local_48 = local_48 * fVar12;
						local_50 = local_50 * fVar12;
						fStack76 = 0.00000000;
						FUN_00254868(fVar16, fVar15, param_1, &local_50);
						bVar5 = false;
						pTVar3 = pCVar1->transformMatrixPtr;
						if ((ABS(local_50) <= 0.00005000) && (ABS(fStack76) <= 0.00005000)) {
							bVar5 = true;
						}
						bVar9 = false;
						if (!bVar5) {
							if ((pTVar3->unkBitfield & 0x4) != 0x0) {
								fVar13 = (pTVar3->transformMatrix).wComponents.y;
								fVar16 = (pTVar3->transformMatrix).wComponents.z;
								fVar15 = (pTVar3->transformMatrix).wComponents.w;
								(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
								(pTVar3->positionVector).y = fVar13;
								(pTVar3->positionVector).z = fVar16;
								(pTVar3->positionVector).w = fVar15;
								pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
							}
							fVar15 = (pTVar3->positionVector).x;
							bVar9 = true;
							pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
							(pTVar3->positionVector).x = fVar15 + local_50;
							(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack76;
							(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_48;
						}
						if (bVar9) {
							FUN_001977d8(pCVar1);
						}
						bVar5 = false;
						local_50 = -local_50;
						fStack76 = -fStack76;
						local_48 = -local_48;
						pTVar3 = pCVar2->transformMatrixPtr;
						if ((ABS(local_50) <= 0.00005000) && (bVar5 = false, ABS(fStack76) <= 0.00005000)) {
							bVar5 = true;
						}
						bVar9 = false;
						if (!bVar5) {
							if ((pTVar3->unkBitfield & 0x4) != 0x0) {
								fVar13 = (pTVar3->transformMatrix).wComponents.y;
								fVar16 = (pTVar3->transformMatrix).wComponents.z;
								fVar15 = (pTVar3->transformMatrix).wComponents.w;
								(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
								(pTVar3->positionVector).y = fVar13;
								(pTVar3->positionVector).z = fVar16;
								(pTVar3->positionVector).w = fVar15;
								pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
							}
							fVar15 = (pTVar3->positionVector).x;
							bVar9 = true;
							pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
							(pTVar3->positionVector).x = fVar15 + local_50;
							(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack76;
							(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_48;
						}
						if (bVar9) {
							FUN_001977d8(pCVar2);
							iVar10 = *(int *)(iVar11 + 0x94);
						}
						else {
							iVar10 = *(int *)(iVar11 + 0x94);
						}
					}
					else {
						fStack76 = 0.00000000;
						local_48 = local_48 * (fVar14 / fVar13);
						local_50 = local_50 * (fVar14 / fVar13);
						FUN_002548d8(fVar16, param_1, &local_50);
						bVar5 = false;
						pTVar3 = pCVar1->transformMatrixPtr;
						if ((ABS(local_50) <= 0.00005000) && (ABS(fStack76) <= 0.00005000)) {
							bVar5 = true;
						}
						bVar9 = false;
						if (!bVar5) {
							if ((pTVar3->unkBitfield & 0x4) != 0x0) {
								fVar13 = (pTVar3->transformMatrix).wComponents.y;
								fVar16 = (pTVar3->transformMatrix).wComponents.z;
								fVar15 = (pTVar3->transformMatrix).wComponents.w;
								(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
								(pTVar3->positionVector).y = fVar13;
								(pTVar3->positionVector).z = fVar16;
								(pTVar3->positionVector).w = fVar15;
								pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
							}
							fVar15 = (pTVar3->positionVector).x;
							bVar9 = true;
							pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
							(pTVar3->positionVector).x = fVar15 + local_50;
							(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack76;
							(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_48;
						}
						if (bVar9) {
							FUN_001977d8(pCVar1);
							iVar10 = *(int *)(iVar11 + 0x94);
						}
						else {
							iVar10 = *(int *)(iVar11 + 0x94);
						}
					}
				}
				else {
					local_48 = local_48 * (-fVar14 / fVar13);
					local_50 = local_50 * (-fVar14 / fVar13);
					FUN_002548d8(fVar15, param_1, &local_50);
					bVar5 = false;
					pTVar3 = pCVar2->transformMatrixPtr;
					if ((ABS(local_50) <= 0.00005000) && (ABS(fStack76) <= 0.00005000)) {
						bVar5 = true;
					}
					bVar9 = false;
					if (!bVar5) {
						if ((pTVar3->unkBitfield & 0x4) != 0x0) {
							fVar13 = (pTVar3->transformMatrix).wComponents.y;
							fVar16 = (pTVar3->transformMatrix).wComponents.z;
							fVar15 = (pTVar3->transformMatrix).wComponents.w;
							(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
							(pTVar3->positionVector).y = fVar13;
							(pTVar3->positionVector).z = fVar16;
							(pTVar3->positionVector).w = fVar15;
							pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
						}
						fVar15 = (pTVar3->positionVector).x;
						bVar9 = true;
						pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
						(pTVar3->positionVector).x = fVar15 + local_50;
						(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack76;
						(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_48;
					}
					if (bVar9) {
						FUN_001977d8(pCVar2);
						iVar10 = *(int *)(iVar11 + 0x94);
					}
					else {
						iVar10 = *(int *)(iVar11 + 0x94);
					}
				}
				iVar4 = *(int *)(iVar10 + 0x128);
				fVar15 = (local_50 * *(float *)(iVar4 + 0x20) + fStack76 * *(float *)(iVar4 + 0x24) +
					local_48 * *(float *)(iVar4 + 0x28)) * 0.30000001;
				FUN_0023de38((fVar15 + fVar15) * (local_50 * local_50 + local_48 * local_48), iVar10);
				puVar6 = FUN_001ebb40((int **)&pCVar1->chunkNodeRelData_, 0x0);
				puVar7 = FUN_001ebb40((int **)&pCVar2->chunkNodeRelData_, 0x0);
				if ((puVar6 != (undefined *)0x0) && ((*(ulong *)(puVar6 + 0x8) >> 0x8 & 0x1) != 0x0)) {
					iVar10 = *(int *)(*(int *)(param_4 + 0x94) + 0x84);
					iVar4 = *(int *)(iVar10 + 0x40);
					(**(code **)(iVar4 + 0x4c))(iVar10 + *(short *)(iVar4 + 0x48), puVar6 + 0x40, pCVar1, 0x0);
				}
				uVar8 = 0x1;
				if (puVar7 != (undefined *)0x0) {
					if ((*(ulong *)(puVar7 + 0x8) >> 0x8 & 0x1) != 0x0) {
						iVar11 = *(int *)(*(int *)(iVar11 + 0x94) + 0x84);
						iVar10 = *(int *)(iVar11 + 0x40);
						(**(code **)(iVar10 + 0x4c))
							(iVar11 + *(short *)(iVar10 + 0x48), puVar7 + 0x40, pCVar2, 0x0);
					}
					uVar8 = 0x1;
				}
			}
		}
	}
	return uVar8;
}



int FUN_0024a7b8(int param_1, undefined8 *param_2)

{
	int iVar1;
	int iVar2;
	int iVar3;
	TransformedGeometyPoint *pTVar4;
	bool bVar5;
	bool bVar6;
	bool bVar7;
	int iVar8;
	undefined *puVar9;
	undefined4 *puVar10;
	ChunkNode *pCVar11;
	UnkScriptRelatedStoredInGlobal *pUVar12;
	ulong uVar13;
	int iVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	float local_e0;
	float fStack220;
	float local_d8;
	undefined4 uStack212;
	float local_d0;
	float fStack204;
	float local_c8;
	undefined4 local_c4;
	float local_c0;
	float fStack188;
	float local_b8;
	undefined4 uStack180;
	float local_b0;
	float fStack172;
	float local_a8;
	undefined4 local_a4;
	float local_a0;
	float fStack156;
	float local_98;
	undefined4 uStack148;
	float local_90;
	float local_8c;
	float local_88;
	undefined4 local_84;
	float local_80;
	float local_7c;
	float local_78;

	uVar13 = 0xffff;
	iVar14 = 0x0;
	bVar7 = false;
	fVar18 = *(float *)((int)param_2 + 0xc);
	local_c8 = *(float *)(param_2 + 0x1);
	local_d0 = (float)*param_2;
	fStack204 = (float)((ulong)*param_2 >> 0x20);
	local_c4 = 0x3f800000;
	fVar17 = -10000.00000000;
	iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x128);
	local_c0 = *(float *)(iVar1 + 0x20);
	fStack188 = *(float *)(iVar1 + 0x24);
	local_b8 = *(float *)(iVar1 + 0x28);
	uStack180 = *(undefined4 *)(iVar1 + 0x2c);
	local_a4 = 0x3f800000;
	local_b0 = local_d0;
	fStack172 = fStack204;
	local_a8 = local_c8;
	iVar8 = FUN_00293298(*(int *)(param_1 + 0xd0));
	_iVar8 = (long)iVar8;
	if (_iVar8 == 0x0) {
		pCVar11 = *(ChunkNode **)(param_1 + 0x94);
	}
	else {
		do {
			FUN_0013e4f8(_iVar8, (long)(int)&local_80);
			local_90 = local_80;
			local_8c = local_7c;
			local_88 = local_78;
			local_84 = 0x3f800000;
			if (((*(ulong *)(param_1 + 0x88) & 0x800000000000000) != 0x0) ||
				(0.00000000 <= local_80 * local_c0 + local_7c * fStack188 + local_78 * local_b8)) {
				local_e0 = local_b0;
				fStack220 = fStack172;
				local_d8 = local_a8;
				uStack212 = local_a4;
				iVar8 = FUN_002801d8(fVar18, (undefined8 *)_iVar8, (undefined8 *)&local_b0,
					(long)(int)&local_e0);
				if (iVar8 != 0x0) {
					puVar9 = FUN_00282680((int)(undefined8 *)_iVar8);
					if ((*(ulong *)(puVar9 + 0x8) >> 0x6 & 0x1) == 0x0) {
						bVar7 = true;
						FUN_0022f568(*(int **)(param_1 + 0x94), _iVar8, (undefined8 *)&local_e0);
					}
					else {
						iVar14 = 0x1;
						uStack148 = local_a4;
						fStack156 = fStack172 - fStack220;
						local_a0 = local_b0 - local_e0;
						local_98 = local_a8 - local_d8;
						local_b0 = local_e0;
						fStack172 = fStack220;
						local_a8 = local_d8;
						local_a4 = uStack212;
						if (fVar17 < fStack156) {
							uVar13 = (ulong)*(ushort *)(puVar9 + 0x60);
							fVar17 = fStack156;
						}
						if ((*(ulong *)(param_1 + 0x88) & 0x400000000000) != 0x0) {
							*(float *)(param_1 + 0xc8) = *(float *)(param_1 + 0xb0) * *(float *)(puVar9 + 0x10);
						}
					}
				}
			}
			puVar10 = FUN_002932c0(*(int *)(param_1 + 0xd0));
			_iVar8 = (long)(int)puVar10;
		} while (_iVar8 != 0x0);
		pCVar11 = *(ChunkNode **)(param_1 + 0x94);
	}
	pCVar11 = *(ChunkNode **)pCVar11;
	pUVar12 = FUN_00197da8(pCVar11);
	fVar17 = (float)pUVar12->field_0x8 * DAT_00309b80;
	if (iVar14 == 0x0) {
		if ((*(ulong *)(param_1 + 0x88) & 0x800000000000000) != 0x0) {
			*(float *)(param_1 + 0xc0) = *(float *)(param_1 + 0xc0) + fVar17;
		}
	}
	else {
		*(int *)(*(int *)(param_1 + 0x94) + 0x130) = (int)uVar13;
		if ((uVar13 != 0xffff) && (iVar8 = (int)uVar13 * 0x90, *(int *)(DAT(0x003bdc60) + iVar8) != 0x0))
		{
			*(ulong *)(param_1 + 0x90) = *(ulong *)(param_1 + 0x90) | 0x100000;
			iVar2 = *(int *)(*(int *)(param_1 + 0x94) + 0x84);
			iVar3 = *(int *)(iVar2 + 0x40);
			(**(code **)(iVar3 + 0x4c))(iVar2 + *(short *)(iVar3 + 0x48), iVar8 + 0x3bdc50, pCVar11, 0x0);
		}
		bVar5 = false;
		local_b0 = (local_b0 - local_d0) * 0.99000001;
		fStack172 = (fStack172 - fStack204) * 0.99000001;
		local_a8 = (local_a8 - local_c8) * 0.99000001;
		pTVar4 = pCVar11->transformMatrixPtr;
		if ((ABS(local_b0) <= 0.00005000) && (bVar5 = false, ABS(fStack172) <= 0.00005000)) {
			bVar5 = true;
		}
		bVar6 = false;
		if (!bVar5) {
			if ((pTVar4->unkBitfield & 0x4) != 0x0) {
				fVar16 = (pTVar4->transformMatrix).wComponents.y;
				fVar15 = (pTVar4->transformMatrix).wComponents.z;
				fVar18 = (pTVar4->transformMatrix).wComponents.w;
				(pTVar4->positionVector).x = (pTVar4->transformMatrix).wComponents.x;
				(pTVar4->positionVector).y = fVar16;
				(pTVar4->positionVector).z = fVar15;
				(pTVar4->positionVector).w = fVar18;
				pTVar4->unkBitfield = pTVar4->unkBitfield & 0xfffffffffffffffa;
			}
			fVar18 = (pTVar4->positionVector).x;
			bVar6 = true;
			pTVar4->unkBitfield = pTVar4->unkBitfield & 0xfffffffffffffffb | 0x1;
			(pTVar4->positionVector).x = fVar18 + local_b0;
			(pTVar4->positionVector).y = (pTVar4->positionVector).y + fStack172;
			(pTVar4->positionVector).z = (pTVar4->positionVector).z + local_a8;
		}
		if (bVar6) {
			FUN_001977d8(pCVar11);
			iVar8 = pCVar11->unkBitField;
		}
		else {
			iVar8 = pCVar11->unkBitField;
		}
		if (((ulong)(long)iVar8 >> 0x6 & 0x1) != 0x0) {
			FUN_002549b0();
		}
		FUN_0024b408(fVar17, param_1, (undefined8 *)&local_b0, (float *)(iVar1 + 0x20));
	}
	if (!bVar7) {
		*(undefined4 *)(*(int *)(param_1 + 0x94) + 0x134) = 0xffffffff;
	}
	return iVar14;
}



int FUN_0024ac68(int param_1, undefined8 *param_2)

{
	int iVar1;
	int iVar2;
	TransformedGeometyPoint *pTVar3;
	bool bVar4;
	bool bVar5;
	bool bVar6;
	Vector4 *pVVar7;
	int iVar8;
	undefined *puVar9;
	undefined4 *puVar10;
	ChunkNode *pCVar11;
	UnkScriptRelatedStoredInGlobal *pUVar12;
	ulong uVar13;
	int iVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	float local_130;
	float fStack300;
	float local_128;
	float fStack292;
	float local_120;
	float fStack284;
	float local_118;
	undefined4 local_114;
	float local_110;
	float fStack268;
	float local_108;
	undefined4 uStack260;
	float local_100;
	float fStack252;
	float local_f8;
	float local_f4;
	float local_f0;
	float fStack236;
	float local_e8;
	float fStack228;
	Matrix4x4 MStack224;
	float local_a0;
	float local_9c;
	float local_98;
	undefined4 local_94;
	float local_90;
	float local_8c;
	float local_88;
	float *local_80;

	iVar14 = 0x0;
	uVar13 = 0xffff;
	bVar6 = false;
	fVar18 = *(float *)((int)param_2 + 0xc);
	local_118 = *(float *)(param_2 + 0x1);
	local_120 = (float)*param_2;
	fStack284 = (float)((ulong)*param_2 >> 0x20);
	local_114 = 0x3f800000;
	fVar17 = -10000.00000000;
	iVar8 = *(int *)(*(int *)(param_1 + 0x94) + 0x128);
	local_80 = (float *)(iVar8 + 0x20);
	fVar16 = fVar18 * *(float *)(param_1 + 0xa0);
	local_110 = *(float *)(iVar8 + 0x20);
	fStack268 = *(float *)(iVar8 + 0x24);
	local_108 = *(float *)(iVar8 + 0x28);
	uStack260 = *(undefined4 *)(iVar8 + 0x2c);
	local_f4 = 1.00000000;
	local_100 = local_120;
	fStack252 = fStack284;
	local_f8 = local_118;
	InitIdentityMatrix(&MStack224);
	pVVar7 = GetPositionFromRTS(&MStack224, 0x3);
	pVVar7->x = local_100;
	pVVar7->y = fStack252;
	pVVar7->z = local_f8;
	pVVar7->w = local_f4;
	iVar8 = FUN_00293298(*(int *)(param_1 + 0xd0));
	_iVar8 = (long)iVar8;
	if (_iVar8 == 0x0) {
		pCVar11 = *(ChunkNode **)(param_1 + 0x94);
	}
	else {
		do {
			FUN_0013e4f8(_iVar8, (long)(int)&local_90);
			local_a0 = local_90;
			local_9c = local_8c;
			local_98 = local_88;
			local_94 = 0x3f800000;
			if (((*(ulong *)(param_1 + 0x88) & 0x800000000000000) != 0x0) ||
				(0.00000000 <= local_90 * local_110 + local_8c * fStack268 + local_88 * local_108)) {
				local_130 = local_100;
				fStack300 = fStack252;
				local_128 = local_f8;
				fStack292 = local_f4;
				iVar8 = FUN_00280ab0(fVar16, fVar18, fVar16, (undefined8 *)_iVar8, (long)(int)&MStack224,
					(long)(int)&local_130);
				if (iVar8 != 0x0) {
					puVar9 = FUN_00282680((int)(undefined8 *)_iVar8);
					if ((*(ulong *)(puVar9 + 0x8) >> 0x6 & 0x1) == 0x0) {
						bVar6 = true;
						FUN_0022f568(*(int **)(param_1 + 0x94), _iVar8, (undefined8 *)&local_130);
					}
					else {
						fStack228 = local_f4;
						iVar14 = 0x1;
						local_f0 = local_100 - local_130;
						fStack236 = fStack252 - fStack300;
						local_e8 = local_f8 - local_128;
						local_100 = local_130;
						fStack252 = fStack300;
						local_f8 = local_128;
						local_f4 = fStack292;
						pVVar7 = GetPositionFromRTS(&MStack224, 0x3);
						pVVar7->x = local_100;
						pVVar7->y = fStack252;
						pVVar7->z = local_f8;
						pVVar7->w = local_f4;
						if (fVar17 < fStack236) {
							uVar13 = (ulong)*(ushort *)(puVar9 + 0x60);
							fVar17 = fStack236;
						}
						if ((*(ulong *)(param_1 + 0x88) & 0x400000000000) != 0x0) {
							*(float *)(param_1 + 0xc8) = *(float *)(param_1 + 0xb0) * *(float *)(puVar9 + 0x10);
						}
					}
				}
			}
			puVar10 = FUN_002932c0(*(int *)(param_1 + 0xd0));
			_iVar8 = (long)(int)puVar10;
		} while (_iVar8 != 0x0);
		pCVar11 = *(ChunkNode **)(param_1 + 0x94);
	}
	pCVar11 = *(ChunkNode **)pCVar11;
	pUVar12 = FUN_00197da8(pCVar11);
	fVar17 = (float)pUVar12->field_0x8 * DAT_00309b80;
	if (iVar14 == 0x0) {
		if ((*(ulong *)(param_1 + 0x88) & 0x800000000000000) != 0x0) {
			*(float *)(param_1 + 0xc0) = *(float *)(param_1 + 0xc0) + fVar17;
		}
	}
	else {
		*(int *)(*(int *)(param_1 + 0x94) + 0x130) = (int)uVar13;
		if ((uVar13 != 0xffff) && (iVar8 = (int)uVar13 * 0x90, *(int *)(DAT(0x003bdc60) + iVar8) != 0x0))
		{
			*(ulong *)(param_1 + 0x90) = *(ulong *)(param_1 + 0x90) | 0x100000;
			iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x84);
			iVar2 = *(int *)(iVar1 + 0x40);
			(**(code **)(iVar2 + 0x4c))(iVar1 + *(short *)(iVar2 + 0x48), iVar8 + 0x3bdc50, pCVar11, 0x0);
		}
		bVar4 = false;
		local_100 = (local_100 - local_120) * 0.99000001;
		fStack252 = (fStack252 - fStack284) * 0.99000001;
		local_f8 = (local_f8 - local_118) * 0.99000001;
		pTVar3 = pCVar11->transformMatrixPtr;
		if ((ABS(local_100) <= 0.00005000) && (bVar4 = false, ABS(fStack252) <= 0.00005000)) {
			bVar4 = true;
		}
		bVar5 = false;
		if (!bVar4) {
			if ((pTVar3->unkBitfield & 0x4) != 0x0) {
				fVar15 = (pTVar3->transformMatrix).wComponents.y;
				fVar18 = (pTVar3->transformMatrix).wComponents.z;
				fVar16 = (pTVar3->transformMatrix).wComponents.w;
				(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
				(pTVar3->positionVector).y = fVar15;
				(pTVar3->positionVector).z = fVar18;
				(pTVar3->positionVector).w = fVar16;
				pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
			}
			fVar16 = (pTVar3->positionVector).x;
			bVar5 = true;
			pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
			(pTVar3->positionVector).x = fVar16 + local_100;
			(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack252;
			(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_f8;
		}
		if (bVar5) {
			FUN_001977d8(pCVar11);
			iVar8 = pCVar11->unkBitField;
		}
		else {
			iVar8 = pCVar11->unkBitField;
		}
		if (((ulong)(long)iVar8 >> 0x6 & 0x1) != 0x0) {
			FUN_002549b0();
		}
		FUN_0024b408(fVar17, param_1, (undefined8 *)&local_100, local_80);
	}
	if (!bVar6) {
		*(undefined4 *)(*(int *)(param_1 + 0x94) + 0x134) = 0xffffffff;
	}
	return iVar14;
}



undefined4 FUN_0024b168(int param_1, int param_2, float *param_3, float *param_4)

{
	GameNode *pGVar1;
	undefined4 uVar2;
	ulong uVar3;
	float fVar4;

	if (((*(ulong *)(param_1 + 0x88) & 0x800000000000000) == 0x0) &&
		(0.00000000 <= *param_4 * *param_3 + param_4[0x1] * param_3[0x1] + param_4[0x2] * param_3[0x2])
		) {
		return 0x1;
	}
	fVar4 = RSQRT(0.00000000, (Vector4 *)param_3);
	*param_3 = *param_3 * fVar4;
	param_3[0x1] = param_3[0x1] * fVar4;
	param_3[0x2] = param_3[0x2] * fVar4;
	if ((*(ulong *)(param_1 + 0x88) & 0x400000000000) == 0x0) {
		fVar4 = param_3[0x1];
	}
	else {
		fVar4 = param_3[0x1];
		if (*(float *)(param_1 + 0xc8) == 0.00000000) {
			*(undefined4 *)(param_1 + 0xc8) = 0x3f4ccccd;
			fVar4 = param_3[0x1];
		}
	}
	if (0.69999999 < fVar4) {
		*(ulong *)(param_1 + 0x90) = *(ulong *)(param_1 + 0x90) | 0x2;
		if ((*(uint *)(param_2 + 0x4) & 0x4000) != 0x0) {
			pGVar1 = GetGameNode((NodeList *)(param_2 + 0xd4), 0x0);
			if (pGVar1 == (GameNode *)0x0) {
				uVar3 = *(ulong *)(param_1 + 0x88);
				goto LAB_0024b2fc;
			}
			*(GameNode **)(param_1 + 0x84) = pGVar1;
		}
	}
	else {
		if (ABS(fVar4) < 0.30000001) {
			*(ulong *)(param_1 + 0x90) = *(ulong *)(param_1 + 0x90) | 0x20;
		}
	}
	uVar3 = *(ulong *)(param_1 + 0x88);
LAB_0024b2fc:
	if (((uVar3 & 0x1000000000000000) == 0x0) ||
		(uVar2 = 0x0, *(float *)(param_1 + 0xb8) <= param_3[0x1])) {
		if (((uVar3 & 0x800000000000000) != 0x0) || ((*(ulong *)(param_1 + 0x90) & 0x10) != 0x0)) {
			if (-0.10000000 <
				*param_3 * *(float *)(param_1 + 0x40) + param_3[0x1] * *(float *)(param_1 + 0x44) +
				param_3[0x2] * *(float *)(param_1 + 0x48)) {
				*(float *)(param_1 + 0x50) = *(float *)(param_1 + 0x50) + *param_3;
				*(float *)(param_1 + 0x54) = *(float *)(param_1 + 0x54) + param_3[0x1];
				*(float *)(param_1 + 0x58) = *(float *)(param_1 + 0x58) + param_3[0x2];
				*(float *)(param_1 + 0x60) = *(float *)(param_1 + 0x60) + 1.00000000;
			}
			*(undefined4 *)(param_1 + 0xc0) = 0x0;
		}
		uVar2 = 0x1;
	}
	else {
		param_4[0x1] = 0.00000000;
	}
	return uVar2;
}



undefined8 FUN_0024b408(float param_1, int param_2, undefined8 *param_3, float *param_4)

{
	undefined8 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	int iVar4;
	ulong uVar5;
	float fVar6;
	float fVar7;

	if (((*(ulong *)(param_2 + 0x88) & 0x800000000000000) == 0x0) &&
		(0.00000000 <=
			*param_4 * *(float *)param_3 + param_4[0x1] * *(float *)((int)param_3 + 0x4) +
			param_4[0x2] * *(float *)(param_3 + 0x1))) {
		return 0x1;
	}
	fVar6 = RSQRT(0.00000000, (Vector4 *)param_3);
	*(float *)param_3 = *(float *)param_3 * fVar6;
	*(float *)((int)param_3 + 0x4) = *(float *)((int)param_3 + 0x4) * fVar6;
	*(float *)(param_3 + 0x1) = *(float *)(param_3 + 0x1) * fVar6;
	FUN_0018e420(param_4, (float *)param_3, 0x1);
	fVar7 = *(float *)param_3;
	fVar6 = *(float *)(param_3 + 0x1);
	FUN_0023de38((1.00000000 -
		(fVar7 * *param_4 + *(float *)((int)param_3 + 0x4) * param_4[0x1] +
			fVar6 * param_4[0x2])) * (fVar7 * fVar7 + fVar6 * fVar6) * 0.30000001,
		*(int *)(param_2 + 0x94));
	if ((*(ulong *)(param_2 + 0x88) & 0x400000000000) == 0x0) {
		fVar6 = *(float *)((int)param_3 + 0x4);
	}
	else {
		fVar6 = *(float *)((int)param_3 + 0x4);
		if (*(float *)(param_2 + 0xc8) == 0.00000000) {
			*(undefined4 *)(param_2 + 0xc8) = 0x3f4ccccd;
			fVar6 = *(float *)((int)param_3 + 0x4);
		}
	}
	iVar4 = 0x2;
	if (0.69999999 < fVar6) {
		uVar5 = *(ulong *)(param_2 + 0x90);
	}
	else {
		iVar4 = 0x20;
		if (0.30000001 <= ABS(fVar6)) goto LAB_0024b5e0;
		uVar5 = *(ulong *)(param_2 + 0x90);
	}
	*(ulong *)(param_2 + 0x90) = uVar5 | (long)iVar4;
LAB_0024b5e0:
	if ((*(ulong *)(param_2 + 0x88) & 0x1000000000000000) == 0x0) {
		uVar5 = *(ulong *)(param_2 + 0x88);
	}
	else {
		param_4[0x1] = 0.00000000;
		uVar5 = *(ulong *)(param_2 + 0x88);
	}
	if ((uVar5 & 0x800000000000000) == 0x0) {
		if ((*(ulong *)(param_2 + 0x90) & 0x10) == 0x0) {
			uVar1 = *param_3;
			uVar2 = *(undefined4 *)(param_3 + 0x1);
			uVar3 = *(undefined4 *)((int)param_3 + 0xc);
			*(undefined4 *)(param_2 + 0x40) = (int)uVar1;
			*(undefined4 *)(param_2 + 0x44) = (int)((ulong)uVar1 >> 0x20);
			*(undefined4 *)(param_2 + 0x48) = uVar2;
			*(undefined4 *)(param_2 + 0x4c) = uVar3;
		}
		else {
			param_1 = param_1 * 5.00000000;
			*(float *)(param_2 + 0x40) =
				*(float *)(param_2 + 0x40) + (*(float *)param_3 - *(float *)(param_2 + 0x40)) * param_1;
			*(float *)(param_2 + 0x44) =
				*(float *)(param_2 + 0x44) +
				(*(float *)((int)param_3 + 0x4) - *(float *)(param_2 + 0x44)) * param_1;
			fVar6 = *(float *)(param_3 + 0x1);
			*(undefined4 *)(param_2 + 0x4c) = 0x3f800000;
			*(float *)(param_2 + 0x48) =
				*(float *)(param_2 + 0x48) + (fVar6 - *(float *)(param_2 + 0x48)) * param_1;
		}
		fVar6 = RSQRT(0.00000000, (Vector4 *)(param_2 + 0x40));
		*(float *)(param_2 + 0x40) = *(float *)(param_2 + 0x40) * fVar6;
		*(float *)(param_2 + 0x44) = *(float *)(param_2 + 0x44) * fVar6;
		*(float *)(param_2 + 0x48) = *(float *)(param_2 + 0x48) * fVar6;
	}
	else {
		*(float *)(param_2 + 0x40) =
			*(float *)(param_2 + 0x40) + (*(float *)param_3 - *(float *)(param_2 + 0x40)) * 1.00000000;
		*(float *)(param_2 + 0x44) =
			*(float *)(param_2 + 0x44) +
			(*(float *)((int)param_3 + 0x4) - *(float *)(param_2 + 0x44)) * 1.00000000;
		fVar6 = *(float *)(param_3 + 0x1);
		*(undefined4 *)(param_2 + 0x4c) = 0x3f800000;
		*(float *)(param_2 + 0x48) =
			*(float *)(param_2 + 0x48) + (fVar6 - *(float *)(param_2 + 0x48)) * 1.00000000;
		fVar6 = RSQRT(0.00000000, (Vector4 *)(param_2 + 0x40));
		*(float *)(param_2 + 0x40) = *(float *)(param_2 + 0x40) * fVar6;
		fVar7 = *(float *)(param_2 + 0x44) * fVar6;
		*(float *)(param_2 + 0x44) = fVar7;
		*(float *)(param_2 + 0x48) = *(float *)(param_2 + 0x48) * fVar6;
		if ((*(ulong *)(param_2 + 0x88) & 0x1000000000000000) == 0x0) {
			*(undefined4 *)(param_2 + 0xc0) = 0x0;
		}
		else {
			if (fVar7 < *(float *)(param_2 + 0xb8)) {
				return 0x0;
			}
			*(undefined4 *)(param_2 + 0xc0) = 0x0;
		}
	}
	return 0x1;
}



uint FUN_0024b808(float param_1, int param_2, undefined8 *param_3)

{
	TransformedGeometyPoint *pTVar1;
	undefined8 uVar2;
	bool bVar3;
	uint uVar4;
	undefined4 uVar5;
	undefined4 uVar6;
	float fVar7;
	undefined4 uVar8;
	ChunkNode *pCVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float local_a0;
	float fStack156;
	float fStack152;
	float fStack148;
	float local_90;
	float fStack140;
	float fStack136;
	float fStack132;
	float local_80;
	float fStack124;
	float fStack120;
	float fStack116;
	float local_70;
	float fStack108;
	float fStack104;
	float fStack100;
	Vector4 local_60;
	Vector4 local_50;

	if ((*(ulong *)(param_2 + 0x88) & 0x18000000000000) == 0x0) {
		pCVar9 = *(ChunkNode **)(param_2 + 0x94);
		if (*(float *)(param_2 + 0xc0) <= 0.20000000) goto LAB_0024b938;
		if (((long)(int)pCVar9 & 0x2000000000000000U) == 0x0) {
			fVar10 = 21.00000000;
		}
		else {
			fVar10 = *(float *)(param_2 + 0xb4) * 1.50000000;
		}
		fVar10 = fVar10 * param_1;
		*(float *)(param_2 + 0x40) = *(float *)(param_2 + 0x40) + -*(float *)(param_2 + 0x40) * fVar10;
		*(float *)(param_2 + 0x44) =
			*(float *)(param_2 + 0x44) + (1.00000000 - *(float *)(param_2 + 0x44)) * fVar10;
		*(undefined4 *)(param_2 + 0x4c) = 0x3f800000;
		*(float *)(param_2 + 0x48) =
			*(float *)(param_2 + 0x48) + (0.00000000 - *(float *)(param_2 + 0x48)) * fVar10;
		fVar10 = RSQRT(0.00000000, (Vector4 *)(param_2 + 0x40));
		*(float *)(param_2 + 0x40) = *(float *)(param_2 + 0x40) * fVar10;
		*(float *)(param_2 + 0x44) = *(float *)(param_2 + 0x44) * fVar10;
		*(float *)(param_2 + 0x48) = *(float *)(param_2 + 0x48) * fVar10;
	}
	pCVar9 = *(ChunkNode **)(param_2 + 0x94);
LAB_0024b938:
	uVar5 = *(undefined4 *)(param_2 + 0x44);
	uVar6 = *(undefined4 *)(param_2 + 0x48);
	uVar8 = *(undefined4 *)(param_2 + 0x4c);
	pCVar9 = *(ChunkNode **)pCVar9;
	*(undefined4 *)param_3 = *(undefined4 *)(param_2 + 0x40);
	*(undefined4 *)((int)param_3 + 0x4) = uVar5;
	*(undefined4 *)(param_3 + 0x1) = uVar6;
	*(undefined4 *)((int)param_3 + 0xc) = uVar8;
	pTVar1 = pCVar9->transformMatrixPtr;
	RotateAndTranslate_(pTVar1);
	uVar2 = *(undefined8 *)&(pTVar1->transformMatrix).xComponents;
	fVar7 = (pTVar1->transformMatrix).xComponents.z;
	fVar13 = *(float *)((int)param_3 + 0x4);
	fVar10 = (float)uVar2;
	fVar11 = (float)((ulong)uVar2 >> 0x20);
	fVar14 = *(float *)(param_3 + 0x1);
	fVar12 = *(float *)param_3;
	fStack136 = *(float *)(param_3 + 0x1);
	fStack132 = *(float *)((int)param_3 + 0xc);
	local_90 = (float)*param_3;
	fStack140 = (float)((ulong)*param_3 >> 0x20);
	local_80 = -(fVar13 * fVar7 - fVar14 * fVar11);
	fStack124 = -(fVar14 * fVar10 - fVar12 * fVar7);
	fStack120 = -(fVar12 * fVar11 - fVar13 * fVar10);
	fStack156 = fVar14 * local_80 - fVar12 * fStack120;
	fStack116 = 1.00000000;
	fStack152 = fVar12 * fStack124 - fVar13 * local_80;
	local_a0 = fVar13 * fStack120 - fVar14 * fStack124;
	fStack148 = 1.00000000;
	MovePositionFromPos2ToPos1(&local_60, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	local_60.w = 1.00000000;
	local_70 = local_60.x;
	fStack108 = local_60.y;
	fStack104 = local_60.z;
	fStack100 = 1.00000000;
	pTVar1 = pCVar9->transformMatrixPtr;
	if ((pTVar1->unkBitfield & 0x8) != 0x0) {
		FUN_00187090(&pTVar1->rotationVector, pTVar1);
		pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffff5;
	}
	FUN_00187090(&local_50, (TransformedGeometyPoint *)&local_a0);
	bVar3 = false;
	if (((local_50.x == (pTVar1->rotationVector).x) && (local_50.y == (pTVar1->rotationVector).y)) &&
		(local_50.z == (pTVar1->rotationVector).z)) {
		bVar3 = true;
	}
	if (bVar3) {
		local_50.x = *(float *)(param_2 + 0x40);
	}
	else {
		pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffff7 | 0x2;
		(pTVar1->rotationVector).x = local_50.x;
		(pTVar1->rotationVector).y = local_50.y;
		(pTVar1->rotationVector).z = local_50.z;
		(pTVar1->rotationVector).w = local_50.w;
		FUN_001977d8(pCVar9);
		local_50.x = *(float *)(param_2 + 0x40);
	}
	bVar3 = false;
	local_50.x = local_50.x * -0.07000000;
	local_50.z = *(float *)(param_2 + 0x48) * -0.07000000;
	local_50.y = *(float *)(param_2 + 0x44) * -0.07000000;
	local_50.w = 1.00000000;
	pTVar1 = pCVar9->transformMatrixPtr;
	if ((ABS(local_50.x) <= 0.00005000) && (ABS(local_50.y) <= 0.00005000)) {
		bVar3 = true;
	}
	uVar4 = 0x0;
	if (!bVar3) {
		if ((pTVar1->unkBitfield & 0x4) != 0x0) {
			fVar7 = (pTVar1->transformMatrix).wComponents.y;
			fVar11 = (pTVar1->transformMatrix).wComponents.z;
			fVar10 = (pTVar1->transformMatrix).wComponents.w;
			(pTVar1->positionVector).x = (pTVar1->transformMatrix).wComponents.x;
			(pTVar1->positionVector).y = fVar7;
			(pTVar1->positionVector).z = fVar11;
			(pTVar1->positionVector).w = fVar10;
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffffa;
		}
		fVar10 = (pTVar1->positionVector).x;
		uVar4 = 0x1;
		pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffffb | 0x1;
		(pTVar1->positionVector).x = fVar10 + local_50.x;
		(pTVar1->positionVector).y = (pTVar1->positionVector).y + local_50.y;
		(pTVar1->positionVector).z = (pTVar1->positionVector).z + local_50.z;
	}
	if (uVar4 != 0x0) {
		uVar4 = FUN_001977d8(pCVar9);
	}
	return uVar4;
}



// WARNING: Type propagation algorithm not settling

void FUN_0024bca0(int param_1, byte *param_2, long param_3)

{
	int iVar1;
	ChunkNode *pCVar2;
	TransformedGeometyPoint *pTVar3;
	bool bVar4;
	bool bVar5;
	int iVar6;
	ulong uVar7;
	Vector4 *pos1;
	float fVar8;
	float fVar9;
	float fVar10;
	String local_50;
	float local_40;
	float fStack60;
	float local_38;
	float local_34;
	float local_30;

	*(uint *)(*(int *)(param_1 + 0x94) + 0x88) = *(uint *)(*(int *)(param_1 + 0x94) + 0x88) | 0x10;
	if (*(int *)(param_1 + 0xd4) == 0x0) {
		uVar7 = *(ulong *)(param_1 + 0x88);
	}
	else {
		if ((*(int *)(*(int *)(param_1 + 0xd4) + 0x18) >> 0x3 & 0x1U) == 0x0) {
			if ((*param_2 & 0x1) == 0x0) {
				return;
			}
			if (*(int *)(param_1 + 0x94) == 0x0) {
				uVar7 = *(ulong *)(param_1 + 0x88);
			}
			else {
				iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x120);
				if (iVar1 == 0x0) {
					uVar7 = *(ulong *)(param_1 + 0x88);
				}
				else {
					if ((*(int *)(iVar1 + 0x5c) >> 0xe & 0x1U) == 0x0) {
						uVar7 = *(ulong *)(param_1 + 0x88);
					}
					else {
						FUN_002480c0(param_1);
						uVar7 = *(ulong *)(param_1 + 0x88);
					}
				}
			}
			if ((uVar7 & 0x2000000000000) == 0x0) {
				return;
			}
			fVar10 = *(float *)(param_1 + 0xa4);
			iVar1 = *(int *)(param_1 + 0xd4);
			*(float *)(iVar1 + 0x1c0) = *(float *)(iVar1 + 0x1c0) + 0.00000000;
			*(float *)(iVar1 + 0x1c4) = *(float *)(iVar1 + 0x1c4) + -fVar10 * *(float *)(iVar1 + 0x1c);
			*(float *)(iVar1 + 0x1c8) = *(float *)(iVar1 + 0x1c8) + 0.00000000;
			return;
		}
		uVar7 = *(ulong *)(param_1 + 0x88);
	}
	if ((uVar7 & 0x100030000000000) == 0x0) {
		return;
	}
	uVar7 = *(ulong *)(param_1 + 0x90);
	iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x128);
	if ((uVar7 & 0x7800) != 0x7800) {
		*(ulong *)(param_1 + 0x90) =
			uVar7 & 0xffffffffffff87ff |
			((long)(int)(((uint)((uVar7 << 0x15) >> 0x20) & 0xf) + 0x1) & 0xfU) << 0xb;
	}
	pos1 = (Vector4 *)param_3;
	if ((*(ulong *)(param_1 + 0x88) & 0x200000000000000) == 0x0) {
		iVar6 = *(int *)(param_1 + 0x94);
	}
	else {
		if ((*(ulong *)(param_1 + 0x88) & 0x18000000000000) == 0x0) {
			if (0.00100000 <=
				*(float *)(iVar1 + 0x20) * *(float *)(iVar1 + 0x20) +
				*(float *)(iVar1 + 0x24) * *(float *)(iVar1 + 0x24) +
				*(float *)(iVar1 + 0x28) * *(float *)(iVar1 + 0x28)) {
				iVar6 = *(int *)(param_1 + 0x94);
				goto LAB_0024bf18;
			}
			uVar7 = *(ulong *)(param_1 + 0x90);
		}
		else {
			uVar7 = *(ulong *)(param_1 + 0x90);
		}
		if ((uVar7 & 0x7800) == 0x7800) {
			if (param_3 != 0x0) {
				MovePositionFromPos2ToPos1(pos1, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
				pos1->w = 1.00000000;
			}
			*(ulong *)(param_1 + 0x88) = *(ulong *)(param_1 + 0x88) & 0xfcffffffffffffff;
			return;
		}
		iVar6 = *(int *)(param_1 + 0x94);
	}
LAB_0024bf18:
	if (*(int *)(iVar6 + 0x8) == 0x0) {
		local_30 = 0.00000000;
	}
	else {
		local_30 = (float)(*(int *)(param_2 + 0x4) - *(int *)(iVar6 + 0x8)) * DAT_00309b80;
	}
	*(undefined4 *)(iVar1 + 0x30) = (int)*(undefined8 *)(iVar1 + 0x20);
	*(undefined4 *)(iVar1 + 0x34) = (int)((ulong)*(undefined8 *)(iVar1 + 0x20) >> 0x20);
	*(undefined4 *)(iVar1 + 0x38) = *(undefined4 *)(iVar1 + 0x28);
	*(undefined4 *)(iVar1 + 0x3c) = *(undefined4 *)(iVar1 + 0x2c);
	pCVar2 = (ChunkNode *)(*(ChunkNode **)(param_1 + 0x94))->field_0x0;
	local_50.string = (char *)0x0;
	local_50.stringLength = 0x0;
	local_50.stringMemoryOccupied = 0x0;
	if ((*(ulong *)(param_1 + 0x88) & 0x2000000000000) != 0x0) {
		*(float *)(iVar1 + 0x24) = *(float *)(iVar1 + 0x24) - *(float *)(param_1 + 0xa4) * local_30;
		if ((*(ulong *)(param_1 + 0x88) & 0x200000000000) == 0x0) {
			uVar7 = *(ulong *)(param_1 + 0x88);
		}
		else {
			fVar10 = 1.00000000 - *(float *)(param_1 + 0xa8);
			*(float *)(iVar1 + 0x20) = *(float *)(iVar1 + 0x20) * fVar10;
			*(float *)(iVar1 + 0x24) = *(float *)(iVar1 + 0x24) * fVar10;
			*(float *)(iVar1 + 0x28) = *(float *)(iVar1 + 0x28) * fVar10;
			uVar7 = *(ulong *)(param_1 + 0x88);
		}
		if ((uVar7 & 0x400000000000) == 0x0) {
			*(undefined4 *)(param_1 + 0xc8) = 0x0;
		}
		else {
			if ((uVar7 & 0x18000000000000) == 0x0) {
				*(undefined4 *)(param_1 + 0xc8) = 0x0;
			}
			else {
				fVar10 = *(float *)(param_1 + 0xc8);
				*(undefined4 *)(param_1 + 0xc8) = 0x0;
				if (0.00000000 < fVar10) {
					*(undefined4 *)(param_1 + 0xc8) = 0x3f800000;
					fVar10 = 1.00000000 - *(float *)(param_1 + 0xc8);
					*(float *)(iVar1 + 0x20) = *(float *)(iVar1 + 0x20) * fVar10;
					*(float *)(iVar1 + 0x24) = *(float *)(iVar1 + 0x24) * fVar10;
					*(float *)(iVar1 + 0x28) = *(float *)(iVar1 + 0x28) * fVar10;
					*(undefined4 *)(param_1 + 0xc8) = 0x0;
				}
			}
		}
		uVar7 = *(ulong *)(param_1 + 0x88);
		local_34 = *(float *)(iVar1 + 0x2c);
		fStack60 = (float)((ulong)*(undefined8 *)(iVar1 + 0x20) >> 0x20);
		if (((uVar7 & 0x30000000000) == 0x20000000000) || ((uVar7 & 0x100000000000000) != 0x0)) {
			local_40 = (float)*(undefined8 *)(iVar1 + 0x20) * local_30;
			fStack60 = fStack60 * local_30;
			local_38 = *(float *)(iVar1 + 0x28) * local_30;
			if (((uVar7 & 0xf000000000) != 0x0) &&
				(fVar10 = *(float *)(*(int *)(param_1 + 0x94) + 0xf4),
					fVar10 < SQRT(local_40 * local_40 + fStack60 * fStack60 + local_38 * local_38))) {
				fVar10 = fVar10 / local_40;
				local_38 = local_38 * fVar10;
				local_40 = local_40 * fVar10;
				fStack60 = fStack60 * fVar10;
			}
			bVar4 = false;
			pTVar3 = pCVar2->transformMatrixPtr;
			if ((ABS(local_40) <= 0.00005000) && (ABS(fStack60) <= 0.00005000)) {
				bVar4 = true;
			}
			bVar5 = false;
			if (!bVar4) {
				if ((pTVar3->unkBitfield & 0x4) != 0x0) {
					fVar9 = (pTVar3->transformMatrix).wComponents.y;
					fVar8 = (pTVar3->transformMatrix).wComponents.z;
					fVar10 = (pTVar3->transformMatrix).wComponents.w;
					(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
					(pTVar3->positionVector).y = fVar9;
					(pTVar3->positionVector).z = fVar8;
					(pTVar3->positionVector).w = fVar10;
					pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
				}
				fVar10 = (pTVar3->positionVector).x;
				bVar5 = true;
				pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
				(pTVar3->positionVector).x = fVar10 + local_40;
				(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack60;
				(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_38;
			}
			if (bVar5) {
				FUN_001977d8(pCVar2);
			}
		}
		else {
			fStack60 = fStack60 * local_30;
			local_38 = 0.00000000;
			if ((uVar7 & 0xf000000000) != 0x0) {
				fVar10 = *(float *)(*(int *)(param_1 + 0x94) + 0xf4);
				if (fVar10 < SQRT(fStack60 * fStack60)) {
					fStack60 = fStack60 * (fVar10 / SQRT(fStack60 * fStack60));
					local_38 = *(float *)(param_1 + 0xc8);
				}
			}
			bVar4 = false;
			pTVar3 = pCVar2->transformMatrixPtr;
			if ((ABS(local_38) <= 0.00005000) && (ABS(fStack60) <= 0.00005000)) {
				bVar4 = true;
			}
			bVar5 = false;
			if (!bVar4) {
				if ((pTVar3->unkBitfield & 0x4) != 0x0) {
					fVar9 = (pTVar3->transformMatrix).wComponents.y;
					fVar8 = (pTVar3->transformMatrix).wComponents.z;
					fVar10 = (pTVar3->transformMatrix).wComponents.w;
					(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
					(pTVar3->positionVector).y = fVar9;
					(pTVar3->positionVector).z = fVar8;
					(pTVar3->positionVector).w = fVar10;
					pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
				}
				fVar10 = (pTVar3->positionVector).x;
				bVar5 = true;
				pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffb | 0x1;
				(pTVar3->positionVector).x = fVar10 + local_38;
				(pTVar3->positionVector).y = (pTVar3->positionVector).y + fStack60;
				(pTVar3->positionVector).z = (pTVar3->positionVector).z + local_38;
			}
			local_40 = local_38;
			if (bVar5) {
				FUN_001977d8(pCVar2);
			}
		}
		if (param_3 != 0x0) {
			pos1->x = local_40;
			pos1->y = fStack60;
			pos1->z = local_38;
			pos1->w = local_34;
		}
	}
	StringDelete(&local_50);
	return;
}



void FUN_0024c3f0(int param_1, float *param_2, undefined8 *param_3)

{
	int iVar1;
	TransformedGeometyPoint *pTVar2;
	undefined8 uVar3;
	Vector4 local_80;
	Matrix4x4 local_70;

	switch (*(uint *)(param_1 + 0x8c) & 0xf) {
	case 0x1:
	case 0x2:
	case 0x3:
	case 0x4:
	case 0x5:
	case 0x8:
		iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x128);
		*(float *)(iVar1 + 0x20) = *(float *)(iVar1 + 0x20) + *param_2;
		*(float *)(iVar1 + 0x24) = *(float *)(iVar1 + 0x24) + param_2[0x1];
		*(float *)(iVar1 + 0x28) = *(float *)(iVar1 + 0x28) + param_2[0x2];
		break;
	case 0x9:
	case 0xa:
	case 0xb:
		local_80.z = *(float *)(param_3 + 0x1);
		local_80.w = *(float *)((int)param_3 + 0xc);
		local_80.x = (float)*param_3;
		local_80.y = (float)((ulong)*param_3 >> 0x20);
		pTVar2 = *(TransformedGeometyPoint **)(**(int **)(param_1 + 0x94) + 0x8);
		RotateAndTranslate_(pTVar2);
		uVar3 = *(undefined8 *)&(pTVar2->transformMatrix).xComponents;
		local_70.xComponents.z = (pTVar2->transformMatrix).xComponents.z;
		local_70.xComponents.w = (pTVar2->transformMatrix).xComponents.w;
		local_70.xComponents.x = (float)uVar3;
		local_70.xComponents.y = (float)((ulong)uVar3 >> 0x20);
		local_70.yComponents.x = (pTVar2->transformMatrix).yComponents.x;
		local_70.yComponents.y = (pTVar2->transformMatrix).yComponents.y;
		local_70.yComponents.z = (pTVar2->transformMatrix).yComponents.z;
		local_70.yComponents.w = (pTVar2->transformMatrix).yComponents.w;
		local_70.zComponents.x = (pTVar2->transformMatrix).zComponents.x;
		local_70.zComponents.y = (pTVar2->transformMatrix).zComponents.y;
		local_70.zComponents.z = (pTVar2->transformMatrix).zComponents.z;
		local_70.zComponents.w = (pTVar2->transformMatrix).zComponents.w;
		local_70.wComponents.x = (pTVar2->transformMatrix).wComponents.x;
		local_70.wComponents.y = (pTVar2->transformMatrix).wComponents.y;
		local_70.wComponents.z = (pTVar2->transformMatrix).wComponents.z;
		local_70.wComponents.w = (pTVar2->transformMatrix).wComponents.w;
		FUN_0018ef98(&local_70);
		MultiplyMatrixByVector(&local_70, &local_80, &local_80);
		FUN_0028a518(*(int *)(param_1 + 0xd4), param_2, (float *)&local_80);
	}
	return;
}



// WARNING: Type propagation algorithm not settling

void FUN_0024c508(int param_1, undefined8 *param_2, undefined8 *param_3)

{
	int iVar1;
	TransformedGeometyPoint *pTVar2;
	undefined8 uVar3;
	UnkScriptRelatedStoredInGlobal *pUVar4;
	Vector4 local_90;
	Matrix4x4 local_80;
	float local_40;

	switch (*(uint *)(param_1 + 0x8c) & 0xf) {
	case 0x1:
	case 0x2:
	case 0x3:
	case 0x4:
	case 0x5:
	case 0x8:
		local_90.z = *(float *)(param_2 + 0x1);
		local_90.w = *(float *)((int)param_2 + 0xc);
		local_90.x = (float)*param_2;
		local_90.y = (float)((ulong)*param_2 >> 0x20);
		pUVar4 = FUN_00197da8((ChunkNode *)(*(ChunkNode **)(param_1 + 0x94))->field_0x0);
		iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x8);
		if (iVar1 == 0x0) {
			local_40 = 0.00000000;
		}
		else {
			local_40 = (float)(pUVar4->field_0x4 - iVar1) * DAT_00309b80;
		}
		iVar1 = *(int *)(*(int *)(param_1 + 0x94) + 0x128);
		*(float *)(iVar1 + 0x20) = *(float *)(iVar1 + 0x20) + local_90.x * local_40;
		*(float *)(iVar1 + 0x24) = *(float *)(iVar1 + 0x24) + local_90.y * local_40;
		*(float *)(iVar1 + 0x28) = *(float *)(iVar1 + 0x28) + local_90.z * local_40;
		break;
	case 0x9:
	case 0xa:
	case 0xb:
		local_90.z = *(float *)(param_3 + 0x1);
		local_90.w = *(float *)((int)param_3 + 0xc);
		local_90.x = (float)*param_3;
		local_90.y = (float)((ulong)*param_3 >> 0x20);
		pTVar2 = *(TransformedGeometyPoint **)(**(int **)(param_1 + 0x94) + 0x8);
		RotateAndTranslate_(pTVar2);
		uVar3 = *(undefined8 *)&(pTVar2->transformMatrix).xComponents;
		local_80.xComponents.z = (pTVar2->transformMatrix).xComponents.z;
		local_80.xComponents.w = (pTVar2->transformMatrix).xComponents.w;
		local_80.xComponents.x = (float)uVar3;
		local_80.xComponents.y = (float)((ulong)uVar3 >> 0x20);
		local_80.yComponents.x = (pTVar2->transformMatrix).yComponents.x;
		local_80.yComponents.y = (pTVar2->transformMatrix).yComponents.y;
		local_80.yComponents.z = (pTVar2->transformMatrix).yComponents.z;
		local_80.yComponents.w = (pTVar2->transformMatrix).yComponents.w;
		local_80.zComponents.x = (pTVar2->transformMatrix).zComponents.x;
		local_80.zComponents.y = (pTVar2->transformMatrix).zComponents.y;
		local_80.zComponents.z = (pTVar2->transformMatrix).zComponents.z;
		local_80.zComponents.w = (pTVar2->transformMatrix).zComponents.w;
		local_80.wComponents.x = (pTVar2->transformMatrix).wComponents.x;
		local_80.wComponents.y = (pTVar2->transformMatrix).wComponents.y;
		local_80.wComponents.z = (pTVar2->transformMatrix).wComponents.z;
		local_80.wComponents.w = (pTVar2->transformMatrix).wComponents.w;
		FUN_0018ef98(&local_80);
		MultiplyMatrixByVector(&local_80, &local_90, &local_90);
		FUN_00292108(*(int *)(param_1 + 0xd4), (undefined4 *)param_2, (float *)&local_90);
	}
	return;
}



void FUN_0024c690(int param_1, float *param_2, float *param_3)

{
	int iVar1;
	TransformedGeometyPoint *pTVar2;
	float fVar3;
	ulong uVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	Vector4 local_40;
	float local_30;
	float fStack44;
	float local_28;
	undefined4 local_24;

	local_40.x = 0.00000000;
	local_40.y = 0.00000000;
	local_40.z = 0.00000000;
	local_40.w = 1.00000000;
	iVar1 = *(int *)(**(int **)(param_1 + 0x94) + 0x8);
	if ((*(ulong *)(iVar1 + 0x60) & 0x4) != 0x0) {
		*(undefined4 *)(iVar1 + 0x40) = *(undefined4 *)(iVar1 + 0x30);
		*(undefined4 *)(iVar1 + 0x4c) = *(undefined4 *)(iVar1 + 0x3c);
		*(undefined4 *)(iVar1 + 0x44) = *(undefined4 *)(iVar1 + 0x34);
		*(undefined4 *)(iVar1 + 0x48) = *(undefined4 *)(iVar1 + 0x38);
		*(ulong *)(iVar1 + 0x60) = *(ulong *)(iVar1 + 0x60) & 0xfffffffffffffffa;
	}
	uVar4 = (*(long *)(param_1 + 0x90) << 0x18) >> 0x20 & 0x3;
	if (uVar4 == 0x0) {
		local_40.x = *param_2 - *(float *)(iVar1 + 0x40);
		local_40.y = param_2[0x1] - *(float *)(iVar1 + 0x44);
		local_24 = 0x3f800000;
		local_40.z = param_2[0x2] - *(float *)(iVar1 + 0x48);
		local_40.w = 1.00000000;
		local_30 = local_40.x;
		fStack44 = local_40.y;
		local_28 = local_40.z;
	}
	else {
		if (uVar4 == 0x1) {
			pTVar2 = *(TransformedGeometyPoint **)(**(int **)(param_1 + 0x94) + 0x8);
			RotateAndTranslate_(pTVar2);
			local_40.x = (pTVar2->transformMatrix).zComponents.x;
			local_40.y = (pTVar2->transformMatrix).zComponents.y;
			local_40.z = (pTVar2->transformMatrix).zComponents.z;
			local_40.w = (pTVar2->transformMatrix).zComponents.w;
		}
	}
	fVar5 = RSQRT(0.00000000, &local_40);
	uVar4 = (*(long *)(param_1 + 0x90) << 0x1a) >> 0x20 & 0x3;
	if (uVar4 < 0x3) {
		fVar7 = 0.00000000;
		fVar6 = 0.00000000;
		fVar3 = 0.00000000;
		if (uVar4 != 0x0) goto LAB_0024c83c;
	}
	fVar6 = *(float *)(param_1 + 0x9c);
	fVar3 = local_40.z * fVar5 * fVar6;
	fVar7 = local_40.x * fVar5 * fVar6;
	fVar6 = local_40.y * fVar5 * fVar6;
LAB_0024c83c:
	*param_3 = fVar7;
	param_3[0x1] = fVar6;
	param_3[0x2] = fVar3;
	param_3[0x3] = 1.00000000;
	return;
}



void FUN_0024c858(UnkScriptRelatedStruct *param_1, UnkScriptRelatedStruct2 *param_2)

{
	uint uVar1;
	ScriptData *scrData;
	ChunkNode *pCVar2;
	GameNode *pGVar3;
	HeaderScript *headerScript;
	uint counter;

	headerScript = param_1->headerScriptPtr;
	param_1->field_0x28 = param_1->field_0x28 & 0xffff0fff;
	*(undefined *)((int)&param_1->field_0x28 + 0x2) = 0x0;
	param_1->ChunkNode = (param_2->unkInstRelated->baseNode).ChunkNode;
	param_1->chunkNodePtrCopy_ = param_2->ChunkNode2;
	uVar1 = param_2->unkBitfield;
	scrData = headerScript->unkIntScriptDataPairs[0x0]->scriptData;
	if (scrData != (ScriptData *)0x0) {
		*(undefined *)((int)&param_1->field_0x28 + 0x2) = 0x1;
		param_1->field_0x28 = param_1->field_0x28 & 0xffff0fff | 0x1000;
		FUN_0020cae0(param_2, param_1, scrData);
	}
	counter = 0x1;
	if (0x1 < (param_1->field_0x28 >> 0x8 & 0xf)) {
		headerScript = param_1->headerScriptPtr;
		while (true) {
			pCVar2 = (ChunkNode *)
				FUN_002101d8((uint *)headerScript->unkIntScriptDataPairs[counter]->unkIntAddress,
					param_2);
			(&param_1->ChunkNode)[counter] = pCVar2;
			scrData = param_1->headerScriptPtr->unkIntScriptDataPairs[counter]->scriptData;
			if (scrData != (ScriptData *)0x0) {
				pGVar3 = GetGameNode(&pCVar2->nodesList_, 0x1);
				FUN_0020cae0((UnkScriptRelatedStruct2 *)(&pGVar3[0x6].nextNode)[uVar1 >> 0x6 & 0x7], param_1,
					scrData);
				*(byte *)((int)&param_1->field_0x28 + 0x2) =
					*(byte *)((int)&param_1->field_0x28 + 0x2) | (byte)(0x1 << (counter & 0x1f));
				param_1->field_0x28 =
					param_1->field_0x28 & 0xffff0fff |
					((param_1->field_0x28 >> 0xc & 0xf) + 0x1 & 0xf) << 0xc;
			}
			counter = counter + 0x1 & 0xff;
			if ((param_1->field_0x28 >> 0x8 & 0xf) <= counter) break;
			headerScript = param_1->headerScriptPtr;
		}
	}
	return;
}



// WARNING: Type propagation algorithm not settling

ulong FUN_0024ca00(int param_1, undefined8 param_2, int param_3)

{
	ChunkNode *pCVar1;
	ChunkNode *pCVar2;
	ChunkNode *pCVar3;
	UnkNode_index_0x6 *pUVar4;
	int iVar5;
	ulong uVar6;
	uint uVar7;
	ChunkNode *unaff_s0_lo;

	pCVar1 = *(ChunkNode **)(param_3 + 0x4);
	uVar7 = *(uint *)(param_1 + 0xc) & 0x7;
	pCVar2 = (ChunkNode *)pCVar1->field_0x0;
	if (uVar7 == 0x1) {
		pCVar3 = *(ChunkNode **)((int)&pCVar1->nodesList_ + 0x44);
		uVar6 = SEXT48((int)pCVar3);
		if (uVar6 == 0x0) {
			unaff_s0_lo = *(ChunkNode **)((int)&pCVar1->nodesList_ + 0x44);
		}
		else {
			uVar6 = (long)pCVar3->unkBitField & 0x1;
			if (uVar6 != 0x0) {
				*(ChunkNode **)((int)&pCVar1->nodesList_ + 0x44) = (ChunkNode *)0x0;
			}
			unaff_s0_lo = *(ChunkNode **)((int)&pCVar1->nodesList_ + 0x44);
		}
	}
	else {
		uVar6 = 0x2;
		if (uVar7 == 0x0) {
			uVar6 = ((ulong)*(byte *)((int)&pCVar1->chunkNodeRelData_ + 0x78) ^ 0x1) & 0x1;
			if (((uVar6 == 0x0) &&
				(pCVar3 = *(ChunkNode **)((int)&pCVar1->chunkNodeRelData_ + 0x20),
					pCVar3 != (ChunkNode *)0x0)) &&
					(uVar6 = (long)pCVar3->unkBitField & 0x1, unaff_s0_lo = pCVar3, uVar6 != 0x0)) {
				uVar6 = (long)(int)*(ChunkNode **)((int)&pCVar1->chunkNodeRelData_ + 0x78) &
					0xfffffffffffffffc;
				*(ChunkNode **)((int)&pCVar1->chunkNodeRelData_ + 0x20) = (ChunkNode *)0x0;
				*(ChunkNode **)((int)&pCVar1->chunkNodeRelData_ + 0x78) = (ChunkNode *)uVar6;
				unaff_s0_lo = (ChunkNode *)0x0;
			}
		}
		else {
			unaff_s0_lo = (ChunkNode *)0x0;
			if (uVar7 == 0x2) {
				pCVar3 = *(ChunkNode **)((int)&pCVar1->nodesList_ + 0x48);
				uVar6 = SEXT48((int)pCVar3);
				if (uVar6 == 0x0) {
					unaff_s0_lo = *(ChunkNode **)((int)&pCVar1->nodesList_ + 0x48);
				}
				else {
					uVar6 = (long)pCVar3->unkBitField & 0x1;
					if ((uVar6 != 0x0) &&
						(uVar6 = (long)(int)*(ChunkNode **)((int)&pCVar1->chunkNodeRelData_ + 0x78) & 0x100000
							, uVar6 == 0x0)) {
						*(ChunkNode **)((int)&pCVar1->nodesList_ + 0x48) = (ChunkNode *)0x0;
					}
					unaff_s0_lo = *(ChunkNode **)((int)&pCVar1->nodesList_ + 0x48);
				}
			}
		}
	}
	if ((pCVar2 != (ChunkNode *)0x0) && (unaff_s0_lo != (ChunkNode *)0x0)) {
		pUVar4 = FUN_001975b0(pCVar2);
		iVar5 = FUN_00196258((int)pUVar4, unaff_s0_lo, 0x0);
		uVar6 = SEXT48(iVar5);
	}
	return uVar6;
}



void FUN_0024cb28(int param_1, int *param_2)

{
	ushort uVar1;
	uint uVar2;
	ushort *puVar3;
	ulong uVar4;
	ulong uVar5;
	int iVar6;
	float fVar7;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	do {
		uVar4 = FUN_00208818((int)local_30);
		if (uVar4 != 0x0) {
			return;
		}
		puVar3 = (ushort *)
			(**(code **)(local_30[0] + 0x24))((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		uVar1 = *puVar3;
		if (uVar1 == 0x4) {
			fVar7 = *(float *)(puVar3 + 0x2) * 182.04444885;
			*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x1000000000000;
			if ((byte)((uint)fVar7 >> 0x17) < 0x9e) {
				iVar6 = (int)fVar7;
			}
			else {
				if ((int)fVar7 < 0x0) {
					iVar6 = 0x7fffffff;
				}
				else {
					iVar6 = -0x80000000;
				}
			}
			*(int *)(param_1 + 0x24) = iVar6;
			goto LAB_0024ce8c;
		}
		if (0x4 < uVar1) {
			if (uVar1 == 0x12) {
				uVar4 = (ulong)*(byte *)(puVar3 + 0x2) << 0x23;
				uVar5 = *(ulong *)(param_1 + 0x8) & 0xfffff807ffffffff;
			LAB_0024cc58:
				*(ulong *)(param_1 + 0x8) = uVar5 | uVar4;
			}
			else {
				if (uVar1 < 0x13) {
					if (uVar1 == 0x5) {
						fVar7 = *(float *)(puVar3 + 0x2) * 182.04444885;
						*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x1000000000000;
						if ((byte)((uint)fVar7 >> 0x17) < 0x9e) {
							iVar6 = (int)fVar7;
						}
						else {
							if ((int)fVar7 < 0x0) {
								iVar6 = 0x7fffffff;
							}
							else {
								iVar6 = -0x80000000;
							}
						}
						*(int *)(param_1 + 0x28) = iVar6;
					}
				}
				else {
					if (uVar1 == 0x72) {
						uVar5 = *(ulong *)(param_1 + 0x8) & 0xffe1ffffffffffff;
						uVar4 = ((long)(*(int *)(puVar3 + 0x2) + -0x1) & 0xfU) << 0x31;
						goto LAB_0024cc58;
					}
					if ((uVar1 == 0xffff) &&
						(uVar2 = *(uint *)(puVar3 + 0x2), *(char *)(puVar3 + 0x1) == '\x04')) {
						if (uVar2 == 0x50) {
							uVar4 = *(ulong *)(param_1 + 0x8) & 0xffff87ffffffffff | 0x80000000000;
							goto LAB_0024ce88;
						}
						if (uVar2 < 0x51) {
							if (uVar2 != 0x4d) {
								if (uVar2 < 0x4e) {
									if (uVar2 == 0x3d) {
										uVar4 = *(ulong *)(param_1 + 0x8) & 0xffe1ffffffffffff;
										goto LAB_0024ce88;
									}
								}
								else {
									if (uVar2 == 0x4f) {
										uVar5 = 0x800000000000;
										uVar4 = *(ulong *)(param_1 + 0x8);
										goto LAB_0024ce84;
									}
								}
								goto LAB_0024ce8c;
							}
							uVar5 = 0x40000000000000;
							uVar4 = *(ulong *)(param_1 + 0x8);
						}
						else {
							if (uVar2 != 0x7b) {
								if (uVar2 < 0x7c) {
									if (uVar2 == 0x51) {
										uVar4 = *(ulong *)(param_1 + 0x8) & 0xffff87ffffffffff | 0x100000000000;
										goto LAB_0024ce88;
									}
								}
								else {
									if (uVar2 == 0xa0) {
										uVar4 = *(ulong *)(param_1 + 0x8);
										uVar5 = 0x80000000000000;
										goto LAB_0024ce84;
									}
								}
								goto LAB_0024ce8c;
							}
							uVar5 = 0x20000000000000;
							uVar4 = *(ulong *)(param_1 + 0x8);
						}
					LAB_0024ce84:
						uVar4 |= uVar5;
						goto LAB_0024ce88;
					}
				}
			}
			goto LAB_0024ce8c;
		}
		if (uVar1 == 0x1) {
			uVar4 = *(ulong *)(param_1 + 0x8) | 0x800000000000;
			*(undefined4 *)(param_1 + 0x14) = *(undefined4 *)(puVar3 + 0x2);
		LAB_0024ce88:
			*(ulong *)(param_1 + 0x8) = uVar4;
		}
		else {
			if (uVar1 < 0x2) {
				if (uVar1 == 0x0) {
					uVar4 = *(ulong *)(param_1 + 0x8) | 0x800000000000;
					*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(puVar3 + 0x2);
					goto LAB_0024ce88;
				}
			}
			else {
				if (uVar1 == 0x2) {
					uVar4 = *(ulong *)(param_1 + 0x8) | 0x800000000000;
					*(undefined4 *)(param_1 + 0x18) = *(undefined4 *)(puVar3 + 0x2);
					goto LAB_0024ce88;
				}
				if (uVar1 == 0x3) {
					fVar7 = *(float *)(puVar3 + 0x2) * 182.04444885;
					*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x1000000000000;
					if ((byte)((uint)fVar7 >> 0x17) < 0x9e) {
						iVar6 = (int)fVar7;
					}
					else {
						if ((int)fVar7 < 0x0) {
							iVar6 = 0x7fffffff;
						}
						else {
							iVar6 = -0x80000000;
						}
					}
					*(int *)(param_1 + 0x20) = iVar6;
				}
			}
		}
	LAB_0024ce8c:
		FUN_00208830((int)local_30);
	} while (true);
}



void FUN_0024cec0(int param_1, undefined8 param_2, int param_3)

{
	undefined *puVar1;
	uint uVar2;
	GameNode *pGVar3;
	InstanceNode *this_;
	Vector4 *pVVar4;
	int iVar5;
	long lVar6;
	int *piVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	ulong uVar11;
	ulong uVar12;
	int iVar13;
	long lVar14;
	int iVar15;
	Matrix4x4 MStack176;
	undefined4 local_70[0x4];
	undefined4 local_60[0x4];
	undefined4 local_50[0x4];

	uVar12 = *(ulong *)(param_1 + 0x8);
	if ((uVar12 & 0x1e000000000000) == 0x1e000000000000) {
		iVar13 = 0x0;
		uVar11 = (long)uVar12 >> 0x20 & 0x7;
		if (uVar11 == 0x1) {
			piVar7 = *(int **)(param_3 + 0x4);
			if ((piVar7[0x46] != 0x0) && ((*(uint *)(piVar7[0x46] + 0x4) & 0x1) != 0x0)) {
				piVar7[0x46] = 0x0;
			}
			lVar14 = (long)piVar7[0x46];
			iVar15 = *piVar7;
		}
		else {
			iVar15 = iVar13;
			if (uVar11 == 0x0) {
				piVar7 = *(int **)(param_3 + 0x4);
				if ((uVar12 & 0x80000000000000) == 0x0) {
					lVar6 = 0x0;
					iVar13 = *piVar7;
					lVar14 = lVar6;
					iVar15 = iVar13;
					if (((*(byte *)(piVar7 + 0x22) ^ 0x1) & 0x1) != 0x0) goto LAB_0024d070;
					iVar5 = piVar7[0xc];
					if (((long)iVar5 == 0x0) || (lVar14 = (long)iVar5, (*(uint *)(iVar5 + 0x4) & 0x1) == 0x0))
						goto LAB_0024d070;
					uVar2 = piVar7[0x22];
				}
				else {
					lVar14 = (long)*piVar7;
					if (((((*(byte *)(piVar7 + 0x22) ^ 0x1) & 0x1) != 0x0) ||
						(iVar5 = piVar7[0xc], iVar5 == 0x0)) ||
						(iVar15 = iVar5, (*(uint *)(iVar5 + 0x4) & 0x1) == 0x0)) goto LAB_0024d070;
					uVar2 = piVar7[0x22];
					lVar6 = lVar14;
				}
				piVar7[0xc] = 0x0;
				piVar7[0x22] = uVar2 & 0xfffffffc;
				lVar14 = lVar6;
				iVar15 = iVar13;
			}
			else {
				lVar14 = 0x0;
				if (uVar11 == 0x2) {
					piVar7 = *(int **)(param_3 + 0x4);
					if (((piVar7[0x47] != 0x0) && ((*(uint *)(piVar7[0x47] + 0x4) & 0x1) != 0x0)) &&
						((piVar7[0x22] & 0x100000U) == 0x0)) {
						piVar7[0x47] = 0x0;
					}
					lVar14 = (long)piVar7[0x47];
					iVar15 = *piVar7;
				}
			}
		}
	}
	else {
		iVar15 = **(int **)(param_3 + 0x4);
		pGVar3 = GetGameNode((NodeList *)(iVar15 + 0xd4), 0x6);
		if (pGVar3 == (GameNode *)0x0) {
			return;
		}
		uVar12 = *(ulong *)(param_1 + 0x8) >> 0x31 & 0xf;
		if (((long)(int)pGVar3[0x1].ChunkNode & 0x1fU) <= uVar12) {
			return;
		}
		lVar14 = (long)(int)(&pGVar3[0x1].field_0x8)[(int)uVar12];
	}
LAB_0024d070:
	if ((iVar15 != 0x0) && (lVar14 != 0x0)) {
		pGVar3 = GetGameNode((NodeList *)(iVar15 + 0xd4), 0x1);
		iVar13 = (int)lVar14;
		if ((pGVar3 != (GameNode *)0x0) &&
			((this_ = (InstanceNode *)GetGameNode((NodeList *)(iVar13 + 0xd4), 0x1),
				this_ != (InstanceNode *)0x0 &&
				(pGVar3 = pGVar3[0x5].prevNode, ((ulong)(long)*(int *)(iVar13 + 0x4) >> 0x6 & 0x1) == 0x0)))
			) {
			puVar1 = (this_->baseNode).methods;
			lVar6 = (**(code **)(puVar1 + 0x7c))
				((int)&(this_->baseNode).ChunkNode + (int)*(short *)(puVar1 + 0x78));
			if (lVar6 == 0x0) {
				uVar12 = *(ulong *)(param_1 + 0x8);
			}
			else {
				iVar5 = *(int *)&this_->field_0x12c;
				if (iVar5 != 0x0) {
					if (*(int **)(iVar5 + 0xd4) == (int *)0x0) {
						uVar12 = *(ulong *)(iVar5 + 0x88);
					}
					else {
						FUN_00292e90(UnkStruct_0x14_HasSomeDataPTRs, *(int **)(iVar5 + 0xd4));
						*(undefined4 *)(iVar5 + 0xd4) = 0x0;
						uVar12 = *(ulong *)(iVar5 + 0x88);
					}
					if ((uVar12 >> 0x24 & 0xf) < 0x9) {
						uVar12 = *(ulong *)(iVar5 + 0x88);
					}
					else {
						*(ulong *)(iVar5 + 0x88) = uVar12 & 0xffffff0fffffffff | 0x1000000000;
						uVar12 = *(ulong *)(iVar5 + 0x88);
					}
					if (((long)uVar12 >> 0x20 & 0xfU) < 0x9) {
						piVar7 = *(int **)(iVar5 + 0x94);
					}
					else {
						*(ulong *)(iVar5 + 0x88) = uVar12 & 0xfffffff0ffffffff | 0x100000000;
						piVar7 = *(int **)(iVar5 + 0x94);
					}
					if (piVar7[0x48] == 0x0) {
						*(uint *)(*piVar7 + 0x4) = *(uint *)(*piVar7 + 0x4) & 0xffff7fff;
					}
				}
				FUN_0023e510(this_);
				FUN_0023e560(this_);
				uVar12 = *(ulong *)(param_1 + 0x8);
			}
			if ((uVar12 & 0x1800000000000) == 0x0) {
				iVar5 = FUN_00263598((int *)pGVar3, lVar14, 0x1, uVar12 >> 0x23 & 0xff, 0x0);
			}
			else {
				if ((uVar12 & 0x1000000000000) == 0x0) {
					InitIdentityMatrix(&MStack176);
				}
				else {
					local_70[0] = *(undefined4 *)(param_1 + 0x20);
					local_60[0] = *(undefined4 *)(param_1 + 0x24);
					local_50[0] = *(undefined4 *)(param_1 + 0x28);
					FUN_001839b0((long)(int)&MStack176, local_70, local_60, local_50);
				}
				pVVar4 = GetPositionFromRTS(&MStack176, 0x3);
				fVar8 = *(float *)(param_1 + 0x14);
				fVar9 = *(float *)(param_1 + 0x18);
				fVar10 = *(float *)(param_1 + 0x1c);
				pVVar4->x = *(float *)(param_1 + 0x10);
				pVVar4->y = fVar8;
				pVVar4->z = fVar9;
				pVVar4->w = fVar10;
				iVar5 = FUN_00263598((int *)pGVar3, lVar14, 0x1, *(ulong *)(param_1 + 0x8) >> 0x23 & 0xff,
					(long)(int)&MStack176);
			}
			if (iVar5 != 0x0) {
				*(uint *)(iVar15 + 0x4) = *(uint *)(iVar15 + 0x4) | 0x80;
				*(int *)(iVar13 + 0x28) = iVar15;
				*(int *)(iVar15 + 0x28) = iVar13;
				uVar2 = *(uint *)(iVar13 + 0x4);
				if ((*(ulong *)(param_1 + 0x8) & 0x40000000000000) != 0x0) {
					*(uint *)(iVar13 + 0x4) = uVar2 | 0x100;
					uVar2 = *(uint *)(iVar13 + 0x4);
				}
				*(int *)(iVar13 + 0xd0) = iVar15;
				*(uint *)(iVar13 + 0x4) = uVar2 | 0x40;
				if ((*(ulong *)(param_1 + 0x8) & 0x780000000000) != 0x0) {
					pGVar3 = GetGameNode((NodeList *)(iVar15 + 0xd4), 0x6);
					if ((long)(int)pGVar3 != 0x0) {
						if (((*(ulong *)(param_1 + 0x8) >> 0x2b & 0xf) == 0x2) && (iRam00309b88 != 0x0)) {
							*(ulong *)(iRam00309b88 + 0xb8) = *(ulong *)(iRam00309b88 + 0xb8) & 0xffffffffffffff8f
								;
						}
						FUN_001974c0((long)(int)pGVar3, *(ulong *)(param_1 + 0x8) >> 0x2b & 0xf);
					}
				}
			}
		}
	}
	return;
}



void FUN_0024d338(int param_1, int *param_2)

{
	ushort uVar1;
	ushort *puVar2;
	int iVar3;
	ulong uVar4;
	ulong uVar5;
	int local_50[0x4];

	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x10), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x1c) = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x20), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x2c) = 0x3f800000;
	FUN_00208798((long)(int)local_50, param_2);
	FUN_002087f8((int)local_50);
	do {
		uVar4 = FUN_00208818((int)local_50);
		if (uVar4 != 0x0) {
			return;
		}
		puVar2 = (ushort *)
			(**(code **)(local_50[0] + 0x24))((int)local_50 + (int)*(short *)(local_50[0] + 0x20));
		iVar3 = FUN_00208550((short *)puVar2, *(uint *)(param_1 + 0x30) & 0xf);
		*(ulong *)(param_1 + 0x30) =
			*(ulong *)(param_1 + 0x30) & 0xfffffffffffffff0 | (long)iVar3 & 0xfU;
		FUN_00208578((short *)puVar2, (undefined4 *)(param_1 + 0x20));
		uVar1 = *puVar2;
		if (uVar1 == 0x83) {
			*(undefined4 *)(param_1 + 0x14) = *(undefined4 *)(puVar2 + 0x2);
			*(ulong *)(param_1 + 0x30) = *(ulong *)(param_1 + 0x30) | 0x100000;
		}
		else {
			if (uVar1 < 0x84) {
				if (uVar1 == 0x3e) {
					*(undefined4 *)(param_1 + 0x38) = *(undefined4 *)(puVar2 + 0x2);
				}
				else {
					if (uVar1 < 0x3f) {
						if (uVar1 == 0x12) {
							*(undefined *)(param_1 + 0x35) = (char)*(undefined4 *)(puVar2 + 0x2);
						}
					}
					else {
						if (uVar1 == 0x3f) {
							*(undefined4 *)(param_1 + 0x3c) = *(undefined4 *)(puVar2 + 0x2);
						}
						else {
							if (uVar1 == 0x82) {
								*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(puVar2 + 0x2);
								*(ulong *)(param_1 + 0x30) = *(ulong *)(param_1 + 0x30) | 0x100000;
							}
						}
					}
				}
			}
			else {
				if (uVar1 == 0xed) {
					*(undefined4 *)(param_1 + 0x40) = *(undefined4 *)(puVar2 + 0x2);
					*(ulong *)(param_1 + 0x30) = *(ulong *)(param_1 + 0x30) | 0x400000;
				}
				else {
					if (uVar1 < 0xee) {
						if (uVar1 == 0x84) {
							*(undefined4 *)(param_1 + 0x18) = *(undefined4 *)(puVar2 + 0x2);
							*(ulong *)(param_1 + 0x30) = *(ulong *)(param_1 + 0x30) | 0x100000;
						}
						else {
							if (uVar1 == 0x89) {
								*(ulong *)(param_1 + 0x30) =
									*(ulong *)(param_1 + 0x30) & 0xfffffffffff0000f | (ulong)puVar2[0x2] << 0x4;
							}
						}
					}
					else {
						if (uVar1 == 0xee) {
							uVar5 = 0x200000;
							*(undefined *)(param_1 + 0x34) = (char)*(undefined4 *)(puVar2 + 0x2);
							uVar4 = *(ulong *)(param_1 + 0x30);
						}
						else {
							if (uVar1 != 0xffff) goto LAB_0024d58c;
							if (*(int *)(puVar2 + 0x2) == 0xc8) {
								uVar4 = *(ulong *)(param_1 + 0x30);
								uVar5 = 0x200000;
							}
							else {
								if (*(int *)(puVar2 + 0x2) != 0xc9) goto LAB_0024d58c;
								uVar4 = *(ulong *)(param_1 + 0x30);
								uVar5 = 0x800000;
							}
						}
						*(ulong *)(param_1 + 0x30) = uVar4 | uVar5;
					}
				}
			}
		}
	LAB_0024d58c:
		FUN_00208830((int)local_50);
	} while (true);
}



// WARNING: Type propagation algorithm not settling

uint FUN_0024d5d0(int param_1, undefined8 param_2, int param_3)

{
	ChunkNode *pCVar1;
	ChunkNode *pCVar2;
	ChunkNode *pCVar3;
	TransformedGeometyPoint *mat;
	astruct_15 *this_;
	UnkNode_index_0x6 *pUVar4;
	GeneralChunkStruct *pGVar5;
	uint uVar6;
	ulong uVar7;
	long lVar8;
	long lVar9;
	ChunkNode *pCVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	Vector4 local_90;
	Vector4 local_80;
	Rotation local_70;

	pCVar10 = (ChunkNode *)0x0;
	pCVar1 = *(ChunkNode **)(param_3 + 0x4);
	pCVar2 = (ChunkNode *)pCVar1->field_0x0;
	pUVar4 = FUN_001975b0(pCVar2);
	if ((*(ulong *)(param_1 + 0x30) & 0x200000) != 0x0) {
		uVar6 = 0x0;
		if (((*(byte *)((int)&pCVar1->chunkNodeRelData_ + 0x78) ^ 0x1) & 0x1) == 0x0) {
			pCVar3 = *(ChunkNode **)((int)&pCVar1->chunkNodeRelData_ + 0x20);
			uVar6 = 0x0;
			if (pCVar3 != (ChunkNode *)0x0) {
				if ((pCVar3->unkBitField & 0x1U) == 0x0) {
					uVar6 = 0x1;
					pCVar10 = pCVar3;
				}
				else {
					*(ChunkNode **)((int)&pCVar1->chunkNodeRelData_ + 0x20) = (ChunkNode *)0x0;
					*(ChunkNode **)((int)&pCVar1->chunkNodeRelData_ + 0x78) =
						(ChunkNode *)
						((uint)*(ChunkNode **)((int)&pCVar1->chunkNodeRelData_ + 0x78) & 0xfffffffc);
					uVar6 = 0x0;
				}
			}
		}
		if (uVar6 == 0x0) {
			return 0x0;
		}
		if (pCVar10 == pCVar2) {
			return uVar6;
		}
	}
	if (pCVar10 == (ChunkNode *)0x0) {
		FUN_0022d9e8((float *)&local_90, (long)*(int *)(param_1 + 0x30) & 0xf, param_3,
			(long)(param_1 + 0x20), 0xff, 0xff);
		uVar7 = *(ulong *)(param_1 + 0x30);
	}
	else {
		mat = pCVar10->transformMatrixPtr;
		RotateAndTranslate_(mat);
		MultiplyMatrixByVector((Matrix4x4 *)mat, (Vector4 *)(param_1 + 0x20), &local_90);
		uVar7 = *(ulong *)(param_1 + 0x30);
	}
	lVar9 = 0x0;
	if ((uVar7 & 0x100000) != 0x0) {
		lVar9 = (long)(param_1 + 0x10);
	}
	if (*(byte *)(param_1 + 0x35) == 0xff) {
		mat = pCVar2->transformMatrixPtr;
		if ((mat->unkBitfield & 0x4) != 0x0) {
			fVar13 = (mat->transformMatrix).wComponents.y;
			fVar11 = (mat->transformMatrix).wComponents.z;
			fVar12 = (mat->transformMatrix).wComponents.w;
			(mat->positionVector).x = (mat->transformMatrix).wComponents.x;
			(mat->positionVector).w = fVar12;
			(mat->positionVector).y = fVar13;
			(mat->positionVector).z = fVar11;
			mat->unkBitfield = mat->unkBitfield & 0xfffffffffffffffa;
		}
		local_80.x = (mat->positionVector).x;
		local_80.y = (mat->positionVector).y;
		local_80.z = (mat->positionVector).z;
		local_80.w = (mat->positionVector).w;
		if ((*(ulong *)(param_1 + 0x30) & 0x100000) != 0x0) {
			mat = pCVar2->transformMatrixPtr;
			RotateAndTranslate_(mat);
			fVar11 = *(float *)(param_1 + 0x10);
			fVar12 = *(float *)(param_1 + 0x14);
			fVar13 = *(float *)(param_1 + 0x18);
			local_80.z = local_80.z +
				(mat->transformMatrix).xComponents.z * fVar11 +
				(mat->transformMatrix).yComponents.z * fVar12 +
				(mat->transformMatrix).zComponents.z * fVar13;
			local_80.x = local_80.x +
				(mat->transformMatrix).xComponents.x * fVar11 +
				(mat->transformMatrix).yComponents.x * fVar12 +
				(mat->transformMatrix).zComponents.x * fVar13;
			local_80.y = local_80.y +
				(mat->transformMatrix).xComponents.y * fVar11 +
				(mat->transformMatrix).yComponents.y * fVar12 +
				(mat->transformMatrix).zComponents.y * fVar13;
		}
		uVar7 = *(ulong *)(param_1 + 0x30);
	}
	else {
		FUN_0022e190((int)pCVar2, (uint)*(byte *)(param_1 + 0x35), (float *)&local_80, lVar9);
		uVar7 = *(ulong *)(param_1 + 0x30);
	}
	this_ = DAT_0030a14c;
	if ((uVar7 & 0x400000) == 0x0) {
		fVar11 = SQRT((local_80.x - local_90.x) * (local_80.x - local_90.x) +
			(local_80.y - local_90.y) * (local_80.y - local_90.y) +
			(local_80.z - local_90.z) * (local_80.z - local_90.z));
	}
	else {
		fVar11 = *(float *)(param_1 + 0x40);
	}
	if (pCVar10 == (ChunkNode *)0x0) {
		uVar7 = *(ulong *)(param_1 + 0x30);
	}
	else {
		local_90.x = *(float *)(param_1 + 0x20);
		local_90.y = *(float *)(param_1 + 0x24);
		local_90.z = *(float *)(param_1 + 0x28);
		local_90.w = *(float *)(param_1 + 0x2c);
		uVar7 = *(ulong *)(param_1 + 0x30);
	}
	if ((uVar7 & 0xffff0) == 0xffff0) {
		uVar6 = FUN_001966b0(*(undefined4 *)(param_1 + 0x38), *(undefined4 *)(param_1 + 0x3c), fVar11,
			(int)pUVar4, pCVar2, (undefined8 *)&local_90, (uint)*(byte *)(param_1 + 0x35),
			lVar9, 0x0, (int *)pCVar10, (uint)*(byte *)(param_1 + 0x34));
	}
	else {
		pGVar5 = (GeneralChunkStruct *)
			FUN_00268e60(DAT_0030a0a8,
				*(short *)((int)&(*(ChunkNode **)((int)&pCVar1->chunkNodeRelData_ + 0x74)
					)->chunkNodeRelData_ + 0x4));
		FUN_002627f0((int *)this_);
		FUN_002627d8((int *)this_);
		FUN_002627b0((int)this_);
		FUN_00262818((int)this_);
		this_->field_0x0 = 0x0;
		local_70.rotX = 0x0;
		local_70.rotY = 0x0;
		local_70.rotZ = 0x0;
		lVar8 = FUN_0025ebb8(this_, pGVar5, (short)((ulong)(*(long *)(param_1 + 0x30) << 0x1c) >> 0x20),
			&local_80, &local_70);
		FUN_001966b0(*(undefined4 *)(param_1 + 0x38), *(undefined4 *)(param_1 + 0x3c), fVar11, (int)pUVar4,
			pCVar2, (undefined8 *)&local_90, (uint)*(byte *)(param_1 + 0x35), lVar9, lVar8,
			(int *)pCVar10, (uint)*(byte *)(param_1 + 0x34));
		uVar6 = 0x800000;
		if ((*(ulong *)(param_1 + 0x30) & 0x800000) != 0x0) {
			uVar6 = *(uint *)((int)lVar8 + 0x4) & 0xffffffef;
			*(uint *)((int)lVar8 + 0x4) = uVar6;
		}
	}
	return uVar6;
}



void FUN_0024d9d0(int param_1, int *param_2)

{
	ushort uVar1;
	uint uVar2;
	ushort *puVar3;
	ulong uVar4;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	do {
		uVar4 = FUN_00208818((int)local_30);
		if (uVar4 != 0x0) {
			return;
		}
		puVar3 = (ushort *)
			(**(code **)(local_30[0] + 0x24))((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		uVar1 = *puVar3;
		if (uVar1 == 0x6d) {
			*(undefined2 *)(param_1 + 0xc) = (short)*(undefined4 *)(puVar3 + 0x2);
		}
		else {
			if (uVar1 < 0x6e) {
				if (uVar1 == 0x12) {
					*(undefined *)(param_1 + 0xe) = (char)*(undefined4 *)(puVar3 + 0x2);
				}
			}
			else {
				if ((uVar1 == 0xffff) && (*(char *)(puVar3 + 0x1) == '\x04')) {
					uVar2 = *(uint *)(puVar3 + 0x2);
					if (uVar2 == 0x36) {
						uVar4 = *(ulong *)(param_1 + 0x8) & 0xf8ffffffffffffff | 0x100000000000000;
					}
					else {
						if (uVar2 < 0x37) {
							if (uVar2 != 0x35) goto LAB_0024db5c;
							uVar4 = *(ulong *)(param_1 + 0x8) & 0xf8ffffffffffffff | 0x200000000000000;
						}
						else {
							if (uVar2 == 0x37) {
								uVar4 = *(ulong *)(param_1 + 0x8) & 0xf8ffffffffffffff | 0x300000000000000;
							}
							else {
								if (uVar2 != 0x4e) goto LAB_0024db5c;
								uVar4 = *(ulong *)(param_1 + 0x8) | 0x2000000000000000;
							}
						}
					}
					*(ulong *)(param_1 + 0x8) = uVar4;
				}
			}
		}
	LAB_0024db5c:
		FUN_00208830((int)local_30);
	} while (true);
}



// WARNING: Type propagation algorithm not settling

void FUN_0024db90(int param_1, undefined8 param_2, int param_3)

{
	int iVar1;
	GameNode *pGVar2;
	GameNode *pGVar3;
	void *pvVar4;
	astruct_21 **ppaVar5;
	ulong uVar6;
	long lVar7;
	short sVar8;
	byte bVar9;
	int *piVar10;
	astruct_21 *paVar11;
	int iVar12;
	long lVar13;
	long lVar14;
	undefined auStack80[0x10];
	astruct_22 local_40;

	lVar14 = (long)(int)auStack80;
	iVar1 = **(int **)(param_3 + 0x4);
	if (-0x1 < *(char *)(iVar1 + 0x4)) {
		return;
	}
	pGVar3 = GetGameNode((NodeList *)(iVar1 + 0xd4), 0x6);
	lVar13 = 0x0;
	if ((*(byte *)(param_1 + 0xf) & 0x7) == 0x0) {
		if (*(byte *)(param_1 + 0xe) == 0xff) {
		LAB_0024dc5c:
			lVar13 = FUN_00196e00((int)pGVar3);
		}
		else {
			lVar13 = FUN_00196d88((int)pGVar3, (ulong)*(byte *)(param_1 + 0xe), 0x0, 0x0);
		}
	}
	else {
		if ((*(byte *)(param_1 + 0xf) & 0x7) < 0x4) {
			if (*(byte *)(param_1 + 0xe) == 0xff) goto LAB_0024dc5c;
			lVar13 = FUN_00196d88((int)pGVar3, (ulong)*(byte *)(param_1 + 0xe), lVar14, 0x0);
		}
	}
	if (lVar13 == 0x0) {
		return;
	}
	if (((uint)pGVar3[0x1].ChunkNode & 0x1f) == 0x0) {
		*(uint *)(iVar1 + 0x4) = *(uint *)(iVar1 + 0x4) & 0xffffff7f;
		uVar6 = *(ulong *)(param_1 + 0x8);
	}
	else {
		uVar6 = *(ulong *)(param_1 + 0x8);
	}
	iVar12 = (int)lVar13;
	if ((uVar6 & 0x2000000000000000) != 0x0) {
		*(uint *)(iVar12 + 0x4) = *(uint *)(iVar12 + 0x4) & 0xfffffeff;
	}
	*(undefined4 *)(iVar12 + 0xd0) = 0x0;
	*(uint *)(iVar12 + 0x4) = *(uint *)(iVar12 + 0x4) & 0xffffffbf;
	pGVar3 = GetGameNode((NodeList *)(iVar12 + 0xd4), 0x1);
	if (pGVar3 == (GameNode *)0x0) {
		sVar8 = *(short *)(param_1 + 0xc);
		goto LAB_0024ddcc;
	}
	if (*(char *)(iVar12 + 0x5) < '\0') {
		(**(code **)(pGVar3->methods + 0xdc))
			(0x3dcccccd, (int)&pGVar3->ChunkNode + (int)*(short *)(pGVar3->methods + 0xd8), iVar1);
	}
	bVar9 = *(byte *)(param_1 + 0xf) & 0x7;
	if (bVar9 == 0x1) {
		(**(code **)(pGVar3->methods + 0xd4))
			(0xbf800000, (int)&pGVar3->ChunkNode + (int)*(short *)(pGVar3->methods + 0xd0), lVar14)
			;
		sVar8 = *(short *)(param_1 + 0xc);
		goto LAB_0024ddcc;
	}
	if ((*(byte *)(param_1 + 0xf) & 0x7) == 0x0) {
	LAB_0024ddc8:
		sVar8 = *(short *)(param_1 + 0xc);
	}
	else {
		if (bVar9 != 0x2) {
			if (bVar9 != 0x3) {
				sVar8 = *(short *)(param_1 + 0xc);
				goto LAB_0024ddcc;
			}
			pGVar2 = pGVar3[0x5].prevNode[0x2].nextNode;
			lVar7 = (**(code **)&pGVar2[0x1].field_0x4)
				((int)&(pGVar3[0x5].prevNode)->ChunkNode +
				(int)*(short *)&pGVar2[0x1].ChunkNode);
			if (lVar7 == 0x0) {
				(**(code **)(pGVar3->methods + 0xd4))
					(0xbf800000, (int)&pGVar3->ChunkNode + (int)*(short *)(pGVar3->methods + 0xd0),
						lVar14);
				goto LAB_0024ddc8;
			}
		}
		pGVar2 = pGVar3[0x5].prevNode[0x2].nextNode;
		(*(code *)pGVar2[0x1].prevNode)
			((int)&(pGVar3[0x5].prevNode)->ChunkNode + (int)*(short *)&pGVar2[0x1].field_0x8);
		sVar8 = *(short *)(param_1 + 0xc);
	}
LAB_0024ddcc:
	if (sVar8 != -0x1) {
		if (iVar1 == 0x0) {
			local_40.field_0x0 = (astruct_21 *)0x0;
		}
		else {
			if (*(int *)(iVar1 + 0xb0) == 0x0) {
				piVar10 = (int *)MemoryAllocate(0x8);
				*piVar10 = iVar1;
				piVar10[0x1] = piVar10[0x1] & 0xfe000000;
				*(int **)(iVar1 + 0xb0) = piVar10;
				iVar12 = *(int *)(iVar1 + 0xb0);
			}
			else {
				iVar12 = *(int *)(iVar1 + 0xb0);
			}
			*(uint *)(iVar12 + 0x4) =
				*(uint *)(iVar12 + 0x4) & 0xff000000 |
				(*(uint *)(iVar12 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
			local_40.field_0x0 = *(astruct_21 **)(iVar1 + 0xb0);
		}
		pvVar4 = MemoryAllocate(0x14);
		lVar14 = FUN_0011eb70((long)(int)pvVar4, *(undefined2 *)(param_1 + 0xc), (int **)&local_40, 0x2);
		paVar11 = (astruct_21 *)lVar14;
		if (lVar14 == 0x0) {
			local_40.field_0x0 = (astruct_21 *)0x0;
		}
		else {
			if (paVar11->field_0x0 == (astruct_22 *)0x0) {
				ppaVar5 = (astruct_21 **)MemoryAllocate(0x8);
				*ppaVar5 = paVar11;
				ppaVar5[0x1] = (astruct_21 *)((uint)ppaVar5[0x1] & 0xfe000000 | 0x1000000);
				*(astruct_21 ***)&paVar11->field_0x0 = ppaVar5;
				piVar10 = (int *)paVar11->field_0x0;
			}
			else {
				piVar10 = (int *)paVar11->field_0x0;
			}
			piVar10[0x1] = piVar10[0x1] & 0xff000000U | (piVar10[0x1] & 0xffffffU) + 0x1 & 0xffffff;
			local_40.field_0x0 = (astruct_21 *)paVar11->field_0x0;
		}
		FUN_001981c0((char)lVar13, &local_40);
	}
	return;
}



void FUN_0024df20(int param_1, int *param_2)

{
	undefined2 uVar1;
	short *psVar2;
	ulong uVar3;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	do {
		uVar3 = FUN_00208818((int)local_30);
		if (uVar3 != 0x0) {
			return;
		}
		psVar2 = (short *)(**(code **)(local_30[0] + 0x24))
			((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		if (*psVar2 == 0x6d) {
		LAB_0024dfac:
			uVar1 = (undefined2)*(undefined4 *)(psVar2 + 0x2);
		LAB_0024dfb0:
			*(undefined2 *)(param_1 + 0xc) = uVar1;
		}
		else {
			if (*psVar2 == -0x1) {
				if (*(char *)(psVar2 + 0x1) == '\x04') {
					if (*(int *)(psVar2 + 0x2) == 0x4e) {
						*(uint *)(param_1 + 0xc) = *(uint *)(param_1 + 0xc) | 0x10000;
						goto LAB_0024dfac;
					}
					uVar1 = (undefined2)*(undefined4 *)(psVar2 + 0x2);
				}
				else {
					uVar1 = (undefined2)*(undefined4 *)(psVar2 + 0x2);
				}
				goto LAB_0024dfb0;
			}
		}
		FUN_00208830((int)local_30);
	} while (true);
}



// WARNING: Type propagation algorithm not settling

void FUN_0024dfe8(int param_1, undefined8 param_2, int param_3)

{
	int iVar1;
	int iVar2;
	GameNode *pGVar3;
	void *pvVar4;
	astruct_21 **ppaVar5;
	long lVar6;
	int iVar7;
	int *piVar8;
	astruct_21 *paVar9;
	astruct_22 local_40;

	piVar8 = *(int **)(param_3 + 0x4);
	iVar1 = *piVar8;
	if (*(char *)(iVar1 + 0x4) < '\0') {
		pGVar3 = GetGameNode((NodeList *)(iVar1 + 0xd4), 0x6);
		if (piVar8[0x47] == 0x0) {
			iVar2 = piVar8[0x47];
		}
		else {
			if (((*(uint *)(piVar8[0x47] + 0x4) & 0x1) != 0x0) && ((piVar8[0x22] & 0x100000U) == 0x0)) {
				piVar8[0x47] = 0x0;
			}
			iVar2 = piVar8[0x47];
		}
		if ((iVar2 != 0x0) &&
			(FUN_00196cb0((int)pGVar3, iVar2, 0x0, 0x1, 0x0), *(short *)(param_1 + 0xc) != -0x1)) {
			if (iVar1 == 0x0) {
				local_40.field_0x0 = (astruct_21 *)0x0;
			}
			else {
				if (*(int *)(iVar1 + 0xb0) == 0x0) {
					piVar8 = (int *)MemoryAllocate(0x8);
					*piVar8 = iVar1;
					piVar8[0x1] = piVar8[0x1] & 0xfe000000;
					*(int **)(iVar1 + 0xb0) = piVar8;
					iVar7 = *(int *)(iVar1 + 0xb0);
				}
				else {
					iVar7 = *(int *)(iVar1 + 0xb0);
				}
				*(uint *)(iVar7 + 0x4) =
					*(uint *)(iVar7 + 0x4) & 0xff000000 |
					(*(uint *)(iVar7 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
				local_40.field_0x0 = *(astruct_21 **)(iVar1 + 0xb0);
			}
			pvVar4 = MemoryAllocate(0x14);
			lVar6 = FUN_0011eb70((long)(int)pvVar4, *(undefined2 *)(param_1 + 0xc), (int **)&local_40, 0x2);
			paVar9 = (astruct_21 *)lVar6;
			if (lVar6 == 0x0) {
				local_40.field_0x0 = (astruct_21 *)0x0;
			}
			else {
				if (paVar9->field_0x0 == (astruct_22 *)0x0) {
					ppaVar5 = (astruct_21 **)MemoryAllocate(0x8);
					*ppaVar5 = paVar9;
					ppaVar5[0x1] = (astruct_21 *)((uint)ppaVar5[0x1] & 0xfe000000 | 0x1000000);
					*(astruct_21 ***)&paVar9->field_0x0 = ppaVar5;
					piVar8 = (int *)paVar9->field_0x0;
				}
				else {
					piVar8 = (int *)paVar9->field_0x0;
				}
				piVar8[0x1] = piVar8[0x1] & 0xff000000U | (piVar8[0x1] & 0xffffffU) + 0x1 & 0xffffff;
				local_40.field_0x0 = (astruct_21 *)paVar9->field_0x0;
			}
			FUN_001981c0((char)iVar2, &local_40);
		}
	}
	return;
}



void FUN_0024e1c0(int param_1, int *param_2)

{
	ushort uVar1;
	bool bVar2;
	ushort *puVar3;
	int iVar4;
	ulong uVar5;
	ulong uVar6;
	int local_40[0x4];

	FUN_00208798((long)(int)local_40, param_2);
	FUN_00208410(param_2, (uint *)(param_1 + 0x24));
	FUN_002087f8((int)local_40);
	do {
		uVar5 = FUN_00208818((int)local_40);
		if (uVar5 != 0x0) {
			bVar2 = false;
			if ((ABS(*(float *)(param_1 + 0x10)) <= 0.00005000) &&
				(bVar2 = false, ABS(*(float *)(param_1 + 0x14)) <= 0.00005000)) {
				bVar2 = true;
			}
			if (!bVar2) {
				*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x2000000000000000;
			}
			return;
		}
		puVar3 = (ushort *)
			(**(code **)(local_40[0] + 0x24))((int)local_40 + (int)*(short *)(local_40[0] + 0x20));
		iVar4 = FUN_00208528((short *)puVar3,
			(uint)((ulong)*(undefined8 *)(param_1 + 0x8) >> 0x34) & 0xff);
		uVar5 = *(ulong *)(param_1 + 0x8) & 0xf00fffffffffffff | ((long)iVar4 & 0xffU) << 0x34;
		*(ulong *)(param_1 + 0x8) = uVar5;
		iVar4 = FUN_00208550((short *)puVar3, (uint)(uVar5 >> 0x28) & 0xf);
		*(ulong *)(param_1 + 0x8) =
			*(ulong *)(param_1 + 0x8) & 0xfffff0ffffffffff | ((long)iVar4 & 0xfU) << 0x28;
		FUN_00208578((short *)puVar3, (undefined4 *)(param_1 + 0x10));
		uVar1 = *puVar3;
		if (uVar1 == 0x3c) {
			uVar5 = *(ulong *)(param_1 + 0x8) | 0x4000000000000000;
			*(undefined4 *)(param_1 + 0x28) = *(undefined4 *)(puVar3 + 0x2);
		LAB_0024e3e8:
			*(ulong *)(param_1 + 0x8) = uVar5;
		}
		else {
			if (uVar1 < 0x3d) {
				if (uVar1 == 0x6) {
					uVar5 = (ulong)*(byte *)(puVar3 + 0x2) << 0x2c;
					uVar6 = *(ulong *)(param_1 + 0x8) & 0xfff00fffffffffff;
				LAB_0024e3b4:
					*(ulong *)(param_1 + 0x8) = uVar6 | uVar5;
				}
				else {
					if (uVar1 == 0x12) {
						*(undefined *)(param_1 + 0xc) = (char)*(undefined4 *)(puVar3 + 0x2);
					}
				}
			}
			else {
				if (uVar1 == 0x6a) {
					FUN_00208680((int)puVar3, (uint *)(param_1 + 0x20));
				}
				else {
					if (uVar1 < 0x6b) {
						if (uVar1 == 0x58) {
							uVar5 = *(ulong *)(param_1 + 0x8);
							*(ulong *)(param_1 + 0x8) = uVar5 | 0x1000000000000000;
							if ((uVar5 & 0xff0000000000000) != 0xff0000000000000) {
								uVar6 = uVar5 & 0xf00fffffffffffff | 0x1000000000000000;
								uVar5 = ((long)(int)(((uint)((uVar5 | 0x1000000000000000) >> 0x34) & 0xff) + 0x1) &
									0xffU) << 0x34;
								goto LAB_0024e3b4;
							}
						}
					}
					else {
						if (((uVar1 == 0xffff) && (*(char *)(puVar3 + 0x1) == '\x04')) &&
							(*(int *)(puVar3 + 0x2) == 0x4e)) {
							uVar5 = *(ulong *)(param_1 + 0x8) | 0x8000000000000000;
							goto LAB_0024e3e8;
						}
					}
				}
			}
		}
		FUN_00208830((int)local_40);
	} while (true);
}



void FUN_0024e4a0(int param_1, undefined8 param_2, int param_3)

{
	int *piVar1;
	uint uVar2;
	GameNode *pGVar3;
	int iVar4;
	int iVar5;
	long lVar6;
	ulong uVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;
	float local_70;
	float fStack108;
	float local_68;
	undefined4 uStack100;
	float local_60;
	float fStack92;
	float local_58;
	undefined4 uStack84;

	piVar1 = *(int **)(param_3 + 0x4);
	iVar5 = *piVar1;
	if (*(char *)(iVar5 + 0x4) < '\0') {
		pGVar3 = GetGameNode((NodeList *)(iVar5 + 0xd4), 0x6);
		if (*(byte *)(param_1 + 0xc) == 0xff) {
			lVar6 = FUN_00196e00((int)pGVar3);
		}
		else {
			lVar6 = FUN_00196d88((int)pGVar3, (ulong)*(byte *)(param_1 + 0xc), 0x0, 0x0);
		}
		if (lVar6 != 0x0) {
			*(uint *)(iVar5 + 0x4) = *(uint *)(iVar5 + 0x4) & 0xffffff7f;
			iVar5 = (int)lVar6;
			uVar2 = *(uint *)(iVar5 + 0x4);
			if (*(long *)(param_1 + 0x8) < 0x0) {
				*(uint *)(iVar5 + 0x4) = uVar2 & 0xfffffeff;
				uVar2 = *(uint *)(iVar5 + 0x4);
			}
			*(undefined4 *)(iVar5 + 0xd0) = 0x0;
			*(uint *)(iVar5 + 0x4) = uVar2 & 0xffffffbf;
			pGVar3 = GetGameNode((NodeList *)(iVar5 + 0xd4), 0x1);
			if (pGVar3 != (GameNode *)0x0) {
				if ((InstanceNode *)piVar1[0x26] == (InstanceNode *)0x0) {
					iVar4 = piVar1[0x20];
				}
				else {
					iVar4 = FUN_0023c8a8((InstanceNode *)piVar1[0x26]);
				}
				fVar8 = FUN_00209a00((uint *)(param_1 + 0x20), iVar4);
				uVar7 = *(ulong *)(param_1 + 0x8);
				lVar6 = (long)(param_1 + 0x10);
				if ((uVar7 & 0x2000000000000000) == 0x0) {
					lVar6 = 0x0;
				}
				local_80 = 0.00000000;
				fStack124 = 0.00000000;
				local_78 = 0.00000000;
				local_74 = 0x3f800000;
				FUN_0022d9e8(&local_80, uVar7 >> 0x28 & 0xf, param_3, lVar6, uVar7 >> 0x34 & 0xff,
					uVar7 >> 0x2c & 0xff);
				if ((*(ulong *)(param_1 + 0x8) & 0x4000000000000000) != 0x0) {
					FUN_0023cfd8(*(float *)(param_1 + 0x28), 1.00000000, 1.00000000, 1.00000000, &local_80);
				}
				iVar5 = *(int *)(iVar5 + 0x8);
				if ((*(ulong *)(iVar5 + 0x60) & 0x4) != 0x0) {
					*(undefined4 *)(iVar5 + 0x40) = *(undefined4 *)(iVar5 + 0x30);
					*(undefined4 *)(iVar5 + 0x4c) = *(undefined4 *)(iVar5 + 0x3c);
					*(undefined4 *)(iVar5 + 0x44) = *(undefined4 *)(iVar5 + 0x34);
					*(undefined4 *)(iVar5 + 0x48) = *(undefined4 *)(iVar5 + 0x38);
					*(ulong *)(iVar5 + 0x60) = *(ulong *)(iVar5 + 0x60) & 0xfffffffffffffffa;
				}
				local_70 = *(float *)(iVar5 + 0x40);
				fStack108 = *(float *)(iVar5 + 0x44);
				local_68 = *(float *)(iVar5 + 0x48);
				uStack100 = *(undefined4 *)(iVar5 + 0x4c);
				uStack84 = local_74;
				local_60 = local_80 - local_70;
				fStack92 = 0.00000000;
				local_58 = local_78 - local_68;
				fVar11 = fStack124 - fStack108;
				fVar10 = SQRT(local_60 * local_60 + local_58 * local_58);
				if ((InstanceNode *)piVar1[0x26] == (InstanceNode *)0x0) {
					iVar5 = piVar1[0x20];
				}
				else {
					iVar5 = FUN_0023c8a8((InstanceNode *)piVar1[0x26]);
				}
				fVar9 = FUN_00209a00((uint *)(param_1 + 0x24), iVar5);
				fStack92 = fVar10 / fVar9;
				fVar9 = fVar9 / fVar10;
				local_58 = local_58 * fVar9;
				local_60 = local_60 * fVar9;
				fStack92 = (fVar11 + fVar8 * fStack92 * 0.50000000 * fStack92) / fStack92;
				(**(code **)(pGVar3->methods + 0xd4))
					(fVar8, (int)&pGVar3->ChunkNode + (int)*(short *)(pGVar3->methods + 0xd0),
						&local_60);
			}
		}
	}
	return;
}



void FUN_0024e7c0(int param_1, undefined8 param_2)

{
	ushort uVar1;
	uint uVar2;
	bool bVar3;
	ushort *puVar4;
	int iVar5;
	ulong uVar6;
	ulong uVar7;
	int local_40[0x4];

	FUN_00205fe8(param_2, param_1 + 0x20);
	FUN_00208410((int *)param_2, (uint *)(param_1 + 0xb0));
	FUN_00208798((long)(int)local_40, (int *)param_2);
	FUN_002087f8((int)local_40);
	do {
		uVar6 = FUN_00208818((int)local_40);
		if (uVar6 != 0x0) {
			bVar3 = false;
			if ((ABS(*(float *)(param_1 + 0x10)) <= 0.00005000) &&
				(bVar3 = false, ABS(*(float *)(param_1 + 0x14)) <= 0.00005000)) {
				bVar3 = true;
			}
			if (!bVar3) {
				*(ulong *)(param_1 + 0xa8) = *(ulong *)(param_1 + 0xa8) | 0x200000000;
			}
			*(uint *)(param_1 + 0x8c) = *(uint *)(param_1 + 0x8c) | 0x4000;
			return;
		}
		puVar4 = (ushort *)
			(**(code **)(local_40[0] + 0x24))((int)local_40 + (int)*(short *)(local_40[0] + 0x20));
		iVar5 = FUN_00208528((short *)puVar4,
			(uint)((ulong)(*(long *)(param_1 + 0xa8) << 0xc) >> 0x20) & 0xff);
		uVar6 = *(ulong *)(param_1 + 0xa8) & 0xfffffffff00fffff | ((long)iVar5 & 0xffU) << 0x14;
		*(ulong *)(param_1 + 0xa8) = uVar6;
		iVar5 = FUN_00208550((short *)puVar4, (uint)((uVar6 << 0x18) >> 0x20) & 0xf);
		*(ulong *)(param_1 + 0xa8) =
			*(ulong *)(param_1 + 0xa8) & 0xfffffffffffff0ff | ((long)iVar5 & 0xfU) << 0x8;
		FUN_00208578((short *)puVar4, (undefined4 *)(param_1 + 0x10));
		uVar1 = *puVar4;
		if (uVar1 == 0x58) {
			uVar6 = *(ulong *)(param_1 + 0xa8);
			*(ulong *)(param_1 + 0xa8) = uVar6 | 0x100000000;
			if ((uVar6 & 0xff00000) != 0xff00000) {
				uVar7 = uVar6 & 0xfffffffff00fffff | 0x100000000;
				uVar6 = ((long)(int)(((uint)(((uVar6 | 0x100000000) << 0xc) >> 0x20) & 0xff) + 0x1) & 0xffU)
					<< 0x14;
			LAB_0024e9a0:
				*(ulong *)(param_1 + 0xa8) = uVar7 | uVar6;
			}
		}
		else {
			if (uVar1 < 0x59) {
				if (uVar1 == 0x12) {
					*(undefined *)(param_1 + 0xa8) = (char)*(undefined4 *)(puVar4 + 0x2);
				}
				else {
					if (uVar1 < 0x13) {
						if (uVar1 == 0x6) {
							uVar6 = (ulong)*(byte *)(puVar4 + 0x2) << 0xc;
							uVar7 = *(ulong *)(param_1 + 0xa8) & 0xfffffffffff00fff;
							goto LAB_0024e9a0;
						}
					}
					else {
						if (uVar1 == 0x3c) {
							uVar6 = *(ulong *)(param_1 + 0xa8) | 0x400000000;
							*(undefined4 *)(param_1 + 0xb4) = *(undefined4 *)(puVar4 + 0x2);
						LAB_0024ea24:
							*(ulong *)(param_1 + 0xa8) = uVar6;
						}
					}
				}
			}
			else {
				if (uVar1 == 0xa0) {
					*(undefined4 *)(param_1 + 0xb8) = *(undefined4 *)(puVar4 + 0x2);
				}
				else {
					if (uVar1 < 0xa1) {
						if (uVar1 == 0x9f) {
							*(undefined4 *)(param_1 + 0xbc) = *(undefined4 *)(puVar4 + 0x2);
						}
					}
					else {
						if ((uVar1 == 0xffff) && (*(char *)(puVar4 + 0x1) == '\x04')) {
							uVar2 = *(uint *)(puVar4 + 0x2);
							if (uVar2 == 0x4e) {
								uVar7 = 0x800000000;
								uVar6 = *(ulong *)(param_1 + 0xa8);
							}
							else {
								if (uVar2 < 0x4f) goto LAB_0024ea28;
								if (uVar2 == 0x76) {
									uVar7 = 0x4000000000;
									uVar6 = *(ulong *)(param_1 + 0xa8);
								}
								else {
									if (uVar2 != 0x79) goto LAB_0024ea28;
									uVar6 = *(ulong *)(param_1 + 0xa8);
									uVar7 = 0x8000000000;
								}
							}
							uVar6 |= uVar7;
							goto LAB_0024ea24;
						}
					}
				}
			}
		}
	LAB_0024ea28:
		FUN_00208830((int)local_40);
	} while (true);
}



void FUN_0024eae8(int param_1, undefined8 param_2, int param_3)

{
	int *piVar1;
	GameNode *pGVar2;
	uint uVar3;
	GameNode *pGVar4;
	GameNode *pGVar5;
	int iVar6;
	int iVar7;
	ulong uVar8;
	long lVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;
	float local_70;
	float fStack108;
	float local_68;
	undefined4 uStack100;
	float local_60;
	float fStack92;
	float local_58;
	undefined4 uStack84;

	piVar1 = *(int **)(param_3 + 0x4);
	iVar7 = *piVar1;
	if (((piVar1[0x47] != 0x0) && ((*(uint *)(piVar1[0x47] + 0x4) & 0x1) != 0x0)) &&
		((piVar1[0x22] & 0x100000U) == 0x0)) {
		piVar1[0x47] = 0x0;
	}
	pGVar2 = (GameNode *)piVar1[0x47];
	if (pGVar2 == (GameNode *)0x0) {
		return;
	}
	if (*(char *)(iVar7 + 0x4) < '\0') {
		pGVar5 = GetGameNode((NodeList *)(iVar7 + 0xd4), 0x6);
		iVar6 = FUN_00196cb0((int)pGVar5, (int)pGVar2, 0x0, 0x1, 0x0);
		if (iVar6 == 0x0) {
			uVar8 = *(ulong *)(param_1 + 0xa8);
			goto LAB_0024ebb4;
		}
		if (((uint)pGVar5[0x1].ChunkNode & 0x1f) != 0x0) {
			uVar8 = *(ulong *)(param_1 + 0xa8);
			goto LAB_0024ebb4;
		}
		*(uint *)(iVar7 + 0x4) = *(uint *)(iVar7 + 0x4) & 0xffffff7f;
	}
	uVar8 = *(ulong *)(param_1 + 0xa8);
LAB_0024ebb4:
	if ((uVar8 & 0x800000000) != 0x0) {
		*(uint *)&pGVar2->field_0x4 = *(uint *)&pGVar2->field_0x4 & 0xfffffeff;
	}
	uVar3 = *(uint *)&pGVar2->field_0x4;
	pGVar2[0x8].nextNode = (GameNode *)0x0;
	*(uint *)&pGVar2->field_0x4 = uVar3 & 0xffffffbf;
	pGVar5 = GetGameNode((NodeList *)&pGVar2[0x8].methods, 0x1);
	lVar9 = (long)(param_1 + 0x10);
	if (pGVar5 != (GameNode *)0x0) {
		uVar8 = *(ulong *)(param_1 + 0xa8);
		if ((uVar8 & 0x200000000) == 0x0) {
			lVar9 = 0x0;
		}
		local_80 = 0.00000000;
		fStack124 = 0.00000000;
		local_78 = 0.00000000;
		local_74 = 0x3f800000;
		FUN_0022d9e8(&local_80, (long)(uVar8 << 0x18) >> 0x20 & 0xf, param_3, lVar9,
			(long)(uVar8 << 0xc) >> 0x20 & 0xff, (long)(uVar8 << 0x14) >> 0x20 & 0xff);
		if ((*(ulong *)(param_1 + 0xa8) & 0x400000000) != 0x0) {
			FUN_0023cfd8(*(float *)(param_1 + 0xb4), 1.00000000, 1.00000000, 1.00000000, &local_80);
		}
		iVar7 = pGVar2->field_0x8;
		if ((*(ulong *)(iVar7 + 0x60) & 0x4) != 0x0) {
			*(undefined4 *)(iVar7 + 0x40) = *(undefined4 *)(iVar7 + 0x30);
			*(undefined4 *)(iVar7 + 0x4c) = *(undefined4 *)(iVar7 + 0x3c);
			*(undefined4 *)(iVar7 + 0x44) = *(undefined4 *)(iVar7 + 0x34);
			*(undefined4 *)(iVar7 + 0x48) = *(undefined4 *)(iVar7 + 0x38);
			*(ulong *)(iVar7 + 0x60) = *(ulong *)(iVar7 + 0x60) & 0xfffffffffffffffa;
		}
		local_70 = *(float *)(iVar7 + 0x40);
		fStack108 = *(float *)(iVar7 + 0x44);
		local_68 = *(float *)(iVar7 + 0x48);
		uStack100 = *(undefined4 *)(iVar7 + 0x4c);
		uStack84 = local_74;
		local_60 = local_80 - local_70;
		fStack92 = 0.00000000;
		local_58 = local_78 - local_68;
		fVar11 = fStack124 - fStack108;
		fVar12 = SQRT(local_60 * local_60 + local_58 * local_58);
		if ((InstanceNode *)piVar1[0x26] == (InstanceNode *)0x0) {
			iVar7 = piVar1[0x20];
		}
		else {
			iVar7 = FUN_0023c8a8((InstanceNode *)piVar1[0x26]);
		}
		fVar10 = FUN_00209a00((uint *)(param_1 + 0xb0), iVar7);
		fStack92 = fVar12 / fVar10;
		fVar10 = fVar10 / fVar12;
		fVar12 = *(float *)(param_1 + 0xb8);
		local_58 = local_58 * fVar10;
		local_60 = local_60 * fVar10;
		fStack92 = (fVar11 + *(float *)(param_1 + 0x2c) * fStack92 * 0.50000000 * fStack92) / fStack92;
		if ((*(ulong *)(param_1 + 0xa8) & 0x8000000000) != 0x0) {
			if (piVar1[0x46] == 0x0) {
				pGVar5[0xb].nextNode = (GameNode *)0x0;
			}
			else {
				if ((*(uint *)(piVar1[0x46] + 0x4) & 0x1) != 0x0) {
					piVar1[0x46] = 0x0;
				}
				pGVar4 = (GameNode *)piVar1[0x46];
				pGVar5[0xb].nextNode = pGVar4;
				if (pGVar4 != (GameNode *)0x0) {
					pGVar4[0x1].nextNode = pGVar2;
				}
			}
		}
		FUN_00233988(*(float *)(param_1 + 0xbc), fVar12, (float **)pGVar5, (float *)(param_1 + 0x20),
			&local_60);
	}
	return;
}



void FUN_0024ee40(int param_1, int *param_2)

{
	ushort uVar1;
	bool bVar2;
	ushort *puVar3;
	ulong uVar4;
	ulong uVar5;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x10), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x1c) = 0x3f800000;
	FUN_002087f8((int)local_30);
	do {
		uVar4 = FUN_00208818((int)local_30);
		if (uVar4 != 0x0) {
			bVar2 = false;
			if ((ABS(*(float *)(param_1 + 0x10)) <= 0.00005000) &&
				(bVar2 = false, ABS(*(float *)(param_1 + 0x14)) <= 0.00005000)) {
				bVar2 = true;
			}
			if (!bVar2) {
				*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x20000000000000;
			}
			return;
		}
		puVar3 = (ushort *)
			(**(code **)(local_30[0] + 0x24))((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		uVar1 = *puVar3;
		if (uVar1 == 0x6) {
			*(undefined *)(param_1 + 0xc) = (char)*(undefined4 *)(puVar3 + 0x2);
			goto switchD_0024ef50_caseD_6;
		}
		if (uVar1 < 0x7) {
			if (uVar1 == 0x1) {
				*(undefined4 *)(param_1 + 0x14) = *(undefined4 *)(puVar3 + 0x2);
			}
			else {
				if (uVar1 < 0x2) {
					if (uVar1 == 0x0) {
						*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(puVar3 + 0x2);
					}
				}
				else {
					if (uVar1 == 0x2) {
						*(undefined4 *)(param_1 + 0x18) = *(undefined4 *)(puVar3 + 0x2);
					}
				}
			}
			goto switchD_0024ef50_caseD_6;
		}
		if (uVar1 == 0x58) {
			*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x10000000000000;
			if (*(char *)(param_1 + 0xd) != -0x1) {
				*(char *)(param_1 + 0xd) = *(char *)(param_1 + 0xd) + '\x01';
			}
			goto switchD_0024ef50_caseD_6;
		}
		if (uVar1 < 0x59) {
			if (uVar1 == 0x7) {
				*(char *)(param_1 + 0xd) = (char)*(undefined4 *)(puVar3 + 0x2) + -0x1;
			}
			goto switchD_0024ef50_caseD_6;
		}
		if ((uVar1 != 0xffff) || (*(char *)(puVar3 + 0x1) != '\x04')) goto switchD_0024ef50_caseD_6;
		switch (*(undefined4 *)(puVar3 + 0x2)) {
		case 0x2:
			*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) & 0xfff0ffffffffffff;
			break;
		case 0x3:
			uVar5 = 0x1000000000000;
			uVar4 = *(ulong *)(param_1 + 0x8);
			goto LAB_0024f030;
		case 0x4:
			uVar5 = 0x2000000000000;
			uVar4 = *(ulong *)(param_1 + 0x8);
			goto LAB_0024f030;
		case 0x5:
			uVar4 = *(ulong *)(param_1 + 0x8);
			uVar5 = 0x3000000000000;
			goto LAB_0024f030;
		case 0x21:
			uVar5 = 0x7000000000000;
			uVar4 = *(ulong *)(param_1 + 0x8);
		LAB_0024f030:
			*(ulong *)(param_1 + 0x8) = uVar4 & 0xfff0ffffffffffff | uVar5;
			break;
		case 0x24:
			*(undefined *)(param_1 + 0xd) = 0xfe;
			break;
		case 0x25:
			*(undefined *)(param_1 + 0xd) = 0xfd;
		}
	switchD_0024ef50_caseD_6:
		FUN_00208830((int)local_30);
	} while (true);
}



// WARNING: Type propagation algorithm not settling

void FUN_0024f160(int param_1, undefined8 param_2, int param_3)

{
	ChunkNode *pCVar1;
	UnkChunkRelatedData *pUVar2;
	TransformedGeometyPoint *pTVar3;
	GameNode *pGVar4;
	int iVar5;
	GameNode *pGVar6;
	ulong uVar7;
	long lVar8;
	int iVar9;
	int iVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	int local_130[0x20];
	int *local_b0;
	ushort local_ac;
	undefined2 local_aa;
	undefined4 local_a8;
	uint local_a4;
	undefined4 local_a0;
	undefined4 local_9c;
	undefined4 local_98;
	undefined4 local_94;
	undefined4 local_90;
	Vector4 VStack128;
	Vector4 VStack112;
	Vector4 local_60;
	float local_50;
	float fStack76;
	float local_48;
	undefined4 uStack68;

	local_b0 = local_130;
	lVar8 = (long)(param_1 + 0x10);
	pCVar1 = (ChunkNode *)(*(ChunkNode **)(param_3 + 0x4))->field_0x0;
	pUVar2 = pCVar1->chunkData_;
	local_aa = 0x20;
	local_ac = 0x0;
	local_a8 = 0x7149f2ca;
	local_9c = 0x1;
	local_a4 = local_a4 & 0xfffffffe | 0x2;
	local_98 = 0x0;
	local_90 = 0x0;
	local_94 = 0x0;
	local_60.x = 0.00000000;
	local_60.y = 0.00000000;
	if ((*(ulong *)(param_1 + 0x8) & 0x20000000000000) == 0x0) {
		lVar8 = 0x0;
	}
	local_60.z = 0.00000000;
	local_a0 = 0x10;
	local_60.w = 1.00000000;
	FUN_0022d9e8((float *)&local_60, *(ulong *)(param_1 + 0x8) >> 0x30 & 0xf, param_3, lVar8,
		(ulong)*(byte *)(param_1 + 0xd), (ulong)*(byte *)(param_1 + 0xc));
	MovePositionFromPos2ToPos1(&VStack128, &local_60);
	local_60.y = local_60.y + 4.00000000;
	MovePositionFromPos2ToPos1(&VStack112, &local_60);
	FUN_001f0458((int)&local_b0, pCVar1);
	FUN_001f1ed0((int)pUVar2, (long)(int)&VStack128, 0x2, (int *)&local_b0, 0x0);
	if (local_ac != 0x0) {
		pTVar3 = pCVar1->transformMatrixPtr;
		iVar10 = 0x0;
		if ((pTVar3->unkBitfield & 0x4) != 0x0) {
			fVar13 = (pTVar3->transformMatrix).wComponents.y;
			fVar11 = (pTVar3->transformMatrix).wComponents.z;
			fVar12 = (pTVar3->transformMatrix).wComponents.w;
			(pTVar3->positionVector).x = (pTVar3->transformMatrix).wComponents.x;
			(pTVar3->positionVector).w = fVar12;
			(pTVar3->positionVector).y = fVar13;
			(pTVar3->positionVector).z = fVar11;
			pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffffa;
		}
		local_60.x = (pTVar3->positionVector).x;
		local_60.y = (pTVar3->positionVector).y;
		local_60.z = (pTVar3->positionVector).z;
		uVar7 = 0x0;
		local_60.w = (pTVar3->positionVector).w;
		if (local_ac != 0x0) {
			iVar5 = 0x0;
			fVar11 = 1000000015047466219876688855040.00000000;
			iVar9 = iVar10;
			do {
				iVar10 = *(int *)((int)local_130 + iVar5);
				iVar5 = *(int *)(iVar10 + 0x8);
				if ((*(ulong *)(iVar5 + 0x60) & 0x4) != 0x0) {
					*(undefined4 *)(iVar5 + 0x40) = *(undefined4 *)(iVar5 + 0x30);
					*(undefined4 *)(iVar5 + 0x4c) = *(undefined4 *)(iVar5 + 0x3c);
					*(undefined4 *)(iVar5 + 0x44) = *(undefined4 *)(iVar5 + 0x34);
					*(undefined4 *)(iVar5 + 0x48) = *(undefined4 *)(iVar5 + 0x38);
					*(ulong *)(iVar5 + 0x60) = *(ulong *)(iVar5 + 0x60) & 0xfffffffffffffffa;
				}
				uStack68 = *(undefined4 *)(iVar5 + 0x4c);
				local_50 = *(float *)(iVar5 + 0x40) - local_60.x;
				fStack76 = *(float *)(iVar5 + 0x44) - local_60.y;
				local_48 = *(float *)(iVar5 + 0x48) - local_60.z;
				fVar12 = local_50 * local_50 + fStack76 * fStack76 + local_48 * local_48;
				if (fVar12 <= fVar11) {
					fVar12 = fVar11;
					iVar10 = iVar9;
				}
				uVar7 = (long)((int)uVar7 + 0x1) & 0xffff;
				iVar5 = (int)uVar7 << 0x2;
				fVar11 = fVar12;
				iVar9 = iVar10;
			} while (uVar7 < local_ac);
		}
		if (iVar10 != 0x0) {
			pGVar6 = GetGameNode((NodeList *)(iVar10 + 0xd4), 0x1);
			pGVar4 = pGVar6[0x5].prevNode[0x2].nextNode;
			(*(code *)pGVar4[0x1].prevNode)
				((int)&(pGVar6[0x5].prevNode)->ChunkNode + (int)*(short *)&pGVar4[0x1].field_0x8);
			if ((*(uint *)(iVar10 + 0x4) & 0x200) == 0x0) {
				*(uint *)(iVar10 + 0x4) = *(uint *)(iVar10 + 0x4) | 0x200;
			}
		}
	}
	return;
}



void FUN_0024f428(int param_1, int *param_2)

{
	short *psVar1;
	uint uVar2;
	ulong uVar3;
	uint uVar4;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	do {
		uVar3 = FUN_00208818((int)local_30);
		if (uVar3 != 0x0) {
			return;
		}
		psVar1 = (short *)(**(code **)(local_30[0] + 0x24))
			((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		if (*psVar1 == 0xd6) {
			*(undefined4 *)(param_1 + 0xc) = *(undefined4 *)(psVar1 + 0x2);
			goto switchD_0024f4b8_caseD_9c;
		}
		if ((*psVar1 != -0x1) || (*(char *)(psVar1 + 0x1) != '\x04')) goto switchD_0024f4b8_caseD_9c;
		switch (*(undefined4 *)(psVar1 + 0x2)) {
		case 0x99:
			uVar4 = 0xfffffffb;
			uVar2 = *(uint *)(param_1 + 0x10) & 0xfffffffd | 0x1;
			break;
		case 0x9a:
			uVar4 = 0xfffffffb;
			uVar2 = *(uint *)(param_1 + 0x10) & 0xfffffffe | 0x2;
			break;
		case 0x9b:
			*(uint *)(param_1 + 0x10) = *(uint *)(param_1 + 0x10) & 0xfffffffc | 0x4;
		default:
			goto switchD_0024f4b8_caseD_9c;
		case 0xbf:
			uVar4 = 0xffffffdf;
			uVar2 = *(uint *)(param_1 + 0x10) & 0xffffffef | 0x8;
			break;
		case 0xc0:
			uVar4 = 0xffffffdf;
			uVar2 = *(uint *)(param_1 + 0x10) & 0xfffffff7 | 0x10;
			break;
		case 0xc1:
			*(uint *)(param_1 + 0x10) = *(uint *)(param_1 + 0x10) & 0xffffffe7 | 0x20;
			goto switchD_0024f4b8_caseD_9c;
		}
		*(uint *)(param_1 + 0x10) = uVar2 & uVar4;
	switchD_0024f4b8_caseD_9c:
		FUN_00208830((int)local_30);
	} while (true);
}



// WARNING: Type propagation algorithm not settling

uint FUN_0024f5a0(int param_1, int param_2, float *param_3)

{
	int iVar1;
	int iVar2;
	TransformedGeometyPoint *pTVar3;
	undefined uVar4;
	GameNode *pGVar5;
	float fVar6;
	uint uVar7;
	float fVar9;
	undefined8 uVar8;
	float fVar10;
	undefined *puVar11;
	Vector4 *pVVar12;
	ChunkNode *pCVar13;
	float fVar14;
	Vector4 local_d0;
	uint local_c0[0x4];
	uint local_b0;
	uint local_a0;
	undefined auStack144[0x10];
	uint local_80[0x4];
	uint local_70;
	undefined auStack96[0x10];
	uint local_50[0x4];
	float local_40;

	iVar1 = *(int *)(*(uint *)param_3[0x1] + 0xd0);
	if (iVar1 == 0x0) {
		return *(uint *)param_3[0x1];
	}
	pGVar5 = GetGameNode((NodeList *)(iVar1 + 0xd4), 0x1);
	iVar2 = pGVar5[0xc].field_0x8;
	uVar7 = *(uint *)(param_1 + 0x10);
	fVar6 = *(float *)(iVar2 + 0x20);
	fVar9 = *(float *)(iVar2 + 0x24);
	fVar10 = *(float *)(iVar2 + 0x28);
	if ((uVar7 & 0x8) == 0x0) {
		if ((uVar7 & 0x10) != 0x0) {
			pTVar3 = *(TransformedGeometyPoint **)(iVar1 + 0x8);
			RotateAndTranslate_(pTVar3);
			uVar8 = *(undefined8 *)&(pTVar3->transformMatrix).yComponents;
			local_d0.z = (pTVar3->transformMatrix).yComponents.z;
			goto LAB_0024f644;
		}
		if ((uVar7 & 0x20) != 0x0) {
			pTVar3 = *(TransformedGeometyPoint **)(iVar1 + 0x8);
			RotateAndTranslate_(pTVar3);
			uVar8 = *(undefined8 *)&(pTVar3->transformMatrix).zComponents;
			local_d0.z = (pTVar3->transformMatrix).zComponents.z;
			goto LAB_0024f644;
		}
	}
	else {
		pTVar3 = *(TransformedGeometyPoint **)(iVar1 + 0x8);
		RotateAndTranslate_(pTVar3);
		uVar8 = *(undefined8 *)&(pTVar3->transformMatrix).xComponents;
		local_d0.z = (pTVar3->transformMatrix).xComponents.z;
	LAB_0024f644:
		local_d0.x = (float)uVar8;
		local_d0.y = (float)((ulong)uVar8 >> 0x20);
	}
	local_d0.w = 1.00000000;
	fVar14 = RSQRT(0.00000000, &local_d0);
	local_d0.x = local_d0.x * fVar14;
	local_d0.y = local_d0.y * fVar14;
	local_d0.z = local_d0.z * fVar14;
	if (*(int *)((int)param_3[0x1] + 0x8) == 0x0) {
		local_40 = 0.00000000;
	}
	else {
		local_40 = (float)(*(int *)(param_2 + 0x4) - *(int *)((int)param_3[0x1] + 0x8)) * DAT_00309b80;
	}
	FUN_0011bf10((local_d0.x * fVar6 + local_d0.y * fVar9 + local_d0.z * fVar10) *
		*(float *)(param_1 + 0xc) * local_40, (int *)local_c0, 0x1);
	uVar7 = *(uint *)(param_1 + 0x10);
	if ((uVar7 & 0x1) == 0x0) {
		if ((uVar7 & 0x2) == 0x0) {
			if ((uVar7 & 0x4) == 0x0) {
				return local_c0[0];
			}
			pCVar13 = (ChunkNode *)((ChunkNode *)param_3[0x1])->field_0x0;
			local_b0 = local_c0[0];
			local_a0 = local_c0[0];
			pTVar3 = pCVar13->transformMatrixPtr;
			if (local_c0[0] == 0x0) {
				uVar4 = 0x0;
			}
			else {
				pVVar12 = &pTVar3->rotationVector;
				if ((pTVar3->unkBitfield & 0x8) != 0x0) {
					FUN_00187090(pVVar12, pTVar3);
					pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffff5;
				}
				pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffff7 | 0x2;
				local_80[0] = local_a0;
				FUN_0018de40(auStack144, local_80);
				FUN_0018dce8(pVVar12, pVVar12, auStack144);
				uVar4 = 0x1;
			}
			if (!(bool)uVar4) {
				return 0x0;
			}
			uVar7 = FUN_001977d8(pCVar13);
			return uVar7;
		}
		pCVar13 = (ChunkNode *)((ChunkNode *)param_3[0x1])->field_0x0;
		local_b0 = local_c0[0];
		local_70 = local_c0[0];
		pTVar3 = pCVar13->transformMatrixPtr;
		if (local_c0[0] != 0x0) {
			pVVar12 = &pTVar3->rotationVector;
			if ((pTVar3->unkBitfield & 0x8) != 0x0) {
				FUN_00187090(pVVar12, pTVar3);
				pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffff5;
			}
			pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffff7 | 0x2;
			local_50[0] = local_70;
			FUN_0018ddb0(auStack96, local_50);
			puVar11 = auStack96;
		LAB_0024f82c:
			FUN_0018dce8(pVVar12, pVVar12, puVar11);
			uVar7 = 0x1;
			goto LAB_0024f838;
		}
	}
	else {
		pCVar13 = (ChunkNode *)((ChunkNode *)param_3[0x1])->field_0x0;
		local_b0 = local_c0[0];
		local_a0 = local_c0[0];
		pTVar3 = pCVar13->transformMatrixPtr;
		if (local_c0[0] != 0x0) {
			pVVar12 = &pTVar3->rotationVector;
			if ((pTVar3->unkBitfield & 0x8) != 0x0) {
				FUN_00187090(pVVar12, pTVar3);
				pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffff5;
			}
			pTVar3->unkBitfield = pTVar3->unkBitfield & 0xfffffffffffffff7 | 0x2;
			local_80[0] = local_a0;
			FUN_0018dd20(auStack144, local_80);
			puVar11 = auStack144;
			goto LAB_0024f82c;
		}
	}
	local_b0 = local_c0[0];
	uVar7 = 0x0;
LAB_0024f838:
	if (uVar7 != 0x0) {
		uVar7 = FUN_001977d8(pCVar13);
	}
	return uVar7;
}



void FUN_0024f928(int param_1, int *param_2)

{
	ushort uVar1;
	ushort *puVar2;
	ulong uVar3;
	ulong uVar4;
	int local_40[0x4];

	FUN_00208798((long)(int)local_40, param_2);
	*(uint *)(param_1 + 0xc) = *(uint *)(param_1 + 0xc) & 0xfffffff9 | 0x4;
	FUN_002099a0(0x0, (uint *)(param_1 + 0xc));
	*(uint *)(param_1 + 0x10) = *(uint *)(param_1 + 0x10) & 0xfffffff9 | 0x4;
	FUN_002099a0(0x0, (uint *)(param_1 + 0x10));
	*(uint *)(param_1 + 0x14) = *(uint *)(param_1 + 0x14) & 0xfffffff9 | 0x4;
	FUN_002099a0(0x0, (uint *)(param_1 + 0x14));
	FUN_002087f8((int)local_40);
	while (uVar3 = FUN_00208818((int)local_40), uVar3 == 0x0) {
		puVar2 = (ushort *)
			(**(code **)(local_40[0] + 0x24))((int)local_40 + (int)*(short *)(local_40[0] + 0x20));
		uVar1 = *puVar2;
		if (uVar1 == 0x1) {
			FUN_00208680((int)puVar2, (uint *)(param_1 + 0x10));
		}
		else {
			if (uVar1 < 0x2) {
				if (uVar1 == 0x0) {
					FUN_00208680((int)puVar2, (uint *)(param_1 + 0xc));
				}
			}
			else {
				if (uVar1 == 0x2) {
					FUN_00208680((int)puVar2, (uint *)(param_1 + 0x14));
				}
				else {
					if ((uVar1 == 0xffff) && (*(char *)(puVar2 + 0x1) == '\x04')) {
						if (*(int *)(puVar2 + 0x2) == 0x0) {
							uVar4 = 0xfffffffffffffffd;
							uVar3 = *(ulong *)(param_1 + 0x30) | 0x1;
						}
						else {
							if (*(int *)(puVar2 + 0x2) == 0x1) {
								uVar4 = 0xfffffffffffffffe;
								uVar3 = *(ulong *)(param_1 + 0x30) | 0x2;
							}
							else {
								uVar4 = 0xfffffffffffffffe;
								uVar3 = *(ulong *)(param_1 + 0x30) & 0xfffffffffffffffd;
							}
						}
						*(ulong *)(param_1 + 0x30) = uVar3 & uVar4;
					}
				}
			}
		}
		FUN_00208830((int)local_40);
	}
	return;
}



void FUN_0024fad0(int param_1, undefined8 param_2, int param_3)

{
	InstanceNode *pIVar1;
	int iVar2;
	uint uVar3;
	GameNode *pGVar4;
	GameNode *pGVar6;
	ulong uVar5;
	GameNode *pGVar7;
	undefined *puVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	int local_e0[0x20];
	int *local_60;
	undefined2 local_5c;
	undefined2 local_5a;
	undefined4 local_58;
	uint local_54;
	undefined4 local_50;
	undefined4 local_4c;
	undefined4 local_48;
	undefined4 local_44;
	undefined4 local_40;

	local_60 = local_e0;
	pIVar1 = *(InstanceNode **)(*(int *)(param_3 + 0x4) + 0x98);
	if (pIVar1 == (InstanceNode *)0x0) {
		iVar2 = *(int *)(*(int *)(param_3 + 0x4) + 0x80);
	}
	else {
		iVar2 = FUN_0023c8a8(pIVar1);
	}
	fVar9 = FUN_00209a00((uint *)(param_1 + 0xc), iVar2);
	fVar10 = FUN_00209a00((uint *)(param_1 + 0x10), iVar2);
	fVar11 = FUN_00209a00((uint *)(param_1 + 0x14), iVar2);
	*(float *)(param_1 + 0x20) = fVar9;
	*(float *)(param_1 + 0x28) = fVar11;
	*(undefined4 *)(param_1 + 0x2c) = 0x3f800000;
	*(float *)(param_1 + 0x24) = fVar10;
	local_5a = 0x20;
	local_5c = 0x0;
	local_58 = 0x7149f2ca;
	local_4c = 0x1;
	local_50 = 0x0;
	local_48 = 0x0;
	local_54 = local_54 & 0xfffffffe | 0x2;
	local_40 = 0x0;
	local_44 = 0x0;
	uVar3 = FUN_001ed750(*(int *)(**(int **)(param_3 + 0x4) + 0xa0),
		(long)(**(int **)(param_3 + 0x4) + 0x40), 0x80, (int *)&local_60);
	if (uVar3 != 0x0) {
		pGVar4 = GetGameNode((NodeList *)(local_e0[0] + 0xd4), 0x7);
		pGVar6 = *(GameNode **)(param_1 + 0x24);
		pGVar7 = *(GameNode **)(param_1 + 0x28);
		puVar8 = *(undefined **)(param_1 + 0x2c);
		pGVar4[0xf].field_0x8 = *(undefined4 *)(param_1 + 0x20);
		pGVar4[0xf].prevNode = pGVar6;
		pGVar4[0xf].nextNode = pGVar7;
		pGVar4[0xf].methods = puVar8;
		if ((*(ulong *)(param_1 + 0x30) & 0x1) == 0x0) {
			if ((*(ulong *)(param_1 + 0x30) & 0x2) == 0x0) {
				return;
			}
			uVar5 = *(ulong *)(pGVar4 + 0x10) & 0xfffffffffffffffe;
		}
		else {
			uVar5 = *(ulong *)(pGVar4 + 0x10) & 0xfffffffffffffffe | 0x1;
		}
		*(ulong *)(pGVar4 + 0x10) = uVar5;
	}
	return;
}



void FUN_0024fc40(undefined8 param_1, undefined8 param_2, int param_3)

{
	uint uVar1;
	int local_c0[0x20];
	int *local_40;
	undefined2 local_3c;
	undefined2 local_3a;
	undefined4 local_38;
	uint local_34;
	undefined4 local_30;
	undefined4 local_2c;
	undefined4 local_28;
	undefined4 local_24;
	undefined4 local_20;

	local_40 = local_c0;
	local_3a = 0x20;
	local_3c = 0x0;
	local_38 = 0x7149f2ca;
	local_2c = 0x1;
	local_30 = 0x0;
	local_28 = 0x0;
	local_34 = local_34 & 0xfffffffe | 0x2;
	local_20 = 0x0;
	local_24 = 0x0;
	uVar1 = FUN_001ed750(*(int *)(**(int **)(param_3 + 0x4) + 0xa0),
		(long)(**(int **)(param_3 + 0x4) + 0x40), 0x100, (int *)&local_40);
	if (uVar1 != 0x0) {
		(**(code **)(*(int *)(local_c0[0] + 0xa4) + 0x1c))
			(local_c0[0] + *(short *)(*(int *)(local_c0[0] + 0xa4) + 0x18));
	}
	return;
}



void FUN_0024fce0(int param_1, int *param_2)

{
	ushort uVar1;
	undefined uVar2;
	ushort *puVar3;
	int iVar4;
	uint uVar5;
	ulong uVar6;
	uint uVar7;
	uint uVar8;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	do {
		uVar6 = FUN_00208818((int)local_30);
		if (uVar6 != 0x0) {
			return;
		}
		puVar3 = (ushort *)
			(**(code **)(local_30[0] + 0x24))((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		iVar4 = FUN_00208528((short *)puVar3, (uint)*(byte *)(param_1 + 0xe));
		*(undefined *)(param_1 + 0xe) = (char)iVar4;
		uVar1 = *puVar3;
		if (uVar1 == 0xfa) {
			*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) & 0xfffffff9;
			FUN_00208680((int)puVar3, (uint *)(param_1 + 0x18));
			uVar5 = *(uint *)(param_1 + 0x10);
			uVar7 = 0x1000000;
		LAB_0024ff58:
			*(uint *)(param_1 + 0x10) = uVar5 | uVar7;
		}
		else {
			if (uVar1 < 0xfb) {
				if (uVar1 == 0x6d) {
					*(undefined2 *)(param_1 + 0xc) = (short)*(undefined4 *)(puVar3 + 0x2);
				}
				else {
					if (uVar1 < 0x6e) {
						if (uVar1 == 0x10) {
							*(undefined2 *)(param_1 + 0x10) = (short)*(undefined4 *)(puVar3 + 0x2);
						}
					}
					else {
						if (uVar1 == 0x72) {
							*(char *)(param_1 + 0xe) = (char)*(undefined4 *)(puVar3 + 0x2) + -0x1;
							*(uint *)(param_1 + 0x10) = *(uint *)(param_1 + 0x10) | 0x10000;
						}
					}
				}
			}
			else {
				if (uVar1 == 0xfc) {
					*(uint *)(param_1 + 0x14) = *(uint *)(param_1 + 0x14) & 0xfffffff9;
					FUN_00208680((int)puVar3, (uint *)(param_1 + 0x14));
					uVar5 = *(uint *)(param_1 + 0x10);
					uVar7 = 0x1000000;
					goto LAB_0024ff58;
				}
				if (uVar1 < 0xfc) {
					*(uint *)(param_1 + 0x10) =
						*(uint *)(param_1 + 0x10) & 0xc1ffffff | (*(uint *)(puVar3 + 0x2) & 0x1f) << 0x19 |
						0x1000000;
				}
				else {
					if ((uVar1 == 0xffff) && (*(char *)(puVar3 + 0x1) == '\x04')) {
						uVar5 = *(uint *)(puVar3 + 0x2);
						if (uVar5 == 0xc3) {
							uVar5 = *(uint *)(param_1 + 0x10);
							uVar7 = 0x80000;
							goto LAB_0024ff58;
						}
						if (uVar5 < 0xc4) {
							if (uVar5 == 0x3d) {
								uVar5 = *(uint *)(param_1 + 0x10);
								uVar7 = 0x10000;
								*(undefined *)(param_1 + 0xe) = 0x0;
								goto LAB_0024ff58;
							}
							if (uVar5 < 0x3e) {
								uVar2 = 0xfb;
								if (uVar5 == 0x1c) goto LAB_0024ff68;
							}
							else {
								if (uVar5 == 0x3e) {
									uVar5 = *(uint *)(param_1 + 0x10);
									uVar7 = 0x10000;
									uVar8 = 0x20000;
								LAB_0024ff2c:
									*(uint *)(param_1 + 0x10) = uVar5 | uVar7 | uVar8;
								}
								else {
									if (uVar5 == 0xa5) {
										uVar5 = *(uint *)(param_1 + 0x10);
										uVar7 = 0x40000;
										goto LAB_0024ff28;
									}
								}
							}
						}
						else {
							if (uVar5 == 0xce) {
								uVar2 = 0xdf;
							LAB_0024ff68:
								*(undefined *)(param_1 + 0xe) = uVar2;
							}
							else {
								if (0xce < uVar5) {
									if (uVar5 == 0xd3) {
										uVar7 = 0x80000000;
										uVar5 = *(uint *)(param_1 + 0x10);
									}
									else {
										if (uVar5 != 0xd4) goto LAB_0024ff6c;
										uVar5 = *(uint *)(param_1 + 0x10);
										uVar7 = 0x40000000;
									}
									goto LAB_0024ff58;
								}
								if (uVar5 == 0xc4) {
									uVar5 = *(uint *)(param_1 + 0x10);
									uVar7 = 0x100000;
								LAB_0024ff28:
									uVar8 = 0x10000;
									goto LAB_0024ff2c;
								}
							}
						}
					}
				}
			}
		}
	LAB_0024ff6c:
		FUN_00208830((int)local_30);
	} while (true);
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps

void FUN_0024ffa0(int param_1, undefined8 param_2, int param_3)

{
	int iVar1;
	astruct_21 *paVar2;
	bool bVar3;
	bool bVar4;
	bool bVar5;
	GameNode *pGVar6;
	int *piVar7;
	astruct_21 **ppaVar8;
	ChunkNode *pCVar9;
	int *piVar10;
	int iVar11;
	uint uVar12;
	GameNode *pGVar13;
	uint uVar14;
	uint uVar15;
	void *pvVar16;
	long lVar17;
	ChunkNode *pCVar18;
	astruct_21 *paVar19;
	uint uVar20;
	float fVar21;
	astruct_22 local_80;
	astruct_22 local_70;
	uint local_60;
	int local_5c;
	uint local_58;
	uint local_54;

	piVar7 = *(int **)(param_3 + 0x4);
	uVar15 = *(uint *)(param_1 + 0x10);
	iVar1 = *piVar7;
	if ((uVar15 & 0x20000) == 0x0) {
		if ((uVar15 & 0x1000000) == 0x0) {
			if (*(short *)(param_1 + 0x10) == 0xff) {
				if ((uVar15 & 0x10000) == 0x0) {
					pCVar9 = (ChunkNode *)0x0;
					if (*(byte *)(param_1 + 0xe) < 0xde) {
						if (*(int *)(param_3 + 0x14) != 0x0) {
							pCVar9 = *(ChunkNode **)
								(*(int *)(param_3 + 0x14) + (uint)*(byte *)(param_1 + 0xe) * 0x4 + 0x4);
						}
					}
					else {
						pCVar9 = (ChunkNode *)
							(**(code **)(piVar7[0x5] + 0x124))
							((int)piVar7 + (int)*(short *)(piVar7[0x5] + 0x120),
							(ulong)*(byte *)(param_1 + 0xe));
						if ((((*(uint *)(param_1 + 0x10) & 0x80000) != 0x0) &&
							(pGVar6 = GetGameNode((NodeList *)(iVar1 + 0xd4), 0x6), pGVar6 != (GameNode *)0x0)
							) && (uVar15 = FUN_00195e98((int)pGVar6, pCVar9), uVar15 != 0xffffffff)) {
							FUN_00196cb0((int)pGVar6, (int)pCVar9, 0x0, 0x1, 0x0);
						}
					}
				}
				else {
					pGVar6 = GetGameNode((NodeList *)(iVar1 + 0xd4), 0x6);
					if (pGVar6 == (GameNode *)0x0) {
						return;
					}
					if ((*(uint *)(param_1 + 0x10) & 0x100000) == 0x0) {
						uVar15 = *(uint *)(param_1 + 0x10);
					}
					else {
						*(char *)(param_1 + 0xe) = ((byte)pGVar6[0x1].ChunkNode & 0x1f) - 0x1;
						uVar15 = *(uint *)(param_1 + 0x10);
					}
					if ((uVar15 & 0x40000) == 0x0) {
						uVar14 = (uint)*(byte *)(param_1 + 0xe) << 0x2;
					}
					else {
						uVar14 = (uint)pGVar6[0x1].ChunkNode >> 0x5 & 0x7c;
					}
					pCVar9 = *(ChunkNode **)((int)&pGVar6[0x1].field_0x8 + uVar14);
					if (pCVar9 != (ChunkNode *)0x0) {
						bVar4 = false;
						if (pGVar6[0x4].nextNode != (GameNode *)0x0) {
							uVar15 = FUN_001953a8((int *)pGVar6[0x4].nextNode, (int)pCVar9);
							bVar4 = uVar15 != 0xffffffff;
						}
						uVar15 = *(uint *)(param_1 + 0x10);
						if ((int)uVar15 < 0x0) {
							if (!bVar4) {
								pCVar9 = (ChunkNode *)0x0;
							}
						}
						else {
							pCVar18 = (ChunkNode *)0x0;
							if (!bVar4) {
								pCVar18 = pCVar9;
							}
							if ((uVar15 & 0x40000000) != 0x0) {
								pCVar9 = pCVar18;
							}
						}
					}
					if ((uVar15 & 0x80000) != 0x0) {
						FUN_00196cb0((int)pGVar6, (int)pCVar9, 0x0, 0x1, 0x0);
					}
				}
				goto LAB_0025095c;
			}
			pGVar6 = GetGameNode((NodeList *)(iVar1 + 0xd4), 0x6);
			if (pGVar6 == (GameNode *)0x0) {
				pCVar9 = (ChunkNode *)0x0;
				goto LAB_0025095c;
			}
			if (iVar1 == 0x0) {
				local_80.field_0x0 = (astruct_21 *)0x0;
			}
			else {
				if (*(int *)(iVar1 + 0xb0) == 0x0) {
					piVar7 = (int *)MemoryAllocate(0x8);
					*piVar7 = iVar1;
					piVar7[0x1] = piVar7[0x1] & 0xfe000000;
					*(int **)(iVar1 + 0xb0) = piVar7;
					iVar11 = *(int *)(iVar1 + 0xb0);
				}
				else {
					iVar11 = *(int *)(iVar1 + 0xb0);
				}
				*(uint *)(iVar11 + 0x4) =
					*(uint *)(iVar11 + 0x4) & 0xff000000 |
					(*(uint *)(iVar11 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
				local_80.field_0x0 = *(astruct_21 **)(iVar1 + 0xb0);
			}
			bVar4 = true;
			pvVar16 = MemoryAllocate(0x14);
			bVar5 = false;
			local_54 = 0x0;
			lVar17 = FUN_0011eb70((long)(int)pvVar16, *(undefined2 *)(param_1 + 0xc), (int **)&local_80, 0x2)
				;
			local_58 = (uint)(*(char *)(param_1 + 0xe) == '\0');
			if (((uint)pGVar6[0x1].ChunkNode & 0x1f) != 0x0) {
				do {
					iVar11 = (&pGVar6[0x1].field_0x8)[local_54];
					if (iVar11 == 0x0) {
					LAB_0025077c:
						pCVar9 = pGVar6[0x1].ChunkNode;
					}
					else {
						pGVar13 = GetGameNode((NodeList *)(iVar11 + 0xd4), 0x1);
						MoveShortFromS2toS1((short *)&local_80, &(pGVar13[0x5].prevNode)->field_0x6);
						if (*(ushort *)(param_1 + 0x10) == ((ushort)local_80.field_0x0 & 0x7fff)) {
							if (pGVar6[0x4].nextNode == (GameNode *)0x0) {
								bVar3 = false;
							}
							else {
								uVar15 = FUN_001953a8((int *)pGVar6[0x4].nextNode, iVar11);
								bVar3 = uVar15 != 0xffffffff;
							}
							paVar19 = (astruct_21 *)lVar17;
							if ((int)*(uint *)(param_1 + 0x10) < 0x0) {
								if (bVar3) {
									if (lVar17 == 0x0) {
										local_70.field_0x0 = (astruct_21 *)0x0;
										goto LAB_0025073c;
									}
									if (paVar19->field_0x0 == (astruct_22 *)0x0) {
										ppaVar8 = (astruct_21 **)MemoryAllocate(0x8);
										paVar2 = ppaVar8[0x1];
										*ppaVar8 = paVar19;
									LAB_00250708:
										ppaVar8[0x1] = (astruct_21 *)((uint)paVar2 & 0xfe000000 | 0x1000000);
										*(astruct_21 ***)&paVar19->field_0x0 = ppaVar8;
										piVar7 = (int *)paVar19->field_0x0;
									}
									else {
										piVar7 = (int *)paVar19->field_0x0;
									}
								LAB_00250714:
									piVar7[0x1] = piVar7[0x1] & 0xff000000U |
										(piVar7[0x1] & 0xffffffU) + 0x1 & 0xffffff;
									local_70.field_0x0 = (astruct_21 *)paVar19->field_0x0;
									goto LAB_0025073c;
								}
								uVar15 = *(uint *)(param_1 + 0x10);
							}
							else {
								if ((*(uint *)(param_1 + 0x10) & 0x40000000) == 0x0) {
									if (lVar17 != 0x0) {
										piVar7 = (int *)paVar19->field_0x0;
									LAB_002506dc:
										if (piVar7 == (int *)0x0) {
											ppaVar8 = (astruct_21 **)MemoryAllocate(0x8);
											paVar2 = ppaVar8[0x1];
											*ppaVar8 = paVar19;
											goto LAB_00250708;
										}
										piVar7 = (int *)paVar19->field_0x0;
										goto LAB_00250714;
									}
									local_70.field_0x0 = (astruct_21 *)0x0;
								}
								else {
									if (bVar3) {
										uVar15 = *(uint *)(param_1 + 0x10);
										goto LAB_00250758;
									}
									if (lVar17 != 0x0) {
										piVar7 = (int *)paVar19->field_0x0;
										goto LAB_002506dc;
									}
									local_70.field_0x0 = (astruct_21 *)0x0;
								}
							LAB_0025073c:
								FUN_001981c0((char)iVar11, &local_70);
								bVar5 = true;
								if (local_58 != 0x0) {
									bVar4 = false;
								}
								uVar15 = *(uint *)(param_1 + 0x10);
							}
						LAB_00250758:
							if ((uVar15 & 0x80000) != 0x0) {
								FUN_00196cb0((int)pGVar6, iVar11, 0x0, 0x1, 0x0);
							}
							goto LAB_0025077c;
						}
						pCVar9 = pGVar6[0x1].ChunkNode;
					}
					local_54 += 0x1;
				} while ((local_54 < ((uint)pCVar9 & 0x1f)) && (bVar4));
			}
			goto LAB_002507a0;
		}
		pGVar6 = GetGameNode((NodeList *)(iVar1 + 0xd4), 0x6);
		if (pGVar6 == (GameNode *)0x0) {
			pCVar9 = (ChunkNode *)0x0;
			goto LAB_0025095c;
		}
		if (iVar1 == 0x0) {
			local_80.field_0x0 = (astruct_21 *)0x0;
		}
		else {
			if (*(int *)(iVar1 + 0xb0) == 0x0) {
				piVar10 = (int *)MemoryAllocate(0x8);
				*piVar10 = iVar1;
				piVar10[0x1] = piVar10[0x1] & 0xfe000000;
				*(int **)(iVar1 + 0xb0) = piVar10;
				iVar11 = *(int *)(iVar1 + 0xb0);
			}
			else {
				iVar11 = *(int *)(iVar1 + 0xb0);
			}
			*(uint *)(iVar11 + 0x4) =
				*(uint *)(iVar11 + 0x4) & 0xff000000 |
				(*(uint *)(iVar11 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
			local_80.field_0x0 = *(astruct_21 **)(iVar1 + 0xb0);
		}
		local_5c = 0x0;
		pvVar16 = MemoryAllocate(0x14);
		lVar17 = FUN_0011eb70((long)(int)pvVar16, *(undefined2 *)(param_1 + 0xc), (int **)&local_80, 0x2);
		if ((InstanceNode *)piVar7[0x26] == (InstanceNode *)0x0) {
			iVar11 = piVar7[0x20];
		}
		else {
			iVar11 = FUN_0023c8a8((InstanceNode *)piVar7[0x26]);
		}
		uVar15 = FUN_00209a68((uint *)(param_1 + 0x14), iVar11);
		if ((InstanceNode *)piVar7[0x26] == (InstanceNode *)0x0) {
			iVar11 = piVar7[0x20];
		}
		else {
			iVar11 = FUN_0023c8a8((InstanceNode *)piVar7[0x26]);
		}
		uVar12 = FUN_00209a68((uint *)(param_1 + 0x18), iVar11);
		uVar20 = 0x0;
		uVar14 = *(uint *)(param_1 + 0x10);
		fVar21 = FUN_0018cb38(2.00000000, uVar12);
		if ((byte)((uint)fVar21 >> 0x17) < 0x9e) {
			iVar11 = (int)fVar21;
		}
		else {
			if ((int)fVar21 < 0x0) {
				iVar11 = 0x7fffffff;
			}
			else {
				iVar11 = -0x80000000;
			}
		}
		uVar15 = uVar15 >> (uVar12 * (uVar14 >> 0x19 & 0x1f) & 0x1f) & iVar11 - 0x1U;
		if (((uint)pGVar6[0x1].ChunkNode & 0x1f) != 0x0) {
			do {
				if ((uVar15 & 0x1) == 0x0) {
				LAB_002504cc:
					pCVar9 = pGVar6[0x1].ChunkNode;
				}
				else {
					iVar11 = (&pGVar6[0x1].field_0x8)[uVar20];
					if (iVar11 != 0x0) {
						if (pGVar6[0x4].nextNode == (GameNode *)0x0) {
							bVar4 = false;
						}
						else {
							uVar14 = FUN_001953a8((int *)pGVar6[0x4].nextNode, iVar11);
							bVar4 = uVar14 != 0xffffffff;
						}
						paVar19 = (astruct_21 *)lVar17;
						if ((int)*(uint *)(param_1 + 0x10) < 0x0) {
							if (bVar4) {
								if (lVar17 != 0x0) {
									piVar7 = (int *)paVar19->field_0x0;
									goto LAB_00250430;
								}
								local_80.field_0x0 = (astruct_21 *)0x0;
								goto LAB_00250490;
							}
							uVar14 = *(uint *)(param_1 + 0x10);
						}
						else {
							if ((*(uint *)(param_1 + 0x10) & 0x40000000) == 0x0) {
								if (lVar17 == 0x0) {
									local_80.field_0x0 = (astruct_21 *)0x0;
								}
								else {
									piVar7 = (int *)paVar19->field_0x0;
								LAB_00250430:
									if (piVar7 == (int *)0x0) {
										ppaVar8 = (astruct_21 **)MemoryAllocate(0x8);
										*ppaVar8 = paVar19;
										ppaVar8[0x1] = (astruct_21 *)((uint)ppaVar8[0x1] & 0xfe000000 | 0x1000000);
										*(astruct_21 ***)&paVar19->field_0x0 = ppaVar8;
										piVar7 = (int *)paVar19->field_0x0;
									}
									else {
										piVar7 = (int *)paVar19->field_0x0;
									}
									piVar7[0x1] = piVar7[0x1] & 0xff000000U |
										(piVar7[0x1] & 0xffffffU) + 0x1 & 0xffffff;
									local_80.field_0x0 = (astruct_21 *)paVar19->field_0x0;
								}
							}
							else {
								if (bVar4) {
									uVar14 = *(uint *)(param_1 + 0x10);
									goto LAB_002504a8;
								}
								if (lVar17 != 0x0) {
									piVar7 = (int *)paVar19->field_0x0;
									goto LAB_00250430;
								}
								local_80.field_0x0 = (astruct_21 *)0x0;
							}
						LAB_00250490:
							FUN_001981c0((char)iVar11, &local_80);
							local_5c = 0x1;
							uVar14 = *(uint *)(param_1 + 0x10);
						}
					LAB_002504a8:
						if ((uVar14 & 0x80000) != 0x0) {
							FUN_00196cb0((int)pGVar6, iVar11, 0x0, 0x1, 0x0);
						}
						goto LAB_002504cc;
					}
					pCVar9 = pGVar6[0x1].ChunkNode;
				}
				uVar20 += 0x1;
				uVar15 >>= 0x1;
			} while ((uVar20 < ((uint)pCVar9 & 0x1f)) && (uVar20 < 0x20));
		}
		pCVar9 = (ChunkNode *)0x0;
		if (local_5c != 0x0) goto LAB_0025095c;
	}
	else {
		pGVar6 = GetGameNode((NodeList *)(iVar1 + 0xd4), 0x6);
		if (pGVar6 == (GameNode *)0x0) {
			pCVar9 = (ChunkNode *)0x0;
			goto LAB_0025095c;
		}
		if (iVar1 == 0x0) {
			local_80.field_0x0 = (astruct_21 *)0x0;
		}
		else {
			if (*(int *)(iVar1 + 0xb0) == 0x0) {
				piVar7 = (int *)MemoryAllocate(0x8);
				*piVar7 = iVar1;
				piVar7[0x1] = piVar7[0x1] & 0xfe000000;
				*(int **)(iVar1 + 0xb0) = piVar7;
				iVar11 = *(int *)(iVar1 + 0xb0);
			}
			else {
				iVar11 = *(int *)(iVar1 + 0xb0);
			}
			*(uint *)(iVar11 + 0x4) =
				*(uint *)(iVar11 + 0x4) & 0xff000000 |
				(*(uint *)(iVar11 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
			local_80.field_0x0 = *(astruct_21 **)(iVar1 + 0xb0);
		}
		local_60 = 0x0;
		pvVar16 = MemoryAllocate(0x14);
		bVar5 = false;
		lVar17 = FUN_0011eb70((long)(int)pvVar16, *(undefined2 *)(param_1 + 0xc), (int **)&local_80, 0x2);
		if (((uint)pGVar6[0x1].ChunkNode & 0x1f) != 0x0) {
			do {
				iVar11 = (&pGVar6[0x1].field_0x8)[local_60];
				if (iVar11 == 0x0) {
					pCVar9 = pGVar6[0x1].ChunkNode;
				}
				else {
					if (pGVar6[0x4].nextNode == (GameNode *)0x0) {
						bVar4 = false;
					}
					else {
						uVar15 = FUN_001953a8((int *)pGVar6[0x4].nextNode, iVar11);
						bVar4 = uVar15 != 0xffffffff;
					}
					paVar19 = (astruct_21 *)lVar17;
					if ((int)*(uint *)(param_1 + 0x10) < 0x0) {
						if (!bVar4) {
							pCVar9 = pGVar6[0x1].ChunkNode;
							goto LAB_002501ec;
						}
						if (lVar17 == 0x0) {
							local_80.field_0x0 = (astruct_21 *)0x0;
						}
						else {
							piVar7 = (int *)paVar19->field_0x0;
						LAB_00250180:
							if (piVar7 == (int *)0x0) {
								ppaVar8 = (astruct_21 **)MemoryAllocate(0x8);
								paVar2 = ppaVar8[0x1];
								*ppaVar8 = paVar19;
							LAB_002501a8:
								ppaVar8[0x1] = (astruct_21 *)((uint)paVar2 & 0xfe000000 | 0x1000000);
								*(astruct_21 ***)&paVar19->field_0x0 = ppaVar8;
								piVar7 = (int *)paVar19->field_0x0;
							}
							else {
								piVar7 = (int *)paVar19->field_0x0;
							}
						LAB_002501b4:
							piVar7[0x1] = piVar7[0x1] & 0xff000000U | (piVar7[0x1] & 0xffffffU) + 0x1 & 0xffffff;
							local_80.field_0x0 = (astruct_21 *)paVar19->field_0x0;
						}
					}
					else {
						if ((*(uint *)(param_1 + 0x10) & 0x40000000) == 0x0) {
							if (lVar17 != 0x0) {
								piVar7 = (int *)paVar19->field_0x0;
								goto LAB_00250180;
							}
							local_80.field_0x0 = (astruct_21 *)0x0;
						}
						else {
							if (bVar4) {
								pCVar9 = pGVar6[0x1].ChunkNode;
								goto LAB_002501ec;
							}
							if (lVar17 != 0x0) {
								if (paVar19->field_0x0 == (astruct_22 *)0x0) {
									ppaVar8 = (astruct_21 **)MemoryAllocate(0x8);
									paVar2 = ppaVar8[0x1];
									*ppaVar8 = paVar19;
									goto LAB_002501a8;
								}
								piVar7 = (int *)paVar19->field_0x0;
								goto LAB_002501b4;
							}
							local_80.field_0x0 = (astruct_21 *)0x0;
						}
					}
					FUN_001981c0((char)iVar11, &local_80);
					bVar5 = true;
					pCVar9 = pGVar6[0x1].ChunkNode;
				}
			LAB_002501ec:
				local_60 += 0x1;
			} while (local_60 < ((uint)pCVar9 & 0x1f));
		}
		if ((*(uint *)(param_1 + 0x10) & 0x80000) != 0x0) {
			FUN_00196e88((int)pGVar6);
		}
	LAB_002507a0:
		pCVar9 = (ChunkNode *)0x0;
		if (bVar5) goto LAB_0025095c;
	}
	if (lVar17 != 0x0) {
		iVar11 = *(int *)((int)lVar17 + 0x10);
		(**(code **)(iVar11 + 0xc))((int)lVar17 + (int)*(short *)(iVar11 + 0x8));
	}
	pCVar9 = (ChunkNode *)0x0;
LAB_0025095c:
	if (pCVar9 != (ChunkNode *)0x0) {
		if (iVar1 == 0x0) {
			local_80.field_0x0 = (astruct_21 *)0x0;
		}
		else {
			if (*(int *)(iVar1 + 0xb0) == 0x0) {
				piVar7 = (int *)MemoryAllocate(0x8);
				*piVar7 = iVar1;
				piVar7[0x1] = piVar7[0x1] & 0xfe000000;
				*(int **)(iVar1 + 0xb0) = piVar7;
				iVar11 = *(int *)(iVar1 + 0xb0);
			}
			else {
				iVar11 = *(int *)(iVar1 + 0xb0);
			}
			*(uint *)(iVar11 + 0x4) =
				*(uint *)(iVar11 + 0x4) & 0xff000000 |
				(*(uint *)(iVar11 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
			local_80.field_0x0 = *(astruct_21 **)(iVar1 + 0xb0);
		}
		pvVar16 = MemoryAllocate(0x14);
		lVar17 = FUN_0011eb70((long)(int)pvVar16, *(undefined2 *)(param_1 + 0xc), (int **)&local_80, 0x2);
		paVar19 = (astruct_21 *)lVar17;
		if (lVar17 == 0x0) {
			local_80.field_0x0 = (astruct_21 *)0x0;
		}
		else {
			if (paVar19->field_0x0 == (astruct_22 *)0x0) {
				ppaVar8 = (astruct_21 **)MemoryAllocate(0x8);
				*ppaVar8 = paVar19;
				ppaVar8[0x1] = (astruct_21 *)((uint)ppaVar8[0x1] & 0xfe000000 | 0x1000000);
				*(astruct_21 ***)&paVar19->field_0x0 = ppaVar8;
				piVar7 = (int *)paVar19->field_0x0;
			}
			else {
				piVar7 = (int *)paVar19->field_0x0;
			}
			piVar7[0x1] = piVar7[0x1] & 0xff000000U | (piVar7[0x1] & 0xffffffU) + 0x1 & 0xffffff;
			local_80.field_0x0 = (astruct_21 *)paVar19->field_0x0;
		}
		FUN_001981c0((char)pCVar9, &local_80);
	}
	return;
}



void FUN_00250ab8(int param_1, int *param_2)

{
	ushort uVar1;
	bool bVar2;
	undefined uVar3;
	ushort *puVar4;
	int iVar5;
	ulong uVar6;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x20), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x2c) = 0x3f800000;
	FUN_002087f8((int)local_30);
	do {
		uVar6 = FUN_00208818((int)local_30);
		if (uVar6 != 0x0) {
			bVar2 = false;
			if ((ABS(*(float *)(param_1 + 0x20)) <= 0.00005000) &&
				(bVar2 = false, ABS(*(float *)(param_1 + 0x24)) <= 0.00005000)) {
				bVar2 = true;
			}
			if (!bVar2) {
				*(ulong *)(param_1 + 0x8) = *(ulong *)(param_1 + 0x8) | 0x80000000000;
			}
			return;
		}
		puVar4 = (ushort *)
			(**(code **)(local_30[0] + 0x24))((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		iVar5 = FUN_00208528((short *)puVar4, (uint)*(byte *)(param_1 + 0xf));
		*(undefined *)(param_1 + 0xf) = (char)iVar5;
		iVar5 = FUN_00208550((short *)puVar4, (uint)((ulong)*(undefined8 *)(param_1 + 0x8) >> 0x2c) & 0xf
		);
		*(ulong *)(param_1 + 0x8) =
			*(ulong *)(param_1 + 0x8) & 0xffff0fffffffffff | ((long)iVar5 & 0xfU) << 0x2c;
		FUN_00208578((short *)puVar4, (undefined4 *)(param_1 + 0x20));
		uVar1 = *puVar4;
		if (uVar1 == 0x65) {
			*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(puVar4 + 0x2);
		}
		else {
			if (uVar1 < 0x66) {
				if (uVar1 == 0x6) {
					uVar3 = (undefined)*(undefined4 *)(puVar4 + 0x2);
				LAB_00250c30:
					*(undefined *)(param_1 + 0xe) = uVar3;
				}
				else {
					if (uVar1 == 0x10) {
						*(undefined2 *)(param_1 + 0x30) = (short)*(undefined4 *)(puVar4 + 0x2);
					}
				}
			}
			else {
				if (uVar1 == 0x6d) {
					*(ulong *)(param_1 + 0x8) =
						*(ulong *)(param_1 + 0x8) & 0xfffff800ffffffff | ((ulong)puVar4[0x2] & 0x7ff) << 0x20
						;
				}
				else {
					if (((uVar1 == 0xffff) && (*(char *)(puVar4 + 0x1) == '\x04')) &&
						(uVar3 = 0xfb, *(int *)(puVar4 + 0x2) == 0x1c)) goto LAB_00250c30;
				}
			}
		}
		FUN_00208830((int)local_30);
	} while (true);
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps

void FUN_00250ce0(int param_1, undefined8 param_2, int param_3)

{
	ChunkNode *pCVar1;
	UnkChunkRelatedData *pUVar2;
	uint uVar3;
	void *pvVar4;
	ChunkNodeUnkBitfield **ppCVar5;
	GameNode *pGVar6;
	int iVar7;
	long lVar8;
	ChunkNodeUnkBitfield *pCVar9;
	uint uVar10;
	Vector4 local_2c0;
	int local_2b0[0x80];
	int *local_b0;
	undefined2 local_ac;
	undefined2 local_aa;
	undefined4 local_a8;
	uint local_a4;
	undefined4 local_a0;
	undefined4 local_9c;
	undefined4 local_98;
	undefined4 local_94;
	undefined4 local_90;
	astruct_22 local_80;
	astruct_22 local_70;
	int local_60;

	lVar8 = (long)(param_1 + 0x20);
	pCVar1 = (ChunkNode *)(*(ChunkNode **)(param_3 + 0x4))->field_0x0;
	pUVar2 = pCVar1->chunkData_;
	if ((*(ulong *)(param_1 + 0x8) & 0x80000000000) == 0x0) {
		lVar8 = 0x0;
	}
	local_2c0.w = 1.00000000;
	local_2c0.x = 0.00000000;
	local_2c0.y = 0.00000000;
	local_2c0.z = 0.00000000;
	FUN_0022d9e8((float *)&local_2c0, *(ulong *)(param_1 + 0x8) >> 0x2c & 0xf, param_3, lVar8,
		(ulong)*(byte *)(param_1 + 0xf), (ulong)*(byte *)(param_1 + 0xe));
	local_b0 = local_2b0;
	local_aa = 0x80;
	local_ac = 0x0;
	local_a8 = 0x7149f2ca;
	local_9c = 0x1;
	local_a0 = 0x0;
	local_98 = 0x0;
	local_a4 = local_a4 & 0xfffffffe | 0x2;
	local_90 = 0x0;
	local_94 = 0x0;
	FUN_001f0458((int)&local_b0, pCVar1);
	local_2c0.w = *(float *)(param_1 + 0x10);
	uVar3 = FUN_001f1f08((int)pUVar2, &local_2c0, 0x2, (int *)&local_b0, 0x1);
	if (uVar3 != 0x0) {
		lVar8 = 0x0;
		if (*(short *)(param_1 + 0x30) == -0x1) {
			uVar10 = 0x0;
			if (uVar3 != 0x0) {
				do {
					if (lVar8 == 0x0) {
						if (pCVar1 == (ChunkNode *)0x0) {
							local_80.field_0x0 = (astruct_21 *)0x0;
						}
						else {
							if (pCVar1->field_0xb0 == (ChunkNodeUnkBitfield *)0x0) {
								pCVar9 = (ChunkNodeUnkBitfield *)MemoryAllocate(0x8);
								pCVar9->chunkNode = pCVar1;
								pCVar9->unkBitfield = pCVar9->unkBitfield & 0xfe000000;
								pCVar1->field_0xb0 = pCVar9;
								pCVar9 = pCVar1->field_0xb0;
							}
							else {
								pCVar9 = pCVar1->field_0xb0;
							}
							pCVar9->unkBitfield =
								pCVar9->unkBitfield & 0xff000000 |
								(pCVar9->unkBitfield & 0xffffff) + 0x1 & 0xffffff;
							local_80.field_0x0 = (astruct_21 *)pCVar1->field_0xb0;
						}
						pvVar4 = MemoryAllocate(0x14);
						lVar8 = FUN_0011eb70((long)(int)pvVar4, (ushort)*(undefined4 *)(param_1 + 0xc) & 0x7ff,
							(int **)&local_80, 0x2);
						if (lVar8 != 0x0) goto LAB_00250ec4;
						local_80.field_0x0 = (astruct_21 *)0x0;
					}
					else {
					LAB_00250ec4:
						pCVar9 = (ChunkNodeUnkBitfield *)lVar8;
						if (pCVar9->chunkNode == (ChunkNode *)0x0) {
							ppCVar5 = (ChunkNodeUnkBitfield **)MemoryAllocate(0x8);
							*ppCVar5 = pCVar9;
							ppCVar5[0x1] = (ChunkNodeUnkBitfield *)((uint)ppCVar5[0x1] & 0xfe000000 | 0x1000000);
							*(ChunkNodeUnkBitfield ***)&pCVar9->chunkNode = ppCVar5;
							iVar7 = (int)pCVar9->chunkNode;
						}
						else {
							iVar7 = (int)pCVar9->chunkNode;
						}
						*(uint *)(iVar7 + 0x4) =
							*(uint *)(iVar7 + 0x4) & 0xff000000 |
							(*(uint *)(iVar7 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
						local_80.field_0x0 = (astruct_21 *)pCVar9->chunkNode;
					}
					FUN_001981c0((char)local_2b0[uVar10], &local_80);
					uVar10 = uVar10 + 0x1 & 0xffff;
				} while (uVar10 < uVar3);
			}
		}
		else {
			lVar8 = 0x0;
			uVar10 = 0x0;
			if (uVar3 != 0x0) {
				local_60 = 0x0;
				do {
					pGVar6 = GetGameNode((NodeList *)(*(int *)((int)local_2b0 + local_60) + 0xd4), 0x1);
					MoveShortFromS2toS1((short *)&local_80, &(pGVar6[0x5].prevNode)->field_0x6);
					if (*(ushort *)(param_1 + 0x30) == ((ushort)local_80.field_0x0 & 0x7fff)) {
						if (lVar8 == 0x0) {
							if (pCVar1 == (ChunkNode *)0x0) {
								local_70.field_0x0 = (astruct_21 *)0x0;
							}
							else {
								if (pCVar1->field_0xb0 == (ChunkNodeUnkBitfield *)0x0) {
									pCVar9 = (ChunkNodeUnkBitfield *)MemoryAllocate(0x8);
									pCVar9->chunkNode = pCVar1;
									pCVar9->unkBitfield = pCVar9->unkBitfield & 0xfe000000;
									pCVar1->field_0xb0 = pCVar9;
									pCVar9 = pCVar1->field_0xb0;
								}
								else {
									pCVar9 = pCVar1->field_0xb0;
								}
								pCVar9->unkBitfield =
									pCVar9->unkBitfield & 0xff000000 |
									(pCVar9->unkBitfield & 0xffffff) + 0x1 & 0xffffff;
								local_70.field_0x0 = (astruct_21 *)pCVar1->field_0xb0;
							}
							pvVar4 = MemoryAllocate(0x14);
							lVar8 = FUN_0011eb70((long)(int)pvVar4, (ushort)*(undefined4 *)(param_1 + 0xc) & 0x7ff,
								(int **)&local_70, 0x2);
							if (lVar8 != 0x0) goto LAB_0025105c;
							local_70.field_0x0 = (astruct_21 *)0x0;
						}
						else {
						LAB_0025105c:
							pCVar9 = (ChunkNodeUnkBitfield *)lVar8;
							if (pCVar9->chunkNode == (ChunkNode *)0x0) {
								ppCVar5 = (ChunkNodeUnkBitfield **)MemoryAllocate(0x8);
								*ppCVar5 = pCVar9;
								ppCVar5[0x1] = (ChunkNodeUnkBitfield *)((uint)ppCVar5[0x1] & 0xfe000000 | 0x1000000)
									;
								*(ChunkNodeUnkBitfield ***)&pCVar9->chunkNode = ppCVar5;
								iVar7 = (int)pCVar9->chunkNode;
							}
							else {
								iVar7 = (int)pCVar9->chunkNode;
							}
							*(uint *)(iVar7 + 0x4) =
								*(uint *)(iVar7 + 0x4) & 0xff000000 |
								(*(uint *)(iVar7 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
							local_70.field_0x0 = (astruct_21 *)pCVar9->chunkNode;
						}
						FUN_001981c0((char)*(undefined4 *)((int)local_2b0 + local_60), &local_70);
					}
					uVar10 = uVar10 + 0x1 & 0xffff;
					local_60 = uVar10 << 0x2;
				} while (uVar10 < uVar3);
			}
		}
	}
	return;
}



void FUN_00251118(int param_1, int *param_2)

{
	uint uVar1;
	undefined uVar2;
	short *psVar3;
	ulong uVar4;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	do {
		uVar4 = FUN_00208818((int)local_30);
		if (uVar4 != 0x0) {
			return;
		}
		psVar3 = (short *)(**(code **)(local_30[0] + 0x24))
			((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		if (*psVar3 == 0x6d) {
			*(undefined2 *)(param_1 + 0xc) = (short)*(undefined4 *)(psVar3 + 0x2);
		}
		else {
			if ((*psVar3 == -0x1) && (*(char *)(psVar3 + 0x1) == '\x04')) {
				uVar1 = *(uint *)(psVar3 + 0x2);
				if (uVar1 == 0x120) {
					uVar2 = 0x2;
				}
				else {
					if (uVar1 < 0x121) {
						if (uVar1 == 0x11f) {
							*(undefined *)(param_1 + 0xe) = 0x0;
						}
						goto LAB_002511e8;
					}
					if (uVar1 == 0x121) {
						uVar2 = 0x3;
					}
					else {
						uVar2 = 0x1;
						if (uVar1 != 0x122) goto LAB_002511e8;
					}
				}
				*(undefined *)(param_1 + 0xe) = uVar2;
			}
		}
	LAB_002511e8:
		FUN_00208830((int)local_30);
	} while (true);
}



// WARNING: Type propagation algorithm not settling

void FUN_00251218(int param_1, undefined8 param_2, int param_3)

{
	char cVar1;
	char cVar2;
	ChunkNode *pCVar3;
	ChunkNode *pCVar4;
	byte bVar5;
	void *pvVar6;
	int *piVar7;
	int iVar8;
	GameNode *pGVar9;
	ChunkNodeUnkBitfield **ppCVar10;
	long lVar11;
	int iVar12;
	ChunkNodeUnkBitfield *pCVar13;
	int *piVar14;
	undefined4 *local_a0;
	undefined2 local_9c;
	undefined2 local_9a;
	undefined4 local_98;
	uint local_94;
	undefined4 local_90;
	undefined4 local_8c;
	undefined4 local_88;
	undefined4 local_84;
	undefined4 local_80;
	astruct_22 local_70;
	int local_60;

	pCVar3 = *(ChunkNode **)(param_3 + 0x4);
	pCVar4 = (ChunkNode *)pCVar3->field_0x0;
	local_94 = local_94 & 0xfffffffe | 0x2;
	local_9a = 0x400;
	local_a0 = DAT(0x003b5ed0);
	local_98 = 0x7149f2ca;
	local_8c = 0x1;
	local_9c = 0x0;
	local_90 = 0x0;
	local_88 = 0x0;
	local_80 = 0x0;
	local_84 = 0x0;
	FUN_001f0458((int)&local_a0, pCVar4);
	if (pCVar4 == (ChunkNode *)0x0) {
		local_70.field_0x0 = (astruct_21 *)0x0;
	}
	else {
		if (pCVar4->field_0xb0 == (ChunkNodeUnkBitfield *)0x0) {
			pCVar13 = (ChunkNodeUnkBitfield *)MemoryAllocate(0x8);
			pCVar13->chunkNode = pCVar4;
			pCVar13->unkBitfield = pCVar13->unkBitfield & 0xfe000000;
			pCVar4->field_0xb0 = pCVar13;
			pCVar13 = pCVar4->field_0xb0;
		}
		else {
			pCVar13 = pCVar4->field_0xb0;
		}
		pCVar13->unkBitfield =
			pCVar13->unkBitfield & 0xff000000 | (pCVar13->unkBitfield & 0xffffff) + 0x1 & 0xffffff;
		local_70.field_0x0 = (astruct_21 *)pCVar4->field_0xb0;
	}
	pvVar6 = MemoryAllocate(0x14);
	local_60 = 0x0;
	lVar11 = FUN_0011eb70((long)(int)pvVar6, *(undefined2 *)(param_1 + 0xc), (int **)&local_70, 0x2);
	piVar7 = FUN_001f1e40((int)pCVar4->chunkData_, 0x2, (int *)&local_a0);
	bVar5 = DAT_0030a0e9;
	cVar1 = *(char *)(param_1 + 0xe);
	cVar2 = *(char *)((int)&pCVar3->chunkNodeRelData_ + 0x7c);
	pCVar13 = (ChunkNodeUnkBitfield *)lVar11;
	if (cVar1 == '\x01') {
		if ((DAT_0030a0e9 != 0xff) && (piVar14 = (int *)0x0, piVar7 != (int *)0x0)) {
			iVar8 = 0x0;
			do {
				pGVar9 = GetGameNode((NodeList *)(*(int *)((int)DAT(0x003b5ed0) + iVar8) + 0xd4), 0x1);
				if (*(byte *)&pGVar9[0x5].methods == bVar5) {
					local_60 = 0x1;
					if (lVar11 == 0x0) {
						local_70.field_0x0 = (astruct_21 *)0x0;
					}
					else {
						if (pCVar13->chunkNode == (ChunkNode *)0x0) {
							ppCVar10 = (ChunkNodeUnkBitfield **)MemoryAllocate(0x8);
							*ppCVar10 = pCVar13;
							ppCVar10[0x1] = (ChunkNodeUnkBitfield *)((uint)ppCVar10[0x1] & 0xfe000000 | 0x1000000)
								;
							*(ChunkNodeUnkBitfield ***)&pCVar13->chunkNode = ppCVar10;
							iVar12 = (int)pCVar13->chunkNode;
						}
						else {
							iVar12 = (int)pCVar13->chunkNode;
						}
						*(uint *)(iVar12 + 0x4) =
							*(uint *)(iVar12 + 0x4) & 0xff000000 |
							(*(uint *)(iVar12 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
						local_70.field_0x0 = (astruct_21 *)pCVar13->chunkNode;
					}
					FUN_001981c0((char)*(undefined4 *)((int)DAT(0x003b5ed0) + iVar8), &local_70);
				}
				piVar14 = (int *)((int)piVar14 + 0x1U & 0xffff);
				iVar8 = (int)piVar14 << 0x2;
			} while (piVar14 < piVar7);
		}
	}
	else {
		if (cVar1 == '\0') {
			if ((DAT_0030a0e9 != 0xff) && (piVar14 = (int *)0x0, piVar7 != (int *)0x0)) {
				iVar8 = 0x0;
				do {
					pGVar9 = GetGameNode((NodeList *)(*(int *)((int)DAT(0x003b5ed0) + iVar8) + 0xd4), 0x1);
					if (*(char *)&pGVar9[0x5].methods == cVar2) {
						local_60 = 0x1;
						if (lVar11 == 0x0) {
							local_70.field_0x0 = (astruct_21 *)0x0;
						}
						else {
							if (pCVar13->chunkNode == (ChunkNode *)0x0) {
								ppCVar10 = (ChunkNodeUnkBitfield **)MemoryAllocate(0x8);
								*ppCVar10 = pCVar13;
								ppCVar10[0x1] =
									(ChunkNodeUnkBitfield *)((uint)ppCVar10[0x1] & 0xfe000000 | 0x1000000);
								*(ChunkNodeUnkBitfield ***)&pCVar13->chunkNode = ppCVar10;
								iVar12 = (int)pCVar13->chunkNode;
							}
							else {
								iVar12 = (int)pCVar13->chunkNode;
							}
							*(uint *)(iVar12 + 0x4) =
								*(uint *)(iVar12 + 0x4) & 0xff000000 |
								(*(uint *)(iVar12 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
							local_70.field_0x0 = (astruct_21 *)pCVar13->chunkNode;
						}
						FUN_001981c0((char)*(undefined4 *)((int)DAT(0x003b5ed0) + iVar8), &local_70);
					}
					piVar14 = (int *)((int)piVar14 + 0x1U & 0xffff);
					iVar8 = (int)piVar14 << 0x2;
				} while (piVar14 < piVar7);
			}
		}
		else {
			if (cVar1 == '\x02') {
				if ((DAT_0030a0e9 != 0xff) && (piVar14 = (int *)0x0, piVar7 != (int *)0x0)) {
					iVar8 = 0x0;
					do {
						pGVar9 = GetGameNode((NodeList *)(*(int *)((int)DAT(0x003b5ed0) + iVar8) + 0xd4), 0x1);
						if (*(byte *)&pGVar9[0x5].methods < bVar5) {
							local_60 = 0x1;
							if (lVar11 == 0x0) {
								local_70.field_0x0 = (astruct_21 *)0x0;
							}
							else {
								if (pCVar13->chunkNode == (ChunkNode *)0x0) {
									ppCVar10 = (ChunkNodeUnkBitfield **)MemoryAllocate(0x8);
									*ppCVar10 = pCVar13;
									ppCVar10[0x1] =
										(ChunkNodeUnkBitfield *)((uint)ppCVar10[0x1] & 0xfe000000 | 0x1000000);
									*(ChunkNodeUnkBitfield ***)&pCVar13->chunkNode = ppCVar10;
									iVar12 = (int)pCVar13->chunkNode;
								}
								else {
									iVar12 = (int)pCVar13->chunkNode;
								}
								*(uint *)(iVar12 + 0x4) =
									*(uint *)(iVar12 + 0x4) & 0xff000000 |
									(*(uint *)(iVar12 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
								local_70.field_0x0 = (astruct_21 *)pCVar13->chunkNode;
							}
							FUN_001981c0((char)*(undefined4 *)((int)DAT(0x003b5ed0) + iVar8), &local_70);
						}
						piVar14 = (int *)((int)piVar14 + 0x1U & 0xffff);
						iVar8 = (int)piVar14 << 0x2;
					} while (piVar14 < piVar7);
				}
			}
			else {
				if (((cVar1 == '\x03') && (DAT_0030a0e9 != 0xff)) &&
					(piVar14 = (int *)0x0, piVar7 != (int *)0x0)) {
					iVar8 = 0x0;
					do {
						pGVar9 = GetGameNode((NodeList *)(*(int *)((int)DAT(0x003b5ed0) + iVar8) + 0xd4), 0x1);
						if (*(byte *)&pGVar9[0x5].methods <= bVar5) {
							local_60 = 0x1;
							if (lVar11 == 0x0) {
								local_70.field_0x0 = (astruct_21 *)0x0;
							}
							else {
								if (pCVar13->chunkNode == (ChunkNode *)0x0) {
									ppCVar10 = (ChunkNodeUnkBitfield **)MemoryAllocate(0x8);
									*ppCVar10 = pCVar13;
									ppCVar10[0x1] =
										(ChunkNodeUnkBitfield *)((uint)ppCVar10[0x1] & 0xfe000000 | 0x1000000);
									*(ChunkNodeUnkBitfield ***)&pCVar13->chunkNode = ppCVar10;
									iVar12 = (int)pCVar13->chunkNode;
								}
								else {
									iVar12 = (int)pCVar13->chunkNode;
								}
								*(uint *)(iVar12 + 0x4) =
									*(uint *)(iVar12 + 0x4) & 0xff000000 |
									(*(uint *)(iVar12 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
								local_70.field_0x0 = (astruct_21 *)pCVar13->chunkNode;
							}
							FUN_001981c0((char)*(undefined4 *)((int)DAT(0x003b5ed0) + iVar8), &local_70);
						}
						piVar14 = (int *)((int)piVar14 + 0x1U & 0xffff);
						iVar8 = (int)piVar14 << 0x2;
					} while (piVar14 < piVar7);
				}
			}
		}
	}
	if ((local_60 == 0x0) && (lVar11 != 0x0)) {
		(**(code **)((int)pCVar13[0x2].chunkNode + 0xc))
			((int)&pCVar13->chunkNode + (int)*(short *)((int)pCVar13[0x2].chunkNode + 0x8), 0x3);
	}
	return;
}



void FUN_002517c8(int param_1, int *param_2)

{
	short *psVar1;
	ulong uVar2;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	while (uVar2 = FUN_00208818((int)local_30), uVar2 == 0x0) {
		psVar1 = (short *)(**(code **)(local_30[0] + 0x24))
			((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		if (*psVar1 == 0x6d) {
			*(undefined2 *)(param_1 + 0xc) = (short)*(undefined4 *)(psVar1 + 0x2);
		}
		else {
			if ((*psVar1 == -0x1) && (*(char *)(psVar1 + 0x1) == '\x04')) {
				if (*(int *)(psVar1 + 0x2) == 0x0) {
					*(uint *)(param_1 + 0xc) = *(uint *)(param_1 + 0xc) | 0x10000;
				}
				else {
					if (*(int *)(psVar1 + 0x2) == 0x1) {
						*(uint *)(param_1 + 0xc) = *(uint *)(param_1 + 0xc) & 0xfffeffff;
					}
				}
			}
		}
		FUN_00208830((int)local_30);
	}
	return;
}



void FUN_002518b0(long param_1, long param_2)

{
	undefined4 *puVar1;
	int iVar2;

	if ((param_2 == 0xffff) && (param_1 != 0x0)) {
		uRam0030a950 = 0x0;
		puVar1 = DAT(0x003b5ad0);
		iVar2 = 0xff;
		do {
			*puVar1 = 0x0;
			iVar2 += -0x1;
			puVar1 = puVar1 + 0x1;
		} while (iVar2 != -0x1);
	}
	return;
}



undefined8 FUN_00251900(undefined8 param_1)

{
	((undefined4 *)param_1)[0x1] = 0x0;
	*(undefined4 *)param_1 = 0x0;
	return param_1;
}



void FUN_00251910(ulong param_1, ulong param_2)

{
	int iVar1;

	iVar1 = *(int *)((int)(void *)param_1 + 0x4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x8) + 0xc))(iVar1 + *(short *)(*(int *)(iVar1 + 0x8) + 0x8), 0x3);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251970(undefined *unkObjectField, GameNode *param_2)

{
	int iVar1;
	int iVar2;

	iVar2 = *(int *)(unkObjectField + 0x4);
	if (iVar2 != 0x0) {
		iVar1 = *(int *)(iVar2 + 0x8);
		while (true) {
			(**(code **)(iVar1 + 0x24))(iVar2 + *(short *)(iVar1 + 0x20), param_2);
			iVar2 = *(int *)(iVar2 + 0x4);
			if (iVar2 == 0x0) break;
			iVar1 = *(int *)(iVar2 + 0x8);
		}
	}
	return;
}



void FUN_002519c8(undefined8 param_1, undefined8 param_2)

{
	ScriptSupportStruct4 *pSVar1;

	(**(code **)(((BinaryReader *)param_2)->methods + 0x8c))
		((int)&((BinaryReader *)param_2)->methods +
		(int)*(short *)(((BinaryReader *)param_2)->methods + 0x88), param_1);
	if (*(char *)param_1 != '\0') {
		pSVar1 = FUN_00206580((BinaryReader *)param_2);
		*(ScriptSupportStruct4 **)((char *)param_1 + 0x4) = pSVar1;
	}
	return;
}



void FUN_00251a70(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251aa0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251ad0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251b00(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251b30(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251b60(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251b90(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251bc0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251bf0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251c20(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251c50(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251c80(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251cb0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251ce0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251d10(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251d40(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251d70(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251da0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251dd0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251e00(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251e30(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251e60(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251e90(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251ec0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251ef0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251f20(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251f50(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251f80(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251fb0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00251fe0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00252010(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00252040(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x2f0358;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



float FUN_00252078(ScriptSupportStruct3 *this_, InstanceNode *param_2)

{
	int iVar1;
	TransformedGeometyPoint *pTVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;

	iVar1 = *(int *)&param_2->field_0x74;
	fVar3 = *(float *)(iVar1 + 0x10);
	fVar4 = *(float *)(iVar1 + 0x14);
	fVar5 = *(float *)(iVar1 + 0x18);
	pTVar2 = ((param_2->baseNode).ChunkNode)->transformMatrixPtr;
	if ((pTVar2->unkBitfield & 0x4) != 0x0) {
		fVar8 = (pTVar2->transformMatrix).wComponents.y;
		fVar6 = (pTVar2->transformMatrix).wComponents.z;
		fVar7 = (pTVar2->transformMatrix).wComponents.w;
		(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
		(pTVar2->positionVector).w = fVar7;
		(pTVar2->positionVector).y = fVar8;
		(pTVar2->positionVector).z = fVar6;
		pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
	}
	fVar3 = (pTVar2->positionVector).x - fVar3;
	fVar4 = (pTVar2->positionVector).y - fVar4;
	fVar5 = (pTVar2->positionVector).z - fVar5;
	return fVar3 * fVar3 + fVar4 * fVar4 + fVar5 * fVar5;
}



float FUN_00252408(undefined8 param_1, int *param_2)

{
	TransformedGeometyPoint *pTVar1;

	pTVar1 = *(TransformedGeometyPoint **)(*param_2 + 0x8);
	RotateAndTranslate_(pTVar1);
	return (pTVar1->transformMatrix).yComponents.x;
}



void FUN_00252500(float param_1, int param_2)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	Vector4 local_40;

	local_40.w = *(float *)(param_2 + 0x121c);
	local_40.x = *(float *)(param_2 + 0x1210) - *(float *)(param_2 + 0x1200);
	local_40.y = *(float *)(param_2 + 0x1214) - *(float *)(param_2 + 0x1204);
	local_40.z = *(float *)(param_2 + 0x1218) - *(float *)(param_2 + 0x1208);
	fVar1 = RSQRT(0.00000000, &local_40);
	fVar3 = *(float *)(param_2 + 0x1200) - *(float *)(param_2 + 0x1210);
	fVar4 = *(float *)(param_2 + 0x1204) - *(float *)(param_2 + 0x1214);
	fVar2 = *(float *)(param_2 + 0x1208) - *(float *)(param_2 + 0x1218);
	param_1 = param_1 * SQRT(fVar3 * fVar3 + fVar4 * fVar4 + fVar2 * fVar2);
	*(float *)(param_2 + 0x1220) =
		*(float *)(param_2 + 0x1220) +
		(local_40.z * fVar1 * 1.00000000 - local_40.y * fVar1 * 0.00000000) * param_1;
	*(float *)(param_2 + 0x1224) =
		*(float *)(param_2 + 0x1224) +
		(local_40.x * fVar1 * 0.00000000 - local_40.z * fVar1 * 0.00000000) * param_1;
	*(float *)(param_2 + 0x1228) =
		*(float *)(param_2 + 0x1228) +
		(local_40.y * fVar1 * 0.00000000 - local_40.x * fVar1 * 1.00000000) * param_1;
	return;
}



void FUN_002526a0(undefined8 param_1, int *param_2)

{
	int iVar1;

	(**(code **)(*param_2 + 0x7c))((int)param_2 + (int)*(short *)(*param_2 + 0x78), param_1);
	iVar1 = (int)param_1;
	(**(code **)(*param_2 + 0x7c))((int)param_2 + (int)*(short *)(*param_2 + 0x78), iVar1 + 0x2);
	(**(code **)(*param_2 + 0x7c))((int)param_2 + (int)*(short *)(*param_2 + 0x78), iVar1 + 0x4);
	(**(code **)(*param_2 + 0x7c))((int)param_2 + (int)*(short *)(*param_2 + 0x78), iVar1 + 0x6);
	(**(code **)(*param_2 + 0x7c))((int)param_2 + (int)*(short *)(*param_2 + 0x78), iVar1 + 0x8);
	return;
}



undefined8 FUN_00252750(undefined8 param_1)

{
	bool bVar1;
	int iVar2;

	*(undefined4 *)((int)param_1 + 0x1238) = 0x302178;
	iVar2 = 0xfd;
	do {
		bVar1 = iVar2 != -0x1;
		iVar2 += -0x1;
	} while (bVar1);
	FUN_00252818((int)param_1);
	DAT_0030a10c = 0x0;
	return param_1;
}



void FUN_002527b0(ulong param_1, ulong param_2)

{
	bool bVar1;
	int iVar2;
	void *address;

	address = (void *)param_1;
	*(undefined4 *)((int)address + 0x1238) = 0x302178;
	if ((address != (void *)0xfffffdfc) && ((int)address + 0x204 != (int)address + 0x11f4)) {
		iVar2 = (int)address + 0x11e4;
		do {
			bVar1 = (int)address + 0x204 != iVar2;
			iVar2 += -0x10;
		} while (bVar1);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



void FUN_00252818(int param_1)

{
	int iVar1;
	uint uVar2;

	uVar2 = 0x0;
	do {
		iVar1 = uVar2 * 0x4;
		uVar2 = uVar2 + 0x1 & 0xff;
		*(undefined4 *)(param_1 + iVar1) = 0x0;
	} while (-0x1 < (int)(uVar2 << 0x18));
	return;
}



ulong FUN_00252848(int param_1, float *param_2, int param_3)

{
	int iVar1;
	ulong uVar2;

	uVar2 = 0x0;
	if (*(short *)(param_1 + 0x200) != 0x0) {
		iVar1 = 0x0;
		do {
			if (*(int **)(param_1 + iVar1) != (int *)0x0) {
				FUN_0023c650(*(int **)(param_1 + iVar1), (short)uVar2, param_2, param_3);
			}
			uVar2 = (long)((int)uVar2 + 0x1) & 0xffff;
			iVar1 = (int)uVar2 << 0x2;
		} while (uVar2 < *(ushort *)(param_1 + 0x200));
	}
	return (ulong)*(byte *)(param_3 + 0x400);
}



void FUN_002528d8(int param_1)

{
	int iVar1;
	ulong uVar2;

	DAT_0030a10c += 0x1;
	if (DAT_0030a10c == 0x8000) {
		uVar2 = 0x0;
		if (*(short *)(param_1 + 0x200) != 0x0) {
			iVar1 = 0x0;
			do {
				if (*(int **)(param_1 + iVar1) != (int *)0x0) {
					FUN_0023c518(*(int **)(param_1 + iVar1), 0x0);
				}
				uVar2 = (long)((int)uVar2 + 0x1) & 0xffff;
				iVar1 = (int)uVar2 << 0x2;
			} while (uVar2 < *(ushort *)(param_1 + 0x200));
		}
		DAT_0030a10c = 0x1;
	}
	return;
}



void * FUN_00252960(int param_1, undefined8 param_2, int param_3, ushort param_4, ushort param_5)

{
	int *piVar1;
	int iVar2;
	void *pvVar3;
	int iVar4;
	ushort local_40;
	ushort local_3e;

	pvVar3 = MemoryAllocate(0x402);
	*(undefined *)((int)pvVar3 + 0x400) = 0x0;
	iVar4 = 0x0;
	local_40 = param_4;
	local_3e = param_5;
	while (true) {
		iVar4 += 0x1;
		*(ushort *)((int)pvVar3 + (uint)*(byte *)((int)pvVar3 + 0x400) * 0x2) = local_40;
		piVar1 = *(int **)(param_1 + (uint)local_40 * 0x4);
		*(ushort *)((int)pvVar3 + (uint)*(byte *)((int)pvVar3 + 0x400) * 0x2 + 0x200) = local_3e;
		*(char *)((int)pvVar3 + 0x400) = *(char *)((int)pvVar3 + 0x400) + '\x01';
		iVar2 = *(int *)((uint)local_3e * 0x4 + *piVar1);
		if (0xfe < iVar4) {
			return pvVar3;
		}
		if (*(short *)(iVar2 + 0x1a) == 0xff) break;
		local_40 = *(ushort *)(iVar2 + 0x18);
		local_3e = *(ushort *)(iVar2 + 0x1a);
		*(undefined2 *)(iVar2 + 0x1a) = 0xff;
		if (iVar2 == param_3) {
			return pvVar3;
		}
	}
	return pvVar3;
}



float FUN_00252a78(undefined8 param_1, float *param_2, float *param_3)

{
	return (*param_2 - *param_3) * (*param_2 - *param_3) +
		(param_2[0x1] - param_3[0x1]) * (param_2[0x1] - param_3[0x1]) +
		(param_2[0x2] - param_3[0x2]) * (param_2[0x2] - param_3[0x2]);
}



float FUN_00252ab8(undefined8 param_1, undefined8 param_2, float *param_3, float *param_4)

{
	return (*param_3 - *param_4) * (*param_3 - *param_4) +
		(param_3[0x1] - param_4[0x1]) * (param_3[0x1] - param_4[0x1]) +
		(param_3[0x2] - param_4[0x2]) * (param_3[0x2] - param_4[0x2]);
}



void FUN_00252af8(undefined8 param_1, int *param_2)

{
	int *piVar1;
	int **ppiVar2;
	ChunkNode *pCVar3;
	int iVar4;
	ChunkNodeUnkBitfield **ppCVar5;

	ppCVar5 = (ChunkNodeUnkBitfield **)(DAT(0x003b5ad0) + ((uint)param_1 & 0xff));
	pCVar3 = (ChunkNode *)0x0;
	if (*ppCVar5 != (ChunkNodeUnkBitfield *)0x0) {
		pCVar3 = (*ppCVar5)->chunkNode;
	}
	if (pCVar3 != (ChunkNode *)param_2) {
		FUN_0011c088(ppCVar5);
		if (param_2 == (int *)0x0) {
			*ppCVar5 = (ChunkNodeUnkBitfield *)0x0;
		}
		else {
			if (param_2[0x2c] == 0x0) {
				ppiVar2 = (int **)MemoryAllocate(0x8);
				piVar1 = ppiVar2[0x1];
				*(int ***)(param_2 + 0x2c) = ppiVar2;
				*ppiVar2 = param_2;
				ppiVar2[0x1] = (int *)((uint)piVar1 & 0xfe000000);
				iVar4 = param_2[0x2c];
			}
			else {
				iVar4 = param_2[0x2c];
			}
			*(uint *)(iVar4 + 0x4) =
				*(uint *)(iVar4 + 0x4) & 0xff000000 |
				(*(uint *)(iVar4 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
			*ppCVar5 = (ChunkNodeUnkBitfield *)param_2[0x2c];
		}
	}
	return;
}



undefined8 FUN_00252bd0(undefined8 param_1)

{
	((undefined2 *)param_1)[0x1] = 0x0;
	*(undefined2 *)param_1 = 0x0;
	return param_1;
}



void FUN_00252be0(ulong param_1, ulong param_2)

{
	int iVar1;
	int *piVar2;
	ulong uVar3;
	int *address;

	address = (int *)param_1;
	uVar3 = 0x0;
	piVar2 = address;
	if (*(ushort *)((int)address + 0x2) != 0x0) {
		do {
			iVar1 = piVar2[0x1];
			uVar3 = SEXT48((int)uVar3 + 0x1);
			*(undefined2 *)(iVar1 + 0xdc) = 0xffff;
			*(ulong *)(iVar1 + 0x88) = *(ulong *)(iVar1 + 0x88) & 0xffffefffffffffff;
			piVar2 = piVar2 + 0x1;
		} while (uVar3 < *(ushort *)((int)address + 0x2));
	}
	uVar3 = 0x0;
	if (*(ushort *)address != 0x0) {
		piVar2 = address + 0x101;
		do {
			uVar3 = SEXT48((int)uVar3 + 0x1);
			*(undefined *)(*piVar2 + 0xde) = 0xff;
			piVar2 = piVar2 + 0x1;
		} while (uVar3 < *(ushort *)address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



undefined4 FUN_00252c88(int param_1, int param_2)

{
	ushort uVar1;

	if (*(ushort *)(param_1 + 0x2) < 0xff) {
		if (*(int *)(param_2 + 0xd8) == 0x0) {
			*(int *)(param_2 + 0xd8) = param_1;
		}
		*(undefined2 *)(param_2 + 0xdc) = *(undefined2 *)(param_1 + 0x2);
		uVar1 = *(ushort *)(param_1 + 0x2);
		*(short *)(param_1 + 0x2) = uVar1 + 0x1;
		*(int *)(param_1 + (uint)uVar1 * 0x4 + 0x4) = param_2;
		return 0x1;
	}
	return 0x0;
}



uint FUN_00252ce0(int param_1, int param_2)

{
	ushort uVar1;
	int iVar2;
	ushort uVar3;

	uVar1 = *(ushort *)(param_2 + 0xdc);
	if (uVar1 != 0xffff) {
		uVar3 = *(short *)(param_1 + 0x2) - 0x1;
		*(ushort *)(param_1 + 0x2) = uVar3;
		iVar2 = *(int *)(param_1 + 0x4 + (uint)uVar3 * 0x4);
		*(int *)(param_1 + 0x4 + (uint)uVar1 * 0x4) = iVar2;
		*(ushort *)(iVar2 + 0xdc) = uVar1;
		FUN_00254150(param_2);
	}
	return (uint)(uVar1 != 0xffff);
}



void FUN_00252d50(ushort *param_1)

{
	int iVar1;
	int *piVar2;
	long lVar3;

	lVar3 = 0x0;
	if (param_1[0x1] != 0x0) {
		piVar2 = (int *)(param_1 + 0x2);
		do {
			iVar1 = *piVar2;
			lVar3 = (long)((int)lVar3 + 0x1);
			*(undefined2 *)(iVar1 + 0xdc) = 0xffff;
			*(ulong *)(iVar1 + 0x88) = *(ulong *)(iVar1 + 0x88) & 0xffffefffffffffff;
			piVar2 = piVar2 + 0x1;
		} while (lVar3 < (long)(ulong)param_1[0x1]);
	}
	lVar3 = 0x0;
	if (*param_1 != 0x0) {
		piVar2 = (int *)(param_1 + 0x202);
		iVar1 = *piVar2;
		while (true) {
			lVar3 = (long)((int)lVar3 + 0x1);
			piVar2 = piVar2 + 0x1;
			FUN_00254190(iVar1);
			if ((long)(ulong)*param_1 <= lVar3) break;
			iVar1 = *piVar2;
		}
	}
	*param_1 = 0x0;
	param_1[0x1] = 0x0;
	return;
}



undefined4 FUN_00252e10(ushort *param_1, int param_2)

{
	ushort uVar1;

	if (*param_1 < 0xff) {
		if (*(int *)(param_2 + 0xd8) == 0x0) {
			*(ushort **)(param_2 + 0xd8) = param_1;
		}
		*(undefined *)(param_2 + 0xde) = *(undefined *)param_1;
		uVar1 = *param_1;
		*param_1 = uVar1 + 0x1;
		*(int *)(param_1 + (uint)uVar1 * 0x2 + 0x202) = param_2;
		return 0x1;
	}
	return 0x0;
}



uint FUN_00252e68(ushort *param_1, int param_2)

{
	byte bVar1;
	ushort uVar2;
	int iVar3;

	bVar1 = *(byte *)(param_2 + 0xde);
	if (bVar1 != 0xff) {
		uVar2 = *param_1;
		*param_1 = uVar2 - 0x1;
		iVar3 = *(int *)(param_1 + 0x202 + (uint)(ushort)(uVar2 - 0x1) * 0x2);
		*(int *)(param_1 + 0x202 + (uint)bVar1 * 0x2) = iVar3;
		*(byte *)(iVar3 + 0xde) = bVar1;
		FUN_00254190(param_2);
	}
	return (uint)(bVar1 != 0xff);
}



void FUN_00252ed8(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00252f00(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00252f28(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00252f50(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00252f70(int param_1, undefined8 param_2, int param_3)

{
	(**(code **)(*(int *)(param_1 + 0x8) + 0x24))
		(param_1 + *(short *)(*(int *)(param_1 + 0x8) + 0x20), *(undefined4 *)(param_3 + 0x4));
	return;
}



void FUN_00252fa8(ulong param_1, ulong param_2)

{
	FUN_00209918((long)((int)param_1 + 0x48), 0x2);
	FUN_002083a0(param_1, param_2);
	return;
}



undefined8 FUN_00252ff0(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	puVar1[0x2] = 0x302038;
	*puVar1 = 0xffffff;
	puVar1[0x1] = 0x0;
	puVar1[0x4] = 0x0;
	puVar1[0x7] = 0x3f800000;
	puVar1[0x5] = 0x0;
	puVar1[0x6] = 0x0;
	puVar1[0xa] = 0x0;
	puVar1[0xb] = 0x0;
	puVar1[0xc] = 0x0;
	puVar1[0xd] = 0x0;
	puVar1[0xe] = 0x0;
	puVar1[0xf] = 0x0;
	puVar1[0x11] = 0x3f800000;
	puVar1[0x10] = 0x3f800000;
	*(ulong *)(puVar1 + 0x8) =
		((*(ulong *)(puVar1 + 0x8) & 0xffffffff80800000) >> 0x1 & 0xffffffffbfffffff) << 0x1;
	puVar1[0x9] = 0x3f800000;
	FUN_002098d8(0xbf800000, (long)(int)(puVar1 + 0x12));
	return param_1;
}



void FUN_00253198(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_002531c0(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_002531e8(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253210(ulong param_1, ulong param_2)

{
	FUN_00209918((long)((int)param_1 + 0xc), 0x2);
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253268(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253290(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_002532b8(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



undefined8 FUN_002532d8(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	*puVar1 = 0xffffff;
	puVar1[0x2] = 0x301e78;
	puVar1[0x1] = 0x0;
	puVar1[0x4] = 0x0;
	puVar1[0x7] = 0x3f800000;
	puVar1[0x5] = 0x0;
	puVar1[0x6] = 0x0;
	puVar1[0xa] = 0x0;
	puVar1[0xb] = 0x0;
	puVar1[0xc] = 0x0;
	puVar1[0xd] = 0x0;
	puVar1[0xe] = 0x0;
	puVar1[0xf] = 0x0;
	puVar1[0x10] = 0x0;
	puVar1[0x11] = 0x0;
	*(ulong *)(puVar1 + 0x8) = *(ulong *)(puVar1 + 0x8) & 0xffffffe0c00ffff0 | 0xffff2;
	return param_1;
}



void FUN_00253458(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253488(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_002534b0(ulong param_1, ulong param_2)

{
	FUN_0023f318((long)((int)param_1 + 0xc), 0x2);
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253500(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253528(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253558(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253580(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_002535a8(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_002535d0(ulong param_1, ulong param_2)

{
	FUN_0023f318((long)((int)param_1 + 0x10), 0x2);
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253628(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253650(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00253678(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_002536d8(int param_1, int *param_2)

{
	short *psVar1;
	ulong uVar2;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	while (uVar2 = FUN_00208818((int)local_30), uVar2 == 0x0) {
		psVar1 = (short *)(**(code **)(local_30[0] + 0x24))
			((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		if (*psVar1 == 0xfd) {
			*(undefined4 *)(param_1 + 0xc) = *(undefined4 *)(psVar1 + 0x2);
		}
		FUN_00208830((int)local_30);
	}
	return;
}



void FUN_00253768(int param_1, undefined8 param_2, int param_3)

{
	GameNode *pGVar1;

	pGVar1 = GetGameNode((NodeList *)(**(int **)(param_3 + 0x4) + 0xd4), 0x5);
	if (pGVar1 != (GameNode *)0x0) {
		FUN_00289e88(*(float *)(param_1 + 0xc), 1.00000000, 1.00000000, 1.00000000, (int)pGVar1);
	}
	return;
}



void FUN_002537c0(int param_1, int *param_2)

{
	short *psVar1;
	ulong uVar2;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	while (uVar2 = FUN_00208818((int)local_30), uVar2 == 0x0) {
		psVar1 = (short *)(**(code **)(local_30[0] + 0x24))
			((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		if (*psVar1 == 0x6a) {
			*(undefined4 *)(param_1 + 0xc) = *(undefined4 *)(psVar1 + 0x2);
		}
		FUN_00208830((int)local_30);
	}
	return;
}



void FUN_00253850(int param_1, undefined8 param_2, int param_3)

{
	int iVar1;
	long lVar2;

	iVar1 = *(int *)(param_3 + 0x4);
	lVar2 = (**(code **)(*(int *)(iVar1 + 0x14) + 0x7c))
		(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x78));
	if ((lVar2 != 0x0) && (*(int *)(iVar1 + 0x12c) != 0x0)) {
		FUN_002541e0(*(float *)(param_1 + 0xc), *(int *)(iVar1 + 0x12c));
	}
	return;
}



void FUN_002538b0(int param_1, int *param_2)

{
	int **ppiVar1;

	ppiVar1 = (int **)(*param_2 + 0x10);
	if (ppiVar1 != (int **)0x0) {
		if ((*(uint *)(param_1 + 0xc) & 0x10000) == 0x0) {
			FUN_001f0ec0(ppiVar1, (long)(int)(*(uint *)(param_1 + 0xc) >> 0x11) & 0xff,
				*(undefined2 *)(param_1 + 0xc));
		}
		else {
			FUN_001f0dc8(ppiVar1, *(undefined2 *)(param_1 + 0xc));
		}
	}
	return;
}



void FUN_00253908(undefined8 param_1, undefined8 param_2, int param_3)

{
	FUN_0023e668(*(InstanceNode **)(param_3 + 0x4));
	return;
}



void FUN_00253938(undefined8 param_1, undefined8 param_2, int param_3)

{
	float **ppfVar1;

	ppfVar1 = *(float ***)(param_3 + 0x4);
	if (*(char *)((int)*ppfVar1 + 0x5) < '\0') {
		FUN_0023ddd8(ppfVar1);
		ppfVar1[0x22] = (float *)((uint)ppfVar1[0x22] | 0x200);
	}
	return;
}



void FUN_00253980(int param_1, int *param_2)

{
	short *psVar1;
	ulong uVar2;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	while (uVar2 = FUN_00208818((int)local_30), uVar2 == 0x0) {
		psVar1 = (short *)(**(code **)(local_30[0] + 0x24))
			((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		if (*psVar1 == 0x65) {
			FUN_00208680((int)psVar1, (uint *)(param_1 + 0xc));
		}
		FUN_00208830((int)local_30);
	}
	return;
}



void FUN_00253a10(int param_1, undefined8 param_2, int param_3)

{
	int *piVar1;
	int iVar2;
	float fVar3;

	piVar1 = *(int **)(param_3 + 0x4);
	if ((InstanceNode *)piVar1[0x26] == (InstanceNode *)0x0) {
		iVar2 = piVar1[0x20];
	}
	else {
		iVar2 = FUN_0023c8a8((InstanceNode *)piVar1[0x26]);
	}
	fVar3 = FUN_00209a00((uint *)(param_1 + 0xc), iVar2);
	FUN_0022f018(fVar3, piVar1);
	return;
}



void FUN_00253a70(int param_1, undefined8 param_2)

{
	FUN_00205fe8(param_2, param_1 + 0xc);
	*(uint *)(param_1 + 0x78) = *(uint *)(param_1 + 0x78) | 0x4000;
	return;
}



void FUN_00253ad0(undefined8 param_1, undefined8 param_2, int param_3)

{
	InstanceNode *this_;
	undefined *puVar1;
	long lVar2;

	this_ = *(InstanceNode **)(param_3 + 0x4);
	puVar1 = (this_->baseNode).methods;
	lVar2 = (**(code **)(puVar1 + 0x7c))
		((int)&(this_->baseNode).ChunkNode + (int)*(short *)(puVar1 + 0x78));
	if (lVar2 != 0x0) {
		FUN_0023e560(this_);
	}
	return;
}



void FUN_00253b18(undefined8 param_1, undefined8 param_2, int param_3)

{
	int iVar1;
	long lVar2;

	iVar1 = *(int *)(param_3 + 0x4);
	lVar2 = (**(code **)(*(int *)(iVar1 + 0x14) + 0x7c))
		(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x78));
	if ((lVar2 != 0x0) && (*(int *)(iVar1 + 0x12c) != 0x0)) {
		FUN_00254088(*(int *)(iVar1 + 0x12c));
	}
	return;
}



void FUN_00253b68(undefined8 param_1, undefined8 param_2, int param_3)

{
	int iVar1;
	long lVar2;

	iVar1 = *(int *)(param_3 + 0x4);
	lVar2 = (**(code **)(*(int *)(iVar1 + 0x14) + 0x7c))
		(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x78));
	if ((lVar2 != 0x0) && (*(int *)(iVar1 + 0x12c) != 0x0)) {
		FUN_00246950(*(int *)(iVar1 + 0x12c));
	}
	return;
}



void FUN_00253bb8(undefined8 param_1, undefined8 param_2, int param_3)

{
	FUN_002546a0(*(int *)(*(int *)(param_3 + 0x4) + 0x12c));
	return;
}



void FUN_00253bd8(int param_1, undefined8 param_2, int param_3)

{
	int iVar1;
	ulong uVar2;
	ulong uVar3;

	if ((*(int *)(param_3 + 0x4) != 0x0) &&
		(iVar1 = FUN_0023e608(*(int *)(param_3 + 0x4)), iVar1 != 0x0)) {
		uVar3 = *(ulong *)(iVar1 + 0x90);
		*(undefined4 *)(iVar1 + 0x98) = *(undefined4 *)(param_1 + 0xc);
		*(undefined4 *)(iVar1 + 0x9c) = *(undefined4 *)(param_1 + 0x10);
		uVar2 = ((ulong)*(ushort *)(param_1 + 0x18) & 0x3) << 0x6;
		*(ulong *)(iVar1 + 0x90) = uVar3 & 0xffffffffffffff3f | uVar2;
		*(ulong *)(iVar1 + 0x90) =
			uVar3 & 0xfffffffffffffc3f | uVar2 | ((ulong)*(ushort *)(param_1 + 0x14) & 0x3) << 0x8;
	}
	return;
}



void FUN_00253c60(int param_1, int *param_2)

{
	short *psVar1;
	ulong uVar2;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	while (uVar2 = FUN_00208818((int)local_30), uVar2 == 0x0) {
		psVar1 = (short *)(**(code **)(local_30[0] + 0x24))
			((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		if (*psVar1 == 0x6d) {
			*(undefined4 *)(param_1 + 0xc) = *(undefined4 *)(psVar1 + 0x2);
		}
		FUN_00208830((int)local_30);
	}
	return;
}



undefined4 FUN_00253de0(int param_1, undefined8 param_2)

{
	int *piVar1;
	ushort *puVar2;

	puVar2 = (ushort *)(param_1 + ((uint)param_2 & 0xff) * 0x2);
	piVar1 = *(int **)(DAT_0030a110 + (uint)*puVar2 * 0x4);
	if (piVar1 != (int *)0x0) {
		return *(undefined4 *)((uint)puVar2[0x100] * 0x4 + *piVar1);
	}
	return 0x0;
}



undefined4 FUN_00253e28(int param_1, uint param_2)

{
	int *piVar1;
	int iVar2;
	undefined4 uVar3;
	int iVar4;

	param_2 &= 0xff;
	if (param_2 == 0x0) {
		uVar3 = 0x0;
	}
	else {
		piVar1 = *(int **)(DAT_0030a110 + (uint)*(ushort *)(param_1 + param_2 * 0x2) * 0x4);
		if (piVar1 == (int *)0x0) {
			iVar4 = 0x0;
		}
		else {
			iVar4 = *(int *)((uint)*(ushort *)(param_1 + 0x200 + param_2 * 0x2) * 0x4 + *piVar1);
		}
		iVar2 = (param_2 - 0x1) * 0x2;
		uVar3 = FUN_0023cea0(iVar4, *(short *)(param_1 + iVar2), *(short *)(param_1 + 0x200 + iVar2));
	}
	return uVar3;
}



void FUN_00253eb8(int param_1)

{
	int *piVar1;
	int iVar2;
	int iVar3;
	ulong uVar4;
	ulong uVar5;

	iVar2 = DAT_0030a110;
	uVar5 = 0x0;
	if (*(char *)(param_1 + 0x400) != '\0') {
		iVar3 = 0x0;
		do {
			piVar1 = *(int **)(iVar2 + (uint)*(ushort *)(param_1 + iVar3) * 0x4);
			if (piVar1 == (int *)0x0) {
				iVar3 = 0x0;
			}
			else {
				iVar3 = *(int *)((uint)*(ushort *)(param_1 + 0x200 + iVar3) * 0x4 + *piVar1);
			}
			if (iVar3 != 0x0) {
				uVar4 = (long)(*(ulong *)(iVar3 + 0x10) << 0xc) >> 0x20 & 0xff;
				if (uVar4 < 0xff) {
					*(ulong *)(iVar3 + 0x10) =
						*(ulong *)(iVar3 + 0x10) & 0xfffffffff00fffff |
						((long)((int)uVar4 + 0x1) & 0xffU) << 0x14;
				}
			}
			uVar5 = (long)((int)uVar5 + 0x1) & 0xffff;
			iVar3 = (int)uVar5 << 0x1;
		} while (uVar5 < *(byte *)(param_1 + 0x400));
	}
	return;
}



void FUN_00253f70(int param_1)

{
	int *piVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	ulong uVar5;

	iVar2 = DAT_0030a110;
	uVar5 = 0x0;
	if (*(char *)(param_1 + 0x400) != '\0') {
		iVar3 = 0x0;
		do {
			piVar1 = *(int **)(iVar2 + (uint)*(ushort *)(param_1 + iVar3) * 0x4);
			if (piVar1 == (int *)0x0) {
				iVar3 = 0x0;
			}
			else {
				iVar3 = *(int *)((uint)*(ushort *)(param_1 + 0x200 + iVar3) * 0x4 + *piVar1);
			}
			iVar4 = (int)uVar5;
			uVar5 = SEXT48(iVar4 + 0x1);
			if (iVar3 != 0x0) {
				uVar5 = *(ulong *)(iVar3 + 0x10);
				if ((uVar5 & 0xff00000) == 0x0) {
					uVar5 = SEXT48(iVar4 + 0x1);
				}
				else {
					*(ulong *)(iVar3 + 0x10) =
						uVar5 & 0xfffffffff00fffff |
						((long)(int)(((uint)((uVar5 << 0xc) >> 0x20) & 0xff) - 0x1) & 0xffU) << 0x14;
					uVar5 = SEXT48(iVar4 + 0x1);
				}
			}
			uVar5 &= 0xffff;
			iVar3 = (int)uVar5 << 0x1;
		} while (uVar5 < *(byte *)(param_1 + 0x400));
	}
	return;
}



void FUN_00254030(ulong param_1, ulong param_2)

{
	void *address;

	address = (void *)param_1;
	FUN_002544f8((int)address);
	FUN_00254428((int)address);
	FUN_002545c8((int)address);
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



void FUN_00254088(int param_1)

{
	byte bVar1;
	ushort uVar2;
	int iVar3;
	ushort *puVar4;

	if ((*(ulong *)(param_1 + 0x90) & 0x400) == 0x0) {
		*(ulong *)(param_1 + 0x90) = *(ulong *)(param_1 + 0x90) | 0x400;
		*(undefined2 *)(param_1 + 0xdc) = 0xffff;
		*(ulong *)(param_1 + 0x88) = *(ulong *)(param_1 + 0x88) & 0xffffefffffffffff;
		if (*(char *)(param_1 + 0xde) != -0x1) {
			puVar4 = (ushort *)FUN_001f2480(*(int *)(**(int **)(param_1 + 0x94) + 0xa0));
			bVar1 = *(byte *)(param_1 + 0xde);
			if (bVar1 != 0xff) {
				uVar2 = *puVar4;
				*puVar4 = uVar2 - 0x1;
				iVar3 = *(int *)(puVar4 + 0x202 + (uint)(ushort)(uVar2 - 0x1) * 0x2);
				*(int *)(puVar4 + 0x202 + (uint)bVar1 * 0x2) = iVar3;
				*(byte *)(iVar3 + 0xde) = bVar1;
				FUN_00254190(param_1);
			}
		}
	}
	return;
}



void FUN_00254150(int param_1)

{
	*(undefined2 *)(param_1 + 0xdc) = 0xffff;
	*(ulong *)(param_1 + 0x88) = *(ulong *)(param_1 + 0x88) & 0xffffefffffffffff;
	if (*(char *)(param_1 + 0xde) == -0x1) {
		*(undefined4 *)(param_1 + 0xd8) = 0x0;
	}
	return;
}



void FUN_00254190(int param_1)

{
	*(undefined *)(param_1 + 0xde) = 0xff;
	if (*(short *)(param_1 + 0xdc) == -0x1) {
		*(undefined4 *)(param_1 + 0xd8) = 0x0;
	}
	return;
}



void FUN_002541b8(int param_1)

{
	if (*(int *)(param_1 + 0xd4) != 0x0) {
		FUN_00291bf0(*(int *)(param_1 + 0xd4));
	}
	return;
}



void FUN_002541e0(float param_1, int param_2)

{
	*(float *)(param_2 + 0xa4) = param_1;
	if (param_1 == 0.00000000) {
		*(ulong *)(param_2 + 0x88) = *(ulong *)(param_2 + 0x88) & 0xfffdffffffffffff;
		*(uint *)(*(int *)(param_2 + 0x94) + 0x88) =
			*(uint *)(*(int *)(param_2 + 0x94) + 0x88) & 0xfffffffb;
		return;
	}
	*(ulong *)(param_2 + 0x88) = *(ulong *)(param_2 + 0x88) | 0x2000000000000;
	*(uint *)(*(int *)(param_2 + 0x94) + 0x88) = *(uint *)(*(int *)(param_2 + 0x94) + 0x88) | 0x4;
	return;
}



void FUN_00254260(int param_1)

{
	*(ulong *)(param_1 + 0x88) = *(ulong *)(param_1 + 0x88) & 0xfffdffffffffffff;
	*(uint *)(*(int *)(param_1 + 0x94) + 0x88) =
		*(uint *)(*(int *)(param_1 + 0x94) + 0x88) & 0xfffffffb;
	return;
}



void FUN_002542a0(undefined4 param_1, int param_2)

{
	*(undefined4 *)(param_2 + 0xb4) = param_1;
	*(ulong *)(param_2 + 0x88) = *(ulong *)(param_2 + 0x88) | 0x800000000000;
	if (*(int *)(param_2 + 0xd4) != 0x0) {
		FUN_00292378(param_1, *(int *)(param_2 + 0xd4));
	}
	return;
}



void FUN_002542e0(undefined4 param_1, int param_2)

{
	*(undefined4 *)(param_2 + 0xa8) = param_1;
	*(ulong *)(param_2 + 0x88) = *(ulong *)(param_2 + 0x88) | 0x200000000000;
	if (*(int *)(param_2 + 0xd4) != 0x0) {
		*(undefined4 *)(*(int *)(param_2 + 0xd4) + 0x31c) = param_1;
	}
	return;
}



void FUN_00254310(undefined4 param_1, int param_2)

{
	*(undefined4 *)(param_2 + 0xac) = param_1;
	*(ulong *)(param_2 + 0x88) = *(ulong *)(param_2 + 0x88) | 0x4000000000000000;
	if (*(int *)(param_2 + 0xd4) != 0x0) {
		*(undefined4 *)(*(int *)(param_2 + 0xd4) + 0x320) = *(undefined4 *)(param_2 + 0xa8);
	}
	return;
}



void FUN_00254340(undefined4 param_1, int param_2)

{
	*(undefined4 *)(param_2 + 0xb0) = param_1;
	*(ulong *)(param_2 + 0x88) = *(ulong *)(param_2 + 0x88) | 0x400000000000;
	if (*(int *)(param_2 + 0xd4) != 0x0) {
		FUN_00292390(param_1, *(int *)(param_2 + 0xd4));
	}
	return;
}



void FUN_00254380(undefined4 param_1, int param_2)

{
	if (*(int *)(param_2 + 0xd4) != 0x0) {
		FUN_00292398(param_1, param_1, *(int *)(param_2 + 0xd4));
	}
	return;
}



void FUN_002543a8(float param_1, int param_2)

{
	int iVar1;

	iVar1 = **(int **)(param_2 + 0x94);
	FUN_00289e88(param_1, *(float *)(iVar1 + 0x70) - *(float *)(iVar1 + 0x60),
		*(float *)(iVar1 + 0x74) - *(float *)(iVar1 + 0x64),
		*(float *)(iVar1 + 0x78) - *(float *)(iVar1 + 0x68), *(int *)(param_2 + 0xd4));
	return;
}



void FUN_00254428(int param_1)

{
	ushort uVar1;
	int iVar2;
	int iVar3;
	ulong uVar4;
	ushort uVar5;

	if (*(short *)(param_1 + 0xdc) == -0x1) {
		uVar4 = *(ulong *)(param_1 + 0x88);
	}
	else {
		iVar3 = *(int *)(**(int **)(param_1 + 0x94) + 0xa0);
		if (iVar3 == 0x0) {
			uVar4 = *(ulong *)(param_1 + 0x88);
		}
		else {
			iVar3 = FUN_001f2480(iVar3);
			if (iVar3 == 0x0) {
				uVar4 = *(ulong *)(param_1 + 0x88);
			}
			else {
				uVar1 = *(ushort *)(param_1 + 0xdc);
				if (uVar1 != 0xffff) {
					uVar5 = *(short *)(iVar3 + 0x2) - 0x1;
					*(ushort *)(iVar3 + 0x2) = uVar5;
					iVar2 = *(int *)(iVar3 + 0x4 + (uint)uVar5 * 0x4);
					*(int *)(iVar3 + 0x4 + (uint)uVar1 * 0x4) = iVar2;
					*(ushort *)(iVar2 + 0xdc) = uVar1;
					FUN_00254150(param_1);
				}
				uVar4 = *(ulong *)(param_1 + 0x88);
			}
		}
	}
	*(ulong *)(param_1 + 0x88) = uVar4 & 0xffffeff0ffffffff;
	return;
}



void FUN_002544f8(int param_1)

{
	char cVar1;
	byte bVar2;
	ushort uVar3;
	int iVar4;
	ushort *puVar5;
	ulong uVar6;

	if ((long)*(int *)(param_1 + 0xd0) == 0x0) {
		cVar1 = *(char *)(param_1 + 0xde);
	}
	else {
		FUN_00292f70((long)*(int *)(param_1 + 0xd0), 0x3);
		*(undefined4 *)(param_1 + 0xd0) = 0x0;
		cVar1 = *(char *)(param_1 + 0xde);
	}
	if (cVar1 == -0x1) {
		uVar6 = *(ulong *)(param_1 + 0x88);
	}
	else {
		iVar4 = *(int *)(**(int **)(param_1 + 0x94) + 0xa0);
		if (iVar4 == 0x0) {
			uVar6 = *(ulong *)(param_1 + 0x88);
		}
		else {
			puVar5 = (ushort *)FUN_001f2480(iVar4);
			if (puVar5 == (ushort *)0x0) {
				uVar6 = *(ulong *)(param_1 + 0x88);
			}
			else {
				bVar2 = *(byte *)(param_1 + 0xde);
				if (bVar2 != 0xff) {
					uVar3 = *puVar5;
					*puVar5 = uVar3 - 0x1;
					iVar4 = *(int *)(puVar5 + 0x202 + (uint)(ushort)(uVar3 - 0x1) * 0x2);
					*(int *)(puVar5 + 0x202 + (uint)bVar2 * 0x2) = iVar4;
					*(byte *)(iVar4 + 0xde) = bVar2;
					FUN_00254190(param_1);
				}
				uVar6 = *(ulong *)(param_1 + 0x88);
			}
		}
	}
	*(ulong *)(param_1 + 0x88) = uVar6 & 0xffffff0fffffffff;
	return;
}



void FUN_002545c8(int param_1)

{
	int *piVar1;
	ulong uVar2;

	if (*(int **)(param_1 + 0xd4) == (int *)0x0) {
		uVar2 = *(ulong *)(param_1 + 0x88);
	}
	else {
		FUN_00292e90(UnkStruct_0x14_HasSomeDataPTRs, *(int **)(param_1 + 0xd4));
		*(undefined4 *)(param_1 + 0xd4) = 0x0;
		uVar2 = *(ulong *)(param_1 + 0x88);
	}
	if ((uVar2 >> 0x24 & 0xf) < 0x9) {
		uVar2 = *(ulong *)(param_1 + 0x88);
	}
	else {
		*(ulong *)(param_1 + 0x88) = uVar2 & 0xffffff0fffffffff | 0x1000000000;
		uVar2 = *(ulong *)(param_1 + 0x88);
	}
	if (((long)uVar2 >> 0x20 & 0xfU) < 0x9) {
		piVar1 = *(int **)(param_1 + 0x94);
	}
	else {
		*(ulong *)(param_1 + 0x88) = uVar2 & 0xfffffff0ffffffff | 0x100000000;
		piVar1 = *(int **)(param_1 + 0x94);
	}
	if (piVar1[0x48] == 0x0) {
		*(uint *)(*piVar1 + 0x4) = *(uint *)(*piVar1 + 0x4) & 0xffff7fff;
	}
	return;
}



void FUN_002546a0(int param_1)

{
	*(ulong *)(param_1 + 0x88) = *(ulong *)(param_1 + 0x88) & 0xfcffffffffffffff;
	return;
}



void FUN_002546f0(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0xd4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x14) + 0x8c))(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x88));
	}
	return;
}



void FUN_00254730(int param_1, int param_2)

{
	GameNode *pGVar1;

	pGVar1 = GetGameNode((NodeList *)(param_2 + 0xd4), 0x1);
	if (pGVar1 != (GameNode *)0x0) {
		(**(code **)(pGVar1->methods + 0xdc))
			(0x0, (int)&pGVar1->ChunkNode + (int)*(short *)(pGVar1->methods + 0xd8),
				**(undefined4 **)(param_1 + 0x94));
	}
	return;
}



void FUN_00254788(int param_1)

{
	*(undefined4 *)(param_1 + 0x80) = 0x0;
	*(undefined4 *)(param_1 + 0x84) = 0x0;
	*(uint *)(*(int *)(param_1 + 0x94) + 0x88) =
		*(uint *)(*(int *)(param_1 + 0x94) + 0x88) & 0xffffffbf;
	return;
}



void FUN_002547a8(int param_1, undefined8 *param_2)

{
	undefined8 uVar1;
	GameNode *pGVar2;
	float *pfVar3;
	undefined4 uVar4;
	undefined4 uVar5;
	Matrix4x4 local_60;

	if (*(int *)(param_1 + 0x80) != 0x0) {
		pGVar2 = GetGameNode((NodeList *)(*(int *)(param_1 + 0x80) + 0xd4), 0x0);
		pfVar3 = (float *)FUN_00192b38((int *)pGVar2);
		local_60.xComponents.x = *pfVar3;
		local_60.xComponents.y = pfVar3[0x1];
		local_60.xComponents.z = pfVar3[0x2];
		local_60.xComponents.w = pfVar3[0x3];
		local_60.yComponents.x = pfVar3[0x4];
		local_60.yComponents.y = pfVar3[0x5];
		local_60.yComponents.z = pfVar3[0x6];
		local_60.yComponents.w = pfVar3[0x7];
		local_60.zComponents.x = pfVar3[0x8];
		local_60.zComponents.y = pfVar3[0x9];
		local_60.zComponents.z = pfVar3[0xa];
		local_60.zComponents.w = pfVar3[0xb];
		local_60.wComponents.x = pfVar3[0xc];
		local_60.wComponents.y = pfVar3[0xd];
		local_60.wComponents.z = pfVar3[0xe];
		local_60.wComponents.w = pfVar3[0xf];
		FUN_0018ef98(&local_60);
		uVar1 = *param_2;
		uVar4 = *(undefined4 *)(param_2 + 0x1);
		uVar5 = *(undefined4 *)((int)param_2 + 0xc);
		*(undefined4 *)(param_1 + 0x70) = (int)uVar1;
		*(undefined4 *)(param_1 + 0x74) = (int)((ulong)uVar1 >> 0x20);
		*(undefined4 *)(param_1 + 0x78) = uVar4;
		*(undefined4 *)(param_1 + 0x7c) = uVar5;
		MultiplyMatrixByVector(&local_60, (Vector4 *)(param_1 + 0x70), (Vector4 *)(param_1 + 0x70));
	}
	return;
}



void FUN_00254830(undefined8 param_1, undefined8 param_2, undefined8 param_3)

{
	int iVar1;
	undefined4 local_20;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 local_14;

	iVar1 = *(int *)((int)param_3 + 0x94);
	local_20 = *(undefined4 *)(iVar1 + 0x20);
	uStack28 = *(undefined4 *)(iVar1 + 0x24);
	uStack24 = *(undefined4 *)(iVar1 + 0x28);
	local_14 = *(undefined4 *)(iVar1 + 0xf4);
	FUN_002498c8(param_1, param_2, &local_20, param_3);
	return;
}



void FUN_00254868(float param_1, float param_2, undefined8 param_3, float *param_4)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;

	fVar4 = *param_4;
	fVar2 = (float)((int)param_2 * (uint)(param_2 < param_1) |
		(int)param_1 * (uint)(param_2 >= param_1));
	fVar5 = param_4[0x1];
	fVar3 = param_4[0x2];
	fVar1 = SQRT(fVar4 * fVar4 + fVar5 * fVar5 + fVar3 * fVar3);
	if (fVar2 < fVar1) {
		fVar2 = fVar2 / fVar1;
		param_4[0x2] = fVar3 * fVar2;
		*param_4 = fVar4 * fVar2;
		param_4[0x1] = fVar5 * fVar2;
	}
	return;
}



void FUN_002548d8(float param_1, undefined8 param_2, float *param_3)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;

	fVar4 = *param_3;
	fVar3 = param_3[0x1];
	fVar2 = param_3[0x2];
	fVar1 = SQRT(fVar4 * fVar4 + fVar3 * fVar3 + fVar2 * fVar2);
	if (param_1 < fVar1) {
		param_1 = param_1 / fVar1;
		param_3[0x2] = fVar2 * param_1;
		*param_3 = fVar4 * param_1;
		param_3[0x1] = fVar3 * param_1;
	}
	return;
}



void FUN_00254940(int param_1, float *param_2)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;

	fVar4 = *param_2;
	fVar3 = param_2[0x1];
	fVar2 = param_2[0x2];
	fVar5 = *(float *)(*(int *)(param_1 + 0x94) + 0xf4);
	fVar1 = SQRT(fVar4 * fVar4 + fVar3 * fVar3 + fVar2 * fVar2);
	if (fVar5 < fVar1) {
		fVar5 = fVar5 / fVar1;
		param_2[0x2] = fVar2 * fVar5;
		*param_2 = fVar4 * fVar5;
		param_2[0x1] = fVar3 * fVar5;
	}
	return;
}



void FUN_002549b0(void)

{
	return;
}



void FUN_002549b8(undefined4 param_1, int param_2)

{
	FUN_0023d8f8((int)*(int **)(param_2 + 0x94), *(undefined8 **)(**(int **)(param_2 + 0x94) + 0x8));
	*(undefined4 *)(param_2 + 0xc4) = param_1;
	*(undefined4 *)(param_2 + 0xc0) = 0x0;
	*(ulong *)(param_2 + 0x88) = *(ulong *)(param_2 + 0x88) | 0x400000000000000;
	return;
}



void FUN_00254a10(int param_1)

{
	*(ulong *)(param_1 + 0x90) =
		*(ulong *)(param_1 + 0x90) & 0xfffffffffeffffdd |
		(ulong)((*(ulong *)(param_1 + 0x88) & 0x18000000000000) != 0x0) << 0x18;
	*(undefined4 *)(param_1 + 0x80) = 0x0;
	*(ulong *)(param_1 + 0x88) = *(ulong *)(param_1 + 0x88) & 0xffc7ffffffffffff;
	*(undefined4 *)(param_1 + 0x84) = 0x0;
	*(uint *)(*(int *)(param_1 + 0x94) + 0x88) =
		*(uint *)(*(int *)(param_1 + 0x94) + 0x88) & 0xffffffbf;
	return;
}



UnkScriptRelatedStruct * FUN_00254ad8(UnkScriptRelatedStruct *param_1, HeaderScript *param_2)

{
	byte bVar1;
	uint uVar2;
	uint uVar3;

	param_1->headerScriptPtr = param_2;
	uVar2 = param_1->field_0x28;
	uVar3 = (uint)*(byte *)((int)&(param_2->scriptInfo).scriptIdThenMaskThenFlag + 0x2) & 0x7f;
	param_1->field_0x28 = uVar2 & 0xffffff00 | uVar3;
	bVar1 = *(byte *)&param_2->unkIntScriptDataPairsAmt;
	param_1->chunkNodePtrCopy_ = (ChunkNode *)0x0;
	param_1->field_0x28 = uVar2 & 0xfffff000 | uVar3 | ((uint)bVar1 & 0xf) << 0x8;
	return param_1;
}



void FUN_00254b28(UnkScriptRelatedStruct *param_1, ulong param_2)

{
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(param_1);
	}
	return;
}



void FUN_00254b50(UnkScriptRelatedStruct *param_1, UnkScriptRelatedStruct2 *param_2)

{
	byte bVar1;
	GameNode *pGVar2;
	uint uVar3;

	uVar3 = 0x0;
	if ((param_1->field_0x28 >> 0x8 & 0xf) != 0x0) {
		bVar1 = *(byte *)((int)&param_1->field_0x28 + 0x2);
		while (true) {
			if (((ulong)bVar1 & (long)(0x1 << (uVar3 & 0x1f))) != 0x0) {
				pGVar2 = GetGameNode(&(&param_1->ChunkNode)[uVar3]->nodesList_, 0x1);
				FUN_0020cc38(param_2, 0x0);
				(**(code **)(pGVar2->methods + 0xb4))
					((int)&pGVar2->ChunkNode + (int)*(short *)(pGVar2->methods + 0xb0));
			}
			uVar3 = uVar3 + 0x1 & 0xff;
			if ((param_1->field_0x28 >> 0x8 & 0xf) <= uVar3) break;
			bVar1 = *(byte *)((int)&param_1->field_0x28 + 0x2);
		}
	}
	*(undefined *)((int)&param_1->field_0x28 + 0x2) = 0x0;
	param_1->field_0x28 = param_1->field_0x28 & 0xffff0fff;
	return;
}



void FUN_00254c40(UnkScriptRelatedStruct *param_1, HeaderScript *param_2)

{
	uint uVar1;
	uint uVar2;

	param_1->headerScriptPtr = param_2;
	uVar1 = param_1->field_0x28;
	uVar2 = (uint)*(byte *)((int)&(param_2->scriptInfo).scriptIdThenMaskThenFlag + 0x2) & 0x7f;
	param_1->field_0x28 = uVar1 & 0xffffff00 | uVar2;
	param_1->field_0x28 =
		uVar1 & 0xfffff000 | uVar2 | ((uint)*(byte *)&param_2->unkIntScriptDataPairsAmt & 0xf) << 0x8
		;
	return;
}



void FUN_00254c88(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254cb8(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254ce8(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254d18(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254d40(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254d70(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254d98(ulong param_1, ulong param_2)

{
	FUN_00209918((long)((int)param_1 + 0x24), 0x2);
	FUN_00209918((long)((int)param_1 + 0x20), 0x2);
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254df8(ulong param_1, ulong param_2)

{
	FUN_00209918((long)((int)param_1 + 0xb0), 0x2);
	FUN_0023f318((long)((int)param_1 + 0x20), 0x2);
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254e50(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254e78(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254ea0(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254ec8(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254ef0(ulong param_1, ulong param_2)

{
	int iVar1;

	iVar1 = (int)param_1;
	FUN_00209918((long)(iVar1 + 0x14), 0x2);
	FUN_00209918((long)(iVar1 + 0x10), 0x2);
	FUN_00209918((long)(iVar1 + 0xc), 0x2);
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254f60(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00254f88(undefined8 param_1, undefined8 param_2, int param_3)

{
	GameNode *pGVar1;

	pGVar1 = GetGameNode((NodeList *)(**(int **)(param_3 + 0x4) + 0xd4), 0x6);
	if (pGVar1 != (GameNode *)0x0) {
		FUN_00197140((int)pGVar1);
	}
	return;
}



void FUN_00254fc0(undefined8 param_1, undefined8 param_2, int param_3)

{
	int iVar1;
	int iVar2;

	iVar1 = *(int *)(*(int *)(param_3 + 0x4) + 0x84);
	iVar2 = *(int *)(iVar1 + 0x40);
	(**(code **)(iVar2 + 0x2c))(iVar1 + *(short *)(iVar2 + 0x28));
	return;
}



void FUN_00255010(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00255038(ulong param_1, ulong param_2)

{
	FUN_00209918((long)((int)param_1 + 0x18), 0x2);
	FUN_00209918((long)((int)param_1 + 0x14), 0x2);
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00255090(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_002550b8(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_002550e8(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00255118(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00255140(ulong param_1, ulong param_2)

{
	FUN_002083a0(param_1, param_2);
	return;
}



void FUN_00255170(undefined8 param_1, undefined8 param_2, int param_3)

{
	FUN_0023d328(*(int *)(param_3 + 0x4));
	return;
}



void FUN_00255190(int param_1, int *param_2)

{
	short *psVar1;
	ulong uVar2;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	while (uVar2 = FUN_00208818((int)local_30), uVar2 == 0x0) {
		psVar1 = (short *)(**(code **)(local_30[0] + 0x24))
			((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		if (*psVar1 == 0x65) {
			*(undefined4 *)(param_1 + 0xc) = *(undefined4 *)(psVar1 + 0x2);
		}
		else {
			if (*psVar1 == 0xc2) {
				*(undefined4 *)(param_1 + 0x10) = *(undefined4 *)(psVar1 + 0x2);
			}
		}
		FUN_00208830((int)local_30);
	}
	return;
}



void FUN_00255238(ScriptSupportStruct4 *this_, int *param_2, UnkScriptRelatedStruct2 *param_3)

{
	ChunkNode *pCVar1;
	Vector4 local_20;

	pCVar1 = (param_3->unkInstRelated->baseNode).ChunkNode;
	// Find a point between two :^)
	local_20.w = (pCVar1->chunkNodeRelData_).unkBbox.bboxMax.w;
	local_20.x = ((pCVar1->chunkNodeRelData_).unkBbox.bboxMax.x -
		(pCVar1->chunkNodeRelData_).unkBbox.bboxMin.x) * 0.50000000 +
		(pCVar1->chunkNodeRelData_).unkBbox.bboxMin.x;
	local_20.y = ((pCVar1->chunkNodeRelData_).unkBbox.bboxMax.y -
		(pCVar1->chunkNodeRelData_).unkBbox.bboxMin.y) * 0.50000000 +
		(pCVar1->chunkNodeRelData_).unkBbox.bboxMin.y;
	local_20.z = ((pCVar1->chunkNodeRelData_).unkBbox.bboxMax.z -
		(pCVar1->chunkNodeRelData_).unkBbox.bboxMin.z) * 0.50000000 +
		(pCVar1->chunkNodeRelData_).unkBbox.bboxMin.z;
	FUN_0020a358((float)this_->someHeaderTypeWhatever, *(float *)this_->scriptArguments_, pCVar1, &local_20
	);
	return;
}



void FUN_002552e8(int param_1, int *param_2)

{
	short *psVar1;
	ulong uVar2;
	int local_30[0x4];

	FUN_00208798((long)(int)local_30, param_2);
	FUN_002087f8((int)local_30);
	while (uVar2 = FUN_00208818((int)local_30), uVar2 == 0x0) {
		psVar1 = (short *)(**(code **)(local_30[0] + 0x24))
			((int)local_30 + (int)*(short *)(local_30[0] + 0x20));
		if (*psVar1 == 0x6d) {
			*(undefined2 *)(param_1 + 0xc) = (short)*(undefined4 *)(psVar1 + 0x2);
		}
		FUN_00208830((int)local_30);
	}
	return;
}



// WARNING: Type propagation algorithm not settling

void FUN_00255450(uint *param_1, int param_2)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	uint uVar6;
	float fVar7;
	float local_c0;
	float local_bc;
	float local_b0;
	float local_ac;
	Matrix4x4 local_a0;
	int local_60;
	uint local_5c;
	Vector4 *local_58;
	float *local_54;

	uVar5 = *param_1;
	local_60 = param_2;
	if (((((int)uVar5 >> 0x9 ^ 0x1U) & 0x1) != 0x0) && (0x1 < (uVar5 & 0xf))) {
		local_5c = uVar5 >> 0xb & 0xf;
		uVar5 = param_1[0x22];
		FUN_00164ca8((long)(int)&local_c0, param_1 + 0x12);
		FUN_00164ca8((long)(int)&local_b0, param_1 + 0x1a);
		FUN_0025a790(param_1, 0x0, &local_c0);
		FUN_0025a7c0(param_1, 0x0, &local_b0);
		local_ac = local_ac * 0.50000000;
		fVar7 = local_b0 * 0.50000000;
		local_bc = local_bc - local_ac;
		local_b0 = local_b0 * 0.25000000;
		local_c0 = local_c0 - fVar7;
		InitIdentityMatrix(&local_a0);
		local_54 = &local_a0.wComponents.y;
		local_58 = &local_a0.wComponents;
		local_a0.xComponents.x = local_b0;
		local_a0.yComponents.y = local_ac;
		*(uint *)(local_60 + 0x10) = param_1[0xe];
		uVar1 = 0x0;
		uVar3 = 0x0;
		do {
			uVar2 = 0x0;
			uVar6 = uVar3 + 0x1;
			uVar4 = uVar5;
			do {
				if ((int)uVar2 < 0x0) {
					fVar7 = (float)(uVar2 & 0x1 | uVar2 >> 0x1);
					fVar7 = fVar7 + fVar7;
				}
				else {
					fVar7 = (float)uVar2;
				}
				local_58->x = local_c0 + local_b0 * fVar7;
				if ((int)uVar3 < 0x0) {
					fVar7 = (float)(uVar3 & 0x1 | uVar1);
					fVar7 = fVar7 + fVar7;
				}
				else {
					fVar7 = (float)uVar3;
				}
				uVar2 += 0x1;
				uVar5 = uVar4 + 0x20;
				*local_54 = local_bc + local_ac * fVar7;
				FUN_001a0ca0(local_60, (undefined8 *)&local_a0, uVar4, local_5c);
				uVar4 = uVar5;
			} while (uVar2 < 0x4);
			uVar1 = uVar6 >> 0x1;
			uVar3 = uVar6;
		} while (uVar6 < 0x2);
	}
	FUN_0025a890((int)param_1);
	return;
}



undefined8 FUN_00255690(undefined8 param_1)

{
	uint *memory;
	float fVar1;

	memory = (uint *)param_1;
	memory[0x6] = 0x0;
	memory[0x7] = 0x0;
	fVar1 = (float)memory[0x6];
	memory[0x8] = 0x0;
	memory[0x9] = 0x0;
	memory[0x1] = 0x3f000000;
	memory[0x2] = 0x3f000000;
	memory[0xd] = 0x3031b8;
	FUN_00101168(fVar1, fVar1, fVar1, 0.50000000, (undefined *)(memory + 0xa));
	memory[0xb] = 0x0;
	memory[0xc] = 0x0;
	FillMemory(memory, 0x0, 0x4);
	memory[0x3] = 0x0;
	memory[0x4] = 0x0;
	memory[0x5] = 0x0;
	*memory = *memory & 0xffff87f0 | 0x1800;
	return param_1;
}



void FUN_00255738(uint *param_1, long param_2, undefined8 param_3)

{
	uint uVar1;
	int iVar2;
	uint *param_1_00;
	uint uVar3;
	uint uVar4;
	float fVar5;
	float fVar6;

	uVar1 = *param_1;
	if ((uVar1 & 0x100) != 0x0) {
		uVar1 >>= 0x4;
	}
	if ((uVar1 & 0xf) < 0x5) {
		uVar4 = (uint)param_2;
		uVar3 = (uint)param_3;
		switch (uVar1 & 0xf) {
		case 0x0:
			(**(code **)(param_1[0xd] + 0xc))((int)param_1 + (int)*(short *)(param_1[0xd] + 0x8));
		case 0x1:
			iVar2 = 0x3;
			if (param_2 != 0x0) {
				iVar2 = 0x2;
			}
			param_1[0x4] = uVar4;
			param_1[0x5] = uVar3;
			uVar1 = *param_1 & 0xffffff0f | iVar2 << 0x4 | 0x100;
			break;
		case 0x2:
			if (param_2 != 0x0) {
				param_1_00 = (uint *)param_1[0x7];
				goto LAB_00255868;
			}
			uVar1 = *param_1 & 0xffffff0f | 0x130;
			break;
		case 0x3:
			param_1[0x4] = uVar4;
			param_1[0x5] = uVar3;
			uVar1 = *param_1 & 0xffffff0f | 0x130;
			break;
		case 0x4:
			param_1[0x4] = uVar4;
			fVar6 = (float)param_1[0x6];
			fVar5 = FUN_0025a160((int *)(param_1 + 0x4));
			iVar2 = 0x3;
			fVar5 = fVar5 * fVar6 * DAT_00309b7c;
			if (param_2 != 0x0) {
				iVar2 = 0x2;
			}
			param_1[0x5] = uVar3;
			uVar1 = *param_1 & 0xffffff0f | iVar2 << 0x4 | 0x100;
			if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
				uVar4 = (uint)fVar5;
			}
			else {
				if ((int)fVar5 < 0x0) {
					uVar4 = 0x7fffffff;
				}
				else {
					uVar4 = 0x80000000;
				}
			}
			param_1[0x4] = uVar4;
		}
		*param_1 = uVar1;
	}
	param_1_00 = (uint *)param_1[0x7];
LAB_00255868:
	if (param_1_00 != (uint *)0x0) {
		FUN_00255738(param_1_00, param_2, param_3);
	}
	return;
}



void FUN_00255898(uint *param_1, long param_2, undefined8 param_3)

{
	uint uVar1;
	int iVar2;
	uint *param_1_00;
	uint uVar3;
	uint uVar4;
	float fVar5;
	float fVar6;

	uVar1 = *param_1;
	if ((uVar1 & 0x100) != 0x0) {
		uVar1 >>= 0x4;
	}
	uVar3 = (uint)param_2;
	uVar4 = (uint)param_3;
	switch (uVar1 & 0xf) {
	default:
		goto switchD_002558ec_caseD_0;
	case 0x1:
		uVar1 = *param_1;
		param_1[0x4] = uVar3;
		param_1[0x5] = uVar4;
		goto LAB_002559a4;
	case 0x2:
		param_1[0x4] = uVar3;
		fVar6 = (float)param_1[0x6];
		fVar5 = FUN_0025a160((int *)(param_1 + 0x4));
		iVar2 = 0x1;
		if (param_2 != 0x0) {
			iVar2 = 0x4;
		}
		fVar5 = fVar5 * fVar6 * DAT_00309b7c;
		param_1[0x5] = uVar4;
		if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
			uVar1 = (uint)fVar5;
		}
		else {
			if ((int)fVar5 < 0x0) {
				uVar1 = 0x7fffffff;
			}
			else {
				uVar1 = 0x80000000;
			}
		}
		param_1[0x4] = uVar1;
		uVar1 = *param_1 & 0xffffff0f | iVar2 << 0x4 | 0x100;
		break;
	case 0x3:
		iVar2 = 0x1;
		if (param_2 != 0x0) {
			iVar2 = 0x4;
		}
		param_1[0x4] = uVar3;
		param_1[0x5] = uVar4;
		uVar1 = *param_1 & 0xffffff0f | iVar2 << 0x4 | 0x100;
		break;
	case 0x4:
		if (param_2 != 0x0) {
			param_1_00 = (uint *)param_1[0x7];
			goto LAB_002559b0;
		}
		uVar1 = *param_1;
	LAB_002559a4:
		uVar1 = uVar1 & 0xffffff0f | 0x110;
	}
	*param_1 = uVar1;
switchD_002558ec_caseD_0:
	param_1_00 = (uint *)param_1[0x7];
LAB_002559b0:
	if (param_1_00 != (uint *)0x0) {
		FUN_00255898(param_1_00, param_2, param_3);
	}
	return;
}



void FUN_002559e0(uint *param_1, undefined8 param_2)

{
	uint uVar1;
	uint uVar2;
	code *pcVar3;
	uint uVar4;
	int iVar5;
	float fVar6;
	float fVar7;
	int local_40[0x4];

	uVar4 = *param_1;
	uVar1 = *(uint *)((int)param_2 + 0x4);
	if ((uVar4 & 0x100) == 0x0) {
		local_40[0] = uVar1 - param_1[0x3];
		switch (uVar4 & 0xf) {
		case 0x1:
			if ((param_1[0x5] != 0x0) && ((int)param_1[0x5] <= local_40[0])) {
				param_1[0x5] = 0x0;
				*param_1 = *param_1 & 0xffffff0f | 0x120;
			}
			param_1[0x6] = 0x0;
			iVar5 = (int)*(short *)(param_1[0xd] + 0x28);
			pcVar3 = *(code **)(param_1[0xd] + 0x2c);
			break;
		case 0x2:
			if (local_40[0] < (int)param_1[0x4]) {
				fVar7 = (float)param_1[0x4] * DAT_00309b80;
				fVar6 = FUN_0025a160(local_40);
				fVar6 = (fVar6 / fVar7) * DAT_00309b7c;
				if ((byte)((uint)fVar6 >> 0x17) < 0x9e) {
					iVar5 = (int)fVar6;
				}
				else {
					if ((int)fVar6 < 0x0) {
						iVar5 = 0x7fffffff;
					}
					else {
						iVar5 = -0x80000000;
					}
				}
				*(float *)(param_1 + 0x6) = (float)iVar5 * DAT_00309b80;
			}
			else {
				param_1[0x6] = 0x3f800000;
				*param_1 = *param_1 & 0xffffff0f | 0x130;
			}
			iVar5 = (int)*(short *)(param_1[0xd] + 0x30);
			pcVar3 = *(code **)(param_1[0xd] + 0x34);
			break;
		case 0x3:
			if ((param_1[0x5] != 0x0) && ((int)param_1[0x5] <= local_40[0])) {
				param_1[0x5] = 0x0;
				*param_1 = *param_1 & 0xffffff0f | 0x140;
			}
			param_1[0x6] = 0x0;
			iVar5 = (int)*(short *)(param_1[0xd] + 0x38);
			pcVar3 = *(code **)(param_1[0xd] + 0x3c);
			break;
		case 0x4:
			if (local_40[0] < (int)param_1[0x4]) {
				fVar7 = (float)param_1[0x4] * DAT_00309b80;
				fVar6 = FUN_0025a160(local_40);
				fVar6 = (fVar6 / fVar7) * DAT_00309b7c;
				if ((byte)((uint)fVar6 >> 0x17) < 0x9e) {
					iVar5 = (int)fVar6;
				}
				else {
					if ((int)fVar6 < 0x0) {
						iVar5 = 0x7fffffff;
					}
					else {
						iVar5 = -0x80000000;
					}
				}
				*(float *)(param_1 + 0x6) = (float)iVar5 * DAT_00309b80;
			}
			else {
				param_1[0x6] = 0x3f800000;
				*param_1 = *param_1 & 0xffffff0f | 0x110;
			}
			(**(code **)(param_1[0xd] + 0x44))
				((int)param_1 + (int)*(short *)(param_1[0xd] + 0x40), local_40[0]);
		default:
			uVar4 = param_1[0x7];
			goto LAB_00255cd4;
		}
		(*pcVar3)((int)param_1 + iVar5, local_40[0]);
		uVar4 = param_1[0x7];
	}
	else {
		uVar2 = uVar4 >> 0x4 & 0xf;
		param_1[0x3] = uVar1;
		*param_1 = uVar4 & 0xfffffef0 | uVar2;
		param_1[0x6] = 0x0;
		if (uVar2 == 0x2) {
			iVar5 = (int)*(short *)(param_1[0xd] + 0x10);
			pcVar3 = *(code **)(param_1[0xd] + 0x14);
		}
		else {
			if (uVar2 < 0x3) {
				if (uVar2 != 0x1) {
					uVar4 = param_1[0x7];
					goto LAB_00255cd4;
				}
				iVar5 = (int)*(short *)(param_1[0xd] + 0x8);
				pcVar3 = *(code **)(param_1[0xd] + 0xc);
			}
			else {
				if (uVar2 == 0x3) {
					iVar5 = (int)*(short *)(param_1[0xd] + 0x18);
					pcVar3 = *(code **)(param_1[0xd] + 0x1c);
				}
				else {
					if (uVar2 != 0x4) {
						uVar4 = param_1[0x7];
						goto LAB_00255cd4;
					}
					iVar5 = (int)*(short *)(param_1[0xd] + 0x20);
					pcVar3 = *(code **)(param_1[0xd] + 0x24);
				}
			}
		}
		(*pcVar3)((int)param_1 + iVar5);
		uVar4 = param_1[0x7];
	}
LAB_00255cd4:
	if (uVar4 != 0x0) {
		(**(code **)(*(int *)(uVar4 + 0x34) + 0x64))
			(uVar4 + (int)*(short *)(*(int *)(uVar4 + 0x34) + 0x60), param_2);
	}
	return;
}



void FUN_00255d08(uint *param_1, undefined8 param_2)

{
	uint uVar1;
	int iVar2;
	uint uVar3;
	int iVar4;
	float fVar5;
	float local_50;
	undefined4 local_4c;
	float local_40;
	float local_3c;

	if ((((int)*param_1 >> 0x9 ^ 0x1U) & 0x1) != 0x0) {
		if ((*param_1 & 0xf) < 0x2) {
			uVar1 = param_1[0x7];
			goto LAB_00255e14;
		}
		uVar1 = param_1[0xe];
		iVar2 = *(int *)(param_1[0x24] * 0x4 + DAT_00309b10);
		FUN_00164ca8((long)(int)&local_50, param_1 + 0x12);
		FUN_00164ca8((long)(int)&local_40, param_1 + 0x1a);
		if (((*param_1 & 0x400) != 0x0) &&
			(FUN_001a0730(0x0, (float *)(param_1 + 0x1), &local_50), (*param_1 & 0x400) != 0x0)) {
			FUN_001a07c0(0x0, &local_40);
		}
		if (param_1[0x9] != 0x0) {
			fVar5 = *(float *)(param_1[0x9] + 0x10);
			local_40 = local_40 * fVar5;
			local_3c = local_3c * fVar5;
		}
		iVar4 = (int)param_2;
		*(uint *)(iVar4 + 0x28) = param_1[0x22];
		uVar3 = param_1[0x23];
		*(uint *)(iVar4 + 0x10) = uVar1;
		*(uint *)(iVar4 + 0x34) = uVar3;
		*(float *)(iVar4 + 0x2c) = local_40;
		*(float *)(iVar4 + 0x30) = local_3c;
		FUN_001a0b30(local_50, local_4c, iVar4, (long)iVar2);
	}
	uVar1 = param_1[0x7];
LAB_00255e14:
	if (uVar1 != 0x0) {
		(**(code **)(*(int *)(uVar1 + 0x34) + 0x74))
			(uVar1 + (int)*(short *)(*(int *)(uVar1 + 0x34) + 0x70), param_2);
	}
	return;
}



void FUN_00255e50(uint *param_1, undefined8 param_2)

{
	int iVar1;
	bool bVar2;
	undefined4 *puVar3;
	uint uVar4;

	FUN_002559e0(param_1, param_2);
	uVar4 = *param_1 & 0xf;
	if ((((int)*param_1 >> 0x9 ^ 0x1U) & 0x1) == 0x0) {
		uVar4 = param_1[0x29];
	LAB_00255f60:
		if (uVar4 == 0x0) {
			uVar4 = *param_1;
			goto LAB_00255f98;
		}
		FUN_0025c270(uVar4);
		if (((param_1[0x22] & 0x2) != 0x0) && ((undefined4 *)param_1[0x29] != DAT(0x003b6ed0))) {
			*(undefined4 **)(param_1 + 0x24) = (undefined4 *)param_1[0x29];
		}
		param_1[0x29] = 0x0;
	}
	else {
		if (uVar4 < 0x2) {
			uVar4 = param_1[0x29];
			goto LAB_00255f60;
		}
		if (uVar4 == 0x3) {
			iVar1 = *(int *)(param_1[0x26] + 0x8);
			(**(code **)(iVar1 + 0x14))
				(param_1[0x26] + (int)*(short *)(iVar1 + 0x10), param_1[0x25],
				(ulong)*(byte *)(param_1 + 0x22) & 0x1);
			uVar4 = param_1[0x29];
		}
		else {
			FUN_0025c3f0(param_1[0x26]);
			uVar4 = param_1[0x29];
		}
		if (uVar4 == 0x0) {
			param_1[0x29] = param_1[0x24];
			FUN_00257dc8(param_1[0x24], 0x0);
			puVar3 = (undefined4 *)param_1[0x29];
		}
		else {
			puVar3 = (undefined4 *)param_1[0x29];
		}
		puVar3 = FUN_00257fd0(puVar3, (long)(int)param_1[0x26], (long)(int)param_1[0x28], 0x0);
		if (puVar3 == (undefined4 *)0x0) {
			uVar4 = *param_1;
			goto LAB_00255f98;
		}
		uVar4 = param_1[0x29];
		FUN_0025c270(uVar4);
		if (((param_1[0x22] & 0x2) != 0x0) && ((undefined4 *)param_1[0x29] != DAT(0x003b6ed0))) {
			*(undefined4 **)(param_1 + 0x24) = (undefined4 *)param_1[0x29];
		}
		*(undefined4 **)(param_1 + 0x29) = puVar3;
		if (puVar3 != (undefined4 *)0x0) {
			FUN_00257dc8((int)puVar3, (long)(int)uVar4);
			uVar4 = *param_1;
			goto LAB_00255f98;
		}
	}
	uVar4 = *param_1;
LAB_00255f98:
	if (((uVar4 & 0xf) == 0x2) || ((uVar4 & 0xf) == 0x3)) {
		bVar2 = false;
		if ((param_1[0x22] & 0x1) != 0x0) {
			bVar2 = (undefined4 *)param_1[0x29] == DAT(0x003b6ed0);
		}
		if (!bVar2) {
			param_1[0x2a] = param_1[0x29];
			return;
		}
	}
	if ((uVar4 & 0xf) < 0x2) {
		param_1[0x2a] = 0x0;
	}
	return;
}



void FUN_00256018(uint *param_1, undefined8 param_2)

{
	uint uVar1;
	float fVar2;
	float afStack64[0x4];
	float local_30;
	float local_2c;

	if (((((int)*param_1 >> 0x9 ^ 0x1U) & 0x1) != 0x0) && (param_1[0x2a] != 0x0)) {
		uVar1 = param_1[0xe];
		FUN_00164ca8((long)(int)afStack64, param_1 + 0x12);
		FUN_00164ca8((long)(int)&local_30, param_1 + 0x1a);
		if (((*param_1 & 0x400) != 0x0) &&
			(FUN_001a0730(0x0, (float *)(param_1 + 0x1), afStack64), (*param_1 & 0x400) != 0x0)) {
			FUN_001a07c0(0x0, &local_30);
		}
		if (param_1[0x9] != 0x0) {
			fVar2 = *(float *)(param_1[0x9] + 0x10);
			local_30 = local_30 * fVar2;
			local_2c = local_2c * fVar2;
		}
		FUN_002589f8((byte *)param_1[0x27], (int *)param_1[0x2a], 0x0, uVar1, afStack64, &local_30,
			(int)param_2);
	}
	uVar1 = param_1[0x7];
	if (uVar1 != 0x0) {
		(**(code **)(*(int *)(uVar1 + 0x34) + 0x74))
			(uVar1 + (int)*(short *)(*(int *)(uVar1 + 0x34) + 0x70), param_2);
	}
	return;
}



undefined8 FUN_00256120(float param_1, undefined8 param_2)

{
	uint *memory;
	float fVar1;

	memory = (uint *)param_2;
	memory[0x6] = 0x0;
	*(float *)(memory + 0x1) = param_1;
	fVar1 = (float)memory[0x6];
	memory[0x7] = 0x0;
	memory[0x8] = 0x0;
	memory[0x9] = 0x0;
	memory[0x2] = 0x3f000000;
	memory[0xd] = 0x3031b8;
	FUN_00101168(fVar1, fVar1, fVar1, 0.50000000, (undefined *)(memory + 0xa));
	memory[0xb] = 0x0;
	memory[0xc] = 0x0;
	FillMemory(memory, 0x0, 0x4);
	memory[0xd] = 0x303138;
	memory[0x3] = 0x0;
	memory[0x4] = 0x0;
	*memory = *memory & 0xffff87f0 | 0x1c00;
	memory[0x5] = 0x0;
	memory[0x10] = DAT_0030a958;
	memory[0x11] = DAT_0030a958;
	FUN_00164ca8((long)(int)(memory + 0x16), (undefined4 *)DAT(0x0030a960));
	FUN_00164ca8((long)(int)(memory + 0x18), (undefined4 *)DAT(0x0030a960));
	FUN_00164ca8((long)(int)(memory + 0x1e), (undefined4 *)DAT(0x0030a968));
	FUN_00164ca8((long)(int)(memory + 0x20), (undefined4 *)DAT(0x0030a968));
	return param_2;
}



void FUN_00256238(uint *param_1, undefined8 param_2)

{
	uint uVar1;
	uint uVar2;
	float fVar3;
	float local_90;
	float local_8c;
	float local_80;
	float local_7c;
	Matrix4x4 local_70;

	uVar1 = *param_1;
	if ((((int)uVar1 >> 0x9 ^ 0x1U) & 0x1) != 0x0) {
		if ((uVar1 & 0xf) < 0x2) {
			uVar1 = param_1[0x7];
			goto LAB_0025633c;
		}
		uVar2 = param_1[0xe];
		FUN_00164ca8((long)(int)&local_90, param_1 + 0x12);
		FUN_00164ca8((long)(int)&local_80, param_1 + 0x1a);
		if (((*param_1 & 0x400) != 0x0) &&
			(FUN_001a0730(0x0, (float *)(param_1 + 0x1), &local_90), (*param_1 & 0x400) != 0x0)) {
			FUN_001a07c0(0x0, &local_80);
		}
		if (param_1[0x9] != 0x0) {
			fVar3 = *(float *)(param_1[0x9] + 0x10);
			local_80 = local_80 * fVar3;
			local_7c = local_7c * fVar3;
		}
		InitIdentityMatrix(&local_70);
		*(uint *)((int)param_2 + 0x10) = uVar2;
		local_70.xComponents.x = local_80;
		local_70.yComponents.y = local_7c;
		local_70.wComponents.x = local_90;
		local_70.wComponents.y = local_8c;
		FUN_001a0ca0((int)param_2, (undefined8 *)&local_70, param_1[0x22], uVar1 >> 0xb & 0xf);
	}
	uVar1 = param_1[0x7];
LAB_0025633c:
	if (uVar1 != 0x0) {
		(**(code **)(*(int *)(uVar1 + 0x34) + 0x74))
			(uVar1 + (int)*(short *)(*(int *)(uVar1 + 0x34) + 0x70), param_2);
	}
	return;
}



void FUN_00256378(uint *param_1, undefined8 param_2)

{
	uint uVar1;
	int iVar2;
	uint uVar3;
	int *piVar4;
	ulong uVar5;
	long lVar6;
	float afStack80[0x4];
	undefined4 auStack64[0x4];

	FUN_002559e0(param_1, param_2);
	if (((((int)*param_1 >> 0x9 ^ 0x1U) & 0x1) != 0x0) && (0x1 < (*param_1 & 0xf))) {
		uVar1 = param_1[0xe];
		FUN_00164ca8((long)(int)afStack80, param_1 + 0x12);
		FUN_00164ca8((long)(int)auStack64, param_1 + 0x1a);
		if ((*param_1 & 0x400) != 0x0) {
			FUN_001a0730(0x0, (float *)(param_1 + 0x1), afStack80);
		}
		if ((param_1[0x22] & 0x1000000) == 0x0) {
			uVar3 = param_1[0x23];
			lVar6 = 0x0;
			if (uVar3 != 0x0) {
				uVar5 = 0x0;
				if (*(byte *)(uVar3 + 0x88) != 0x0) {
					piVar4 = *(int **)(uVar3 + 0x90);
					do {
						iVar2 = *piVar4;
						uVar5 = SEXT48((int)uVar5 + 0x1);
						piVar4 = piVar4 + 0x1;
						if ((long)iVar2 != 0x0) {
							lVar6 = (long)iVar2;
						}
					} while (uVar5 < *(byte *)(uVar3 + 0x88));
				}
			}
			uVar5 = 0x0;
			if (*(char *)(param_1 + 0x22) != '\0') {
				uVar3 = param_1[0x24];
				while (true) {
					iVar2 = *(int *)((int)uVar5 * 0x4 + uVar3);
					if ((long)iVar2 != 0x0) {
						FUN_001ac358(iVar2, param_2, (uint)*(byte *)((int)param_1 + 0x89),
							(uint)*(byte *)((int)param_1 + 0x8a), uVar1, afStack80, auStack64, lVar6);
						lVar6 = (long)iVar2;
					}
					uVar5 = SEXT48((int)uVar5 + 0x1);
					if (*(byte *)(param_1 + 0x22) <= uVar5) break;
					uVar3 = param_1[0x24];
				}
			}
		}
		else {
			uVar5 = 0x0;
			if (*(char *)(param_1 + 0x22) != '\0') {
				uVar3 = param_1[0x24];
				while (true) {
					iVar2 = *(int *)((int)uVar5 * 0x4 + uVar3);
					if (iVar2 != 0x0) {
						FUN_001ac358(iVar2, param_2, (uint)*(byte *)((int)param_1 + 0x89),
							(uint)*(byte *)((int)param_1 + 0x8a), uVar1, afStack80, auStack64, 0x0);
					}
					uVar5 = SEXT48((int)uVar5 + 0x1);
					if (*(byte *)(param_1 + 0x22) <= uVar5) break;
					uVar3 = param_1[0x24];
				}
			}
		}
	}
	return;
}



void FUN_00256518(uint *param_1, undefined8 param_2)

{
	byte bVar1;
	int iVar2;
	bool bVar3;
	uint uVar4;
	ulong uVar5;
	int iVar6;
	uint uVar7;
	float fVar8;
	Matrix4x4 MStack176;
	float local_70;
	float local_6c;
	uint local_60;
	undefined4 local_5c[0x3];

	uVar7 = *param_1;
	if ((((int)uVar7 >> 0x9 ^ 0x1U) & 0x1) != 0x0) {
		if ((uVar7 & 0xf) < 0x2) {
			uVar7 = param_1[0x7];
			goto LAB_00256740;
		}
		uVar7 = uVar7 >> 0xb & 0xf;
		bVar3 = false;
		if (0.00005000 < ABS((float)param_1[0xb])) {
			local_60 = param_1[0xe];
		}
		else {
			bVar3 = ABS((float)param_1[0xc]) <= 0.00005000;
			local_60 = param_1[0xe];
		}
		if ((bool)(bVar3 ^ 0x1U)) {
			switch (*param_1 & 0xf) {
			default:
				fVar8 = 0.00000000;
				break;
			case 0x2:
				fVar8 = (float)param_1[0x6];
				break;
			case 0x3:
				fVar8 = 1.00000000;
				break;
			case 0x4:
				fVar8 = 1.00000000 - (float)param_1[0x6];
			}
			FUN_00164ca8((long)(int)&local_70, param_1 + 0xb);
			FUN_001a0f80(&local_60, param_1[0xa]);
			local_70 = local_70 * fVar8;
			local_6c = local_6c * fVar8;
			if ((*param_1 & 0x400) != 0x0) {
				FUN_001a07c0(0x1, &local_70);
			}
			if (param_1[0x9] != 0x0) {
				fVar8 = *(float *)(param_1[0x9] + 0x10);
				local_70 = local_70 * fVar8;
				local_6c = local_6c * fVar8;
			}
			InitIdentityMatrix(&MStack176);
			MStack176.wComponents.x = local_70;
			MStack176.wComponents.y = local_6c;
		}
		uVar5 = 0x0;
		if (*(char *)(param_1 + 0x22) != '\0') {
			uVar4 = param_1[0x24];
			while (true) {
				iVar2 = *(int *)((int)uVar5 * 0x4 + uVar4);
				if (iVar2 == 0x0) {
					bVar1 = *(byte *)(param_1 + 0x22);
				}
				else {
					iVar6 = (int)param_2;
					if ((bool)(bVar3 ^ 0x1U)) {
						*(uint *)(iVar6 + 0x10) = local_60;
						FUN_001a0ca0(iVar6, (undefined8 *)&MStack176, iVar2, uVar7 - 0x1);
					}
					FUN_0011be80(local_5c, 0xf);
					*(undefined4 *)(iVar6 + 0x10) = local_5c[0];
					FUN_001a0be0(iVar6, iVar2, uVar7);
					bVar1 = *(byte *)(param_1 + 0x22);
				}
				uVar5 = SEXT48((int)uVar5 + 0x1);
				if (bVar1 <= uVar5) break;
				uVar4 = param_1[0x24];
			}
		}
	}
	uVar7 = param_1[0x7];
LAB_00256740:
	if (uVar7 != 0x0) {
		(**(code **)(*(int *)(uVar7 + 0x34) + 0x74))
			(uVar7 + (int)*(short *)(*(int *)(uVar7 + 0x34) + 0x70), param_2);
	}
	return;
}



void FUN_00256788(uint *param_1, undefined8 param_2)

{
	uint uVar1;
	bool bVar2;
	uint uVar3;
	int iVar4;
	uint uVar5;
	float fVar6;
	float fVar7;
	float extraout_vf31x;
	float extraout_vf31x_00;
	float extraout_vf31x_01;
	float extraout_vf31x_02;
	float extraout_vf31x_03;
	float extraout_vf31x_04;
	float extraout_vf31y;
	float extraout_vf31y_00;
	float extraout_vf31y_01;
	float extraout_vf31y_02;
	float fVar8;
	float local_190;
	float local_18c;
	float local_180;
	float local_17c;
	float local_170;
	float local_16c;
	Matrix4x4 local_160;
	float local_120;
	float local_11c;
	float local_110;
	float fStack268;
	undefined local_100[0x10];
	Matrix4x4 MStack240;
	int local_b0[0x4];
	Matrix4x4 MStack160;
	uint local_60[0x4];

	uVar3 = *param_1;
	if ((((int)uVar3 >> 0x9 ^ 0x1U) & 0x1) != 0x0) {
		if ((uVar3 & 0xf) < 0x2) {
			uVar3 = param_1[0x7];
			goto LAB_00256e30;
		}
		uVar5 = uVar3 >> 0xb & 0xf;
		uVar3 = param_1[0xe];
		FUN_00164ca8((long)(int)&local_190, param_1 + 0x12);
		FUN_00164ca8((long)(int)&local_180, param_1 + 0x1a);
		FUN_00164ca8((long)(int)&local_170, &local_180);
		local_170 = (local_170 - local_190) / *(float *)(param_1[0x22] + 0x18);
		local_16c = (local_16c - local_18c) / *(float *)(param_1[0x22] + 0x1c);
		fVar7 = extraout_vf31x;
		fVar8 = extraout_vf31y;
		if ((*param_1 & 0x400) != 0x0) {
			FUN_001a0730(0x0, (float *)(param_1 + 0x1), &local_190);
			fVar7 = extraout_vf31x_00;
			fVar8 = extraout_vf31y_00;
			if ((*param_1 & 0x400) != 0x0) {
				FUN_001a0730(0x0, (float *)(param_1 + 0x1), &local_180);
				fVar7 = extraout_vf31x_01;
				fVar8 = extraout_vf31y_01;
				if ((*param_1 & 0x400) != 0x0) {
					FUN_001a07c0(0x0, &local_170);
					fVar7 = extraout_vf31x_02;
					fVar8 = extraout_vf31y_02;
				}
			}
		}
		if (param_1[0x9] != 0x0) {
			fVar6 = *(float *)(param_1[0x9] + 0x10);
			local_170 = local_170 * fVar6;
			local_16c = local_16c * fVar6;
		}
		if (0.00000000 < (float)param_1[0x25]) {
			local_120 = fVar7 * (float)param_1[0x26] + 1.00000000;
			local_110 = fVar7;
			fStack268 = fVar8;
		}
		else {
			local_120 = 1.00000000;
		}
		local_170 = local_170 * local_120;
		local_16c = local_16c * local_120;
		if (*(char *)(param_1[0x22] + 0x8) != '\0') {
			local_190 = (local_190 + local_180) * 0.50000000;
			local_18c = (local_18c + local_17c) * 0.50000000;
		}
		fVar6 = 0.00000000;
		if ((0.00000000 < (float)param_1[0x29]) || (0.00000000 < (float)param_1[0x2a])) {
			fVar6 = (float)param_1[0x29] + fVar7 * (float)param_1[0x2a];
			local_110 = fVar7;
			fStack268 = fVar8;
		}
		local_18c = local_18c + fVar6;
		local_11c = local_120;
		InitIdentityMatrix(&local_160);
		local_160.xComponents.x = local_170;
		local_160.yComponents.y = local_16c;
		local_160.wComponents.x = local_190;
		local_160.wComponents.y = local_18c;
		if ((0.00000000 < (float)param_1[0x2d]) ||
			(uVar1 = param_1[0x8], 0.00000000 < (float)param_1[0x2e])) {
			FUN_0011bf10(extraout_vf31x_03 * (float)param_1[0x2e] + (float)param_1[0x2d],
				(int *)(&local_110 + 0x10), 0x0);
			FUN_0018c428(&MStack240, &local_110 + 0x10);
			MultiplyMatrices(&MStack240, &local_160, &local_160);
			uVar1 = param_1[0x8];
		}
		if (uVar1 != 0x0) {
			(**(code **)(*(int *)(uVar1 + 0x14) + 0x1c))
				(uVar1 + (int)*(short *)(*(int *)(uVar1 + 0x14) + 0x18));
		}
		bVar2 = true;
		if (ABS((float)param_1[0xb]) <= 0.00005000) {
			bVar2 = 0.00005000 < ABS((float)param_1[0xc]);
		}
		iVar4 = (int)param_2;
		if (bVar2) {
			switch (*param_1 & 0xf) {
			default:
				fVar7 = 0.00000000;
				break;
			case 0x2:
				fVar7 = (float)param_1[0x6];
				break;
			case 0x3:
				fVar7 = 1.00000000;
				local_60[0] = param_1[0xe];
				goto LAB_00256bf4;
			case 0x4:
				fVar7 = 1.00000000 - (float)param_1[0x6];
			}
			local_60[0] = param_1[0xe];
		LAB_00256bf4:
			FUN_00164ca8((long)(int)&local_110, param_1 + 0xb);
			FUN_001a0f80(local_60, param_1[0xa]);
			local_110 = local_110 * fVar7;
			fStack268 = fStack268 * fVar7;
			if ((*param_1 & 0x400) != 0x0) {
				FUN_001a07c0(0x0, (float *)&local_110);
			}
			if (param_1[0x9] != 0x0) {
				fVar7 = *(float *)(param_1[0x9] + 0x10);
				local_110 = local_110 * fVar7;
				fStack268 = fStack268 * fVar7;
			}
			local_160.wComponents.x = local_160.wComponents.x + local_110;
			*(uint *)(iVar4 + 0x10) = local_60[0];
			local_160.wComponents.y = local_160.wComponents.y + fStack268;
			FUN_001a0ca0(iVar4, (undefined8 *)&local_160, param_1[0x22], uVar5 - 0x1);
			local_160.wComponents.x = local_160.wComponents.x - local_110;
			local_160.wComponents.y = local_160.wComponents.y - fStack268;
			*(uint *)(iVar4 + 0x10) = uVar3;
		}
		else {
			*(uint *)(iVar4 + 0x10) = uVar3;
		}
		FUN_001a0ca0(iVar4, (undefined8 *)&local_160, param_1[0x22], uVar5);
		if (param_1[0x23] == 0x0) {
			if (param_1[0x8] == 0x0) {
				uVar3 = param_1[0x7];
				goto LAB_00256e30;
			}
			uVar3 = param_1[0x22];
		}
		else {
			uVar3 = param_1[0x22];
		}
		if (*(char *)(uVar3 + 0x8) == '\0') {
			local_190 = (local_190 + local_180) * 0.50000000;
			local_18c = (local_18c + local_17c) * 0.50000000;
		}
		InitIdentityMatrix((Matrix4x4 *)&local_110);
		if ((0.00000000 < (float)param_1[0x2d]) || ((float)param_1[0x2b] < (float)param_1[0x2e])) {
			FUN_0011bf10(extraout_vf31x_04 * (float)param_1[0x2e] + (float)param_1[0x2d], local_b0, 0x0);
			FUN_0018c428(&MStack160, local_b0);
			MultiplyMatrices(&MStack160, (Matrix4x4 *)&local_110, (Matrix4x4 *)&local_110);
		}
		uVar3 = param_1[0x23];
		MStack240.yComponents.x = local_190;
		MStack240.yComponents.y = local_18c;
		if (uVar3 != 0x0) {
			(**(code **)(*(int *)(uVar3 + 0x48) + 0x24))
				(uVar3 + (int)*(short *)(*(int *)(uVar3 + 0x48) + 0x20), &local_110);
		}
		uVar3 = param_1[0x8];
		if (uVar3 != 0x0) {
			(**(code **)(*(int *)(uVar3 + 0x14) + 0x24))
				(uVar3 + (int)*(short *)(*(int *)(uVar3 + 0x14) + 0x20), &local_110);
		}
	}
	uVar3 = param_1[0x7];
LAB_00256e30:
	if (uVar3 != 0x0) {
		(**(code **)(*(int *)(uVar3 + 0x34) + 0x74))
			(uVar3 + (int)*(short *)(*(int *)(uVar3 + 0x34) + 0x70), param_2);
	}
	return;
}



ulong FUN_00256e78(uint *param_1, undefined8 param_2)

{
	bool bVar1;
	short sVar2;
	uint uVar3;
	ulong uVar4;
	long lVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	undefined auStack80[0x10];
	undefined auStack64[0x10];

	lVar5 = (long)(int)auStack80;
	FUN_002559e0(param_1, param_2);
	uVar4 = (long)(int)*param_1 & 0xf;
	if (((((int)*param_1 >> 0x9 ^ 0x1U) & 0x1) != 0x0) &&
		(bVar1 = uVar4 < 0x2, uVar4 = (ulong)bVar1, !bVar1)) {
		fVar6 = (float)param_1[0x25];
		fVar8 = (float)*(int *)((int)param_2 + 0x8) * DAT_00309b80;
		if (0.00000000 < fVar6) {
			fVar7 = (float)param_1[0x24] + fVar8;
			*(float *)(param_1 + 0x24) = fVar7;
			if (fVar6 <= fVar7) {
				*(float *)(param_1 + 0x24) = fVar7 - fVar6;
			}
		}
		fVar6 = (float)param_1[0x2c];
		if (0.00000000 < (float)param_1[0x28]) {
			fVar7 = (float)param_1[0x27] + fVar8;
			*(float *)(param_1 + 0x27) = fVar7;
			if (fVar6 <= fVar7) {
				*(float *)(param_1 + 0x27) = fVar7 - fVar6;
			}
			fVar6 = (float)param_1[0x2c];
		}
		uVar3 = param_1[0x23];
		if (0.00000000 < fVar6) {
			fVar7 = (float)param_1[0x2b] + fVar8;
			*(float *)(param_1 + 0x2b) = fVar7;
			if (fVar6 <= fVar7) {
				*(float *)(param_1 + 0x2b) = fVar7 - fVar6;
			}
			uVar3 = param_1[0x23];
		}
		if ((uVar3 != 0x0) || (uVar4 = SEXT48((int)param_1[0x8]), uVar4 != 0x0)) {
			FUN_00164ca8(lVar5, param_1 + 0x12);
			uVar4 = FUN_00164ca8((long)(int)auStack64, param_1 + 0x1a);
			if ((short *)param_1[0x23] != (short *)0x0) {
				sVar2 = FUN_001abf08((short *)param_1[0x23], lVar5, (long)(int)auStack64);
				uVar4 = SEXT28(sVar2);
			}
			uVar3 = param_1[0x8];
			if (uVar3 != 0x0) {
				uVar4 = (**(code **)(*(int *)(uVar3 + 0x14) + 0x14))
					(fVar8, uVar3 + (int)*(short *)(*(int *)(uVar3 + 0x14) + 0x10), lVar5,
						auStack64, (ulong)((*param_1 & 0xf) == 0x3));
				param_1[0x8] = (uint)uVar4;
			}
		}
	}
	return uVar4;
}



String * FUN_00257018(int param_1, int param_2)

{
	String *pSVar1;

	if (*(int *)(param_1 + 0xc) != 0x0) {
		if (*(int *)(param_1 + 0x28) == 0x0) {
			*(int *)(param_1 + 0x28) = *(int *)(param_2 + 0x4);
		}
		else {
			if (*(int *)(param_2 + 0x4) - *(int *)(param_1 + 0x28) < *(int *)(param_1 + 0x2c)) {
				pSVar1 = *(String **)(param_1 + 0x30);
				goto LAB_00257064;
			}
			*(undefined4 *)(param_1 + 0x2c) = 0x0;
			*(undefined4 *)(param_1 + 0x28) = 0x0;
		}
	}
	pSVar1 = *(String **)(param_1 + 0x30);
LAB_00257064:
	if (pSVar1 != (String *)0x0) {
		pSVar1 = CreateStringFromChar(pSVar1 + 0xc, *(char **)(param_1 + 0x8));
	}
	return pSVar1;
}



void FUN_00257088(uint *param_1, undefined8 param_2)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	float fVar4;
	float local_40;
	undefined4 local_3c;
	float local_30;
	float local_2c;

	if ((((int)*param_1 >> 0x9 ^ 0x1U) & 0x1) != 0x0) {
		if ((*param_1 & 0xf) < 0x2) {
			uVar1 = param_1[0x7];
			goto LAB_00257178;
		}
		uVar1 = param_1[0xe];
		FUN_00164ca8((long)(int)&local_40, param_1 + 0x12);
		FUN_00164ca8((long)(int)&local_30, param_1 + 0x1a);
		if (((*param_1 & 0x400) != 0x0) &&
			(FUN_001a0730(0x0, (float *)(param_1 + 0x1), &local_40), (*param_1 & 0x400) != 0x0)) {
			FUN_001a07c0(0x0, &local_30);
		}
		if (param_1[0x9] != 0x0) {
			fVar4 = *(float *)(param_1[0x9] + 0x10);
			local_30 = local_30 * fVar4;
			local_2c = local_2c * fVar4;
		}
		iVar3 = (int)param_2;
		*(uint *)(iVar3 + 0x28) = param_1[0x22];
		uVar2 = param_1[0x23];
		*(float *)(iVar3 + 0x2c) = local_30;
		*(uint *)(iVar3 + 0x34) = uVar2;
		*(float *)(iVar3 + 0x30) = local_2c;
		*(uint *)(iVar3 + 0x10) = uVar1;
		FUN_001a0b30(local_40, local_3c, iVar3, (long)(int)param_1[0x24]);
	}
	uVar1 = param_1[0x7];
LAB_00257178:
	if (uVar1 != 0x0) {
		(**(code **)(*(int *)(uVar1 + 0x34) + 0x74))
			(uVar1 + (int)*(short *)(*(int *)(uVar1 + 0x34) + 0x70), param_2);
	}
	return;
}



undefined8 FUN_002571b0(uint param_1, undefined8 param_2)

{
	uint *memory;
	float fVar1;

	memory = (uint *)param_2;
	memory[0x6] = 0x0;
	memory[0x1] = param_1;
	fVar1 = (float)memory[0x6];
	memory[0x7] = 0x0;
	memory[0x8] = 0x0;
	memory[0x9] = 0x0;
	memory[0x2] = 0x3f000000;
	memory[0xd] = 0x3031b8;
	FUN_00101168(fVar1, fVar1, fVar1, 0.50000000, (undefined *)(memory + 0xa));
	memory[0xb] = 0x0;
	memory[0xc] = 0x0;
	FillMemory(memory, 0x0, 0x4);
	memory[0xd] = 0x302d08;
	memory[0x3] = 0x0;
	memory[0x4] = 0x0;
	*memory = *memory & 0xffff87f0 | 0x1c00;
	memory[0x5] = 0x0;
	memory[0x10] = DAT_0030a970;
	memory[0x11] = DAT_0030a970;
	FUN_00164ca8((long)(int)(memory + 0x16), (undefined4 *)DAT(0x0030a978));
	FUN_00164ca8((long)(int)(memory + 0x18), (undefined4 *)DAT(0x0030a978));
	FUN_00164ca8((long)(int)(memory + 0x1e), (undefined4 *)DAT(0x0030a980));
	FUN_00164ca8((long)(int)(memory + 0x20), (undefined4 *)DAT(0x0030a980));
	return param_2;
}



void FUN_002572c8(int param_1, uint param_2, undefined4 *param_3, undefined4 *param_4)

{
	float fVar1;
	float local_70;
	float local_6c;
	float local_60;
	float local_5c;
	float local_50;
	float local_4c;
	uint local_40;

	FUN_00164ca8((long)(int)&local_70, param_4);
	FUN_00164ca8((long)(int)&local_60, param_3);
	FUN_00164ca8((long)(int)&local_50, param_3);
	fVar1 = (local_70 * 0.50000000) / 1.33299994;
	local_5c = local_5c - local_6c * 0.50000000;
	local_40 = param_2 & 0xffffff;
	local_4c = local_4c + local_6c * 0.50000000;
	local_50 = local_50 + fVar1;
	local_60 = local_60 - fVar1;
	*(uint *)(param_1 + 0x44) = param_2;
	*(uint *)(param_1 + 0x40) = local_40;
	*(float *)(param_1 + 0x60) = local_60;
	*(float *)(param_1 + 0x64) = local_5c;
	*(float *)(param_1 + 0x7c) = local_4c;
	*(float *)(param_1 + 0x58) = local_60;
	*(float *)(param_1 + 0x5c) = local_5c;
	*(float *)(param_1 + 0x80) = local_50;
	*(float *)(param_1 + 0x84) = local_4c;
	*(float *)(param_1 + 0x78) = local_50;
	return;
}



void FUN_002573f0(int param_1, undefined4 param_2, undefined4 *param_3, undefined4 *param_4,
	float *param_5)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float local_90;
	float local_8c;
	float local_80;
	float local_7c;
	float local_70;
	float local_6c;
	float local_60;
	float local_5c;
	float local_50;
	float local_4c;

	FUN_00164ca8((long)(int)&local_90, param_4);
	FUN_00164ca8((long)(int)&local_80, param_3);
	FUN_00164ca8((long)(int)&local_70, param_3);
	FUN_00164ca8((long)(int)&local_60, param_3);
	FUN_00164ca8((long)(int)&local_50, param_3);
	local_8c = local_8c * 0.50000000;
	fVar2 = param_5[0x1];
	fVar1 = (local_90 * 0.50000000) / 1.33299994;
	fVar3 = *param_5;
	*(undefined4 *)(param_1 + 0x40) = param_2;
	*(undefined4 *)(param_1 + 0x44) = param_2;
	*(float *)(param_1 + 0x60) = local_80 - fVar1;
	*(float *)(param_1 + 0x64) = local_7c - local_8c;
	*(float *)(param_1 + 0x58) = (local_60 - fVar1) + fVar3;
	*(float *)(param_1 + 0x5c) = (local_5c - local_8c) + fVar2;
	*(float *)(param_1 + 0x80) = local_70 + fVar1;
	*(float *)(param_1 + 0x84) = local_6c + local_8c;
	*(float *)(param_1 + 0x7c) = local_4c + local_8c + fVar2;
	*(float *)(param_1 + 0x78) = local_50 + fVar1 + fVar3;
	return;
}



void FUN_00257578(int param_1, uint param_2, undefined4 *param_3, undefined4 *param_4,
	undefined4 *param_5)

{
	undefined4 uVar1;
	float fVar2;
	float local_80;
	float local_7c;
	float local_70;
	float local_6c;
	float local_60;
	float local_5c;
	uint local_50;

	FUN_00164ca8((long)(int)&local_80, param_4);
	FUN_00164ca8((long)(int)&local_70, param_3);
	FUN_00164ca8((long)(int)&local_60, param_3);
	fVar2 = (local_80 * 0.50000000) / 1.33299994;
	local_50 = param_2 & 0xffffff;
	*(uint *)(param_1 + 0x44) = param_2;
	*(uint *)(param_1 + 0x40) = local_50;
	*(float *)(param_1 + 0x60) = local_70 - fVar2;
	*(float *)(param_1 + 0x64) = local_6c - local_7c * 0.50000000;
	*(undefined4 *)(param_1 + 0x58) = *param_5;
	uVar1 = param_5[0x1];
	*(float *)(param_1 + 0x80) = local_60 + fVar2;
	*(undefined4 *)(param_1 + 0x5c) = uVar1;
	*(float *)(param_1 + 0x84) = local_5c + local_7c * 0.50000000;
	*(undefined4 *)(param_1 + 0x78) = *param_5;
	*(undefined4 *)(param_1 + 0x7c) = param_5[0x1];
	return;
}



long FUN_002576a8(int param_1, undefined8 param_2, undefined8 param_3, int param_4, long param_5)

{
	bool bVar1;
	int iVar2;
	ulong uVar3;
	ulong uVar4;
	long lVar5;
	int iVar6;
	int iVar7;

	uVar3 = FUN_0025c400(param_4, 0x5, (long)(*(int *)(param_1 + 0x4) >> 0x1c) & 0x1);
	uVar4 = FUN_0025c400(param_4, 0x6, (long)(*(int *)(param_1 + 0x4) >> 0x1c) & 0x1);
	if (uVar3 == 0x0) {
		if (uVar4 == 0x0) {
			lVar5 = FUN_0025c4f0(param_1, param_2, param_3, param_4, param_5);
			return lVar5;
		}
		iVar7 = *(int *)(param_1 + (int)param_2 * 0x4 + 0x14);
		if (iVar7 < *(int *)(param_1 + 0x38)) {
			iVar7 += 0x1;
		LAB_002577ac:
			(**(code **)(*(int *)(param_1 + 0x10) + 0x44))
				(param_1 + *(short *)(*(int *)(param_1 + 0x10) + 0x40), param_2, iVar7);
			bVar1 = true;
		}
		else {
			if (*(char *)(param_1 + 0x3c) != '\0') {
				iVar7 = *(int *)(param_1 + 0x34);
				goto LAB_002577ac;
			}
			bVar1 = false;
		}
		if (param_5 == 0x0) {
			return 0x0;
		}
		iVar2 = 0x6;
		iVar7 = 0x7;
		goto LAB_002577d8;
	}
	iVar7 = *(int *)(param_1 + (int)param_2 * 0x4 + 0x14);
	if (iVar7 < 0x1) {
		bVar1 = false;
		if (*(char *)(param_1 + 0x3c) != '\0') {
			iVar2 = *(int *)(param_1 + 0x34);
			goto LAB_0025773c;
		}
	}
	else {
		iVar2 = *(int *)(param_1 + 0x34);
	LAB_0025773c:
		iVar6 = iVar7 + -0x1;
		if (iVar7 <= iVar2) {
			iVar6 = *(int *)(param_1 + 0x38);
		}
		(**(code **)(*(int *)(param_1 + 0x10) + 0x44))
			(param_1 + *(short *)(*(int *)(param_1 + 0x10) + 0x40), param_2, iVar6);
		bVar1 = true;
	}
	if (param_5 == 0x0) {
		return 0x0;
	}
	iVar2 = 0x8;
	iVar7 = 0x9;
LAB_002577d8:
	if (!bVar1) {
		iVar7 = iVar2;
	}
	FUN_0025c668((int)param_5, iVar7);
	return 0x0;
}



undefined4 FUN_00257828(int param_1, uint param_2)

{
	int iVar1;
	int iVar2;
	ulong uVar3;

	if (*(int *)(param_1 + 0x40) < 0x1) {
		return 0x0;
	}
	uVar3 = (ulong)*(byte *)(*(int *)(param_1 + 0xc) + param_2);
	_iVar2 = uVar3;
	while (true) {
		if (_iVar2 == 0x0) {
			iVar2 = *(int *)(param_1 + 0x40);
			if ((*(uint *)(param_1 + 0x14) & 0x1000) == 0x0) {
				return 0x0;
			}
		}
		else {
			iVar2 = (int)_iVar2;
		}
		iVar2 += -0x1;
		_iVar2 = SEXT48(iVar2);
		if (_iVar2 == uVar3) break;
		iVar1 = 0x0;
		if (-0x1 < (long)_iVar2) {
			if ((long)_iVar2 < (long)*(int *)(param_1 + 0x40)) {
				iVar1 = *(int *)(*(int *)(param_1 + 0x3c) + iVar2 * 0x4);
			}
			else {
				iVar1 = 0x0;
			}
		}
		if ((((int)(uint)*(byte *)(iVar1 + 0x8) >> (param_2 & 0x1f) & 0x1U) != 0x0) &&
			(((int)(uint)*(byte *)(iVar1 + 0x9) >> (param_2 & 0x1f) & 0x1U) != 0x0)) {
			*(undefined *)(*(int *)(param_1 + 0xc) + param_2) = (char)iVar2;
			return 0x1;
		}
	}
	return 0x0;
}



undefined4 FUN_002578e8(int param_1, uint param_2)

{
	byte bVar1;
	int iVar2;
	int iVar3;
	ulong uVar4;

	if ((long)*(int *)(param_1 + 0x40) < 0x1) {
		return 0x0;
	}
	bVar1 = *(byte *)(*(int *)(param_1 + 0xc) + param_2);
	uVar4 = SEXT48((int)((uint)bVar1 + 0x1));
	while ((((long)uVar4 < (long)*(int *)(param_1 + 0x40) ||
		(uVar4 = 0x0, (*(uint *)(param_1 + 0x14) & 0x1000) != 0x0)) && (uVar4 != (ulong)bVar1))) {
		iVar3 = (int)uVar4;
		if ((long)uVar4 < 0x0) {
			iVar2 = 0x0;
		}
		else {
			if ((long)uVar4 < (long)*(int *)(param_1 + 0x40)) {
				iVar2 = *(int *)(*(int *)(param_1 + 0x3c) + iVar3 * 0x4);
			}
			else {
				iVar2 = 0x0;
			}
		}
		if (((int)(uint)*(byte *)(iVar2 + 0x8) >> (param_2 & 0x1f) & 0x1U) == 0x0) {
			uVar4 = SEXT48(iVar3 + 0x1);
		}
		else {
			if (((int)(uint)*(byte *)(iVar2 + 0x9) >> (param_2 & 0x1f) & 0x1U) != 0x0) {
				*(undefined *)(*(int *)(param_1 + 0xc) + param_2) = (char)uVar4;
				return 0x1;
			}
			uVar4 = SEXT48(iVar3 + 0x1);
		}
	}
	return 0x0;
}



void FUN_002579a8(int param_1)

{
	int iVar1;
	undefined4 *puVar2;
	undefined4 *puVar3;
	uint uVar4;
	uint uVar5;

	uVar5 = *(uint *)(param_1 + 0x14);
	*(undefined4 *)(param_1 + 0x18) = 0x0;
	*(uint *)(param_1 + 0x14) = uVar5 & 0x8f03ffff | 0x9f7c1000;
	uVar4 = 0x0;
	if ((uVar5 & 0x3e000) != 0x0) {
		iVar1 = *(int *)(param_1 + 0xc);
		while (true) {
			*(undefined *)(iVar1 + uVar4) = 0x0;
			*(undefined *)(*(int *)(param_1 + 0x4) + uVar4) = 0x0;
			uVar4 += 0x1;
			if ((*(uint *)(param_1 + 0x14) >> 0xd & 0x1f) <= uVar4) break;
			iVar1 = *(int *)(param_1 + 0xc);
		}
	}
	puVar2 = (undefined4 *)(param_1 + 0x1c);
	uVar5 = 0x0;
	puVar3 = (undefined4 *)(param_1 + 0x2c);
	do {
		*puVar2 = 0x0;
		uVar5 += 0x1;
		*puVar3 = 0xffffffff;
		puVar2 = puVar2 + 0x1;
		puVar3 = puVar3 + 0x1;
	} while (uVar5 < 0x4);
	return;
}



// WARNING: Removing unreachable block (ram,0x00257b0c)

void FUN_00257a88(int param_1, uint param_2)

{
	byte bVar1;
	int iVar2;
	int iVar3;
	byte *pbVar4;
	int iVar5;

	bVar1 = *(byte *)(*(int *)(param_1 + 0xc) + param_2);
	if ((long)(ulong)bVar1 < (long)*(int *)(param_1 + 0x40)) {
		iVar3 = *(int *)(*(int *)(param_1 + 0x3c) + (uint)bVar1 * 0x4);
	}
	else {
		iVar3 = 0x0;
	}
	iVar2 = *(int *)(param_1 + 0x40);
	iVar5 = 0x0;
	if (0x0 < iVar2) {
		bVar1 = *(byte *)(iVar3 + 0x8);
		while (((int)(uint)bVar1 >> (param_2 & 0x1f) & 0x1U) == 0x0) {
			pbVar4 = (byte *)(*(int *)(param_1 + 0xc) + param_2);
			*pbVar4 = (byte)((int)((uint)*pbVar4 + 0x1) % iVar2);
			bVar1 = *(byte *)(*(int *)(param_1 + 0xc) + param_2);
			if ((long)(ulong)bVar1 < (long)*(int *)(param_1 + 0x40)) {
				iVar3 = *(int *)(*(int *)(param_1 + 0x3c) + (uint)bVar1 * 0x4);
			}
			else {
				iVar3 = 0x0;
			}
			iVar5 += 0x1;
			if (iVar2 <= iVar5) {
				return;
			}
			bVar1 = *(byte *)(iVar3 + 0x8);
		}
	}
	return;
}



uint FUN_00257b68(int param_1, uint param_2)

{
	int *piVar1;
	bool bVar2;
	uint uVar3;
	undefined *local_30;
	int local_2c;
	uint local_28;

	local_2c = param_1 + 0x3c;
	uVar3 = 0x0;
	local_30 = DAT(0x00302a10);
	local_28 = 0x0;
	while (true) {
		bVar2 = false;
		if (((int)local_28 < 0x0) || (*(uint *)(local_2c + 0x4) <= local_28)) {
			bVar2 = true;
		}
		if (bVar2) break;
		piVar1 = (int *)(**(code **)(local_30 + 0x24))
			((int)&local_30 + (int)*(short *)(local_30 + 0x20));
		if ((*(uint *)(*piVar1 + 0x4) & 0xfff) == param_2) {
			return uVar3;
		}
		uVar3 += 0x1;
		local_28 += 0x1;
	}
	return 0xffffffff;
}



uint FUN_00257c38(int param_1, uint param_2)

{
	uint *puVar1;
	bool bVar2;
	undefined *local_30;
	int local_2c;
	uint local_28;

	local_2c = param_1 + 0x3c;
	local_30 = DAT(0x00302a10);
	local_28 = 0x0;
	while (true) {
		bVar2 = false;
		if (((int)local_28 < 0x0) || (*(uint *)(local_2c + 0x4) <= local_28)) {
			bVar2 = true;
		}
		if (bVar2) break;
		puVar1 = (uint *)(**(code **)(local_30 + 0x24))
			((int)&local_30 + (int)*(short *)(local_30 + 0x20));
		if ((*(uint *)(*puVar1 + 0x4) & 0xfff) == param_2) {
			return *puVar1;
		}
		local_28 += 0x1;
	}
	return 0x0;
}



int FUN_00257cf8(int param_1, undefined8 param_2)

{
	int *piVar1;
	bool bVar2;
	int iVar3;
	undefined *local_30;
	int local_2c;
	uint local_28;

	local_2c = param_1 + 0x3c;
	iVar3 = 0x0;
	local_30 = DAT(0x00302a10);
	local_28 = 0x0;
	while (true) {
		bVar2 = false;
		if (((int)local_28 < 0x0) || (*(uint *)(local_2c + 0x4) <= local_28)) {
			bVar2 = true;
		}
		if (bVar2) break;
		piVar1 = (int *)(**(code **)(local_30 + 0x24))
			((int)&local_30 + (int)*(short *)(local_30 + 0x20));
		local_28 += 0x1;
		iVar3 += (int)(uint)*(byte *)(*piVar1 + 0x8) >> ((uint)param_2 & 0x1f) & 0x1U;
	}
	return iVar3;
}



void FUN_00257dc8(int param_1, long param_2)

{
	int iVar1;
	uint uVar2;
	int iVar3;
	int iVar4;
	uint uVar5;
	uint uVar6;
	uint uVar7;
	uint uVar8;

	uVar2 = *(uint *)(param_1 + 0x40);
	if (param_2 == 0x0) {
		uVar5 = 0x1;
	}
	else {
		uVar5 = *(uint *)((int)param_2 + 0x14) >> 0x1c & 0x7;
	}
	uVar8 = *(uint *)(param_1 + 0x14);
	*(uint *)(param_1 + 0x14) = uVar8 & 0x8fffffff | uVar5 << 0x1c;
	if ((uVar8 & 0x3e000) == 0x0) {
		return;
	}
	iVar3 = *(int *)(param_1 + 0x4c);
	uVar8 = 0x0;
	do {
		(**(code **)(iVar3 + 0xc))(param_1 + *(short *)(iVar3 + 0x8), uVar8, uVar5);
		uVar7 = 0x0;
		if ((uVar5 == 0x1) && (uVar6 = *(uint *)(param_1 + 0x14) >> 0x12 & 0x3f, uVar6 < uVar2)) {
			*(undefined *)(*(int *)(param_1 + 0xc) + uVar8) = (char)uVar6;
		}
		if (uVar2 != 0x0) {
			iVar3 = *(int *)(param_1 + 0xc);
			while (true) {
				iVar1 = (int)(*(byte *)(iVar3 + uVar8) + uVar7) % uVar2;
				if (iVar1 < 0x0) {
					iVar4 = 0x0;
				}
				else {
					if (iVar1 < *(int *)(param_1 + 0x40)) {
						iVar4 = *(int *)(*(int *)(param_1 + 0x3c) + iVar1 * 0x4);
					}
					else {
						iVar4 = 0x0;
					}
				}
				if ((((int)(uint)*(byte *)(iVar4 + 0x8) >> (uVar8 & 0x1f) & 0x1U) != 0x0) &&
					(((int)(uint)*(byte *)(iVar4 + 0x9) >> (uVar8 & 0x1f) & 0x1U) != 0x0)) break;
				uVar7 += 0x1;
				if (uVar2 <= uVar7) goto LAB_00257f2c;
				iVar3 = *(int *)(param_1 + 0xc);
			}
			*(undefined *)(iVar3 + uVar8) = (char)iVar1;
		}
	LAB_00257f2c:
		uVar7 = 0x0;
		if (uVar2 != 0x0) {
			do {
				iVar3 = 0x0;
				if ((-0x1 < (int)uVar7) && ((int)uVar7 < *(int *)(param_1 + 0x40))) {
					iVar3 = *(int *)(*(int *)(param_1 + 0x3c) + uVar7 * 0x4);
				}
				uVar7 += 0x1;
				(**(code **)(*(int *)(iVar3 + 0x10) + 0x1c))
					(iVar3 + *(short *)(*(int *)(iVar3 + 0x10) + 0x18), uVar8, uVar5);
			} while (uVar7 < uVar2);
		}
		if ((*(uint *)(param_1 + 0x14) >> 0xd & 0x1f) <= uVar8 + 0x1) {
			return;
		}
		iVar3 = *(int *)(param_1 + 0x4c);
		uVar8 = uVar8 + 0x1;
	} while (true);
}



undefined4 * FUN_00257fd0(undefined4 *param_1, undefined8 param_2, long param_3, undefined8 param_4)

{
	byte bVar1;
	uint uVar2;
	int iVar3;
	int iVar4;
	undefined4 *puVar5;
	ulong uVar6;
	ulong uVar7;
	long lVar8;
	undefined uVar9;
	byte *pbVar10;
	int iVar11;
	uint uVar12;
	int iVar13;
	char cVar14;
	undefined4 *puVar15;
	ulong uVar16;
	ulong uVar17;
	int local_60;

	if (puRam0030a134 != (undefined4 *)0x0) {
		puVar5 = puRam0030a134;
		puRam0030a134 = (undefined4 *)0x0;
		return puVar5;
	}
	uVar12 = param_1[0x5];
	iVar4 = (int)param_2;
	if ((int)uVar12 < 0x0) {
		uVar6 = FUN_0025c400(iVar4, 0x2, 0x1);
		if (uVar6 != 0x0) {
			puRam0030a134 = DAT(0x003b6ed0);
			puVar5 = puRam0030a134;
			puRam0030a134 = (undefined4 *)0x0;
			return puVar5;
		}
		uVar12 = param_1[0x5];
	}
	if ((uVar12 & 0x1000000) != 0x0) {
		FUN_0025c400(iVar4, 0x0, 0x1);
	}
	if ((param_1[0x5] & 0x2000000) == 0x0) {
		local_60 = 0x0;
	}
	else {
		uVar6 = FUN_0025c400(iVar4, 0x1, 0x1);
		local_60 = (int)uVar6;
	}
	if ((param_1[0x5] & 0x4000000) == 0x0) {
		uVar6 = 0x0;
		uVar7 = 0x0;
	}
	else {
		uVar6 = FUN_0025c400(iVar4, 0x3, 0x1);
		uVar7 = FUN_0025c400(iVar4, 0x4, 0x1);
	}
	uVar12 = (uint)param_4;
	FUN_00257a88((int)param_1, uVar12);
	iVar11 = (int)param_3;
	if (uVar6 == 0x0) {
		if (uVar7 != 0x0) {
			puVar5 = (undefined4 *)param_1[0xa];
			iVar3 = 0x1;
			if ((puVar5 == (undefined4 *)0x0) ||
				((ulong)*(byte *)(param_1[0x3] + uVar12) != (long)(puVar5[0x10] + -0x1))) {
				iVar3 = FUN_002578e8((int)param_1, uVar12);
			}
			else {
				uVar2 = FUN_00257b68((int)puVar5, param_1[0xe]);
				puRam0030a134 = puVar5;
				if (uVar2 == 0xffffffff) {
					*(undefined *)(puVar5[0x3] + uVar12) = 0x0;
				}
				else {
					*(undefined *)(puVar5[0x3] + uVar12) = (char)uVar2;
				}
			}
			if (param_3 != 0x0) {
				iVar13 = 0x3;
				if (iVar3 == 0x0) {
					iVar13 = 0x2;
				}
				FUN_0025c668(iVar11, iVar13);
			}
			goto LAB_0025820c;
		}
		iVar3 = param_1[0x3];
	}
	else {
		puVar5 = (undefined4 *)param_1[0x9];
		iVar3 = 0x1;
		if ((puVar5 == (undefined4 *)0x0) || (*(char *)(param_1[0x3] + uVar12) != '\0')) {
			iVar3 = FUN_00257828((int)param_1, uVar12);
		}
		else {
			uVar2 = FUN_00257b68((int)puVar5, param_1[0xd]);
			puRam0030a134 = puVar5;
			if (uVar2 == 0xffffffff) {
				*(char *)(puVar5[0x3] + uVar12) = (char)puVar5[0x10] + -0x1;
			}
			else {
				*(char *)(puVar5[0x3] + uVar12) = (char)uVar2;
			}
		}
		if (param_3 == 0x0) {
		LAB_0025820c:
			iVar3 = param_1[0x3];
		}
		else {
			iVar13 = 0x5;
			if (iVar3 == 0x0) {
				iVar13 = 0x4;
			}
			FUN_0025c668(iVar11, iVar13);
			iVar3 = param_1[0x3];
		}
	}
	iVar3 = FUN_0025aa90((int)param_1, (uint)*(byte *)(iVar3 + uVar12));
	uVar17 = 0x0;
	if ((param_1[0x5] & 0x8000000) == 0x0) {
		uVar17 = 0x0;
		uVar16 = 0x0;
	}
	else {
		uVar16 = 0x0;
		if ((uVar6 == 0x0) && (uVar7 == 0x0)) {
			uVar17 = FUN_0025c400(iVar4, 0x5, 0x0);
			uVar16 = FUN_0025c400(iVar4, 0x6, 0x0);
		}
	}
	puVar5 = (undefined4 *)param_1[0x7];
	if (puVar5 == (undefined4 *)0x0) {
		puVar5 = (undefined4 *)0x0;
	}
	else {
		if (puVar5 == param_1) {
			puVar5 = (undefined4 *)0x0;
		}
		else {
			do {
				iVar4 = FUN_00257cf8((int)puVar5, param_4);
				if (0x0 < iVar4) goto LAB_002582b8;
				puVar5 = (undefined4 *)puVar5[0x7];
				if (puVar5 == (undefined4 *)0x0) {
					puVar5 = (undefined4 *)0x0;
					goto LAB_002582b8;
				}
			} while (puVar5 != param_1);
			puVar5 = (undefined4 *)0x0;
		}
	}
LAB_002582b8:
	puVar15 = (undefined4 *)param_1[0x8];
	if (puVar15 == (undefined4 *)0x0) {
		puVar15 = (undefined4 *)0x0;
	}
	else {
		if (puVar15 == param_1) {
			puVar15 = (undefined4 *)0x0;
		}
		else {
			do {
				iVar4 = FUN_00257cf8((int)puVar15, param_4);
				if (0x0 < iVar4) goto LAB_002582f8;
				puVar15 = (undefined4 *)puVar15[0x8];
				if (puVar15 == (undefined4 *)0x0) {
					puVar15 = (undefined4 *)0x0;
					goto LAB_002582f8;
				}
			} while (puVar15 != param_1);
			puVar15 = (undefined4 *)0x0;
		}
	}
LAB_002582f8:
	if ((uVar17 == 0x0) || (puVar5 == (undefined4 *)0x0)) {
		if ((uVar16 != 0x0) && (puVar15 != (undefined4 *)0x0)) {
			uVar2 = FUN_00257b68((int)puVar15, param_1[0xc]);
			uVar9 = (undefined)uVar2;
			puRam0030a134 = puVar15;
			if (uVar2 != 0xffffffff) {
				iVar4 = puVar15[0x3];
				goto LAB_002583b8;
			}
			cVar14 = (char)puVar15[0x10];
			bVar1 = *(byte *)(param_1[0x3] + uVar12);
			pbVar10 = (byte *)(puVar15[0x3] + uVar12);
			if ((long)(int)puVar15[0x10] <= (long)(ulong)bVar1) goto LAB_002583a0;
			goto LAB_002583ac;
		}
		if (local_60 == 0x0) {
			if (((iVar3 != 0x0) &&
				(puRam0030a134 =
				(undefined4 *)
					(**(code **)(*(int *)(iVar3 + 0x10) + 0x2c))
					(iVar3 + *(short *)(*(int *)(iVar3 + 0x10) + 0x28)),
					puRam0030a134 != (undefined4 *)0x0)) && (puRam0030a134 != param_1)) {
				iVar4 = 0x2;
				if (puRam0030a134 != (undefined4 *)param_1[0x6]) {
					iVar4 = 0x1;
				}
				param_1[0x5] = param_1[0x5] & 0x8fffffff | iVar4 << 0x1c;
				if (param_3 != 0x0) {
					if (iVar4 != 0x2) {
						iVar4 = param_1[0x13];
						goto LAB_002584c0;
					}
					FUN_0025c668(iVar11, 0xb);
				}
			}
		}
		else {
			lVar8 = (**(code **)(param_1[0x13] + 0x2c))
				((int)param_1 + (int)*(short *)(param_1[0x13] + 0x28), param_4);
			puVar5 = (undefined4 *)param_1[0x6];
			puRam0030a134 = puVar5;
			param_1[0x5] = param_1[0x5] & 0x8fffffff | 0x20000000;
			if (param_3 != 0x0) {
				if (lVar8 == 0x0) {
					if (puVar5 == (undefined4 *)0x0) {
						iVar4 = param_1[0x13];
						goto LAB_002584c0;
					}
					if (puVar5 == param_1) {
						iVar4 = param_1[0x13];
						goto LAB_002584c0;
					}
				}
				FUN_0025c668(iVar11, 0xb);
				iVar4 = param_1[0x13];
				goto LAB_002584c0;
			}
		}
	}
	else {
		uVar2 = FUN_00257b68((int)puVar5, param_1[0xb]);
		uVar9 = (undefined)uVar2;
		puRam0030a134 = puVar5;
		if (uVar2 == 0xffffffff) {
			cVar14 = (char)puVar5[0x10];
			bVar1 = *(byte *)(param_1[0x3] + uVar12);
			pbVar10 = (byte *)(puVar5[0x3] + uVar12);
			if ((long)(int)puVar5[0x10] <= (long)(ulong)bVar1) {
			LAB_002583a0:
				bVar1 = cVar14 - 0x1;
			}
		LAB_002583ac:
			*pbVar10 = bVar1;
		}
		else {
			iVar4 = puVar5[0x3];
		LAB_002583b8:
			*(undefined *)(iVar4 + uVar12) = uVar9;
		}
	}
	iVar4 = param_1[0x13];
LAB_002584c0:
	(**(code **)(iVar4 + 0x14))((int)param_1 + (int)*(short *)(iVar4 + 0x10), param_4, param_2, param_3);
	puVar5 = puRam0030a134;
	puRam0030a134 = (undefined4 *)0x0;
	return puVar5;
}



void FUN_00258518(uint *param_1, uint **param_2, int param_3)

{
	byte bVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	uint uVar6;
	uint uVar7;
	uint uVar8;
	uint *puVar9;
	uint *puVar10;
	uint *puVar11;
	ulong uVar12;
	int local_5c;

	uVar12 = 0x1;
	local_5c = 0x1;
	do {
		uVar2 = FUN_002b3868(*param_1, param_2, 0x0, uVar12);
		uVar3 = FUN_002b3868(*param_1, param_2, 0x1, uVar12);
		uVar4 = FUN_002b3868(*param_1, param_2, 0x3, uVar12);
		uVar5 = FUN_002b3868(*param_1, param_2, 0x4, uVar12);
		uVar6 = FUN_002b3868(*param_1, param_2, 0x5, uVar12);
		uVar7 = FUN_002b3868(*param_1, param_2, 0x6, uVar12);
		if (param_3 == 0x0) {
			uVar8 = 0x0;
		}
		else {
			uVar8 = FUN_002b3868(*param_1, param_2, 0x2, uVar12);
		}
		puVar11 = param_1 + 0x1;
		puVar9 = (uint *)((int)param_1 + 0x5);
		puVar10 = puVar11;
		if (uVar12 == 0x0) {
			puVar10 = puVar9;
		}
		if (uVar2 == 0x0) {
			bVar1 = *(byte *)puVar10 & 0xfe;
		}
		else {
			bVar1 = *(byte *)puVar10 | 0x1;
		}
		*(byte *)puVar10 = bVar1;
		puVar10 = puVar11;
		if (uVar12 == 0x0) {
			puVar10 = puVar9;
		}
		if (uVar3 == 0x0) {
			bVar1 = *(byte *)puVar10 & 0xfd;
		}
		else {
			bVar1 = *(byte *)puVar10 | 0x2;
		}
		*(byte *)puVar10 = bVar1;
		puVar10 = puVar11;
		if (uVar12 == 0x0) {
			puVar10 = puVar9;
		}
		if (uVar4 == 0x0) {
			bVar1 = *(byte *)puVar10 & 0xf7;
		}
		else {
			bVar1 = *(byte *)puVar10 | 0x8;
		}
		*(byte *)puVar10 = bVar1;
		puVar10 = puVar11;
		if (uVar12 == 0x0) {
			puVar10 = puVar9;
		}
		if (uVar5 == 0x0) {
			bVar1 = *(byte *)puVar10 & 0xef;
		}
		else {
			bVar1 = *(byte *)puVar10 | 0x10;
		}
		*(byte *)puVar10 = bVar1;
		puVar10 = puVar11;
		if (uVar12 == 0x0) {
			puVar10 = puVar9;
		}
		if (uVar6 == 0x0) {
			bVar1 = *(byte *)puVar10 & 0xdf;
		}
		else {
			bVar1 = *(byte *)puVar10 | 0x20;
		}
		*(byte *)puVar10 = bVar1;
		puVar10 = puVar11;
		if (uVar12 == 0x0) {
			puVar10 = puVar9;
		}
		if (uVar7 == 0x0) {
			bVar1 = *(byte *)puVar10 & 0xbf;
		}
		else {
			bVar1 = *(byte *)puVar10 | 0x40;
		}
		*(byte *)puVar10 = bVar1;
		if (uVar12 == 0x0) {
			puVar11 = puVar9;
		}
		if (uVar8 == 0x0) {
			bVar1 = *(byte *)puVar11 & 0xfb;
		}
		else {
			bVar1 = *(byte *)puVar11 | 0x4;
		}
		*(byte *)puVar11 = bVar1;
		uVar12 ^= 0x1;
		local_5c += -0x1;
	} while (-0x1 < local_5c);
	return;
}



void FUN_00258760(int param_1, ulong param_2, undefined4 *param_3, undefined4 *param_4, int param_5)

{
	byte bVar1;
	int iVar2;
	undefined4 uVar3;
	float local_40;
	float local_3c;
	undefined4 local_30[0x4];

	if (param_2 == 0x1) {
		local_30[0] = param_4[0x1];
		FUN_00164ca8((long)(int)&local_40, param_3);
		if (*(int *)(param_1 + 0x54) == 0x0) {
			iVar2 = *(int *)(param_1 + 0x58);
		}
		else {
			FUN_001a0ee8(*(float *)(*(int *)(param_1 + 0x54) + 0x10), local_30);
			iVar2 = *(int *)(param_1 + 0x58);
		}
		if (iVar2 != 0x0) {
			local_40 = local_40 * *(float *)(iVar2 + 0x10);
			local_3c = local_3c * *(float *)(iVar2 + 0x10);
		}
		*(undefined4 *)(param_5 + 0x10) = local_30[0];
		uVar3 = *(undefined4 *)(param_1 + 0x38);
		*(float *)(param_5 + 0x2c) = local_40;
		*(undefined4 *)(param_5 + 0x28) = uVar3;
		*(float *)(param_5 + 0x30) = local_3c;
	}
	else {
		if ((long)param_2 < 0x2) {
			if (param_2 != 0x0) {
				return;
			}
			*(undefined4 *)(param_5 + 0x10) = *param_4;
			*(undefined4 *)(param_5 + 0x28) = *(undefined4 *)(param_1 + 0x34);
			uVar3 = *param_3;
			*(undefined4 *)(param_5 + 0x30) = param_3[0x1];
			*(undefined4 *)(param_5 + 0x2c) = uVar3;
			bVar1 = *(byte *)(param_1 + 0x2);
			goto LAB_0025887c;
		}
		if (param_2 == 0x2) {
			*(undefined4 *)(param_5 + 0x10) = param_4[0x2];
			uVar3 = *(undefined4 *)(param_1 + 0x3c);
		}
		else {
			if (param_2 != 0x3) {
				return;
			}
			*(undefined4 *)(param_5 + 0x10) = param_4[0x3];
			uVar3 = *(undefined4 *)(param_1 + 0x40);
		}
		*(undefined4 *)(param_5 + 0x28) = uVar3;
		uVar3 = *param_3;
		*(undefined4 *)(param_5 + 0x30) = param_3[0x1];
		*(undefined4 *)(param_5 + 0x2c) = uVar3;
	}
	bVar1 = *(byte *)(param_1 + 0x3);
LAB_0025887c:
	*(uint *)(param_5 + 0x34) = (uint)bVar1;
	return;
}



undefined8 FUN_00258898(undefined8 param_1, undefined4 param_2)

{
	bool bVar1;
	int iVar2;
	void *memory;
	undefined4 local_40;
	undefined4 local_3c;
	undefined4 local_38;
	undefined4 local_34;

	iVar2 = 0x2;
	do {
		bVar1 = iVar2 != -0x1;
		iVar2 += -0x1;
	} while (bVar1);
	memory = (void *)param_1;
	*(undefined4 *)((int)memory + 0x54) = 0x0;
	*(undefined4 *)((int)memory + 0x58) = 0x0;
	FillMemory(memory, 0x0, 0x4);
	*(undefined4 *)((int)memory + 0x4) = 0x0;
	*(undefined4 *)((int)memory + 0x8) = 0x0;
	*(undefined4 *)((int)memory + 0x14) = 0x0;
	*(undefined4 *)((int)memory + 0x10) = 0x3f800000;
	*(undefined4 *)((int)memory + 0x18) = 0x3dcccccd;
	*(undefined4 *)((int)memory + 0x2c) = 0x3f000000;
	*(undefined4 *)((int)memory + 0x30) = 0x3d4ccccd;
	*(undefined *)((int)memory + 0x3) = 0x3;
	*(undefined4 *)((int)memory + 0xc) = 0x3f800000;
	*(undefined4 *)((int)memory + 0x1c) = 0x3f000000;
	*(undefined4 *)((int)memory + 0x20) = 0x3f000000;
	*(undefined4 *)((int)memory + 0x28) = 0x3f000000;
	*(undefined4 *)((int)memory + 0x24) = 0x3d4ccccd;
	*(undefined *)((int)memory + 0x2) = 0x6;
	FUN_0011be80(&local_40, 0xf);
	*(undefined4 *)((int)memory + 0x34) = param_2;
	*(undefined4 *)((int)memory + 0x44) = local_40;
	FUN_0011be80(&local_3c, 0xf);
	*(undefined4 *)((int)memory + 0x38) = param_2;
	*(undefined4 *)((int)memory + 0x48) = local_3c;
	FUN_0011be80(&local_38, 0x13);
	*(undefined4 *)((int)memory + 0x3c) = param_2;
	*(undefined4 *)((int)memory + 0x4c) = local_38;
	FUN_0011be80(&local_34, 0x15);
	*(undefined4 *)((int)memory + 0x40) = param_2;
	*(undefined4 *)((int)memory + 0x50) = local_34;
	return param_1;
}



void FUN_002589f8(byte *param_1, int *param_2, undefined8 param_3, uint param_4, float *param_5,
	float *param_6, int param_7)

{
	byte *pbVar1;
	byte *pbVar2;
	bool bVar3;
	byte bVar4;
	byte bVar5;
	char **ppcVar6;
	String *newStr;
	uint uVar7;
	long lVar8;
	float *pfVar9;
	ulong uVar10;
	char *string;
	int iVar11;
	byte *pbVar12;
	undefined4 *puVar13;
	uint uVar14;
	int **ppiVar15;
	uint uVar16;
	ulong uVar17;
	uint uVar18;
	float fVar19;
	float fVar20;
	float fVar21;
	float fVar22;
	float fVar23;
	float local_750;
	float local_74c;
	undefined4 auStack1856[0x4];
	String local_730;
	float local_720;
	float local_71c;
	undefined *local_710;
	int *local_70c;
	uint local_708;
	char **local_700[0x40];
	String local_600[0x40];
	String local_300;
	float local_2f0;
	float local_2ec;
	float local_2e0;
	float local_2dc;
	float local_2c0[0x80];
	uint local_c0;
	float *local_bc;
	char **local_b8;
	uint local_b4;
	String *local_b0;

	local_c0 = param_4;
	local_bc = param_5;
	FUN_00164ca8((long)(int)&local_750, (undefined4 *)(param_1 + 0xc));
	uVar18 = (uint)param_3;
	local_b8 = (char **)FUN_0025aac0((int)param_2, (uint)*(byte *)(param_2[0x3] + uVar18));
	uVar16 = local_c0 >> 0x18;
	uVar7 = local_c0 >> 0x8;
	fVar23 = (float)(local_c0 & 0xff) * 0.00520833;
	string = (char *)*param_2;
	fVar22 = (float)(local_c0 >> 0x10 & 0xff) * 0.00520833;
	iVar11 = 0x2;
	do {
		bVar3 = iVar11 != -0x1;
		iVar11 += -0x1;
	} while (bVar3);
	local_730.string = (char *)0x0;
	uVar14 = 0x0;
	local_730.stringLength = 0x0;
	puVar13 = auStack1856;
	local_730.stringMemoryOccupied = 0x0;
	pbVar12 = param_1 + 0x44;
	fVar21 = 0.00520833;
	do {
		bVar4 = *pbVar12;
		pbVar1 = pbVar12 + 0x1;
		uVar14 += 0x1;
		pbVar2 = pbVar12 + 0x2;
		bVar5 = pbVar12[0x3];
		pbVar12 = pbVar12 + 0x4;
		fVar20 = (float)(uint)*pbVar1 * fVar21;
		fVar19 = (float)(uint)*pbVar2 * fVar21 * fVar22;
		FUN_00101698((float)(uint)bVar4 * fVar21 * fVar23, (undefined *)puVar13);
		FUN_001016b8(fVar20 * (float)(uVar7 & 0xff) * 0.00520833, (int)puVar13);
		FUN_001016d8(fVar19, (int)puVar13);
		FUN_00101678((float)(uint)bVar5 * 0.00781250 * (float)uVar16 * 0.00781250, (int)puVar13);
		puVar13 = puVar13 + 0x1;
	} while (uVar14 < 0x4);
	local_750 = local_750 * *param_6;
	local_74c = local_74c * param_6[0x1];
	if ((0.00005000 < ABS(local_750)) || (0.00005000 < ABS(local_74c))) {
		FUN_00164ca8((long)(int)&local_720, (undefined4 *)(param_1 + 0x4));
		local_720 = local_720 * *param_6 + *local_bc;
		local_71c = local_71c * param_6[0x1] + local_bc[0x1];
		if (string == (char *)0x0) {
			string = *(char **)((param_2[0x5] & 0x3ffU) * 0x4 + DAT_00309b10);
		}
		CreateStringFromChar(&local_730, string);
		FUN_00258760((int)param_1, 0x0, &local_750, auStack1856, param_7);
		FUN_001a0b30(local_720, local_71c, param_7, (long)(int)local_730.string);
	}
	if (local_b8 == (char **)0x0) goto LAB_00259274;
	local_70c = param_2 + 0xf;
	local_b0 = &local_300;
	uVar17 = 0x0;
	local_710 = DAT(0x00302988);
	iVar11 = 0x3f;
	newStr = local_600;
	local_b4 = 0x0;
	do {
		newStr->string = (char *)0x0;
		iVar11 += -0x1;
		newStr->stringLength = 0x0;
		newStr->stringMemoryOccupied = 0x0;
		newStr = newStr + 0x1;
	} while (iVar11 != -0x1);
	local_708 = 0x0;
	while (true) {
		if (((int)local_708 < 0x0) || (bVar3 = false, (uint)local_70c[0x1] <= local_708)) {
			bVar3 = true;
		}
		uVar16 = (uint)uVar17;
		if (bVar3) break;
		ppiVar15 = (int **)(**(code **)(local_710 + 0x24))
			((int)&local_710 + (int)*(short *)(local_710 + 0x20));
		ppcVar6 = (char **)*ppiVar15;
		string = *ppcVar6;
		newStr = local_600 + uVar16;
		if (string == (char *)0x0) {
			string = *(char **)(((uint)ppcVar6[0x1] >> 0xa & 0x3ffc) + DAT_00309b10);
		}
		CreateStringFromChar(newStr, string);
		lVar8 = (**(code **)(ppcVar6[0x4] + 0x3c))
			((int)ppcVar6 + (int)*(short *)(ppcVar6[0x4] + 0x38), param_3, local_b0);
		if (lVar8 != 0x0) {
			ConcatenateString(newStr, DAT(0x0030a138));
			ConcatenateString(newStr, (char *)local_b0);
		}
		if (ppcVar6 == local_b8) {
			local_b4 = uVar16;
		}
		if ((local_600[uVar16].stringLength != 0x0) &&
			(((int)(uint)*(byte *)((int)ppcVar6 + 0x9) >> (uVar18 & 0x1f) & 0x1U) != 0x0)) {
			uVar17 = SEXT48((int)(uVar16 + 0x1));
			*(char ***)(local_700 + uVar16) = ppcVar6;
		}
		local_708 += 0x1;
	}
	if (uVar17 != 0x0) {
		local_720 = 0.00000000;
		local_71c = 0.00000000;
		FUN_00164ca8((long)(int)&local_300, (undefined4 *)(param_1 + 0x14));
		iVar11 = 0x3e;
		do {
			bVar3 = iVar11 != -0x1;
			iVar11 += -0x1;
		} while (bVar3);
		if ((*param_1 == 0x0) || (param_1[0x1] == 0x0)) {
		LAB_00258ef8:
			fVar22 = 1.00000000;
		}
		else {
			bVar4 = *param_1;
			if (bVar4 < uVar17) {
				uVar7 = uVar16 - bVar4;
				if (param_1[0x1] <= uVar17) goto LAB_00258ef8;
				if ((int)uVar7 < 0x0) {
					fVar22 = (float)(uVar7 & 0x1 | uVar7 >> 0x1);
					fVar22 = fVar22 + fVar22;
				}
				else {
					fVar22 = (float)uVar7;
				}
				uVar7 = (uint)param_1[0x1] - (uint)bVar4;
				if ((int)uVar7 < 0x0) {
					fVar23 = (float)(uVar7 & 0x1 | uVar7 >> 0x1);
					fVar23 = fVar23 + fVar23;
				}
				else {
					fVar23 = (float)uVar7;
				}
				fVar22 = fVar22 / fVar23;
			}
			else {
				fVar22 = 0.00000000;
			}
		}
		uVar10 = 0x0;
		fVar23 = 1.00000000 - fVar22;
		local_2f0 = (*(float *)(param_1 + 0x28) * fVar22 + *(float *)(param_1 + 0x1c) * fVar23) *
			*param_6;
		local_2ec = (*(float *)(param_1 + 0x2c) * fVar22 + *(float *)(param_1 + 0x20) * fVar23) *
			param_6[0x1];
		fVar22 = (*(float *)(param_1 + 0x30) * fVar22 + *(float *)(param_1 + 0x24) * fVar23) *
			param_6[0x1];
		if (uVar17 != 0x0) {
			pfVar9 = local_2c0;
			do {
				uVar10 = SEXT48((int)uVar10 + 0x1);
				*pfVar9 = local_720;
				pfVar9[0x1] = local_71c;
				pfVar9 = pfVar9 + 0x2;
				local_71c = local_71c + fVar22;
			} while (uVar10 < uVar17);
		}
		bVar4 = param_1[0x1];
		if ((bVar4 == 0x0) || (uVar17 <= bVar4)) {
			uVar16 -= 0x1;
			uVar7 = 0x0;
		}
		else {
			uVar7 = local_b4 - (bVar4 >> 0x1);
			if (local_b4 <= bVar4 >> 0x1) {
				uVar7 = 0x0;
			}
			local_71c = (float)(uint)bVar4 * fVar22;
			uVar14 = (uint)bVar4;
			if (uVar17 <= (ulong)(long)(int)(uVar7 + uVar14)) {
				uVar7 = uVar16 - uVar14;
			}
			uVar16 = (uVar7 - 0x1) + uVar14;
		}
		local_300.stringLength = local_300.stringLength * param_6[0x1] + local_bc[0x1];
		bVar4 = param_1[0x3];
		local_300.string = (char *)((float)local_300.string * *param_6 + *local_bc);
		if (bVar4 == 0x22) goto LAB_0025912c;
		if (bVar4 < 0x23) {
			if ((bVar4 == 0x6) || (((0x6 < bVar4 && (bVar4 != 0x11)) && (bVar4 == 0x14)))) {
			LAB_00259154:
				local_300.stringLength = local_300.stringLength - local_71c;
			}
		}
		else {
			if (bVar4 != 0x41) {
				if (bVar4 < 0x42) {
					if (bVar4 == 0x30) {
					LAB_0025912c:
						local_300.stringLength = local_300.stringLength - (local_71c - fVar22) * 0.50000000;
					}
				}
				else {
					if (bVar4 == 0x44) goto LAB_00259154;
					if (bVar4 == 0x60) goto LAB_0025912c;
				}
			}
		}
		if (uVar7 <= uVar16) {
			ppiVar15 = local_700 + uVar7;
			pfVar9 = local_2c0;
			do {
				FUN_00164ca8((long)(int)&local_2e0, pfVar9);
				if ((char **)*ppiVar15 == local_b8) {
					iVar11 = 0x1;
				LAB_002591c0:
					FUN_00258760((int)param_1, (long)iVar11, &local_2f0, auStack1856, param_7);
				}
				else {
					if (((int)(uint)*(byte *)(*ppiVar15 + 0x2) >> (uVar18 & 0x1f) & 0x1U) != 0x0) {
						iVar11 = 0x2;
						goto LAB_002591c0;
					}
					FUN_00258760((int)param_1, 0x3, &local_2f0, auStack1856, param_7);
				}
				uVar14 = uVar7 + 0x1;
				local_2e0 = local_2e0 + (float)local_300.string;
				pfVar9 = pfVar9 + 0x2;
				local_2dc = local_2dc + local_300.stringLength;
				ppiVar15 = ppiVar15 + 0x1;
				FUN_001a0b30(local_2e0, local_2dc, param_7, (long)(int)local_600[uVar7].string);
				uVar7 = uVar14;
			} while (uVar14 <= uVar16);
		}
	}
	newStr = local_b0;
	if (local_600 != local_b0) {
		do {
			newStr = newStr + -0x1;
			StringDelete(newStr);
		} while (local_600 != newStr);
	}
	local_710 = DAT(0x003029d8);
LAB_00259274:
	StringDelete(&local_730);
	return;
}



uint FUN_002592d8(float param_1, float param_2, int param_3, undefined8 *param_4)

{
	ChunkNode *pCVar1;
	TransformedGeometyPoint *pTVar2;
	bool bVar3;
	uint uVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	float fVar10;

	param_2 = param_2 * param_1;
	fVar5 = *(float *)(param_4 + 0x1);
	bVar3 = false;
	fVar7 = (float)*param_4 * param_2;
	fVar9 = (float)((ulong)*param_4 >> 0x20) * param_2;
	pCVar1 = *(ChunkNode **)(param_3 + 0x4);
	pTVar2 = pCVar1->transformMatrixPtr;
	if ((ABS(fVar7) <= 0.00005000) && (bVar3 = false, ABS(fVar9) <= 0.00005000)) {
		bVar3 = true;
	}
	uVar4 = 0x0;
	if (!bVar3) {
		if ((pTVar2->unkBitfield & 0x4) != 0x0) {
			fVar10 = (pTVar2->transformMatrix).wComponents.y;
			fVar8 = (pTVar2->transformMatrix).wComponents.z;
			fVar6 = (pTVar2->transformMatrix).wComponents.w;
			(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
			(pTVar2->positionVector).y = fVar10;
			(pTVar2->positionVector).z = fVar8;
			(pTVar2->positionVector).w = fVar6;
			pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
		}
		fVar6 = (pTVar2->positionVector).x;
		uVar4 = 0x1;
		pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffb | 0x1;
		(pTVar2->positionVector).x = fVar6 + fVar7;
		(pTVar2->positionVector).y = (pTVar2->positionVector).y + fVar9;
		(pTVar2->positionVector).z = (pTVar2->positionVector).z + fVar5 * param_2;
	}
	if (uVar4 != 0x0) {
		uVar4 = FUN_001977d8(pCVar1);
	}
	return uVar4;
}



uint FUN_00259420(float param_1, undefined4 *param_2, undefined8 param_3)

{
	TransformedGeometyPoint *pTVar1;
	ChunkNode *pCVar2;
	bool bVar3;
	uint uVar4;
	undefined8 uVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	int local_d0[0x4];
	int local_c0[0x4];
	float local_b0;
	float fStack172;
	float fStack168;
	float fStack164;
	float local_a0[0x4];
	float local_90;
	float local_8c;
	float local_88;
	float local_84;
	float local_80;
	float local_7c;
	float local_78;
	float local_74;
	float local_70[0x4];

	fVar6 = 20.00000000;
	fVar9 = 0.00000000;
	pTVar1 = *(TransformedGeometyPoint **)(param_2[0x1] + 0x8);
	RotateAndTranslate_(pTVar1);
	fVar8 = (float)FUN_002b39a8(*param_2, param_3, 0x0);
	fVar7 = (float)FUN_002b39a8(*param_2, param_3, 0x1);
	fVar10 = (fVar8 - fVar7) * 40.00000000;
	fVar8 = (float)FUN_002b3b40(*param_2, param_3, 0x9);
	fVar8 = fVar8 * fVar6;
	fVar7 = (float)FUN_002b3b40(*param_2, param_3, 0xa);
	fVar7 = fVar7 * fVar6;
	fVar6 = (float)FUN_002b3b40(*param_2, param_3, 0x6);
	FUN_0011bf10(fVar6, local_d0, 0x0);
	fVar6 = (float)FUN_002b3b40(*param_2, param_3, 0x7);
	FUN_0011bf10(fVar6, local_c0, 0x0);
	if (fVar8 != fVar9) {
		uVar5 = *(undefined8 *)&(pTVar1->transformMatrix).xComponents;
		fStack168 = (pTVar1->transformMatrix).xComponents.z;
		fStack164 = (pTVar1->transformMatrix).xComponents.w;
		local_b0 = (float)uVar5;
		fStack172 = (float)((ulong)uVar5 >> 0x20);
		FUN_002592d8(fVar8, param_1, (int)param_2, (undefined8 *)&local_b0);
	}
	if (fVar7 != fVar9) {
		local_b0 = (pTVar1->transformMatrix).yComponents.x;
		fStack172 = (pTVar1->transformMatrix).yComponents.y;
		fStack168 = (pTVar1->transformMatrix).yComponents.z;
		fStack164 = (pTVar1->transformMatrix).yComponents.w;
		FUN_002592d8(fVar7, param_1, (int)param_2, (undefined8 *)&local_b0);
	}
	if (fVar10 != fVar9) {
		local_b0 = (pTVar1->transformMatrix).zComponents.x;
		fStack172 = (pTVar1->transformMatrix).zComponents.y;
		fStack168 = (pTVar1->transformMatrix).zComponents.z;
		fStack164 = (pTVar1->transformMatrix).zComponents.w;
		FUN_002592d8(fVar10, param_1, (int)param_2, (undefined8 *)&local_b0);
	}
	uVar5 = FUN_0015de00(param_1, (long)(int)local_a0);
	local_b0 = *(float *)uVar5;
	pCVar2 = (ChunkNode *)param_2[0x1];
	pTVar1 = pCVar2->transformMatrixPtr;
	local_90 = local_b0;
	if (local_b0 == 0.00000000) {
		bVar3 = false;
	}
	else {
		if ((pTVar1->unkBitfield & 0x8) != 0x0) {
			FUN_00187090(&pTVar1->rotationVector, pTVar1);
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffff5;
		}
		pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffff7 | 0x2;
		local_70[0] = local_90;
		FUN_0018dd20(&local_80, local_70);
		FUN_0018dce8(&local_80, &local_80, &pTVar1->rotationVector);
		bVar3 = true;
		(pTVar1->rotationVector).x = local_80;
		(pTVar1->rotationVector).y = local_7c;
		(pTVar1->rotationVector).z = local_78;
		(pTVar1->rotationVector).w = local_74;
	}
	if (bVar3) {
		FUN_001977d8(pCVar2);
	}
	uVar5 = FUN_0015de00(param_1, (long)(int)local_a0);
	local_b0 = *(float *)uVar5;
	pCVar2 = (ChunkNode *)param_2[0x1];
	pTVar1 = pCVar2->transformMatrixPtr;
	local_a0[0] = local_b0;
	if (local_b0 == 0.00000000) {
		uVar4 = 0x0;
	}
	else {
		if ((pTVar1->unkBitfield & 0x8) != 0x0) {
			FUN_00187090(&pTVar1->rotationVector, pTVar1);
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffff5;
		}
		pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffff7 | 0x2;
		local_80 = local_a0[0];
		FUN_0018ddb0(&local_90, &local_80);
		FUN_0018dce8(&local_90, &local_90, &pTVar1->rotationVector);
		uVar4 = 0x1;
		(pTVar1->rotationVector).x = local_90;
		(pTVar1->rotationVector).y = local_8c;
		(pTVar1->rotationVector).z = local_88;
		(pTVar1->rotationVector).w = local_84;
	}
	if (uVar4 != 0x0) {
		uVar4 = FUN_001977d8(pCVar2);
	}
	return uVar4;
}



void FUN_00259778(uint *param_1, char *param_2)

{
	char cVar1;
	char cVar2;
	void *pvVar3;
	uint uVar4;
	char *pcVar5;
	uint uVar6;

	*param_1 = *param_1 & 0xff000000;
	cVar1 = *param_2;
	cVar2 = *param_2;
	pcVar5 = param_2;
	do {
		if (cVar1 == '\0') {
			pvVar3 = MemoryAllocate2((long)(int)((*param_1 & 0xfff) << 0x2));
			*(void **)(param_1 + 0x7) = pvVar3;
			uVar6 = 0x0;
			if ((*param_1 & 0xfff) != 0x0) {
				uVar4 = param_1[0x7];
				while (true) {
					*(char **)(uVar6 * 0x4 + uVar4) = param_2;
					cVar1 = *param_2;
					uVar6 += 0x1;
					while (cVar1 != '\0') {
						param_2 = param_2 + 0x1;
						cVar1 = *param_2;
					}
					do {
						param_2 = param_2 + 0x1;
					} while (*param_2 == '\0');
					if ((*param_1 & 0xfff) <= uVar6) break;
					uVar4 = param_1[0x7];
				}
			}
			return;
		}
		if ((cVar2 == '\r') && (pcVar5[0x1] == '\n')) {
			*pcVar5 = '\0';
		LAB_002597f8:
			pcVar5[0x1] = '\0';
			pcVar5 = pcVar5 + 0x2;
		LAB_00259814:
			*param_1 = *param_1 & 0xfffff000 | (*param_1 & 0xfff) + 0x1 & 0xfff;
		}
		else {
			if (cVar2 == '\n') {
				*pcVar5 = '\0';
				if (pcVar5[0x1] != '\r') goto LAB_00259810;
				goto LAB_002597f8;
			}
			if (cVar2 == '\r') {
				*pcVar5 = '\0';
			LAB_00259810:
				pcVar5 = pcVar5 + 0x1;
				goto LAB_00259814;
			}
			pcVar5 = pcVar5 + 0x1;
		}
		cVar1 = *pcVar5;
		cVar2 = *pcVar5;
	} while (true);
}



GameNode * FUN_002598e8(GameObject *gameObj)

{
	ResourceTable *ogiTable;
	uint uVar1;
	GameNode *pGVar2;
	OgiRelatedNode *pOVar3;
	GameOGI *ogiBaseAddress;
	short asStack80[0x8];
	ushort local_40[0x8];

	GetOgiID_FromScriptSlots(asStack80, gameObj, 0x0);
	ogiTable = GameResourcesObjectPointer->ogiTable;
	MoveShortFromS2toS1((short *)local_40, asStack80);
	if (local_40[0] == 0xffff) {
		ogiBaseAddress = (GameOGI *)0x0;
	}
	else {
		ogiBaseAddress = (GameOGI *)ogiTable->resourceTable[(uint)local_40[0] & 0x7fff];
	}
	uVar1 = gameObj->unkHeader;
	pGVar2 = (GameNode *)MemoryAllocate(0x30);
	pOVar3 = (OgiRelatedNode *)FUN_001a17c0(pGVar2);
	FUN_0019e4c0(pOVar3, ogiBaseAddress, uVar1 >> 0x6 & 0x3f, uVar1 & 0x3f);
	return (GameNode *)pOVar3;
}



long FUN_002599b0(short param_1)

{
	ResourceTable *pRVar1;
	GameNode *pGVar2;
	OgiRelatedNode *pOVar3;
	GameOGI *ogiBaseAddress;
	short local_40[0x8];
	ushort local_30[0x8];

	pRVar1 = GameResourcesObjectPointer->ogiTable;
	local_40[0] = param_1;
	MoveShortFromS2toS1((short *)local_30, local_40);
	if (local_30[0] == 0xffff) {
		ogiBaseAddress = (GameOGI *)0x0;
	}
	else {
		ogiBaseAddress = (GameOGI *)pRVar1->resourceTable[(uint)local_30[0] & 0x7fff];
	}
	pGVar2 = (GameNode *)MemoryAllocate(0x30);
	pOVar3 = (OgiRelatedNode *)FUN_001a17c0(pGVar2);
	FUN_0019e4c0(pOVar3, ogiBaseAddress, 0x0, 0x0);
	return (long)(int)pOVar3;
}



long FUN_00259a48(int param_1, undefined2 param_2, long param_3)

{
	TransformedGeometyPoint *pTVar1;
	bool bVar2;
	ChunkNode *chunkNode;
	undefined8 uVar3;
	TransformedGeometyPoint *pTVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	Vector4 local_40;

	chunkNode = (ChunkNode *)MemoryAllocate(0x160);
	chunkNode = FUN_001979f0(chunkNode);
	if (param_3 != 0x0) {
		pTVar1 = chunkNode->transformMatrixPtr;
		if ((pTVar1->unkBitfield & 0x4) != 0x0) {
			fVar7 = (pTVar1->transformMatrix).wComponents.y;
			fVar5 = (pTVar1->transformMatrix).wComponents.z;
			fVar6 = (pTVar1->transformMatrix).wComponents.w;
			(pTVar1->positionVector).x = (pTVar1->transformMatrix).wComponents.x;
			(pTVar1->positionVector).w = fVar6;
			(pTVar1->positionVector).y = fVar7;
			(pTVar1->positionVector).z = fVar5;
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffffa;
		}
		pTVar4 = (TransformedGeometyPoint *)param_3;
		bVar2 = false;
		if (((pTVar4->transformMatrix).wComponents.x == (pTVar1->positionVector).x) &&
			(bVar2 = false, (pTVar4->transformMatrix).wComponents.y == (pTVar1->positionVector).y)) {
			bVar2 = true;
		}
		if (bVar2) {
			pTVar1 = chunkNode->transformMatrixPtr;
		}
		else {
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffffb | 0x1;
			fVar7 = (pTVar4->transformMatrix).wComponents.y;
			fVar6 = (pTVar4->transformMatrix).wComponents.z;
			fVar5 = (pTVar4->transformMatrix).wComponents.w;
			(pTVar1->positionVector).x = (pTVar4->transformMatrix).wComponents.x;
			(pTVar1->positionVector).w = fVar5;
			(pTVar1->positionVector).y = fVar7;
			(pTVar1->positionVector).z = fVar6;
			FUN_001977d8(chunkNode);
			pTVar1 = chunkNode->transformMatrixPtr;
		}
		if ((pTVar1->unkBitfield & 0x8) != 0x0) {
			FUN_00187090(&pTVar1->rotationVector, pTVar1);
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffff5;
		}
		FUN_00187090(&local_40, pTVar4);
		bVar2 = false;
		if (((local_40.x == (pTVar1->rotationVector).x) && (local_40.y == (pTVar1->rotationVector).y))
			&& (local_40.z == (pTVar1->rotationVector).z)) {
			bVar2 = true;
		}
		if (!bVar2) {
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffff7 | 0x2;
			(pTVar1->rotationVector).x = local_40.x;
			(pTVar1->rotationVector).y = local_40.y;
			(pTVar1->rotationVector).z = local_40.z;
			(pTVar1->rotationVector).w = local_40.w;
			FUN_001977d8(chunkNode);
		}
	}
	uVar3 = FUN_002599b0(param_2);
	chunkNode->unkBitField = chunkNode->unkBitField | 0x400;
	FUN_00197918(chunkNode, true, (GameNode *)(OgiRelatedNode *)uVar3);
	FUN_001a1960((OgiRelatedNode *)uVar3);
	FUN_001f20d0(param_1, chunkNode);
	return (long)(int)chunkNode;
}



long FUN_00259ce0(int param_1, long param_2)

{
	TransformedGeometyPoint *pTVar1;
	bool bVar2;
	ChunkNode *chunkNode;
	void *pvVar3;
	GameNode *gameNode;
	undefined8 uVar4;
	TransformedGeometyPoint *pTVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	Vector4 local_70;
	int *local_60;
	float fStack92;
	float local_58;
	float local_54;
	undefined4 local_50;
	undefined4 local_40;

	chunkNode = (ChunkNode *)MemoryAllocate(0x160);
	chunkNode = FUN_001979f0(chunkNode);
	local_50 = DAT_0030a7d0;
	if (param_2 != 0x0) {
		pTVar1 = chunkNode->transformMatrixPtr;
		if ((pTVar1->unkBitfield & 0x4) != 0x0) {
			fVar8 = (pTVar1->transformMatrix).wComponents.y;
			fVar6 = (pTVar1->transformMatrix).wComponents.z;
			fVar7 = (pTVar1->transformMatrix).wComponents.w;
			(pTVar1->positionVector).x = (pTVar1->transformMatrix).wComponents.x;
			(pTVar1->positionVector).w = fVar7;
			(pTVar1->positionVector).y = fVar8;
			(pTVar1->positionVector).z = fVar6;
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffffa;
		}
		pTVar5 = (TransformedGeometyPoint *)param_2;
		bVar2 = false;
		if (((pTVar5->transformMatrix).wComponents.x == (pTVar1->positionVector).x) &&
			(bVar2 = false, (pTVar5->transformMatrix).wComponents.y == (pTVar1->positionVector).y)) {
			bVar2 = true;
		}
		if (bVar2) {
			pTVar1 = chunkNode->transformMatrixPtr;
		}
		else {
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffffb | 0x1;
			fVar8 = (pTVar5->transformMatrix).wComponents.y;
			fVar7 = (pTVar5->transformMatrix).wComponents.z;
			fVar6 = (pTVar5->transformMatrix).wComponents.w;
			(pTVar1->positionVector).x = (pTVar5->transformMatrix).wComponents.x;
			(pTVar1->positionVector).w = fVar6;
			(pTVar1->positionVector).y = fVar8;
			(pTVar1->positionVector).z = fVar7;
			FUN_001977d8(chunkNode);
			pTVar1 = chunkNode->transformMatrixPtr;
		}
		if ((pTVar1->unkBitfield & 0x8) != 0x0) {
			FUN_00187090(&pTVar1->rotationVector, pTVar1);
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffff5;
		}
		FUN_00187090(&local_70, pTVar5);
		bVar2 = false;
		if (((local_70.x == (pTVar1->rotationVector).x) && (local_70.y == (pTVar1->rotationVector).y))
			&& (local_70.z == (pTVar1->rotationVector).z)) {
			bVar2 = true;
		}
		if (!bVar2) {
			pTVar1->unkBitfield = pTVar1->unkBitfield & 0xfffffffffffffff7 | 0x2;
			(pTVar1->rotationVector).x = local_70.x;
			(pTVar1->rotationVector).y = local_70.y;
			(pTVar1->rotationVector).z = local_70.z;
			(pTVar1->rotationVector).w = local_70.w;
			FUN_001977d8(chunkNode);
		}
	}
	local_70.x = -0.10000000;
	local_70.z = -0.10000000;
	local_70.y = -0.10000000;
	local_70.w = 1.00000000;
	local_60 = (int *)0x3dcccccd;
	local_58 = 0.10000000;
	local_54 = 1.00000000;
	fStack92 = 0.10000000;
	if (puRam0030a13c == (undefined2 *)0x0) {
		pvVar3 = MemoryAllocate(0x20);
		uVar4 = FUN_00200550((long)(int)pvVar3);
		puRam0030a13c = (undefined2 *)uVar4;
		FUN_001fbef8(puRam0030a13c, (int **)&local_70, &local_60);
	}
	*(undefined2 **)&(chunkNode->chunkNodeRelData_).field_0x8 = puRam0030a13c;
	(chunkNode->chunkNodeRelData_).instanceBbox_.bboxMin.x = local_70.x;
	(chunkNode->chunkNodeRelData_).instanceBbox_.bboxMin.y = local_70.y;
	(chunkNode->chunkNodeRelData_).instanceBbox_.bboxMin.z = local_70.z;
	(chunkNode->chunkNodeRelData_).instanceBbox_.bboxMin.w = local_70.w;
	*(int **)&(chunkNode->chunkNodeRelData_).instanceBbox_.bboxMax.x = local_60;
	(chunkNode->chunkNodeRelData_).instanceBbox_.bboxMax.y = fStack92;
	(chunkNode->chunkNodeRelData_).instanceBbox_.bboxMax.z = local_58;
	(chunkNode->chunkNodeRelData_).instanceBbox_.bboxMax.w = local_54;
	pvVar3 = MemoryAllocate(0x3c);
	uVar4 = FUN_0027be38((long)(int)pvVar3);
	gameNode = (GameNode *)uVar4;
	gameNode[0x1].ChunkNode = (ChunkNode *)((uint)gameNode[0x1].ChunkNode | 0x1);
	local_40 = local_50;
	*(undefined4 *)&gameNode[0x1].field_0x4 = local_50;
	FUN_00197918(chunkNode, true, gameNode);
	FUN_001f20d0(param_1, chunkNode);
	return (long)(int)chunkNode;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_0025a018(long param_1, long param_2)

{
	if ((param_2 == 0xffff) && (param_1 != 0x0)) {
		FUN_0011be80(DAT(0x0030a958), 0xf);
		_DAT_0030a968 = 0x3f800000;
		DAT_0030a964 = 0x3f000000;
		_DAT_0030a960 = 0x3f000000;
		DAT_0030a96c = 0x3f800000;
		FUN_0011be80(DAT(0x0030a970), 0xf);
		DAT_003b6ed0 = "DUMMY-RESUME";
		DAT_0030a984 = 0x3f800000;
		DAT_003b6f1c = DAT(0x00302f30);
		_DAT_0030a978 = 0x0;
		DAT_0030a97c = 0x0;
		_DAT_0030a980 = 0x3f800000;
		DAT_003b6ed8 = 0x1;
		DAT_003b6ed4 = MemoryAllocate2(0x1);
		DAT_003b6ee0 = 0x1;
		DAT_003b6edc = MemoryAllocate2(0x1);
		DAT_003b6ee4 = DAT_003b6ee4 & 0xfffc1fff | 0x2000;
		DAT_003b6f18 = 0xa;
		DAT_003b6f10 = 0x0;
		DAT_003b6f14 = 0xa;
		DAT_003b6f0c = MemoryAllocate2(0x28);
		FUN_002579a8((int)DAT(0x003b6ed0));
	}
	return;
}



float FUN_0025a160(int *param_1)

{
	return (float)*param_1 * DAT_00309b80;
}



void FUN_0025a1a8(int param_1, undefined4 param_2)

{
	*(undefined4 *)(param_1 + 0x20) = param_2;
	if (*(int *)(param_1 + 0x1c) != 0x0) {
		FUN_0025a1a8(*(int *)(param_1 + 0x1c), param_2);
	}
	return;
}



void FUN_0025a1e8(ulong param_1, ulong param_2)

{
	FUN_0025a760(param_1, param_2);
	return;
}



undefined8 FUN_0025a250(float param_1, undefined8 param_2, undefined4 param_3)

{
	FUN_00256120(param_1, param_2);
	*(undefined4 *)((int)param_2 + 0x88) = param_3;
	*(undefined4 *)((int)param_2 + 0x34) = 0x3030b8;
	return param_2;
}



void FUN_0025a2e8(undefined8 param_1, ulong param_2, undefined4 param_3)

{
	int iVar1;

	iVar1 = FUN_0025a348(param_1, param_2);
	if (iVar1 < 0x0) {
		iVar1 = 0x0;
	}
	else {
		iVar1 = *(int *)((int)param_1 + iVar1 * 0x4 + 0x208);
	}
	*(undefined4 *)(iVar1 + 0x20) = param_3;
	if (*(int *)(iVar1 + 0x1c) != 0x0) {
		FUN_0025a1a8(*(int *)(iVar1 + 0x1c), param_3);
	}
	return;
}



int FUN_0025a348(undefined8 param_1, ulong param_2)

{
	int iVar1;
	ulong uVar2;
	int iVar3;

	uVar2 = 0x1;
	iVar3 = -0x1;
	iVar1 = 0x0;
	do {
		if ((param_2 & uVar2) != 0x0) {
			iVar3 = iVar1;
		}
		iVar1 += 0x1;
		uVar2 <<= 0x1;
	} while (iVar1 < 0x40);
	return iVar3;
}



void FUN_0025a378(ulong *param_1, ulong param_2, long param_3, undefined8 param_4)

{
	ulong uVar1;
	ulong uVar2;
	ulong *puVar3;
	uint uVar4;
	ulong uVar5;

	puVar3 = param_1 + 0x41;
	uVar4 = 0x0;
	uVar5 = 0x1;
	uVar1 = *param_1;
	do {
		uVar2 = param_2 & ~uVar1 & uVar5;
		uVar4 += 0x1;
		uVar5 <<= 0x1;
		if ((uVar2 != 0x0) && (*(uint **)puVar3 != (uint *)0x0)) {
			FUN_00255738(*(uint **)puVar3, param_3, param_4);
		}
		puVar3 = (ulong *)((int)puVar3 + 0x4);
	} while (uVar4 < 0x40);
	return;
}



void FUN_0025a418(ulong *param_1, ulong param_2, long param_3, undefined8 param_4)

{
	ulong uVar1;
	ulong uVar2;
	ulong *puVar3;
	uint uVar4;
	ulong uVar5;

	puVar3 = param_1 + 0x41;
	uVar4 = 0x0;
	uVar5 = 0x1;
	uVar1 = *param_1;
	do {
		uVar2 = param_2 & ~uVar1 & uVar5;
		uVar4 += 0x1;
		uVar5 <<= 0x1;
		if ((uVar2 != 0x0) && (*(uint **)puVar3 != (uint *)0x0)) {
			FUN_00255898(*(uint **)puVar3, param_3, param_4);
		}
		puVar3 = (ulong *)((int)puVar3 + 0x4);
	} while (uVar4 < 0x40);
	return;
}



undefined8 FUN_0025a4b8(undefined8 param_1)

{
	undefined8 *puVar1;
	undefined8 *puVar2;
	uint counter;

	puVar2 = (undefined8 *)param_1;
	*puVar2 = 0x0;
	counter = 0x0;
	*(undefined4 *)(puVar2 + 0x61) = 0x303078;
	puVar1 = puVar2 + 0x41;
	do {
		*(undefined4 *)puVar1 = 0x0;
		counter += 0x1;
		puVar1 = (undefined8 *)((int)puVar1 + 0x4);
	} while (counter < 0x40);
	counter = 0x0;
	do {
		puVar2 = puVar2 + 0x1;
		*puVar2 = 0x0;
		counter += 0x1;
	} while (counter < 0x40);
	return param_1;
}



void FUN_0025a510(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x308) = 0x303078;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_0025a540(int param_1, int param_2, undefined4 param_3)

{
	*(undefined4 *)(param_1 + param_2 * 0x4 + 0x208) = param_3;
	return;
}



void FUN_0025a550(int param_1)

{
	int iVar1;
	int *piVar2;
	uint uVar3;

	piVar2 = (int *)(param_1 + 0x208);
	uVar3 = 0x0;
	iVar1 = *piVar2;
	while (true) {
		uVar3 += 0x1;
		piVar2 = piVar2 + 0x1;
		if (iVar1 != 0x0) {
			(**(code **)(*(int *)(iVar1 + 0x34) + 0x54))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x50));
		}
		if (0x3f < uVar3) break;
		iVar1 = *piVar2;
	}
	return;
}



void FUN_0025a5b0(int param_1)

{
	int iVar1;
	int *piVar2;
	uint uVar3;

	piVar2 = (int *)(param_1 + 0x208);
	uVar3 = 0x0;
	iVar1 = *piVar2;
	while (true) {
		uVar3 += 0x1;
		piVar2 = piVar2 + 0x1;
		if (iVar1 != 0x0) {
			(**(code **)(*(int *)(iVar1 + 0x34) + 0x5c))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x58));
		}
		if (0x3f < uVar3) break;
		iVar1 = *piVar2;
	}
	return;
}



void FUN_0025a610(int param_1, undefined8 param_2)

{
	int iVar1;
	int *piVar2;
	uint uVar3;

	piVar2 = (int *)(param_1 + 0x208);
	uVar3 = 0x0;
	iVar1 = *piVar2;
	while (true) {
		uVar3 += 0x1;
		piVar2 = piVar2 + 0x1;
		if (iVar1 != 0x0) {
			(**(code **)(*(int *)(iVar1 + 0x34) + 0x64))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x60), param_2);
		}
		if (0x3f < uVar3) break;
		iVar1 = *piVar2;
	}
	return;
}



void FUN_0025a680(int param_1, undefined8 param_2)

{
	int iVar1;
	int *piVar2;
	uint uVar3;

	piVar2 = (int *)(param_1 + 0x208);
	uVar3 = 0x0;
	iVar1 = *piVar2;
	while (true) {
		uVar3 += 0x1;
		piVar2 = piVar2 + 0x1;
		if (iVar1 != 0x0) {
			(**(code **)(*(int *)(iVar1 + 0x34) + 0x74))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x70), param_2);
		}
		if (0x3f < uVar3) break;
		iVar1 = *piVar2;
	}
	return;
}



void FUN_0025a6f0(int param_1)

{
	int iVar1;
	int *piVar2;
	uint uVar3;

	piVar2 = (int *)(param_1 + 0x208);
	uVar3 = 0x0;
	iVar1 = *piVar2;
	while (true) {
		uVar3 += 0x1;
		piVar2 = piVar2 + 0x1;
		if (iVar1 != 0x0) {
			(**(code **)(*(int *)(iVar1 + 0x34) + 0x6c))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x68));
		}
		if (0x3f < uVar3) break;
		iVar1 = *piVar2;
	}
	return;
}



void FUN_0025a760(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x34) = 0x3031b8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_0025a790(uint *param_1, long param_2, float *param_3)

{
	if ((*param_1 & 0x400) != 0x0) {
		FUN_001a0730(param_2, (float *)(param_1 + 0x1), param_3);
	}
	return;
}



void FUN_0025a7c0(uint *param_1, long param_2, float *param_3)

{
	float fVar1;

	if ((*param_1 & 0x400) != 0x0) {
		FUN_001a07c0(param_2, param_3);
	}
	if (param_1[0x9] != 0x0) {
		fVar1 = *(float *)(param_1[0x9] + 0x10);
		*param_3 = *param_3 * fVar1;
		param_3[0x1] = param_3[0x1] * fVar1;
	}
	return;
}



void FUN_0025a858(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x1c);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x34) + 0x5c))(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x58));
	}
	return;
}



void FUN_0025a890(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x1c);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x34) + 0x74))(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x70));
	}
	return;
}



void FUN_0025a8c8(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x1c);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x34) + 0x6c))(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x68));
	}
	return;
}



void FUN_0025a978(ulong param_1, ulong param_2)

{
	FUN_0025a760(param_1, param_2);
	return;
}



undefined8
FUN_0025a9a0(float param_1, undefined8 param_2, undefined4 param_3, undefined4 param_4,
	undefined4 param_5)

{
	int iVar1;

	FUN_00256120(param_1, param_2);
	iVar1 = (int)param_2;
	*(undefined4 *)(iVar1 + 0x88) = param_3;
	*(undefined4 *)(iVar1 + 0x8c) = param_5;
	*(undefined4 *)(iVar1 + 0x90) = param_4;
	*(undefined4 *)(iVar1 + 0x34) = 0x302ff8;
	return param_2;
}



undefined4 FUN_0025aa90(int param_1, int param_2)

{
	if ((-0x1 < param_2) && (param_2 < *(int *)(param_1 + 0x40))) {
		return *(undefined4 *)(*(int *)(param_1 + 0x3c) + param_2 * 0x4);
	}
	return 0x0;
}



undefined4 FUN_0025aac0(int param_1, int param_2)

{
	if ((-0x1 < param_2) && (param_2 < *(int *)(param_1 + 0x40))) {
		return *(undefined4 *)(*(int *)(param_1 + 0x3c) + param_2 * 0x4);
	}
	return 0x0;
}



void FUN_0025aaf8(ulong param_1, ulong param_2)

{
	FUN_0025a760(param_1, param_2);
	return;
}



undefined8 FUN_0025ab38(float param_1, undefined8 param_2, uint param_3, uint param_4, uint param_5)

{
	uint *puVar1;

	FUN_00256120(param_1, param_2);
	puVar1 = (uint *)param_2;
	puVar1[0x26] = param_3;
	puVar1[0x27] = param_4;
	puVar1[0x28] = param_5;
	puVar1[0x23] = 0x0;
	puVar1[0x24] = 0x0;
	puVar1[0x29] = 0x0;
	puVar1[0x2a] = 0x0;
	puVar1[0xd] = 0x302e88;
	FillMemory(puVar1 + 0x22, 0x0, 0x4);
	puVar1[0x4] = 0x0;
	puVar1[0x3] = 0x0;
	puVar1[0x5] = 0x0;
	*puVar1 = *puVar1 & 0xffffff0f | 0x110;
	puVar1[0x6] = 0x0;
	return param_2;
}



void FUN_0025abe0(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0xa4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x4c) + 0x34))
			(iVar1 + *(short *)(*(int *)(iVar1 + 0x4c) + 0x30), 0x0);
	}
	iVar1 = *(int *)(param_1 + 0x1c);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x34) + 0x5c))(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x58));
	}
	return;
}



void FUN_0025ac40(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0xa4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x4c) + 0x44))
			(iVar1 + *(short *)(*(int *)(iVar1 + 0x4c) + 0x40), 0x0);
	}
	iVar1 = *(int *)(param_1 + 0x1c);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x34) + 0x6c))(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x68));
	}
	return;
}



undefined8 FUN_0025aca0(float param_1, undefined8 param_2, undefined4 param_3, undefined4 param_4)

{
	int iVar1;

	FUN_00256120(param_1, param_2);
	iVar1 = (int)param_2;
	*(undefined4 *)(iVar1 + 0x88) = param_3;
	*(undefined4 *)(iVar1 + 0x8c) = param_4;
	*(undefined4 *)(iVar1 + 0x34) = 0x303268;
	return param_2;
}



ulong FUN_0025acf8(int param_1, int param_2)

{
	int iVar1;

	iVar1 = FUN_0025aac0(*(int *)(param_1 + 0x88),
		(uint)*(byte *)(*(int *)(*(int *)(param_1 + 0x88) + 0xc) + param_2));
	return (ulong)(iVar1 == *(int *)(param_1 + 0x8c));
}



void FUN_0025ae28(int param_1)

{
	float fVar1;

	FUN_0019ced8(*(float *)(param_1 + 0x18), (undefined *)(param_1 + 0x38), *(uint *)(param_1 + 0x3c),
		*(uint *)(param_1 + 0x44));
	fVar1 = *(float *)(param_1 + 0x18);
	*(float *)(param_1 + 0x48) =
		*(float *)(param_1 + 0x60) * fVar1 + *(float *)(param_1 + 0x50) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x4c) =
		*(float *)(param_1 + 0x64) * fVar1 + *(float *)(param_1 + 0x54) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x68) =
		*(float *)(param_1 + 0x80) * fVar1 + *(float *)(param_1 + 0x70) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x6c) =
		*(float *)(param_1 + 0x84) * fVar1 + *(float *)(param_1 + 0x74) * (1.00000000 - fVar1);
	return;
}



void FUN_0025af08(int param_1)

{
	float fVar1;

	FUN_0019ced8(*(float *)(param_1 + 0x18), (undefined *)(param_1 + 0x38), *(uint *)(param_1 + 0x3c),
		*(uint *)(param_1 + 0x40));
	fVar1 = *(float *)(param_1 + 0x18);
	*(float *)(param_1 + 0x48) =
		*(float *)(param_1 + 0x58) * fVar1 + *(float *)(param_1 + 0x50) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x4c) =
		*(float *)(param_1 + 0x5c) * fVar1 + *(float *)(param_1 + 0x54) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x68) =
		*(float *)(param_1 + 0x78) * fVar1 + *(float *)(param_1 + 0x70) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x6c) =
		*(float *)(param_1 + 0x7c) * fVar1 + *(float *)(param_1 + 0x74) * (1.00000000 - fVar1);
	return;
}



void FUN_0025afb8(int param_1, uint param_2, undefined4 *param_3, undefined4 *param_4)

{
	uint local_10;

	local_10 = param_2 & 0xffffff;
	*(uint *)(param_1 + 0x44) = param_2;
	*(uint *)(param_1 + 0x40) = local_10;
	*(undefined4 *)(param_1 + 0x60) = *param_3;
	*(undefined4 *)(param_1 + 0x64) = param_3[0x1];
	*(undefined4 *)(param_1 + 0x58) = *param_3;
	*(undefined4 *)(param_1 + 0x5c) = param_3[0x1];
	*(undefined4 *)(param_1 + 0x80) = *param_4;
	*(undefined4 *)(param_1 + 0x84) = param_4[0x1];
	*(undefined4 *)(param_1 + 0x78) = *param_4;
	*(undefined4 *)(param_1 + 0x7c) = param_4[0x1];
	return;
}



void FUN_0025b020(int param_1, undefined4 param_2, undefined4 *param_3, undefined4 *param_4,
	float *param_5)

{
	undefined4 uVar1;
	float fVar2;
	float fVar3;
	float local_40;
	float local_3c;

	FUN_00164ca8((long)(int)&local_40, param_3);
	fVar3 = *param_5;
	fVar2 = param_5[0x1];
	*(undefined4 *)(param_1 + 0x40) = param_2;
	*(undefined4 *)(param_1 + 0x44) = param_2;
	*(undefined4 *)(param_1 + 0x60) = *param_3;
	uVar1 = param_3[0x1];
	*(float *)(param_1 + 0x58) = local_40 + fVar3;
	*(undefined4 *)(param_1 + 0x64) = uVar1;
	*(float *)(param_1 + 0x5c) = local_3c + fVar2;
	*(undefined4 *)(param_1 + 0x80) = *param_4;
	*(undefined4 *)(param_1 + 0x84) = param_4[0x1];
	*(undefined4 *)(param_1 + 0x78) = *param_4;
	*(undefined4 *)(param_1 + 0x7c) = param_4[0x1];
	return;
}



void FUN_0025b0e8(int param_1, uint param_2, undefined4 *param_3, undefined4 *param_4,
	undefined4 *param_5)

{
	undefined4 uVar1;
	uint local_10;

	local_10 = param_2 & 0xffffff;
	*(uint *)(param_1 + 0x40) = local_10;
	*(uint *)(param_1 + 0x44) = param_2;
	*(undefined4 *)(param_1 + 0x60) = *param_3;
	*(undefined4 *)(param_1 + 0x64) = param_3[0x1];
	*(undefined4 *)(param_1 + 0x58) = *param_5;
	*(undefined4 *)(param_1 + 0x5c) = param_5[0x1];
	*(undefined4 *)(param_1 + 0x80) = *param_4;
	uVar1 = param_4[0x1];
	*(undefined4 *)(param_1 + 0x7c) = 0x0;
	*(undefined4 *)(param_1 + 0x84) = uVar1;
	*(undefined4 *)(param_1 + 0x78) = 0x0;
	return;
}



void FUN_0025b158(ulong param_1, ulong param_2)

{
	FUN_0025a760(param_1, param_2);
	return;
}



undefined8
FUN_0025b190(float param_1, undefined8 param_2, uint param_3, undefined param_4, undefined param_5,
	undefined4 param_6)

{
	void *pvVar1;
	int iVar2;
	uint uVar3;
	int iVar4;

	FUN_00256120(param_1, param_2);
	iVar4 = (int)param_2;
	*(undefined4 *)(iVar4 + 0x8c) = param_6;
	*(undefined4 *)(iVar4 + 0x34) = 0x302d88;
	FillMemory((void *)(iVar4 + 0x88), 0x0, 0x4);
	*(undefined *)(iVar4 + 0x89) = param_4;
	*(undefined *)(iVar4 + 0x8a) = param_5;
	*(undefined *)(iVar4 + 0x88) = (char)param_3;
	pvVar1 = MemoryAllocate2((long)(int)(param_3 << 0x2));
	*(void **)(iVar4 + 0x90) = pvVar1;
	uVar3 = 0x0;
	if (param_3 != 0x0) {
		do {
			iVar2 = uVar3 * 0x4;
			uVar3 += 0x1;
			*(undefined4 *)(iVar2 + *(int *)(iVar4 + 0x90)) = 0x0;
		} while (uVar3 < param_3);
	}
	return param_2;
}



void FUN_0025b248(ulong param_1, ulong param_2)

{
	int iVar1;
	ulong uVar2;
	int iVar3;

	uVar2 = 0x0;
	iVar3 = (int)param_1;
	*(undefined4 *)(iVar3 + 0x34) = 0x302d88;
	if (*(char *)(iVar3 + 0x88) != '\0') {
		iVar1 = *(int *)(iVar3 + 0x90);
		while (true) {
			iVar1 = *(int *)((int)uVar2 * 0x4 + iVar1);
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0xc) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0xc) + 0x8), 0x3);
			}
			uVar2 = SEXT48((int)uVar2 + 0x1);
			if (*(byte *)(iVar3 + 0x88) <= uVar2) break;
			iVar1 = *(int *)(iVar3 + 0x90);
		}
	}
	if (*(void **)(iVar3 + 0x90) != (void *)0x0) {
		MemoryDeallocate_(*(void **)(iVar3 + 0x90));
	}
	FUN_0025a760(param_1, param_2);
	return;
}



undefined4 FUN_0025b2f8(int param_1, int param_2, undefined4 param_3)

{
	byte bVar1;
	byte bVar2;
	int iVar3;
	void *pvVar4;
	undefined8 uVar5;

	bVar1 = *(byte *)(param_1 + 0x89);
	bVar2 = *(byte *)(param_1 + 0x8a);
	iVar3 = *(int *)(param_1 + 0x90);
	pvVar4 = MemoryAllocate(0x5c);
	uVar5 = FUN_001a89f8((long)(int)pvVar4, (uint)bVar1 * ((uint)bVar2 + 0x1), param_3);
	*(undefined4 *)(param_2 * 0x4 + iVar3) = (int)uVar5;
	return *(undefined4 *)(param_2 * 0x4 + *(int *)(param_1 + 0x90));
}



void FUN_0025b380(float param_1, int param_2, float *param_3)

{
	FUN_001a8b78(param_1, **(int **)(param_2 + 0x90), (undefined4 *)(param_2 + 0x60),
		(float *)(param_2 + 0x80), param_3);
	return;
}



void FUN_0025b3b0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x34) = 0x3031b8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



undefined8 FUN_0025b440(undefined8 param_1, undefined4 param_2)

{
	int iVar1;

	FUN_0025b970(param_1);
	iVar1 = (int)param_1;
	*(undefined4 *)(iVar1 + 0x88) = param_2;
	*(undefined4 *)(iVar1 + 0x34) = 0x302c88;
	*(undefined4 *)(iVar1 + 0xb0) = 0xbf800000;
	*(undefined4 *)(iVar1 + 0x8c) = 0x0;
	*(undefined4 *)(iVar1 + 0x90) = 0x0;
	*(undefined4 *)(iVar1 + 0x94) = 0xbf800000;
	*(undefined4 *)(iVar1 + 0x98) = 0x0;
	*(undefined4 *)(iVar1 + 0x9c) = 0x0;
	*(undefined4 *)(iVar1 + 0xa0) = 0xbf800000;
	*(undefined4 *)(iVar1 + 0xa4) = 0x0;
	*(undefined4 *)(iVar1 + 0xa8) = 0x0;
	*(undefined4 *)(iVar1 + 0xac) = 0x0;
	*(undefined4 *)(iVar1 + 0xb4) = 0x0;
	*(undefined4 *)(iVar1 + 0xb8) = 0x0;
	return param_1;
}



undefined8 FUN_0025b4c0(undefined4 param_1, undefined8 param_2, undefined4 param_3)

{
	int iVar1;

	FUN_002571b0(param_1, param_2);
	iVar1 = (int)param_2;
	*(undefined4 *)(iVar1 + 0x88) = param_3;
	*(undefined4 *)(iVar1 + 0x34) = 0x302c88;
	*(undefined4 *)(iVar1 + 0xb0) = 0xbf800000;
	*(undefined4 *)(iVar1 + 0x8c) = 0x0;
	*(undefined4 *)(iVar1 + 0x90) = 0x0;
	*(undefined4 *)(iVar1 + 0x94) = 0xbf800000;
	*(undefined4 *)(iVar1 + 0x98) = 0x0;
	*(undefined4 *)(iVar1 + 0x9c) = 0x0;
	*(undefined4 *)(iVar1 + 0xa0) = 0xbf800000;
	*(undefined4 *)(iVar1 + 0xa4) = 0x0;
	*(undefined4 *)(iVar1 + 0xa8) = 0x0;
	*(undefined4 *)(iVar1 + 0xac) = 0x0;
	*(undefined4 *)(iVar1 + 0xb8) = 0x0;
	return param_2;
}



void FUN_0025b538(ulong param_1, ulong param_2)

{
	StringDelete((String *)((int)param_1 + 0x90));
	FUN_0025a760(param_1, param_2);
	return;
}



undefined8 FUN_0025b580(undefined8 param_1, undefined4 param_2)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	*puVar1 = param_2;
	puVar1[0x1] = 0x22;
	puVar1[0x2] = 0x0;
	puVar1[0x4] = 0x0;
	puVar1[0x3] = 0x0;
	FUN_0011be80(puVar1 + 0x5, 0xf);
	puVar1[0x7] = 0x3f000000;
	puVar1[0x9] = 0x3f800000;
	puVar1[0x6] = 0x3f000000;
	puVar1[0x8] = 0x3f800000;
	puVar1[0xc] = 0x0;
	puVar1[0xb] = 0x0;
	puVar1[0xa] = 0x0;
	return param_1;
}



void FUN_0025b5f8(undefined4 *param_1, int param_2)

{
	undefined4 uVar1;

	if ((param_1[0x3] != 0x0) && (param_1[0xc] == 0x0)) {
		*(undefined4 *)(param_2 + 0x10) = param_1[0x5];
		uVar1 = param_1[0x9];
		*(undefined4 *)(param_2 + 0x2c) = param_1[0x8];
		*(undefined4 *)(param_2 + 0x30) = uVar1;
		*(undefined4 *)(param_2 + 0x34) = param_1[0x1];
		*(undefined4 *)(param_2 + 0x28) = *param_1;
		FUN_001a0b30(param_1[0x6], param_1[0x7], param_2, (long)(int)param_1[0x2]);
	}
	return;
}



undefined8 FUN_0025b670(float param_1, undefined8 param_2, undefined4 param_3, undefined4 param_4)

{
	int iVar1;

	FUN_00256120(param_1, param_2);
	iVar1 = (int)param_2;
	*(undefined4 *)(iVar1 + 0x88) = param_3;
	*(undefined4 *)(iVar1 + 0x8c) = param_4;
	*(undefined4 *)(iVar1 + 0x34) = 0x302c08;
	*(undefined4 *)(iVar1 + 0x90) = 0x0;
	*(undefined4 *)(iVar1 + 0x98) = 0x0;
	*(undefined4 *)(iVar1 + 0x94) = 0x0;
	return param_2;
}



void FUN_0025b7e0(int param_1)

{
	float fVar1;

	FUN_0019ced8(*(float *)(param_1 + 0x18), (undefined *)(param_1 + 0x38), *(uint *)(param_1 + 0x3c),
		*(uint *)(param_1 + 0x44));
	fVar1 = *(float *)(param_1 + 0x18);
	*(float *)(param_1 + 0x48) =
		*(float *)(param_1 + 0x60) * fVar1 + *(float *)(param_1 + 0x50) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x4c) =
		*(float *)(param_1 + 0x64) * fVar1 + *(float *)(param_1 + 0x54) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x68) =
		*(float *)(param_1 + 0x80) * fVar1 + *(float *)(param_1 + 0x70) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x6c) =
		*(float *)(param_1 + 0x84) * fVar1 + *(float *)(param_1 + 0x74) * (1.00000000 - fVar1);
	return;
}



void FUN_0025b8c0(int param_1)

{
	float fVar1;

	FUN_0019ced8(*(float *)(param_1 + 0x18), (undefined *)(param_1 + 0x38), *(uint *)(param_1 + 0x3c),
		*(uint *)(param_1 + 0x40));
	fVar1 = *(float *)(param_1 + 0x18);
	*(float *)(param_1 + 0x48) =
		*(float *)(param_1 + 0x58) * fVar1 + *(float *)(param_1 + 0x50) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x4c) =
		*(float *)(param_1 + 0x5c) * fVar1 + *(float *)(param_1 + 0x54) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x68) =
		*(float *)(param_1 + 0x78) * fVar1 + *(float *)(param_1 + 0x70) * (1.00000000 - fVar1);
	*(float *)(param_1 + 0x6c) =
		*(float *)(param_1 + 0x7c) * fVar1 + *(float *)(param_1 + 0x74) * (1.00000000 - fVar1);
	return;
}



undefined8 FUN_0025b970(undefined8 param_1)

{
	int iVar1;

	FUN_00255690(param_1);
	iVar1 = (int)param_1;
	*(undefined4 *)(iVar1 + 0x34) = 0x302d08;
	*(undefined4 *)(iVar1 + 0x40) = DAT_0030a970;
	*(undefined4 *)(iVar1 + 0x44) = DAT_0030a970;
	FUN_00164ca8((long)(iVar1 + 0x58), (undefined4 *)DAT(0x0030a978));
	FUN_00164ca8((long)(iVar1 + 0x60), (undefined4 *)DAT(0x0030a978));
	FUN_00164ca8((long)(iVar1 + 0x78), (undefined4 *)DAT(0x0030a980));
	FUN_00164ca8((long)(iVar1 + 0x80), (undefined4 *)DAT(0x0030a980));
	return param_1;
}



undefined4 FUN_0025b9e8(int param_1, undefined8 param_2, int param_3)

{
	undefined4 uVar1;

	(**(code **)(*(int *)(param_3 + 0x4c) + 0x2c))
		(param_3 + *(short *)(*(int *)(param_3 + 0x4c) + 0x28));
	uVar1 = FUN_0025c428(param_1);
	return uVar1;
}



undefined8
FUN_0025ba50(undefined8 param_1, undefined8 param_2, uint param_3, undefined4 param_4, uint param_5)

{
	FUN_0025c948(param_1, param_2, param_3, param_4, param_5);
	*(undefined4 *)((int)param_1 + 0x10) = 0x302b18;
	return param_1;
}



void FUN_0025ba88(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)param_1 + 0x10) = 0x302b18;
	FUN_0025c9c8(param_1, param_2);
	return;
}



undefined8
FUN_0025bb38(undefined8 param_1, undefined8 param_2, uint param_3, undefined4 param_4,
	undefined4 param_5, undefined param_6, undefined4 param_7, uint param_8)

{
	int iVar1;

	FUN_0025c438(param_1, param_2, param_3, param_8);
	iVar1 = (int)param_1;
	*(undefined *)(iVar1 + 0x3d) = 0x0;
	*(undefined4 *)(iVar1 + 0x10) = 0x302aa0;
	FUN_0025bbe8(iVar1, param_4, param_5, param_6, param_7);
	return param_1;
}



void FUN_0025bbc0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)param_1 + 0x10) = 0x302aa0;
	FUN_0025c4b8(param_1, param_2);
	return;
}



void FUN_0025bbe8(int param_1, undefined4 param_2, undefined4 param_3, undefined param_4,
	undefined4 param_5)

{
	undefined4 *puVar1;
	long lVar2;

	lVar2 = 0x0;
	*(undefined4 *)(param_1 + 0x34) = param_2;
	*(undefined4 *)(param_1 + 0x38) = param_3;
	*(undefined *)(param_1 + 0x3c) = param_4;
	if ((*(byte *)(param_1 + 0x7) & 0xf) != 0x0) {
		puVar1 = (undefined4 *)(param_1 + 0x14);
		do {
			*puVar1 = param_5;
			lVar2 = (long)((int)lVar2 + 0x1);
			puVar1 = puVar1 + 0x1;
		} while (lVar2 < (long)((ulong)*(byte *)(param_1 + 0x7) & 0xf));
	}
	return;
}



undefined4
FUN_0025bc38(undefined4 param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4,
	undefined4 param_5, undefined4 param_6, undefined4 param_7, int param_8, int param_9,
	undefined *param_10, undefined8 param_11, undefined8 param_12, undefined8 param_13,
	undefined8 param_14, undefined8 param_15)

{
	FUN_002c7958(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_10, 0x30a130,
		(long)*(int *)(param_8 + param_9 * 0x4 + 0x14), param_11, param_12, param_13, param_14,
		param_15);
	return 0x1;
}



undefined8 FUN_0025bd08(undefined8 param_1, undefined4 param_2, ulong param_3)

{
	void *pvVar1;
	uint uVar2;
	undefined4 *puVar3;

	puVar3 = (undefined4 *)param_1;
	puVar3[0x13] = 0x302f30;
	*puVar3 = param_2;
	uVar2 = (uint)param_3;
	puVar3[0x2] = uVar2;
	if (param_3 == 0x0) {
		*(void **)(puVar3 + 0x1) = (void *)0x0;
	}
	else {
		pvVar1 = MemoryAllocate2(param_3);
		*(void **)(puVar3 + 0x1) = pvVar1;
	}
	puVar3[0x4] = uVar2;
	if (param_3 == 0x0) {
		*(void **)(puVar3 + 0x3) = (void *)0x0;
	}
	else {
		pvVar1 = MemoryAllocate2(param_3);
		*(void **)(puVar3 + 0x3) = pvVar1;
	}
	puVar3[0x5] = puVar3[0x5] & 0xfffc1fff | (uVar2 & 0x1f) << 0xd;
	puVar3[0x12] = 0xa;
	puVar3[0x10] = 0x0;
	puVar3[0x11] = 0xa;
	pvVar1 = MemoryAllocate2(0x28);
	*(void **)(puVar3 + 0xf) = pvVar1;
	FUN_002579a8((int)puVar3);
	return param_1;
}



undefined8 FUN_0025bde0(undefined8 param_1, uint param_2, ulong param_3)

{
	void *pvVar1;
	uint uVar2;
	undefined4 *puVar3;

	puVar3 = (undefined4 *)param_1;
	puVar3[0x13] = 0x302f30;
	*puVar3 = 0x0;
	uVar2 = (uint)param_3;
	puVar3[0x2] = uVar2;
	if (param_3 == 0x0) {
		*(void **)(puVar3 + 0x1) = (void *)0x0;
	}
	else {
		pvVar1 = MemoryAllocate2(param_3);
		*(void **)(puVar3 + 0x1) = pvVar1;
	}
	puVar3[0x4] = uVar2;
	if (param_3 == 0x0) {
		*(void **)(puVar3 + 0x3) = (void *)0x0;
	}
	else {
		pvVar1 = MemoryAllocate2(param_3);
		*(void **)(puVar3 + 0x3) = pvVar1;
	}
	puVar3[0x5] = puVar3[0x5] & 0xfffc1c00 | param_2 & 0x3ff | (uVar2 & 0x1f) << 0xd;
	puVar3[0x12] = 0xa;
	puVar3[0x10] = 0x0;
	puVar3[0x11] = 0xa;
	pvVar1 = MemoryAllocate2(0x28);
	*(void **)(puVar3 + 0xf) = pvVar1;
	FUN_002579a8((int)puVar3);
	return param_1;
}



void FUN_0025bed8(ulong param_1, ulong param_2)

{
	void *address;
	void *address_00;

	address_00 = (void *)param_1;
	*(undefined4 *)((int)address_00 + 0x4c) = 0x302f30;
	if (*(void **)((int)address_00 + 0x3c) != (void *)0x0) {
		MemoryDeallocate_(*(void **)((int)address_00 + 0x3c));
	}
	if (*(void **)((int)address_00 + 0xc) == (void *)0x0) {
		address = *(void **)((int)address_00 + 0x4);
	}
	else {
		MemoryDeallocate_(*(void **)((int)address_00 + 0xc));
		address = *(void **)((int)address_00 + 0x4);
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



undefined4 FUN_0025bf68(int param_1, int param_2)

{
	undefined4 uVar1;
	undefined4 *puVar2;
	undefined4 *puVar3;
	undefined4 *puVar4;
	uint uVar5;
	void **ppvVar6;
	int iVar7;

	ppvVar6 = (void **)(param_1 + 0x3c);
	if (*(int *)(param_1 + 0x40) == *(int *)(param_1 + 0x44)) {
		iVar7 = *(int *)(param_1 + 0x40) + *(int *)(param_1 + 0x48);
		puVar2 = (undefined4 *)MemoryAllocate2((long)(iVar7 * 0x4));
		uVar5 = 0x0;
		if (*(int *)(param_1 + 0x40) != 0x0) {
			puVar4 = *(undefined4 **)(param_1 + 0x3c);
			puVar3 = puVar2;
			do {
				uVar1 = *puVar4;
				uVar5 += 0x1;
				puVar4 = puVar4 + 0x1;
				*puVar3 = uVar1;
				puVar3 = puVar3 + 0x1;
			} while (uVar5 < *(uint *)(param_1 + 0x40));
		}
		if (*ppvVar6 == (void *)0x0) {
			*(undefined4 **)ppvVar6 = puVar2;
		}
		else {
			MemoryDeallocate_(*ppvVar6);
			*(undefined4 **)ppvVar6 = puVar2;
		}
		*(int *)(param_1 + 0x44) = iVar7;
	}
	iVar7 = *(int *)(param_1 + 0x40);
	*(int *)(iVar7 * 0x4 + (int)*ppvVar6) = param_2;
	*(int *)(param_1 + 0x40) = iVar7 + 0x1;
	return 0x1;
}



void FUN_0025c048(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x302a68;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0025c078(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x302a68;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



int FUN_0025c0f0(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



void FUN_0025c108(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x3029d8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0025c138(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x3029d8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



int FUN_0025c1b0(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



void FUN_0025c1c8(int param_1, int param_2, uint param_3)

{
	uint uVar1;

	uVar1 = FUN_00257b68(param_1, param_3);
	if (-0x1 < (int)uVar1) {
		*(undefined *)(*(int *)(param_1 + 0xc) + param_2) = (char)uVar1;
	}
	return;
}



void FUN_0025c218(int param_1, uint param_2)

{
	uint uVar1;

	uVar1 = FUN_00257b68(param_1, param_2);
	if (-0x1 < (int)uVar1) {
		*(uint *)(param_1 + 0x14) = *(uint *)(param_1 + 0x14) & 0xff03ffff | (uVar1 & 0x3f) << 0x12;
	}
	return;
}



void FUN_0025c270(int param_1)

{
	int iVar1;
	uint uVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	uint uVar6;

	iVar1 = *(int *)(param_1 + 0x40);
	uVar6 = *(uint *)(param_1 + 0x14) >> 0x1c & 0x7;
	if ((*(uint *)(param_1 + 0x14) >> 0xd & 0x1f) != 0x0) {
		iVar3 = *(int *)(param_1 + 0x4c);
		iVar5 = 0x0;
		while (true) {
			iVar4 = 0x0;
			(**(code **)(iVar3 + 0x1c))(param_1 + *(short *)(iVar3 + 0x18), iVar5, uVar6);
			if (iVar1 < 0x1) {
				uVar2 = *(uint *)(param_1 + 0x14);
			}
			else {
				do {
					iVar3 = 0x0;
					if ((-0x1 < iVar4) && (iVar4 < *(int *)(param_1 + 0x40))) {
						iVar3 = *(int *)(*(int *)(param_1 + 0x3c) + iVar4 * 0x4);
					}
					iVar4 += 0x1;
					(**(code **)(*(int *)(iVar3 + 0x10) + 0x24))
						(iVar3 + *(short *)(*(int *)(iVar3 + 0x10) + 0x20), iVar5, uVar6);
				} while (iVar4 < iVar1);
				uVar2 = *(uint *)(param_1 + 0x14);
			}
			if ((int)(uVar2 >> 0xd & 0x1f) <= iVar5 + 0x1) break;
			iVar3 = *(int *)(param_1 + 0x4c);
			iVar5 = iVar5 + 0x1;
		}
	}
	return;
}



undefined8 FUN_0025c388(undefined8 param_1, undefined4 param_2)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	*puVar1 = param_2;
	puVar1[0x2] = 0x302f08;
	FUN_0025c3f0((int)puVar1);
	return param_1;
}



void FUN_0025c3c0(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x8) = 0x302f08;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_0025c3f0(int param_1)

{
	*(undefined *)(param_1 + 0x5) = 0x0;
	*(undefined *)(param_1 + 0x4) = 0x0;
	return;
}



ulong FUN_0025c400(int param_1, uint param_2, long param_3)

{
	byte bVar1;

	if (param_3 == 0x0) {
		bVar1 = *(byte *)(param_1 + 0x5);
	}
	else {
		bVar1 = *(byte *)(param_1 + 0x4);
	}
	return (ulong)(((ulong)bVar1 & (long)(0x1 << (param_2 & 0x1f)) & 0xffU) != 0x0);
}



undefined4 FUN_0025c428(int param_1)

{
	return *(undefined4 *)(param_1 + 0xc);
}



undefined8 FUN_0025c438(undefined8 param_1, undefined8 param_2, uint param_3, uint param_4)

{
	undefined4 *puVar1;
	char cVar2;

	puVar1 = (undefined4 *)param_1;
	cVar2 = (char)(0x1 << (param_4 & 0x1f)) + -0x1;
	puVar1[0x4] = 0x302f80;
	puVar1[0x1] = puVar1[0x1] & 0xf0000000 | param_3 & 0xfff | (param_4 & 0xf) << 0x18 | 0x10000000 |
		((uint)param_2 & 0xfff) << 0xc;
	*(char *)(puVar1 + 0x2) = cVar2;
	puVar1[0x3] = 0x0;
	*puVar1 = 0x0;
	*(char *)((int)puVar1 + 0x9) = cVar2;
	return param_1;
}



void FUN_0025c4b8(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x302f80;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



long FUN_0025c4f0(int param_1, undefined8 param_2, undefined8 param_3, int param_4, long param_5)

{
	int iVar1;
	long lVar2;
	uint uVar3;

	if ((*(byte *)(param_4 + 0x4) & 0x1) == 0x0) {
		lVar2 = 0x0;
	}
	else {
		uVar3 = (int)(uint)*(byte *)(param_1 + 0x8) >> ((uint)param_2 & 0x1f) & 0x1;
		lVar2 = 0x0;
		if (uVar3 != 0x0) {
			lVar2 = (**(code **)(*(int *)(param_1 + 0x10) + 0xc))
				(param_1 + *(short *)(*(int *)(param_1 + 0x10) + 0x8));
		}
		if (param_5 != 0x0) {
			if (uVar3 == 0x0) {
				iVar1 = 0x0;
			}
			else {
				iVar1 = 0xa;
				if (lVar2 == 0x0) {
					iVar1 = 0x1;
				}
			}
			FUN_0025c668((int)param_5, iVar1);
		}
	}
	return lVar2;
}



void FUN_0025c598(int param_1)

{
	(**(code **)(*(int *)(param_1 + 0x10) + 0x44))
		(param_1 + *(short *)(*(int *)(param_1 + 0x10) + 0x40));
	return;
}



undefined4 FUN_0025c5c0(int param_1, undefined8 param_2, undefined *param_3)

{
	undefined4 uVar1;
	long lVar2;
	int local_20[0x4];

	lVar2 = (**(code **)(*(int *)(param_1 + 0x10) + 0x4c))
		(param_1 + *(short *)(*(int *)(param_1 + 0x10) + 0x48), param_2, local_20);
	if (lVar2 == 0x0) {
		uVar1 = 0x0;
	}
	else {
		uVar1 = 0x1;
		if (local_20[0] == 0x0) {
			*param_3 = 0x0;
		}
		else {
			if (local_20[0] == 0x1) {
				*param_3 = 0x1;
			}
			else {
				uVar1 = 0x0;
			}
		}
	}
	return uVar1;
}



undefined4 * FUN_0025c630(undefined4 *param_1)

{
	undefined4 *puVar1;
	uint uVar2;

	uVar2 = 0x0;
	puVar1 = param_1;
	do {
		*puVar1 = 0x0;
		uVar2 += 0x1;
		puVar1[0xd] = 0x3;
		puVar1 = puVar1 + 0x1;
	} while (uVar2 < 0xd);
	return param_1;
}



int * FUN_0025c668(int param_1, int param_2)

{
	GameSound **ppGVar1;

	ppGVar1 = (GameSound **)(param_1 + param_2 * 0x4);
	if (*ppGVar1 != (GameSound *)0x0) {
		ppGVar1 = (GameSound **)
			FUN_001e5d98(-1.00000000, -1.00000000, *ppGVar1, (int)ppGVar1[0xd], 0x0, -0x1);
	}
	return (int *)ppGVar1;
}



undefined8
FUN_0025c6b0(undefined8 param_1, undefined8 param_2, uint param_3, long param_4, undefined param_5,
	undefined4 param_6, uint param_7)

{
	void *pvVar1;
	int iVar2;
	uint uVar3;
	int iVar4;
	void **ppvVar5;

	iVar2 = (int)param_4;
	FUN_0025c438(param_1, param_2, param_3, param_7);
	iVar4 = (int)param_1;
	ppvVar5 = (void **)(iVar4 + 0x48);
	*(undefined *)(iVar4 + 0x3d) = 0x0;
	*(undefined4 *)(iVar4 + 0x10) = 0x302aa0;
	FUN_0025bbe8(iVar4, 0x0, iVar2 + -0x1, param_5, param_6);
	*(undefined4 *)(iVar4 + 0x44) = 0x0;
	*(undefined4 *)(iVar4 + 0x40) = 0x0;
	*(undefined4 *)(iVar4 + 0x10) = 0x302910;
	*(int *)(iVar4 + 0x4c) = iVar2;
	if (param_4 == 0x0) {
		pvVar1 = (void *)0x0;
	}
	else {
		pvVar1 = MemoryAllocate2((long)(iVar2 << 0x2));
	}
	uVar3 = 0x0;
	*ppvVar5 = pvVar1;
	if (*(int *)(iVar4 + 0x4c) != 0x0) {
		pvVar1 = *ppvVar5;
		while (true) {
			iVar2 = uVar3 * 0x4;
			uVar3 += 0x1;
			*(undefined4 *)(iVar2 + (int)pvVar1) = 0xffffffff;
			if (*(uint *)(iVar4 + 0x4c) <= uVar3) break;
			pvVar1 = *ppvVar5;
		}
	}
	return param_1;
}



void FUN_0025c7b8(ulong param_1, ulong param_2)

{
	int iVar1;

	iVar1 = (int)param_1;
	*(undefined4 *)(iVar1 + 0x10) = 0x302910;
	if (*(void **)(iVar1 + 0x48) != (void *)0x0) {
		MemoryDeallocate_(*(void **)(iVar1 + 0x48));
	}
	if (*(void **)(iVar1 + 0x40) != (void *)0x0) {
		MemoryDeallocate_(*(void **)(iVar1 + 0x40));
	}
	*(undefined4 *)(iVar1 + 0x10) = 0x302aa0;
	FUN_0025c4b8(param_1, param_2);
	return;
}



void FUN_0025c838(int param_1, int param_2, undefined4 param_3)

{
	*(undefined4 *)(*(int *)(param_1 + 0x48) + param_2 * 0x4) = param_3;
	return;
}



undefined4 FUN_0025c850(int param_1, int param_2, undefined8 param_3)

{
	int iVar1;
	char **ppcVar2;
	undefined4 uVar3;

	uVar3 = 0x0;
	if (*(int *)(param_1 + 0x34) <= *(int *)(param_1 + 0x38)) {
		iVar1 = *(int *)(param_1 + param_2 * 0x4 + 0x14);
		if (*(int *)(param_1 + 0x44) == 0x0) {
			ppcVar2 = (char **)(*(int *)(*(int *)(param_1 + 0x48) + iVar1 * 0x4) * 0x4 + DAT_00309b10);
		}
		else {
			ppcVar2 = (char **)(*(int *)(param_1 + 0x40) + iVar1 * 0x4);
		}
		CopyString((char *)param_3, *ppcVar2);
		uVar3 = 0x1;
	}
	return uVar3;
}



undefined8
FUN_0025c8d0(undefined8 param_1, undefined4 param_2, uint param_3, undefined4 param_4,
	undefined8 param_5)

{
	undefined4 *puVar1;
	char cVar2;

	puVar1 = (undefined4 *)param_1;
	cVar2 = (char)(0x1 << ((uint)param_5 & 0x1f)) + -0x1;
	puVar1[0x1] = puVar1[0x1] & 0xf0000000 | param_3 & 0xfff | ((uint)param_5 & 0xf) << 0x18 |
		0x10000000;
	*puVar1 = param_2;
	*(char *)(puVar1 + 0x2) = cVar2;
	puVar1[0x4] = 0x302b90;
	puVar1[0x3] = param_4;
	*(char *)((int)puVar1 + 0x9) = cVar2;
	return param_1;
}



undefined8
FUN_0025c948(undefined8 param_1, undefined8 param_2, uint param_3, undefined4 param_4, uint param_5)

{
	undefined4 *puVar1;
	char cVar2;

	puVar1 = (undefined4 *)param_1;
	cVar2 = (char)(0x1 << (param_5 & 0x1f)) + -0x1;
	puVar1[0x1] = puVar1[0x1] & 0xf0000000 | param_3 & 0xfff | (param_5 & 0xf) << 0x18 | 0x10000000 |
		((uint)param_2 & 0xfff) << 0xc;
	*(char *)(puVar1 + 0x2) = cVar2;
	puVar1[0x4] = 0x302b90;
	puVar1[0x3] = param_4;
	*puVar1 = 0x0;
	*(char *)((int)puVar1 + 0x9) = cVar2;
	return param_1;
}



void FUN_0025c9c8(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x10) = 0x302f80;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



undefined8
FUN_0025ca68(undefined8 param_1, undefined8 param_2, uint param_3, undefined4 param_4,
	undefined4 param_5, undefined param_6, undefined4 param_7, uint param_8)

{
	void *pvVar1;
	int iVar2;
	uint uVar3;
	int iVar4;
	void **ppvVar5;

	FUN_0025c438(param_1, param_2, param_3, param_8);
	iVar4 = (int)param_1;
	ppvVar5 = (void **)(iVar4 + 0x48);
	*(undefined *)(iVar4 + 0x3d) = 0x0;
	*(undefined4 *)(iVar4 + 0x10) = 0x302aa0;
	FUN_0025bbe8(iVar4, 0x0, 0x1, param_6, param_7);
	*(undefined4 *)(iVar4 + 0x44) = 0x0;
	*(undefined4 *)(iVar4 + 0x40) = 0x0;
	*(undefined4 *)(iVar4 + 0x10) = 0x302910;
	*(undefined4 *)(iVar4 + 0x4c) = 0x2;
	pvVar1 = MemoryAllocate2(0x8);
	uVar3 = 0x0;
	*ppvVar5 = pvVar1;
	if (*(int *)(iVar4 + 0x4c) != 0x0) {
		pvVar1 = *ppvVar5;
		while (true) {
			iVar2 = uVar3 * 0x4;
			uVar3 += 0x1;
			*(undefined4 *)(iVar2 + (int)pvVar1) = 0xffffffff;
			if (*(uint *)(iVar4 + 0x4c) <= uVar3) break;
			pvVar1 = *ppvVar5;
		}
	}
	*(undefined4 *)(iVar4 + 0x10) = 0x302898;
	*(undefined *)(iVar4 + 0x3d) = 0x1;
	**(undefined4 **)(iVar4 + 0x48) = param_4;
	*(undefined4 *)(*(int *)(iVar4 + 0x48) + 0x4) = param_5;
	return param_1;
}



void FUN_0025cb88(ulong param_1, ulong param_2)

{
	int iVar1;

	iVar1 = (int)param_1;
	*(undefined4 *)(iVar1 + 0x10) = 0x302910;
	if (*(void **)(iVar1 + 0x48) != (void *)0x0) {
		MemoryDeallocate_(*(void **)(iVar1 + 0x48));
	}
	if (*(void **)(iVar1 + 0x40) != (void *)0x0) {
		MemoryDeallocate_(*(void **)(iVar1 + 0x40));
	}
	*(undefined4 *)(iVar1 + 0x10) = 0x302aa0;
	FUN_0025c4b8(param_1, param_2);
	return;
}



void FUN_0025cc00(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)param_1 + 0x8) = 0x302858;
	FUN_0025cc30(param_1, param_2);
	return;
}



void FUN_0025cc30(ulong param_1, ulong param_2)

{
	int iVar1;
	void *address;

	address = (void *)param_1;
	*(undefined4 *)((int)address + 0x8) = 0x302878;
	iVar1 = *(int *)(*(int *)((int)address + 0x4) + 0xa4);
	(**(code **)(iVar1 + 0x24))(*(int *)((int)address + 0x4) + (int)*(short *)(iVar1 + 0x20));
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



undefined8 FUN_0025cc98(undefined8 param_1, uint param_2, ulong param_3)

{
	uint *memory;

	memory = (uint *)param_1;
	memory[0x1] = param_2;
	FUN_002b63d8((BinaryReader *)(memory + 0x2), (char *)param_3, 0x1);
	memory[0x7] = 0x0;
	memory[0x8] = 0x3dcccccd;
	memory[0xa] = 0x3d4ccccd;
	memory[0xb] = 0x3f400000;
	memory[0xc] = 0x3f800000;
	memory[0x9] = 0x3f800000;
	FillMemory(memory, 0x0, 0x4);
	FUN_00259778(memory, (char *)memory[0x4]);
	return param_1;
}



void FUN_0025cd38(ulong param_1, ulong param_2)

{
	void *address;

	address = (void *)param_1;
	if (*(void **)((int)address + 0x1c) != (void *)0x0) {
		MemoryDeallocate_(*(void **)((int)address + 0x1c));
	}
	*(undefined4 *)((int)address + 0x1c) = 0x0;
	DeleteBinaryReader((BinaryReader *)((int)address + 0x8), 0x2);
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



uint FUN_0025cd98(uint *param_1, int param_2)

{
	uint uVar1;
	uint uVar2;
	float fVar3;

	uVar1 = *param_1;
	uVar2 = uVar1 >> 0xc & 0xfff;
	fVar3 = (float)param_1[0xc] -
		(float)*(int *)(param_2 + 0x8) * DAT_00309b80 * (float)param_1[0x8] * (float)param_1[0x9];
	*(float *)(param_1 + 0xc) = fVar3;
	if (uVar2 < (uVar1 & 0xfff)) {
		if (fVar3 + (float)param_1[0xa] < 0.00000000) {
			*(float *)(param_1 + 0xc) = fVar3 + (float)param_1[0xa];
			*param_1 = uVar1 & 0xff000fff | (uVar2 + 0x1 & 0xfff) << 0xc;
		}
		return 0x1;
	}
	return (uint)(0.00000000 < fVar3);
}



void FUN_0025ce48(uint *param_1, int param_2)

{
	uint uVar1;
	int iVar2;
	ulong local_30;
	ulong uVar3;
	uint uVar4;
	float fVar5;
	float fVar6;
	undefined4 local_40[0x4];

	fVar6 = (float)param_1[0xc];
	uVar1 = *param_1;
	*(undefined4 *)(param_2 + 0x34) = 0x3;
	uVar4 = param_1[0xb];
	uVar3 = (long)(int)(uVar1 >> 0xc) & 0xfff;
	*(uint *)(param_2 + 0x30) = uVar4;
	*(uint *)(param_2 + 0x2c) = uVar4;
	*(uint *)(param_2 + 0x28) = param_1[0x1];
	FUN_0011be80(local_40, 0xf);
	fVar5 = 1.00000000;
	*(undefined4 *)(param_2 + 0x10) = local_40[0];
	if ((fVar6 < 1.00000000) && (uVar3 < ((long)(int)*param_1 & 0xfffU))) {
		uVar1 = param_1[0x7];
		while (true) {
			iVar2 = (int)uVar3;
			uVar3 = local_30;
			FUN_001a0b30(0x3f000000, fVar6, param_2, (long)*(int *)(iVar2 * 0x4 + uVar1));
			fVar6 = fVar6 + (float)param_1[0xa];
			if ((fVar5 <= fVar6) || (((long)(int)*param_1 & 0xfffU) <= uVar3)) break;
			uVar1 = param_1[0x7];
			local_30 = uVar3;
		}
	}
	return;
}



undefined4
FUN_0025cf50(undefined4 param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4,
	undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined8 param_8,
	undefined8 param_9, undefined8 param_10, undefined8 param_11, undefined8 param_12,
	undefined8 param_13, undefined8 param_14, undefined8 param_15)

{
	FUN_001b9d58(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, 0x80, param_10,
		param_11, param_12, param_13, param_14, param_15);
	FUN_001b9958((int)DAT(0x003240a0), 0x302840);
	return 0x1;
}



undefined4 FUN_0025cf88(void)

{
	FUN_001b4200(0x80);
	FUN_001b98d8((int)DAT(0x003240a0));
	return 0x1;
}



void FUN_0025d058(ulong param_1, ulong param_2)

{
	FUN_0025a1e8(param_1, param_2);
	return;
}



void FUN_0025d078(void)

{
	FUN_0025a018(0x1, 0xffff);
	return;
}



long FUN_0025d098(undefined8 param_1, undefined4 param_2)

{
	GameObject *pGVar1;
	GameCodeModel *pGVar2;
	void *pvVar3;
	undefined4 *puVar4;
	long lVar5;

	switch (param_2) {
	case 0x1b02:
		pGVar1 = (GameObject *)MemoryAllocate(0x60);
		pGVar1 = FUN_0025d1e0(pGVar1);
		lVar5 = (long)(int)pGVar1;
		break;
	default:
		lVar5 = 0x0;
		break;
	case 0x1b04:
		pvVar3 = MemoryAllocate(0x24);
		lVar5 = FUN_00262e60((long)(int)pvVar3, 0x0, 0x0, 0x0);
		break;
	case 0x1b0b:
		puVar4 = (undefined4 *)MemoryAllocate(0xa0);
		puVar4[0x5] = 0xffffffff;
		*(undefined *)(puVar4 + 0x6) = 0x1;
		puVar4[0x7] = 0x3035f0;
		goto LAB_0025d1b8;
	case 0x1b13:
		pGVar2 = (GameCodeModel *)MemoryAllocate(0x18);
		pGVar2 = FUN_00263840(pGVar2);
		lVar5 = (long)(int)pGVar2;
		break;
	case 0x1b14:
		pvVar3 = MemoryAllocate(0x28);
		lVar5 = FUN_0026ed60((long)(int)pvVar3);
		break;
	case 0x1b16:
		puVar4 = (undefined4 *)MemoryAllocate(0x50);
		*(undefined *)(puVar4 + 0x6) = 0x1;
		puVar4[0x5] = 0xffffffff;
		puVar4[0x7] = 0x3035d0;
		puVar4[0x10] = 0xffffffff;
	LAB_0025d1b8:
		lVar5 = (long)(int)puVar4;
		*puVar4 = 0x0;
		puVar4[0x1] = 0x0;
		puVar4[0x2] = 0x0;
		*(undefined *)((int)puVar4 + 0xd) = 0x0;
		puVar4[0x4] = 0x0;
		break;
	case 0x1b18:
		pvVar3 = MemoryAllocate(0x20);
		lVar5 = FUN_00262ae0((long)(int)pvVar3);
	}
	return lVar5;
}



GameObject * FUN_0025d1e0(GameObject *param_1)

{
	uint uVar1;

	param_1->field_0x0 = 0x0;
	uVar1 = *(uint *)param_1;
	param_1->objectId = -0x1;
	(param_1->name).string = (char *)0x0;
	*(uint *)param_1 = uVar1 & 0xfffcffff;
	(param_1->name).stringMemoryOccupied = 0x0;
	(param_1->name).stringLength = 0x0;
	param_1->instProps_ = (InstanceProperties *)0x0;
	param_1->resources = (GameObjectLoadedResources *)0x0;
	FUN_00251900((long)&param_1->field_0x28);
	param_1->unkInt32Slots = 0x0;
	param_1->unkInt32ScriptSlots = (int *)0x0;
	param_1->ogiIdsSlots = 0x0;
	param_1->ogiIdsScriptSlots = (short *)0x0;
	param_1->animIdsSlots = 0x0;
	param_1->animIdsScriptSlots = (short *)0x0;
	param_1->scriptIdsSlots = 0x0;
	param_1->scriptIdsScriptSlots = (short *)0x0;
	param_1->objectIdsSlots = 0x0;
	param_1->objectIdsScriptSlots = (short *)0x0;
	param_1->soundIdsSlots = 0x0;
	param_1->soundIdsScriptSlots = (short *)0x0;
	FillMemory(&param_1->unkHeader, 0x0, 0xc);
	param_1->unkHeader = param_1->unkHeader | 0xffff000;
	return param_1;
}



undefined8 FUN_0025d2b0(undefined8 param_1, undefined8 param_2)

{
	uint *puVar1;

	puVar1 = (uint *)param_1;
	*(undefined2 *)puVar1 = 0x0;
	puVar1[0x1] = 0xffffffff;
	puVar1[0x5] = 0x0;
	*puVar1 = *puVar1 & 0xfffcffff;
	puVar1[0x7] = 0x0;
	puVar1[0x6] = 0x0;
	puVar1[0x8] = 0x0;
	puVar1[0x9] = 0x0;
	FUN_00251900((long)(int)(puVar1 + 0xa));
	puVar1[0xd] = 0x0;
	puVar1[0xc] = 0x0;
	puVar1[0xf] = 0x0;
	puVar1[0xe] = 0x0;
	puVar1[0x11] = 0x0;
	puVar1[0x10] = 0x0;
	puVar1[0x13] = 0x0;
	puVar1[0x12] = 0x0;
	puVar1[0x15] = 0x0;
	puVar1[0x14] = 0x0;
	puVar1[0x17] = 0x0;
	puVar1[0x16] = 0x0;
	FillMemory(puVar1 + 0x2, 0x0, 0xc);
	FUN_0025d618((int)puVar1, param_2);
	return param_1;
}



void FUN_0025d380(GameObject *gameObj, ulong param_2)

{
	InstanceProperties *pIVar1;
	short *psVar2;
	int *piVar3;
	short *psVar4;
	int *piVar5;

	if (((gameObj->unkHeader & 0x10000000U) != 0x0) &&
		(pIVar1 = gameObj->instProps_, pIVar1 != (InstanceProperties *)0x0)) {
		(**(code **)(pIVar1->methods + 0xc))
			((int)&pIVar1->unkInt1 + (int)*(short *)(pIVar1->methods + 0x8));
	}
	if (gameObj->resources != (GameObjectLoadedResources *)0x0) {
		FUN_0025f640(gameObj->resources, 0x3);
	}
	psVar4 = gameObj->soundIdsScriptSlots;
	if (psVar4 != (short *)0x0) {
		psVar2 = psVar4 + *(int *)(psVar4 + -0x8);
		while (psVar4 != psVar2) {
			psVar2 = psVar2 + -0x1;
		}
		MemoryDeallocate_(psVar4 + -0x8);
	}
	psVar4 = gameObj->objectIdsScriptSlots;
	if (psVar4 == (short *)0x0) {
		psVar4 = gameObj->scriptIdsScriptSlots;
	}
	else {
		psVar2 = psVar4 + *(int *)(psVar4 + -0x8);
		if (psVar4 != psVar2) {
			do {
				psVar2 = psVar2 + -0x1;
			} while (gameObj->objectIdsScriptSlots != psVar2);
		}
		MemoryDeallocate_(gameObj->objectIdsScriptSlots + -0x8);
		psVar4 = gameObj->scriptIdsScriptSlots;
	}
	if (psVar4 == (short *)0x0) {
		psVar4 = gameObj->animIdsScriptSlots;
	}
	else {
		psVar2 = psVar4 + *(int *)(psVar4 + -0x8);
		if (psVar4 != psVar2) {
			do {
				psVar2 = psVar2 + -0x1;
			} while (gameObj->scriptIdsScriptSlots != psVar2);
		}
		MemoryDeallocate_(gameObj->scriptIdsScriptSlots + -0x8);
		psVar4 = gameObj->animIdsScriptSlots;
	}
	if (psVar4 == (short *)0x0) {
		psVar4 = gameObj->ogiIdsScriptSlots;
	}
	else {
		psVar2 = psVar4 + *(int *)(psVar4 + -0x8);
		if (psVar4 != psVar2) {
			do {
				psVar2 = psVar2 + -0x1;
			} while (gameObj->animIdsScriptSlots != psVar2);
		}
		MemoryDeallocate_(gameObj->animIdsScriptSlots + -0x8);
		psVar4 = gameObj->ogiIdsScriptSlots;
	}
	if (psVar4 == (short *)0x0) {
		piVar5 = gameObj->unkInt32ScriptSlots;
	}
	else {
		psVar2 = psVar4 + *(int *)(psVar4 + -0x8);
		if (psVar4 != psVar2) {
			do {
				psVar2 = psVar2 + -0x1;
			} while (gameObj->ogiIdsScriptSlots != psVar2);
		}
		MemoryDeallocate_(gameObj->ogiIdsScriptSlots + -0x8);
		piVar5 = gameObj->unkInt32ScriptSlots;
	}
	if (piVar5 != (int *)0x0) {
		piVar3 = piVar5 + piVar5[-0x4];
		if (piVar5 != piVar3) {
			do {
				piVar3 = piVar3 + -0x1;
			} while (gameObj->unkInt32ScriptSlots != piVar3);
		}
		MemoryDeallocate_(gameObj->unkInt32ScriptSlots + -0x4);
	}
	FUN_00251910((long)&gameObj->field_0x28, 0x2);
	StringDelete(&gameObj->name);
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(gameObj);
	}
	return;
}



void FUN_0025d618(int param_1, undefined8 param_2)

{
	bool bVar1;
	undefined *puVar2;
	InstanceProperties *instProps;
	void *pvVar3;
	int iVar4;
	int *piVar5;
	int *piVar6;
	uint uVar7;
	int **ppiVar8;
	int iVar9;
	BinaryReader *pBVar10;
	int **ppiVar11;
	int **ppiVar12;
	int **ppiVar13;
	int local_60;
	int **local_5c;
	int **local_58;

	ppiVar8 = (int **)(param_1 + 0x30);
	pBVar10 = (BinaryReader *)param_2;
	(**(code **)(pBVar10->methods + 0x14))
		((int)&pBVar10->methods + (int)*(short *)(pBVar10->methods + 0x10), param_1 + 0x8, 0xc, 0x1
			);
	GetScriptName((String *)(param_1 + 0x14), pBVar10);
	iVar4 = *(int *)(param_1 + 0x30);
	if (iVar4 == 0x0) {
		puVar2 = pBVar10->methods;
	}
	else {
		iVar9 = iVar4 + *(int *)(iVar4 + -0x10) * 0x4;
		while (iVar4 != iVar9) {
			iVar9 += -0x4;
		}
		MemoryDeallocate_((void *)(iVar4 + -0x10));
		puVar2 = pBVar10->methods;
	}
	(**(code **)(puVar2 + 0x8c))
		((int)&pBVar10->methods + (int)*(short *)(puVar2 + 0x88), param_1 + 0x34);
	iVar4 = *(int *)(param_1 + 0x34);
	if (iVar4 == 0x0) {
		piVar5 = (int *)0x0;
	}
	else {
		piVar5 = (int *)MemoryAllocate2((long)(iVar4 * 0x4 + 0x10));
		*piVar5 = iVar4;
		piVar5 = piVar5 + 0x4;
		if (iVar4 != 0x0) {
			iVar4 += -0x2;
			do {
				bVar1 = iVar4 != -0x1;
				iVar4 += -0x1;
			} while (bVar1);
		}
	}
	local_58 = (int **)(param_1 + 0x58);
	local_5c = (int **)(param_1 + 0x50);
	local_60 = param_1 + 0x28;
	ppiVar13 = (int **)(param_1 + 0x48);
	ppiVar12 = (int **)(param_1 + 0x40);
	ppiVar11 = (int **)(param_1 + 0x38);
	*ppiVar8 = piVar5;
	if (*(int *)(param_1 + 0x34) != 0x0) {
		piVar5 = *ppiVar8;
		uVar7 = 0x0;
		while (true) {
			FUN_00263a38((long)(int)(piVar5 + uVar7), (int *)pBVar10);
			if (*(uint *)(param_1 + 0x34) <= uVar7 + 0x1) break;
			piVar5 = *ppiVar8;
			uVar7 = uVar7 + 0x1;
		}
	}
	piVar5 = *(int **)(param_1 + 0x38);
	if (piVar5 == (int *)0x0) {
		puVar2 = pBVar10->methods;
	}
	else {
		piVar6 = (int *)((int)piVar5 + piVar5[-0x4] * 0x2);
		if (piVar5 != piVar6) {
			do {
				piVar6 = (int *)((int)piVar6 + -0x2);
			} while (*ppiVar11 != piVar6);
		}
		MemoryDeallocate_(*ppiVar11 + -0x4);
		puVar2 = pBVar10->methods;
	}
	(**(code **)(puVar2 + 0x8c))
		((int)&pBVar10->methods + (int)*(short *)(puVar2 + 0x88), param_1 + 0x3c);
	iVar4 = *(int *)(param_1 + 0x3c);
	if (iVar4 == 0x0) {
		piVar5 = (int *)0x0;
	}
	else {
		iVar9 = iVar4 + -0x1;
		piVar6 = (int *)MemoryAllocate2((long)(iVar4 * 0x2 + 0x10));
		piVar5 = piVar6 + 0x4;
		*piVar6 = iVar4;
		piVar6 = piVar5;
		if (iVar4 != 0x0) {
			do {
				iVar9 += -0x1;
				SetUndefinedID_((short *)piVar6);
				piVar6 = (int *)((int)piVar6 + 0x2);
			} while (iVar9 != -0x1);
		}
	}
	uVar7 = 0x0;
	*ppiVar11 = piVar5;
	if (*(int *)(param_1 + 0x3c) != 0x0) {
		puVar2 = pBVar10->methods;
		while (true) {
			iVar4 = uVar7 * 0x2;
			uVar7 += 0x1;
			(**(code **)(puVar2 + 0x7c))
				((int)&pBVar10->methods + (int)*(short *)(puVar2 + 0x78),
				(int *)(iVar4 + (int)*ppiVar11));
			if (*(uint *)(param_1 + 0x3c) <= uVar7) break;
			puVar2 = pBVar10->methods;
		}
	}
	piVar5 = *(int **)(param_1 + 0x40);
	if (piVar5 == (int *)0x0) {
		puVar2 = pBVar10->methods;
	}
	else {
		piVar6 = (int *)((int)piVar5 + piVar5[-0x4] * 0x2);
		if (piVar5 != piVar6) {
			do {
				piVar6 = (int *)((int)piVar6 + -0x2);
			} while (*ppiVar12 != piVar6);
		}
		MemoryDeallocate_(*ppiVar12 + -0x4);
		puVar2 = pBVar10->methods;
	}
	(**(code **)(puVar2 + 0x8c))
		((int)&pBVar10->methods + (int)*(short *)(puVar2 + 0x88), param_1 + 0x44);
	iVar4 = *(int *)(param_1 + 0x44);
	if (iVar4 == 0x0) {
		piVar5 = (int *)0x0;
	}
	else {
		iVar9 = iVar4 + -0x1;
		piVar6 = (int *)MemoryAllocate2((long)(iVar4 * 0x2 + 0x10));
		piVar5 = piVar6 + 0x4;
		*piVar6 = iVar4;
		piVar6 = piVar5;
		if (iVar4 != 0x0) {
			do {
				iVar9 += -0x1;
				SetUndefinedID_((short *)piVar6);
				piVar6 = (int *)((int)piVar6 + 0x2);
			} while (iVar9 != -0x1);
		}
	}
	uVar7 = 0x0;
	*ppiVar12 = piVar5;
	if (*(int *)(param_1 + 0x44) != 0x0) {
		puVar2 = pBVar10->methods;
		while (true) {
			iVar4 = uVar7 * 0x2;
			uVar7 += 0x1;
			(**(code **)(puVar2 + 0x7c))
				((int)&pBVar10->methods + (int)*(short *)(puVar2 + 0x78),
				(int *)(iVar4 + (int)*ppiVar12));
			if (*(uint *)(param_1 + 0x44) <= uVar7) break;
			puVar2 = pBVar10->methods;
		}
	}
	piVar5 = *(int **)(param_1 + 0x48);
	if (piVar5 == (int *)0x0) {
		puVar2 = pBVar10->methods;
	}
	else {
		piVar6 = (int *)((int)piVar5 + piVar5[-0x4] * 0x2);
		if (piVar5 != piVar6) {
			do {
				piVar6 = (int *)((int)piVar6 + -0x2);
			} while (*ppiVar13 != piVar6);
		}
		MemoryDeallocate_(*ppiVar13 + -0x4);
		puVar2 = pBVar10->methods;
	}
	(**(code **)(puVar2 + 0x8c))
		((int)&pBVar10->methods + (int)*(short *)(puVar2 + 0x88), param_1 + 0x4c);
	iVar4 = *(int *)(param_1 + 0x4c);
	if (iVar4 == 0x0) {
		piVar5 = (int *)0x0;
	}
	else {
		iVar9 = iVar4 + -0x1;
		piVar6 = (int *)MemoryAllocate2((long)(iVar4 * 0x2 + 0x10));
		piVar5 = piVar6 + 0x4;
		*piVar6 = iVar4;
		piVar6 = piVar5;
		if (iVar4 != 0x0) {
			do {
				iVar9 += -0x1;
				SetUndefinedID_((short *)piVar6);
				piVar6 = (int *)((int)piVar6 + 0x2);
			} while (iVar9 != -0x1);
		}
	}
	uVar7 = 0x0;
	*ppiVar13 = piVar5;
	if (*(int *)(param_1 + 0x4c) != 0x0) {
		puVar2 = pBVar10->methods;
		while (true) {
			iVar4 = uVar7 * 0x2;
			uVar7 += 0x1;
			(**(code **)(puVar2 + 0x7c))
				((int)&pBVar10->methods + (int)*(short *)(puVar2 + 0x78),
				(int *)(iVar4 + (int)*ppiVar13));
			if (*(uint *)(param_1 + 0x4c) <= uVar7) break;
			puVar2 = pBVar10->methods;
		}
	}
	piVar5 = *(int **)(param_1 + 0x50);
	if (piVar5 != (int *)0x0) {
		piVar6 = (int *)((int)piVar5 + piVar5[-0x4] * 0x2);
		if (piVar5 != piVar6) {
			do {
				piVar6 = (int *)((int)piVar6 + -0x2);
			} while (*local_5c != piVar6);
		}
		MemoryDeallocate_(*local_5c + -0x4);
	}
	(**(code **)(pBVar10->methods + 0x8c))
		((int)&pBVar10->methods + (int)*(short *)(pBVar10->methods + 0x88), param_1 + 0x54);
	iVar4 = *(int *)(param_1 + 0x54);
	if (iVar4 == 0x0) {
		piVar5 = (int *)0x0;
	}
	else {
		iVar9 = iVar4 + -0x1;
		piVar6 = (int *)MemoryAllocate2((long)(iVar4 * 0x2 + 0x10));
		piVar5 = piVar6 + 0x4;
		*piVar6 = iVar4;
		piVar6 = piVar5;
		if (iVar4 != 0x0) {
			do {
				iVar9 += -0x1;
				SetUndefinedID_((short *)piVar6);
				piVar6 = (int *)((int)piVar6 + 0x2);
			} while (iVar9 != -0x1);
		}
	}
	uVar7 = 0x0;
	*local_5c = piVar5;
	if (*(int *)(param_1 + 0x54) != 0x0) {
		puVar2 = pBVar10->methods;
		while (true) {
			iVar4 = uVar7 * 0x2;
			uVar7 += 0x1;
			(**(code **)(puVar2 + 0x7c))
				((int)&pBVar10->methods + (int)*(short *)(puVar2 + 0x78),
				(int *)(iVar4 + (int)*local_5c));
			if (*(uint *)(param_1 + 0x54) <= uVar7) break;
			puVar2 = pBVar10->methods;
		}
	}
	piVar5 = *(int **)(param_1 + 0x58);
	if (piVar5 != (int *)0x0) {
		piVar6 = (int *)((int)piVar5 + piVar5[-0x4] * 0x2);
		if (piVar5 != piVar6) {
			do {
				piVar6 = (int *)((int)piVar6 + -0x2);
			} while (*local_58 != piVar6);
		}
		MemoryDeallocate_(*local_58 + -0x4);
	}
	(**(code **)(pBVar10->methods + 0x8c))
		((int)&pBVar10->methods + (int)*(short *)(pBVar10->methods + 0x88), param_1 + 0x5c);
	iVar4 = *(int *)(param_1 + 0x5c);
	if (iVar4 == 0x0) {
		piVar5 = (int *)0x0;
	}
	else {
		iVar9 = iVar4 + -0x1;
		piVar6 = (int *)MemoryAllocate2((long)(iVar4 * 0x2 + 0x10));
		piVar5 = piVar6 + 0x4;
		*piVar6 = iVar4;
		piVar6 = piVar5;
		if (iVar4 != 0x0) {
			do {
				iVar9 += -0x1;
				SetUndefinedID_((short *)piVar6);
				piVar6 = (int *)((int)piVar6 + 0x2);
			} while (iVar9 != -0x1);
		}
	}
	uVar7 = 0x0;
	*local_58 = piVar5;
	if (*(int *)(param_1 + 0x5c) != 0x0) {
		puVar2 = pBVar10->methods;
		while (true) {
			iVar4 = uVar7 * 0x2;
			uVar7 += 0x1;
			(**(code **)(puVar2 + 0x7c))
				((int)&pBVar10->methods + (int)*(short *)(puVar2 + 0x78),
				(int *)(iVar4 + (int)*local_58));
			if (*(uint *)(param_1 + 0x5c) <= uVar7) break;
			puVar2 = pBVar10->methods;
		}
	}
	if ((*(uint *)(param_1 + 0x8) & 0x10000000) == 0x0) {
		uVar7 = *(uint *)(param_1 + 0x8);
	}
	else {
		iVar4 = *(int *)(param_1 + 0x20);
		if (iVar4 != 0x0) {
			(**(code **)(*(int *)(iVar4 + 0x20) + 0xc))
				(iVar4 + *(short *)(*(int *)(iVar4 + 0x20) + 0x8), 0x3);
		}
		uVar7 = *(uint *)(param_1 + 0x8);
	}
	if ((uVar7 & 0x20000000) == 0x0) {
		instProps = (InstanceProperties *)0x0;
	}
	else {
		instProps = (InstanceProperties *)MemoryAllocate(0x24);
		instProps = InitInstanceProperties(instProps, pBVar10);
	}
	*(InstanceProperties **)(param_1 + 0x20) = instProps;
	if ((*(uint *)(param_1 + 0x8) & 0x40000000) == 0x0) {
		pvVar3 = (void *)0x0;
		iVar4 = *(int *)(param_1 + 0x20);
	}
	else {
		pvVar3 = MemoryAllocate(0x20);
		FUN_00260f08((long)(int)pvVar3, (int *)pBVar10);
		iVar4 = *(int *)(param_1 + 0x20);
	}
	*(void **)(param_1 + 0x24) = pvVar3;
	*(uint *)(param_1 + 0x8) = *(uint *)(param_1 + 0x8) & 0xefffffff | (uint)(iVar4 != 0x0) << 0x1c;
	FUN_002519c8((long)local_60, param_2);
	return;
}



void FUN_0025ddb8(undefined4 *param_1, InstanceProperties *instProps)

{
	void *pvVar1;
	ulong uVar2;
	long lVar3;
	undefined8 uVar4;
	ulong uVar5;
	ulong uVar6;
	ulong uVar7;
	long lVar8;
	long lVar9;
	ulong uVar10;
	undefined4 extraout_f0;
	undefined4 uVar11;
	int aiStack112[0x4];
	uint local_60;
	uint local_5c;
	int local_58;

	uVar5 = 0x0;
	uVar10 = (ulong)*(byte *)&instProps->unkInt1;
	local_60 = (uint)*(byte *)((int)&instProps->unkInt1 + 0x1);
	local_5c = (uint)*(byte *)((int)&instProps->unkInt1 + 0x2);
	uVar2 = (**(code **)(param_1[0x2] + 0x4c))((int)param_1 + (int)*(short *)(param_1[0x2] + 0x48));
	local_58 = (**(code **)(param_1[0x2] + 0x54))((int)param_1 + (int)*(short *)(param_1[0x2] + 0x50))
		;
	lVar3 = (**(code **)(param_1[0x2] + 0x5c))((int)param_1 + (int)*(short *)(param_1[0x2] + 0x58));
	uVar7 = uVar2;
	if ((long)uVar10 <= (long)uVar2) {
		uVar7 = uVar10;
	}
	lVar8 = (long)local_58;
	if ((long)(int)local_60 <= (long)local_58) {
		lVar8 = (long)(int)local_60;
	}
	lVar9 = lVar3;
	if ((long)(int)local_5c <= lVar3) {
		lVar9 = (long)(int)local_5c;
	}
	uVar11 = extraout_f0;
	if (0x0 < (long)uVar7) {
		do {
			GetFlagPropAtIndex((uint)aiStack112, instProps, (int)uVar5);
			uVar6 = SEXT48((int)uVar5 + 0x1);
			uVar11 = FUN_00261f30((int)param_1, uVar5, aiStack112);
			uVar5 = uVar6;
		} while ((long)uVar6 < (long)uVar7);
	}
	uVar5 = 0x0;
	if (0x0 < lVar8) {
		do {
			GetFloatPropAtIndex(instProps, (int)uVar5);
			uVar7 = SEXT48((int)uVar5 + 0x1);
			uVar11 = FUN_00262080(uVar11, (int)param_1, uVar5);
			uVar5 = uVar7;
		} while ((long)uVar7 < lVar8);
	}
	uVar5 = 0x0;
	if (0x0 < lVar9) {
		do {
			uVar11 = GetIntegerPropAtIndex(instProps, (int)uVar5);
			uVar7 = SEXT48((int)uVar5 + 0x1);
			FUN_002621a0((int)param_1, uVar5, uVar11);
			uVar5 = uVar7;
		} while ((long)uVar7 < lVar9);
	}
	*param_1 = instProps->unkInt2;
	if ((((long)uVar2 < (long)uVar10) || (local_58 < (int)local_60)) || (lVar3 < (int)local_5c)) {
		pvVar1 = MemoryAllocate(0x20);
		uVar4 = FUN_002618b0((long)(int)pvVar1, instProps, (int)param_1);
		param_1[0x1] = (int)uVar4;
	}
	return;
}



long FUN_0025dfa0(int param_1, undefined8 param_2, int param_3, undefined8 param_4)

{
	int iVar1;
	long lVar2;
	undefined4 uVar3;
	short asStack80[0x8];
	ushort local_40[0x8];

	MoveShortFromS2toS1(asStack80, (short *)(param_3 + 0x50));
	iVar1 = *(int *)(*(int *)(param_1 + 0x10) + 0x8);
	MoveShortFromS2toS1((short *)local_40, asStack80);
	if (local_40[0] == 0xffff) {
		uVar3 = 0x0;
	}
	else {
		uVar3 = *(undefined4 *)(((uint)local_40[0] & 0x7fff) * 0x4 + *(int *)(iVar1 + 0x4));
	}
	lVar2 = (**(code **)(*(int *)(param_1 + 0x24) + 0x1c))
		(param_1 + *(short *)(*(int *)(param_1 + 0x24) + 0x18), param_2, uVar3, param_4);
	if (lVar2 != 0x0) {
		MoveShortFromS2toS1((short *)local_40, (short *)(param_3 + 0x52));
		if (local_40[0] != 0xffff) {
			FUN_00252af8((ulong)local_40[0] & 0xff, (int *)param_4);
		}
	}
	return lVar2;
}



long FUN_0025e080(astruct_15 *astr15, GeneralChunkStruct *generalLevelStruct,
	GameInstance *instancePtr)

{
	InstanceProperties *pIVar1;
	ResourceTable *objectTable;
	TransformedGeometyPoint *pTVar2;
	GameNode *pGVar3;
	GameNode *pGVar4;
	undefined8 uVar5;
	bool bVar6;
	undefined2 uVar7;
	ChunkNode *chunkNode;
	UnkMatricesNode *unkMatricesNode;
	long lVar8;
	long lVar9;
	undefined *puVar10;
	long lVar11;
	GameNode *gameNode;
	GameObject *gameObjectPtr;
	float fVar12;
	float fVar13;
	float fVar14;
	short objId;
	short objId2;
	Vector4 rotateVector;
	int local_90;
	int local_80;
	int local_70;
	UnkChunkRelatedData *local_60;

	lVar11 = (long)(int)generalLevelStruct;
	lVar8 = (**(code **)(astr15->methods + 0xc))
		((int)&astr15->field_0x0 + (int)*(short *)(astr15->methods + 0x8));
	lVar9 = 0x0;
	if (lVar8 != 0x0) {
		chunkNode = (ChunkNode *)MemoryAllocate(0x160);
		chunkNode = FUN_001979f0(chunkNode);
		lVar8 = (long)(int)chunkNode;
		lVar9 = lVar8;
		if (lVar8 != 0x0) {
			MoveShortFromS2toS1(&objId, &instancePtr->objId);
			if (generalLevelStruct->chunksDataArray_ == (UnkChunkRelatedData **)0x0) {
				local_60 = (UnkChunkRelatedData *)0x0;
			}
			else {
				local_60 = *generalLevelStruct->chunksDataArray_;
			}
			pIVar1 = instancePtr->properties;
			objectTable = astr15->gameResources->objectTable;
			MoveShortFromS2toS1(&objId2, &objId);
			if (objId2 == -0x1) {
				gameObjectPtr = (GameObject *)0x0;
			}
			else {
				gameObjectPtr = (GameObject *)objectTable->resourceTable[(uint)(ushort)objId2 & 0x7fff];
			}
			pTVar2 = chunkNode->transformMatrixPtr;
			if ((pTVar2->unkBitfield & 0x4) != 0x0) {
				fVar14 = (pTVar2->transformMatrix).wComponents.y;
				fVar12 = (pTVar2->transformMatrix).wComponents.z;
				fVar13 = (pTVar2->transformMatrix).wComponents.w;
				(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
				(pTVar2->positionVector).w = fVar13;
				(pTVar2->positionVector).y = fVar14;
				(pTVar2->positionVector).z = fVar12;
				pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
			}
			bVar6 = false;
			if (((instancePtr->position).x == (pTVar2->positionVector).x) &&
				(bVar6 = false, (instancePtr->position).y == (pTVar2->positionVector).y)) {
				bVar6 = true;
			}
			if (bVar6) {
				pTVar2 = chunkNode->transformMatrixPtr;
			}
			else {
				pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffb | 0x1;
				uVar5 = *(undefined8 *)&instancePtr->position;
				fVar12 = (instancePtr->position).z;
				fVar13 = (instancePtr->position).w;
				(pTVar2->positionVector).x = (float)uVar5;
				(pTVar2->positionVector).y = (float)((ulong)uVar5 >> 0x20);
				(pTVar2->positionVector).z = fVar12;
				(pTVar2->positionVector).w = fVar13;
				FUN_001977d8(chunkNode);
				pTVar2 = chunkNode->transformMatrixPtr;
			}
			if ((pTVar2->unkBitfield & 0x8) != 0x0) {
				FUN_00187090(&pTVar2->rotationVector, pTVar2);
				pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffff5;
			}
			local_70 = (instancePtr->rotation).rotZ;
			local_90 = (instancePtr->rotation).rotX;
			local_80 = (instancePtr->rotation).rotY;
			GetRotationXYZ(&rotateVector, &local_90, &local_80, &local_70);
			bVar6 = false;
			if (((rotateVector.x == (pTVar2->rotationVector).x) &&
				(rotateVector.y == (pTVar2->rotationVector).y)) &&
				(rotateVector.z == (pTVar2->rotationVector).z)) {
				bVar6 = true;
			}
			if (bVar6) {
				puVar10 = astr15->methods;
			}
			else {
				pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffff7 | 0x2;
				(pTVar2->rotationVector).x = rotateVector.x;
				(pTVar2->rotationVector).y = rotateVector.y;
				(pTVar2->rotationVector).z = rotateVector.z;
				(pTVar2->rotationVector).w = rotateVector.w;
				FUN_001977d8(chunkNode);
				puVar10 = astr15->methods;
			}
			lVar9 = (**(code **)(puVar10 + 0x24))
				((int)&astr15->field_0x0 + (int)*(short *)(puVar10 + 0x20), lVar11,
					instancePtr, lVar8);
			if (lVar9 != 0x0) {
				FUN_00197918(chunkNode, true, (GameNode *)(OgiRelatedNode *)lVar9);
				FUN_001a1960((OgiRelatedNode *)lVar9);
			}
			lVar9 = FUN_0025dfa0((int)astr15, lVar11, (int)instancePtr, lVar8);
			gameNode = (GameNode *)lVar9;
			if (lVar9 != 0x0) {
				FUN_00197918(chunkNode, true, gameNode);
			}
			lVar9 = (**(code **)(astr15->methods + 0x14))
				((int)&astr15->field_0x0 + (int)*(short *)(astr15->methods + 0x10), lVar11,
					instancePtr, lVar8, lVar9);
			if (lVar9 != 0x0) {
				pGVar3 = gameNode[0x5].prevNode;
				pGVar4 = pGVar3->prevNode;
				*(undefined2 *)&pGVar3->methods = *(undefined2 *)&generalLevelStruct->field_0xc;
				MoveShortFromS2toS1(&objId2, &instancePtr->field_0x54);
				pGVar3->field_0x4 = objId2;
				if (((astr15->field_0x8 & 0x8) != 0x0) &&
					(((ulong)(long)(int)pGVar4->ChunkNode >> 0x6 & 0x1) != 0x0)) {
					uVar7 = FUN_002688b8((int)generalLevelStruct);
					*(undefined2 *)((int)&pGVar3->methods + 0x2) = uVar7;
				}
				if (lVar9 != 0x0) {
					FUN_00197918(chunkNode, true, (GameNode *)lVar9);
				}
			}
			if (((ulong)(long)pIVar1->unkInt2 >> 0x5 & 0x1) == 0x0) {
				puVar10 = astr15->methods;
			}
			else {
				unkMatricesNode = (UnkMatricesNode *)MemoryAllocate(0xa0);
				unkMatricesNode = FUN_00192978(unkMatricesNode);
				// Check if the address is not null
				if (unkMatricesNode != (UnkMatricesNode *)0x0) {
					FUN_00197918(chunkNode, true, (GameNode *)unkMatricesNode);
				}
				puVar10 = astr15->methods;
			}
			// param_1->(generalLevelStruct,gameObjectPtr,instancePtr,ChunkNode)
			lVar9 = (**(code **)(puVar10 + 0x44))
				((int)&astr15->field_0x0 + (int)*(short *)(puVar10 + 0x40), lVar11,
					gameObjectPtr, instancePtr, lVar8);
			if (lVar9 == 0x0) {
				FUN_00251970((undefined *)&gameObjectPtr->field_0x28, gameNode);
				pTVar2 = chunkNode->transformMatrixPtr;
				RotateAndTranslate_(pTVar2);
				RotateAndTranslate_(pTVar2);
				FUN_001eb8e8(&chunkNode->chunkNodeRelData_, pTVar2, &(chunkNode->chunkNodeRelData_).unkBbox);
				FUN_001f20d0((int)local_60, chunkNode);
				lVar9 = lVar8;
			}
			else {
				FUN_001f20d0((int)local_60, chunkNode);
				(**(code **)(chunkNode->methods + 0x24))
					((int)&chunkNode->field_0x0 + (int)*(short *)(chunkNode->methods + 0x20));
			}
		}
	}
	return lVar9;
}



long FUN_0025e558(uint *param_1, undefined8 param_2, undefined8 param_3)

{
	undefined8 uVar1;
	bool bVar2;
	ChunkNode *chunkNode;
	GameNode *gameNode;
	uint uVar3;
	TransformedGeometyPoint *pTVar4;
	int iVar5;
	int **ppiVar6;
	int iVar7;
	int iVar8;
	float fVar9;
	float fVar10;
	int *piVar11;
	float fVar12;
	float local_60;
	float local_5c;
	float local_58;
	undefined4 local_54;

	iVar5 = (int)param_3;
	ppiVar6 = (int **)(iVar5 + 0x30);
	piVar11 = *(int **)((int)param_2 + 0x14);
	iVar7 = 0x0;
	if (piVar11 != (int *)0x0) {
		iVar7 = *piVar11;
	}
	chunkNode = (ChunkNode *)MemoryAllocate(0x160);
	chunkNode = FUN_001979f0(chunkNode);
	gameNode = (GameNode *)
		(**(code **)(param_1[0x9] + 0x2c))
		((int)param_1 + (int)*(short *)(param_1[0x9] + 0x28), param_2, param_3,
		(long)(int)chunkNode);
	fVar9 = *(float *)(iVar5 + 0x8) * DAT_00309b7c;
	if ((byte)((uint)fVar9 >> 0x17) < 0x9e) {
		iVar8 = (int)fVar9;
	}
	else {
		if ((int)fVar9 < 0x0) {
			iVar8 = 0x7fffffff;
		}
		else {
			iVar8 = -0x80000000;
		}
	}
	*(int *)&gameNode[0x1].field_0x4 = iVar8;
	pTVar4 = chunkNode->transformMatrixPtr;
	if ((pTVar4->unkBitfield & 0x8) != 0x0) {
		FUN_00187090(&pTVar4->rotationVector, pTVar4);
		pTVar4->unkBitfield = pTVar4->unkBitfield & 0xfffffffffffffff5;
	}
	bVar2 = false;
	if (((*(float *)(iVar5 + 0x10) == (pTVar4->rotationVector).x) &&
		(bVar2 = false, *(float *)(iVar5 + 0x14) == (pTVar4->rotationVector).y)) &&
		(bVar2 = false, *(float *)(iVar5 + 0x18) == (pTVar4->rotationVector).z)) {
		bVar2 = true;
	}
	if (bVar2) {
		pTVar4 = chunkNode->transformMatrixPtr;
	}
	else {
		pTVar4->unkBitfield = pTVar4->unkBitfield & 0xfffffffffffffff7 | 0x2;
		(pTVar4->rotationVector).x = *(float *)(iVar5 + 0x10);
		(pTVar4->rotationVector).y = *(float *)(iVar5 + 0x14);
		(pTVar4->rotationVector).z = *(float *)(iVar5 + 0x18);
		(pTVar4->rotationVector).w = *(float *)(iVar5 + 0x1c);
		FUN_001977d8(chunkNode);
		pTVar4 = chunkNode->transformMatrixPtr;
	}
	if ((pTVar4->unkBitfield & 0x4) != 0x0) {
		fVar12 = (pTVar4->transformMatrix).wComponents.y;
		fVar9 = (pTVar4->transformMatrix).wComponents.z;
		fVar10 = (pTVar4->transformMatrix).wComponents.w;
		(pTVar4->positionVector).x = (pTVar4->transformMatrix).wComponents.x;
		(pTVar4->positionVector).w = fVar10;
		(pTVar4->positionVector).y = fVar12;
		(pTVar4->positionVector).z = fVar9;
		pTVar4->unkBitfield = pTVar4->unkBitfield & 0xfffffffffffffffa;
	}
	bVar2 = false;
	if ((*(float *)(undefined8 *)(iVar5 + 0x20) == (pTVar4->positionVector).x) &&
		(bVar2 = false, *(float *)(iVar5 + 0x24) == (pTVar4->positionVector).y)) {
		bVar2 = true;
	}
	if (bVar2) {
		piVar11 = *ppiVar6;
	}
	else {
		pTVar4->unkBitfield = pTVar4->unkBitfield & 0xfffffffffffffffb | 0x1;
		uVar1 = *(undefined8 *)(iVar5 + 0x20);
		fVar9 = *(float *)(iVar5 + 0x28);
		fVar10 = *(float *)(iVar5 + 0x2c);
		(pTVar4->positionVector).x = (float)uVar1;
		(pTVar4->positionVector).y = (float)((ulong)uVar1 >> 0x20);
		(pTVar4->positionVector).z = fVar9;
		(pTVar4->positionVector).w = fVar10;
		FUN_001977d8(chunkNode);
		piVar11 = *ppiVar6;
	}
	local_60 = -(float)piVar11;
	local_5c = -*(float *)(iVar5 + 0x34);
	local_58 = -*(float *)(iVar5 + 0x38);
	local_54 = 0x3f800000;
	FUN_001f08f8((int)&chunkNode->chunkNodeRelData_, (undefined8 *)&local_60, ppiVar6, 0x1, 0x1);
	uVar3 = chunkNode->unkBitField | *param_1;
	chunkNode->unkBitField = uVar3;
	chunkNode->unkBitField = uVar3 & ~param_1[0x1];
	FUN_00197918(chunkNode, true, gameNode);
	FUN_001f20d0(iVar7, chunkNode);
	return (long)(int)chunkNode;
}



long FUN_0025e888(uint *param_1, undefined8 param_2, undefined8 param_3)

{
	undefined8 uVar1;
	bool bVar2;
	ChunkNode *chunkNode;
	GameNode *gameNode;
	uint uVar3;
	TransformedGeometyPoint *pTVar4;
	int iVar5;
	int **ppiVar6;
	int iVar7;
	int iVar8;
	float fVar9;
	float fVar10;
	int *piVar11;
	float fVar12;
	float local_60;
	float local_5c;
	float local_58;
	undefined4 local_54;

	iVar5 = (int)param_3;
	ppiVar6 = (int **)(iVar5 + 0x30);
	piVar11 = *(int **)((int)param_2 + 0x14);
	iVar7 = 0x0;
	if (piVar11 != (int *)0x0) {
		iVar7 = *piVar11;
	}
	chunkNode = (ChunkNode *)MemoryAllocate(0x160);
	chunkNode = FUN_001979f0(chunkNode);
	gameNode = (GameNode *)
		(**(code **)(param_1[0x9] + 0x34))
		((int)param_1 + (int)*(short *)(param_1[0x9] + 0x30), param_2, param_3,
		(long)(int)chunkNode);
	fVar9 = *(float *)(iVar5 + 0x8) * DAT_00309b7c;
	if ((byte)((uint)fVar9 >> 0x17) < 0x9e) {
		iVar8 = (int)fVar9;
	}
	else {
		if ((int)fVar9 < 0x0) {
			iVar8 = 0x7fffffff;
		}
		else {
			iVar8 = -0x80000000;
		}
	}
	*(int *)&gameNode[0x1].field_0x4 = iVar8;
	pTVar4 = chunkNode->transformMatrixPtr;
	if ((pTVar4->unkBitfield & 0x8) != 0x0) {
		FUN_00187090(&pTVar4->rotationVector, pTVar4);
		pTVar4->unkBitfield = pTVar4->unkBitfield & 0xfffffffffffffff5;
	}
	bVar2 = false;
	if (((*(float *)(iVar5 + 0x10) == (pTVar4->rotationVector).x) &&
		(bVar2 = false, *(float *)(iVar5 + 0x14) == (pTVar4->rotationVector).y)) &&
		(bVar2 = false, *(float *)(iVar5 + 0x18) == (pTVar4->rotationVector).z)) {
		bVar2 = true;
	}
	if (bVar2) {
		pTVar4 = chunkNode->transformMatrixPtr;
	}
	else {
		pTVar4->unkBitfield = pTVar4->unkBitfield & 0xfffffffffffffff7 | 0x2;
		(pTVar4->rotationVector).x = *(float *)(iVar5 + 0x10);
		(pTVar4->rotationVector).y = *(float *)(iVar5 + 0x14);
		(pTVar4->rotationVector).z = *(float *)(iVar5 + 0x18);
		(pTVar4->rotationVector).w = *(float *)(iVar5 + 0x1c);
		FUN_001977d8(chunkNode);
		pTVar4 = chunkNode->transformMatrixPtr;
	}
	if ((pTVar4->unkBitfield & 0x4) != 0x0) {
		fVar12 = (pTVar4->transformMatrix).wComponents.y;
		fVar9 = (pTVar4->transformMatrix).wComponents.z;
		fVar10 = (pTVar4->transformMatrix).wComponents.w;
		(pTVar4->positionVector).x = (pTVar4->transformMatrix).wComponents.x;
		(pTVar4->positionVector).w = fVar10;
		(pTVar4->positionVector).y = fVar12;
		(pTVar4->positionVector).z = fVar9;
		pTVar4->unkBitfield = pTVar4->unkBitfield & 0xfffffffffffffffa;
	}
	bVar2 = false;
	if ((*(float *)(undefined8 *)(iVar5 + 0x20) == (pTVar4->positionVector).x) &&
		(bVar2 = false, *(float *)(iVar5 + 0x24) == (pTVar4->positionVector).y)) {
		bVar2 = true;
	}
	if (bVar2) {
		piVar11 = *ppiVar6;
	}
	else {
		pTVar4->unkBitfield = pTVar4->unkBitfield & 0xfffffffffffffffb | 0x1;
		uVar1 = *(undefined8 *)(iVar5 + 0x20);
		fVar9 = *(float *)(iVar5 + 0x28);
		fVar10 = *(float *)(iVar5 + 0x2c);
		(pTVar4->positionVector).x = (float)uVar1;
		(pTVar4->positionVector).y = (float)((ulong)uVar1 >> 0x20);
		(pTVar4->positionVector).z = fVar9;
		(pTVar4->positionVector).w = fVar10;
		FUN_001977d8(chunkNode);
		piVar11 = *ppiVar6;
	}
	local_60 = -(float)piVar11;
	local_5c = -*(float *)(iVar5 + 0x34);
	local_58 = -*(float *)(iVar5 + 0x38);
	local_54 = 0x3f800000;
	FUN_001f08f8((int)&chunkNode->chunkNodeRelData_, (undefined8 *)&local_60, ppiVar6, 0x1, 0x1);
	uVar3 = chunkNode->unkBitField | *param_1;
	chunkNode->unkBitField = uVar3;
	chunkNode->unkBitField = uVar3 & ~param_1[0x1];
	FUN_00197918(chunkNode, true, gameNode);
	FUN_001f20d0(iVar7, chunkNode);
	return (long)(int)chunkNode;
}



long FUN_0025ebb8(astruct_15 *this_, GeneralChunkStruct *param_2, short instObjId, Vector4 *instPos,
	Rotation *instRot)

{
	ResourceTable *objectTable;
	long lVar1;
	GameObject *gameObj;
	short local_f0;
	short local_e0;
	GameInstance local_d0;
	int local_70;
	int local_60;
	int local_50;

	objectTable = this_->gameResources->objectTable;
	local_f0 = instObjId;
	MoveShortFromS2toS1(&local_e0, &local_f0);
	if (local_e0 == -0x1) {
		gameObj = (GameObject *)0x0;
	}
	else {
		gameObj = (GameObject *)objectTable->resourceTable[(uint)(ushort)local_e0 & 0x7fff];
	}
	FUN_00262858(&local_d0);
	local_e0 = instObjId;
	local_d0.objId = instObjId;
	FUN_002629c0(&local_d0, gameObj->instProps_);
	local_d0.rotation.rotZ = instRot->rotZ;
	local_d0.rotation.rotX = instRot->rotX;
	local_d0.rotation.rotY = instRot->rotY;
	local_d0.position.z = instPos->z;
	local_d0.position.w = instPos->w;
	local_d0.position.x = (float)*(undefined8 *)instPos;
	local_d0.position.y = (float)((ulong)*(undefined8 *)instPos >> 0x20);
	local_70 = local_d0.rotation.rotX;
	local_60 = local_d0.rotation.rotY;
	local_50 = local_d0.rotation.rotZ;
	lVar1 = FUN_0025e080(this_, param_2, &local_d0);
	FUN_0025efd8(&local_d0, 0x2);
	return lVar1;
}



// WARNING: Could not reconcile some variable overlaps

long FUN_0025ecd0(int param_1, int param_2, int param_3, ushort param_4, undefined8 *param_5,
	undefined4 *param_6, long param_7)

{
	byte *pbVar1;
	GameNode *pGVar2;
	long lVar3;
	long lVar4;
	long lVar5;
	int iVar6;
	ulong uVar7;
	int *piVar8;
	undefined4 uVar9;
	ushort local_150[0x8];
	ushort local_140[0x8];
	GameInstance local_130;
	undefined4 local_d0;
	int local_cc;
	int *local_c0;
	undefined *local_b0;
	undefined4 auStack160[0x4];
	int local_90;
	int *local_80;
	undefined *local_70;
	GeneralChunkStruct *local_60;

	iVar6 = *(int *)(*(int *)(param_1 + 0x10) + 0x8);
	local_150[0] = param_4;
	local_60 = (GeneralChunkStruct *)param_2;
	MoveShortFromS2toS1((short *)local_140, (short *)local_150);
	if (local_140[0] == 0xffff) {
		iVar6 = 0x0;
	}
	else {
		iVar6 = *(int *)(((uint)local_140[0] & 0x7fff) * 0x4 + *(int *)(iVar6 + 0x4));
	}
	iVar6 = *(int *)(iVar6 + 0x20);
	pGVar2 = GetGameNode((NodeList *)(param_3 + 0xd4), 0x1);
	if ((InstanceNode *)pGVar2[0x6].field_0x8 == (InstanceNode *)0x0) {
		piVar8 = (int *)pGVar2[0x5].field_0x8;
	}
	else {
		piVar8 = (int *)FUN_0023c8a8((InstanceNode *)pGVar2[0x6].field_0x8);
	}
	FUN_00262858(&local_130);
	local_140[0] = param_4;
	local_130.objId = param_4;
	if ((param_7 == 0x0) || (iVar6 == 0x0)) {
		lVar3 = (**(code **)(piVar8[0x2] + 0x4c))((int)piVar8 + (int)*(short *)(piVar8[0x2] + 0x48));
		lVar4 = (**(code **)(piVar8[0x2] + 0x54))((int)piVar8 + (int)*(short *)(piVar8[0x2] + 0x50));
		lVar5 = (**(code **)(piVar8[0x2] + 0x5c))((int)piVar8 + (int)*(short *)(piVar8[0x2] + 0x58));
		uVar9 = (**(code **)(piVar8[0x2] + 0x64))((int)piVar8 + (int)*(short *)(piVar8[0x2] + 0x60));
		pbVar1 = (byte *)piVar8[0x1];
		if (pbVar1 != (byte *)0x0) {
			lVar5 = (long)(int)((int)lVar5 + (uint)pbVar1[0x2]);
			lVar3 = (long)(int)((int)lVar3 + (uint)*pbVar1);
			lVar4 = (long)(int)((int)lVar4 + (uint)pbVar1[0x1]);
		}
		FUN_00262e60((long)(int)&local_d0, lVar3, lVar4, lVar5);
		uVar7 = 0x0;
		if ((byte)local_d0 != 0x0) {
			do {
				FUN_00261fd0((long)(int)auStack160, (int)piVar8, uVar7);
				iVar6 = (int)uVar7;
				uVar7 = SEXT48(iVar6 + 0x1);
				uVar9 = FUN_00263058((int)&local_d0, iVar6, auStack160);
			} while (uVar7 < (byte)local_d0);
		}
		uVar7 = 0x0;
		if (local_d0._1_1_ != 0x0) {
			do {
				FUN_00262110((int)piVar8, uVar7);
				iVar6 = (int)uVar7;
				uVar7 = SEXT48(iVar6 + 0x1);
				uVar9 = FUN_00263080(uVar9, (int)&local_d0, iVar6);
			} while (uVar7 < local_d0._1_1_);
		}
		uVar7 = 0x0;
		if (local_d0._2_1_ != 0x0) {
			do {
				uVar9 = FUN_00262230(piVar8, uVar7);
				iVar6 = (int)uVar7;
				uVar7 = SEXT48(iVar6 + 0x1);
				FUN_00263098((int)&local_d0, iVar6, uVar9);
			} while (uVar7 < local_d0._2_1_);
		}
		local_cc = *piVar8;
		FUN_002629c0(&local_130, &local_d0);
		local_130.rotation.rotZ = (undefined *)param_6[0x2];
		local_130.rotation.rotX = *param_6;
		local_130.rotation.rotY = (int *)param_6[0x1];
		local_130.position.z = *(float *)(param_5 + 0x1);
		local_130.position.w = *(float *)((int)param_5 + 0xc);
		local_130.position.x = (float)*param_5;
		local_130.position.y = (float)((ulong)*param_5 >> 0x20);
		local_90 = local_130.rotation.rotX;
		local_80 = local_130.rotation.rotY;
		local_70 = local_130.rotation.rotZ;
		lVar3 = FUN_0025e080((astruct_15 *)param_1, local_60, &local_130);
		FreeInstancePropsList_((InstanceProperties *)&local_d0, 0x2);
	}
	else {
		FUN_002629c0(&local_130, iVar6);
		local_130.rotation.rotZ = (undefined *)param_6[0x2];
		local_130.rotation.rotX = *param_6;
		local_130.rotation.rotY = (int *)param_6[0x1];
		local_130.position.z = *(float *)(param_5 + 0x1);
		local_130.position.w = *(float *)((int)param_5 + 0xc);
		local_130.position.x = (float)*param_5;
		local_130.position.y = (float)((ulong)*param_5 >> 0x20);
		local_d0 = local_130.rotation.rotX;
		local_c0 = local_130.rotation.rotY;
		local_b0 = local_130.rotation.rotZ;
		lVar3 = FUN_0025e080((astruct_15 *)param_1, local_60, &local_130);
	}
	FUN_0025efd8(&local_130, 0x2);
	return lVar3;
}



void FUN_0025efd8(GameInstance *param_1, ulong param_2)

{
	InstanceProperties *pIVar1;
	short *address;
	int *address_00;

	if ((param_1->propertiesLoadedFlag_ != 0x0) &&
		(pIVar1 = param_1->properties, pIVar1 != (InstanceProperties *)0x0)) {
		(**(code **)(pIVar1->methods + 0xc))
			((int)&pIVar1->unkInt1 + (int)*(short *)(pIVar1->methods + 0x8), 0x3);
	}
	if (param_1->field_0x3c == (int *)0x0) {
		address = param_1->positionsArray;
	}
	else {
		MemoryDeallocate_(param_1->field_0x3c);
		address = param_1->positionsArray;
	}
	if (address == (short *)0x0) {
		address_00 = param_1->field_0x1c;
	}
	else {
		MemoryDeallocate_(address);
		address_00 = param_1->field_0x1c;
	}
	if (address_00 != (int *)0x0) {
		MemoryDeallocate_(address_00);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(param_1);
	}
	return;
}



void LoadInstance(GameInstance *instancePtr, BinaryReader *binReader_)

{
	undefined *methods;
	InstanceProperties *instProps;
	int *piVar1;
	short *psVar2;
	int iVar3;
	uint uVar4;

	(**(code **)(binReader_->methods + 0x14))
		((int)&binReader_->methods + (int)*(short *)(binReader_->methods + 0x10), instancePtr,
			0x10, 0x1);
	FUN_0018c190((int *)&instancePtr->rotation, binReader_);
	FUN_0018c190(&(instancePtr->rotation).rotY, binReader_);
	FUN_0018c190(&(instancePtr->rotation).rotZ, binReader_);
	// Check for any leftover address
	if (instancePtr->field_0x1c == (int *)0x0) {
		methods = binReader_->methods;
	}
	else {
		MemoryDeallocate_(instancePtr->field_0x1c);
		methods = binReader_->methods;
	}
	(**(code **)(methods + 0x8c))
		((int)&binReader_->methods + (int)*(short *)(methods + 0x88), &instancePtr->field_0x20);
	(**(code **)(binReader_->methods + 0x8c))
		((int)&binReader_->methods + (int)*(short *)(binReader_->methods + 0x88),
			&instancePtr->field_0x24);
	(**(code **)(binReader_->methods + 0x8c))
		((int)&binReader_->methods + (int)*(short *)(binReader_->methods + 0x88),
			&instancePtr->field_0x28);
	piVar1 = (int *)0x0;
	if (instancePtr->field_0x20 != 0x0) {
		piVar1 = (int *)MemoryAllocate2((long)(instancePtr->field_0x24 << 0x1));
	}
	instancePtr->field_0x1c = piVar1;
	uVar4 = 0x0;
	if (instancePtr->field_0x20 != 0x0) {
		methods = binReader_->methods;
		while (true) {
			iVar3 = uVar4 * 0x2;
			uVar4 += 0x1;
			(**(code **)(methods + 0x7c))
				((int)&binReader_->methods + (int)*(short *)(methods + 0x78),
				(int *)(iVar3 + (int)instancePtr->field_0x1c));
			if ((uint)instancePtr->field_0x20 <= uVar4) break;
			methods = binReader_->methods;
		}
	}
	if (instancePtr->positionsArray == (short *)0x0) {
		methods = binReader_->methods;
	}
	else {
		MemoryDeallocate_(instancePtr->positionsArray);
		methods = binReader_->methods;
	}
	(**(code **)(methods + 0x8c))
		((int)&binReader_->methods + (int)*(short *)(methods + 0x88), &instancePtr->field_0x30);
	(**(code **)(binReader_->methods + 0x8c))
		((int)&binReader_->methods + (int)*(short *)(binReader_->methods + 0x88),
			&instancePtr->field_0x34);
	(**(code **)(binReader_->methods + 0x8c))
		((int)&binReader_->methods + (int)*(short *)(binReader_->methods + 0x88),
			&instancePtr->field_0x38);
	uVar4 = instancePtr->field_0x30;
	psVar2 = (short *)0x0;
	if (uVar4 != 0x0) {
		psVar2 = (short *)MemoryAllocate2((long)(*(int *)&instancePtr->field_0x34 << 0x1));
		uVar4 = instancePtr->field_0x30;
	}
	instancePtr->positionsArray = psVar2;
	if (uVar4 != 0x0) {
		methods = binReader_->methods;
		uVar4 = 0x0;
		while (true) {
			(**(code **)(methods + 0x7c))
				((int)&binReader_->methods + (int)*(short *)(methods + 0x78),
					instancePtr->positionsArray + uVar4);
			if (instancePtr->field_0x30 <= uVar4 + 0x1) break;
			methods = binReader_->methods;
			uVar4 = uVar4 + 0x1;
		}
	}
	if (instancePtr->field_0x3c == (int *)0x0) {
		methods = binReader_->methods;
	}
	else {
		MemoryDeallocate_(instancePtr->field_0x3c);
		methods = binReader_->methods;
	}
	(**(code **)(methods + 0x8c))
		((int)&binReader_->methods + (int)*(short *)(methods + 0x88), &instancePtr->field_0x40);
	(**(code **)(binReader_->methods + 0x8c))
		((int)&binReader_->methods + (int)*(short *)(binReader_->methods + 0x88),
			&instancePtr->field_0x44);
	(**(code **)(binReader_->methods + 0x8c))
		((int)&binReader_->methods + (int)*(short *)(binReader_->methods + 0x88),
			&instancePtr->field_0x48);
	iVar3 = instancePtr->field_0x40;
	piVar1 = (int *)0x0;
	if (iVar3 != 0x0) {
		piVar1 = (int *)MemoryAllocate2((long)(instancePtr->field_0x44 << 0x1));
		iVar3 = instancePtr->field_0x40;
	}
	uVar4 = 0x0;
	instancePtr->field_0x3c = piVar1;
	if (iVar3 != 0x0) {
		methods = binReader_->methods;
		while (true) {
			iVar3 = uVar4 * 0x2;
			uVar4 += 0x1;
			(**(code **)(methods + 0x7c))
				((int)&binReader_->methods + (int)*(short *)(methods + 0x78),
				(int *)(iVar3 + (int)instancePtr->field_0x3c));
			if ((uint)instancePtr->field_0x40 <= uVar4) break;
			methods = binReader_->methods;
		}
	}
	(**(code **)(binReader_->methods + 0x7c))
		((int)&binReader_->methods + (int)*(short *)(binReader_->methods + 0x78),
			&instancePtr->objId);
	(**(code **)(binReader_->methods + 0x7c))
		((int)&binReader_->methods + (int)*(short *)(binReader_->methods + 0x78),
			&instancePtr->field_0x52);
	(**(code **)(binReader_->methods + 0x7c))
		((int)&binReader_->methods + (int)*(short *)(binReader_->methods + 0x78),
			&instancePtr->field_0x54);
	if (instancePtr->propertiesLoadedFlag_ != 0x0) {
		instProps = instancePtr->properties;
		if (instProps != (InstanceProperties *)0x0) {
			(**(code **)(instProps->methods + 0xc))
				((int)&instProps->unkInt1 + (int)*(short *)(instProps->methods + 0x8), 0x3);
		}
	}
	instProps = (InstanceProperties *)MemoryAllocate(0x24);
	instProps = InitInstanceProperties(instProps, binReader_);
	instancePtr->properties = instProps;
	instancePtr->propertiesLoadedFlag_ = 0x1;
	return;
}



void FUN_0025f448(GameInstance *instancePtr, GeneralChunkStruct *generalChunk, int param_3,
	long someFlag)

{
	int **ppiVar1;
	bool bVar2;
	GameNode *pGVar3;
	ushort *puVar4;
	int iVar5;
	undefined *local_40;
	short **local_3c;
	short *local_38;

	local_3c = &instancePtr->positionsArray;
	if (instancePtr->field_0x30 != 0x0) {
		pGVar3 = GetGameNode((NodeList *)(param_3 + 0xd4), 0x1);
		ppiVar1 = *(int ***)&pGVar3[0xc].field_0x4;
		local_38 = (short *)0x0;
		local_40 = DAT(0x003033e0);
		while (true) {
			if (((int)local_38 < 0x0) || (bVar2 = false, local_3c[0x1] <= local_38)) {
				bVar2 = true;
			}
			if (bVar2) break;
			puVar4 = (ushort *)
				(**(code **)(local_40 + 0x24))((int)&local_40 + (int)*(short *)(local_40 + 0x20));
			if (someFlag == 0x0) {
				if (*(int **)&generalChunk->field_0x2c == (int *)0x0) {
					iVar5 = 0x0;
				}
				else {
					iVar5 = *(int *)(**(int **)&generalChunk->field_0x2c + (uint)*puVar4 * 0x4);
				}
			}
			else {
				iVar5 = FUN_00268788(generalChunk, (uint)*puVar4);
			}
			FUN_0020f448(ppiVar1, iVar5);
			local_38 = (short *)((int)local_38 + 0x1);
		}
	}
	return;
}



void FUN_0025f558(GameInstance *instancePtr, GeneralChunkStruct *generalChunk, int param_3)

{
	int iVar1;
	bool bVar2;
	GameNode *pGVar3;
	ushort *puVar4;
	int iVar5;
	undefined *local_30;
	int **local_2c;
	int *local_28;

	local_2c = &instancePtr->field_0x3c;
	if (instancePtr->field_0x40 != 0x0) {
		pGVar3 = GetGameNode((NodeList *)(param_3 + 0xd4), 0x1);
		iVar1 = *(int *)&pGVar3[0xc].field_0x4;
		local_28 = (int *)0x0;
		local_30 = DAT(0x003033e0);
		while (true) {
			if (((int)local_28 < 0x0) || (bVar2 = false, local_2c[0x1] <= local_28)) {
				bVar2 = true;
			}
			if (bVar2) break;
			puVar4 = (ushort *)
				(**(code **)(local_30 + 0x24))((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			if (*(int **)&generalChunk->field_0x34 == (int *)0x0) {
				iVar5 = 0x0;
			}
			else {
				iVar5 = *(int *)(**(int **)&generalChunk->field_0x34 + (uint)*puVar4 * 0x4);
			}
			FUN_0020f360(iVar1, iVar5);
			local_28 = (int *)((int)local_28 + 0x1);
		}
	}
	return;
}



void FUN_0025f640(GameObjectLoadedResources *objResources, ulong param_2)

{
	ObjectElements *elems;
	ObjectElements *pOVar1;
	ObjectElements *pOVar2;
	ObjectElements *pOVar3;
	ulong uVar4;

	elems = objResources->objectElements;
	if (elems != (ObjectElements *)0x0) {
		uVar4 = SEXT48(elems->elemAmount);
		if ((0x10 < uVar4) && (uVar4 != 0x0)) {
			FUN_00262b08(uVar4, 0x3);
		}
		if (elems != (ObjectElements *)0xfffffffc) {
			pOVar2 = elems + 0x8;
			pOVar3 = elems + 0x9;
			while (pOVar1 = (ObjectElements *)((int)&pOVar2->elemAmount + 0x2), elems + 0x1 != pOVar3) {
				pOVar2 = pOVar1 + -0x1;
				pOVar3 = pOVar1;
			}
		}
		MemoryDeallocate2_(elems);
	}
	elems = objResources->ogiElements;
	if (elems != (ObjectElements *)0x0) {
		uVar4 = SEXT48(elems->elemAmount);
		if ((0x10 < uVar4) && (uVar4 != 0x0)) {
			FUN_00262b08(uVar4, 0x3);
		}
		if (elems != (ObjectElements *)0xfffffffc) {
			pOVar2 = elems + 0x8;
			pOVar3 = elems + 0x9;
			while (pOVar1 = (ObjectElements *)((int)&pOVar2->elemAmount + 0x2), elems + 0x1 != pOVar3) {
				pOVar2 = pOVar1 + -0x1;
				pOVar3 = pOVar1;
			}
		}
		MemoryDeallocate2_(elems);
	}
	elems = objResources->animElements;
	if (elems == (ObjectElements *)0x0) {
		elems = objResources->codeModelElements;
	}
	else {
		uVar4 = SEXT48(elems->elemAmount);
		if ((0x10 < uVar4) && (uVar4 != 0x0)) {
			FUN_00262b08(uVar4, 0x3);
		}
		if (elems != (ObjectElements *)0xfffffffc) {
			pOVar2 = elems + 0x8;
			pOVar3 = elems + 0x9;
			while (pOVar1 = (ObjectElements *)((int)&pOVar2->elemAmount + 0x2), elems + 0x1 != pOVar3) {
				pOVar2 = pOVar1 + -0x1;
				pOVar3 = pOVar1;
			}
		}
		MemoryDeallocate2_(elems);
		elems = objResources->codeModelElements;
	}
	if (elems == (ObjectElements *)0x0) {
		elems = objResources->scriptElements;
	}
	else {
		uVar4 = SEXT48(elems->elemAmount);
		if ((0x10 < uVar4) && (uVar4 != 0x0)) {
			FUN_00262b08(uVar4, 0x3);
		}
		if (elems != (ObjectElements *)0xfffffffc) {
			pOVar2 = elems + 0x8;
			pOVar3 = elems + 0x9;
			while (pOVar1 = (ObjectElements *)((int)&pOVar2->elemAmount + 0x2), elems + 0x1 != pOVar3) {
				pOVar2 = pOVar1 + -0x1;
				pOVar3 = pOVar1;
			}
		}
		MemoryDeallocate2_(elems);
		elems = objResources->scriptElements;
	}
	if (elems == (ObjectElements *)0x0) {
		elems = objResources->unkIntsElements;
	}
	else {
		uVar4 = SEXT48(elems->elemAmount);
		if ((0x10 < uVar4) && (uVar4 != 0x0)) {
			FUN_00262b08(uVar4, 0x3);
		}
		if (elems != (ObjectElements *)0xfffffffc) {
			pOVar2 = elems + 0x8;
			pOVar3 = elems + 0x9;
			while (pOVar1 = (ObjectElements *)((int)&pOVar2->elemAmount + 0x2), elems + 0x1 != pOVar3) {
				pOVar2 = pOVar1 + -0x1;
				pOVar3 = pOVar1;
			}
		}
		MemoryDeallocate2_(elems);
		elems = objResources->unkIntsElements;
	}
	if (elems == (ObjectElements *)0x0) {
		elems = objResources->soundElements;
	}
	else {
		uVar4 = SEXT48(elems->elemAmount);
		if ((0x10 < uVar4) && (uVar4 != 0x0)) {
			FUN_00262b08(uVar4, 0x3);
		}
		if (elems != (ObjectElements *)0xfffffffc) {
			pOVar2 = elems + 0x8;
			pOVar3 = elems + 0x9;
			while (pOVar1 = (ObjectElements *)((int)&pOVar2->elemAmount + 0x2), elems + 0x1 != pOVar3) {
				pOVar2 = pOVar1 + -0x1;
				pOVar3 = pOVar1;
			}
		}
		MemoryDeallocate2_(elems);
		elems = objResources->soundElements;
	}
	if (elems != (ObjectElements *)0x0) {
		uVar4 = SEXT48(elems->elemAmount);
		if ((0x10 < uVar4) && (uVar4 != 0x0)) {
			FUN_00262b08(uVar4, 0x3);
		}
		if (elems != (ObjectElements *)0xfffffffc) {
			pOVar2 = elems + 0x8;
			pOVar3 = elems + 0x9;
			while (pOVar1 = (ObjectElements *)((int)&pOVar2->elemAmount + 0x2), elems + 0x1 != pOVar3) {
				pOVar2 = pOVar1 + -0x1;
				pOVar3 = pOVar1;
			}
		}
		MemoryDeallocate2_(elems);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(objResources);
	}
	return;
}



// WARNING: Could not reconcile some variable overlaps

void LoadObjectResources(GameObjectLoadedResources *objRequiredResources, short *objId,
	GameResources *resources)

{
	ResourceTable *animationTable_;
	ResourceTable *codeModelTable_;
	ResourceTable *scriptTable;
	ResourceTable *ogiTable;
	ResourceTable *soundTable_;
	uint uVar1;
	int *piVar2;
	short *idPtr;
	GameOGI *newOgi;
	GameOGI *initialisedOgi_;
	GameAnimation *pGVar3;
	GameCodeModel *pGVar4;
	HeaderScript *pHVar5;
	MajorScript *scriptInfo;
	void *pvVar6;
	GameSound *pGVar7;
	int *local_v0_lo_2400;
	GameObject *pGVar8;
	void **ppvVar9;
	ObjectElements *elemAmountAddress;
	uint id_;
	ResourceTable *voicesTables;
	undefined *methods;
	ObjectElements *elemAmtPtr;
	int *elemAmt;
	int itemCounter;
	short idPtrOnStack;
	short idPtrOnStack2;
	short ogiIdPtr[0x8];
	short ogiIdPtr2;
	short asStack192[0x8];
	ushort local_b0[0x8];
	short asStack160[0x8];
	ushort local_90[0x8];
	short scriptId;
	ushort local_70[0x8];
	short *objIdAddress;
	ResourceTable *objectTable;
	int elemAmount;

	objectTable = resources->objectTable;
	animationTable_ = resources->animationTable;
	codeModelTable_ = resources->codeModelTable;
	scriptTable = resources->scriptTable;
	ogiTable = resources->ogiTable;
	soundTable_ = resources->soundTable;
	if ((resources->voicesTables == (ResourceTable **)0x0) ||
		(resources->languagesAmt <= (uint)GlobalZero)) {
		voicesTables = (ResourceTable *)0x0;
	}
	else {
		voicesTables = resources->voicesTables[GlobalZero];
	}
	elemAmountAddress = objRequiredResources->objectElements;
	objIdAddress = objId;
	if (elemAmountAddress == (ObjectElements *)0x0) {
		elemAmountAddress = objRequiredResources->ogiElements;
	}
	else {
		if (objectTable != (ResourceTable *)0x0) {
			methods = &VirtualTable_303370;
			elemAmtPtr = elemAmountAddress;
			if (elemAmountAddress->elemAmount == 0x0) {
				elemAmt = (int *)0x0;
				elemAmountAddress = (ObjectElements *)elemAmt;
			}
		LAB_0025faec:
			do {
				elemAmt = (int *)elemAmountAddress;
				itemCounter = 0x0;
				do {
					while (true) {
						if (elemAmt == (int *)0x0) {
							methods = &VirtualTable_3033A8;
							goto LAB_0025fb08;
						}
						// Get the next ID address call
						idPtr = (short *)(**(code **)(methods + 0x24))
							((int)&methods + (int)*(short *)(methods + 0x20));
						MoveShortFromS2toS1(&idPtrOnStack, idPtr);
						// Check if it's a parent object and not itself
						if (idPtrOnStack != *objIdAddress) {
							MoveShortFromS2toS1(&idPtrOnStack2, &idPtrOnStack);
							id_ = (uint)(ushort)idPtrOnStack2 & 0x7fff;
							if (idPtrOnStack2 != -0x1) {
								pGVar8 = (GameObject *)objectTable->resourceTable[id_];
								if (pGVar8 == (GameObject *)0x0) {
									pGVar8 = (GameObject *)MemoryAllocate(0x60);
									pGVar8 = FUN_0025d1e0(pGVar8);
									pGVar8->objectId = id_;
									uVar1 = *(uint *)pGVar8;
								}
								else {
									uVar1 = *(uint *)pGVar8;
								}
								*(uint *)pGVar8 = uVar1 & 0xfffdffff;
								pGVar8->field_0x0 = pGVar8->field_0x0 + 0x1;
								*(GameObject **)(objectTable->resourceTable + id_) = pGVar8;
							}
						}
						itemCounter += 0x1;
						elemAmountAddress = (ObjectElements *)*elemAmt;
						if (DAT(0x00000010) < elemAmountAddress) break;
						if (elemAmountAddress <= (uint)itemCounter) {
							elemAmt = (int *)0x0;
							elemAmountAddress = (ObjectElements *)elemAmt;
							goto LAB_0025faec;
						}
					}
				} while ((uint)itemCounter < DAT(0x00000010));
			} while (true);
		}
	LAB_0025fb08:
		elemAmountAddress = objRequiredResources->ogiElements;
	}
	if (elemAmountAddress == (ObjectElements *)0x0) {
		elemAmountAddress = objRequiredResources->animElements;
	}
	else {
		if (ogiTable != (ResourceTable *)0x0) {
			methods = &VirtualTable_303370;
			elemAmtPtr = elemAmountAddress;
			if (elemAmountAddress->elemAmount == 0x0) {
				elemAmt = (int *)0x0;
				elemAmountAddress = (ObjectElements *)elemAmt;
			}
		LAB_0025fc34:
			do {
				elemAmt = (int *)elemAmountAddress;
				itemCounter = 0x0;
				do {
					while (true) {
						if (elemAmt == (int *)0x0) {
							methods = &VirtualTable_3033A8;
							goto LAB_0025fc50;
						}
						idPtr = (short *)(**(code **)(methods + 0x24))
							((int)&methods + (int)*(short *)(methods + 0x20));
						// Get the OGI ID
						MoveShortFromS2toS1(ogiIdPtr, idPtr);
						MoveShortFromS2toS1(&ogiIdPtr2, ogiIdPtr);
						// Check if the ID is not -1
						id_ = (uint)(ushort)ogiIdPtr2 & 0x7fff;
						if (ogiIdPtr2 != -0x1) {
							initialisedOgi_ = (GameOGI *)ogiTable->resourceTable[id_];
							// Check if the requested OGI was loaded
							if (initialisedOgi_ == (GameOGI *)0x0) {
								newOgi = (GameOGI *)MemoryAllocate(0x90);
								initialisedOgi_ = InitOGI_(newOgi);
								initialisedOgi_->ogiId = id_;
								uVar1 = initialisedOgi_->unkBitField;
							}
							else {
								uVar1 = initialisedOgi_->unkBitField;
							}
							initialisedOgi_->unkBitField = uVar1 & 0xfffdffff;
							*(short *)&initialisedOgi_->unkBitField =
								*(short *)&initialisedOgi_->unkBitField + 0x1;
							// Store the OGI in case it was be loaded anew
							*(GameOGI **)(ogiTable->resourceTable + id_) = initialisedOgi_;
						}
						itemCounter += 0x1;
						elemAmountAddress = (ObjectElements *)*elemAmt;
						if (DAT(0x00000010) < elemAmountAddress) break;
						if (elemAmountAddress <= (uint)itemCounter) {
							elemAmt = (int *)0x0;
							elemAmountAddress = (ObjectElements *)elemAmt;
							goto LAB_0025fc34;
						}
					}
				} while ((uint)itemCounter < DAT(0x00000010));
			} while (true);
		}
	LAB_0025fc50:
		elemAmountAddress = objRequiredResources->animElements;
	}
	if (elemAmountAddress == (ObjectElements *)0x0) {
		elemAmountAddress = objRequiredResources->codeModelElements;
	}
	else {
		if (animationTable_ != (ResourceTable *)0x0) {
			methods = &VirtualTable_303370;
			elemAmtPtr = elemAmountAddress;
			if (elemAmountAddress->elemAmount == 0x0) {
				elemAmt = (int *)0x0;
				elemAmountAddress = (ObjectElements *)elemAmt;
			}
		LAB_0025fd7c:
			do {
				elemAmt = (int *)elemAmountAddress;
				itemCounter = 0x0;
				do {
					while (true) {
						if (elemAmt == (int *)0x0) {
							methods = &VirtualTable_3033A8;
							goto LAB_0025fd98;
						}
						idPtr = (short *)(**(code **)(methods + 0x24))
							((int)&methods + (int)*(short *)(methods + 0x20));
						MoveShortFromS2toS1(asStack192, idPtr);
						MoveShortFromS2toS1((short *)local_b0, asStack192);
						id_ = (uint)local_b0[0] & 0x7fff;
						if (local_b0[0] != 0xffff) {
							pGVar3 = (GameAnimation *)animationTable_->resourceTable[id_];
							if (pGVar3 == (GameAnimation *)0x0) {
								pGVar3 = (GameAnimation *)MemoryAllocate(0x24);
								pGVar3 = InitAnimation_(pGVar3);
								pGVar3->animId_ = id_;
								uVar1 = pGVar3->field_0x0;
							}
							else {
								uVar1 = pGVar3->field_0x0;
							}
							pGVar3->field_0x0 = uVar1 & 0xfffdffff;
							*(short *)&pGVar3->field_0x0 = *(short *)&pGVar3->field_0x0 + 0x1;
							*(GameAnimation **)(animationTable_->resourceTable + id_) = pGVar3;
						}
						itemCounter += 0x1;
						elemAmountAddress = (ObjectElements *)*elemAmt;
						if (DAT(0x00000010) < elemAmountAddress) break;
						if (elemAmountAddress <= (uint)itemCounter) {
							elemAmt = (int *)0x0;
							elemAmountAddress = (ObjectElements *)elemAmt;
							goto LAB_0025fd7c;
						}
					}
				} while ((uint)itemCounter < DAT(0x00000010));
			} while (true);
		}
	LAB_0025fd98:
		elemAmountAddress = objRequiredResources->codeModelElements;
	}
	if (elemAmountAddress == (ObjectElements *)0x0) {
		elemAmountAddress = objRequiredResources->scriptElements;
	}
	else {
		if (codeModelTable_ != (ResourceTable *)0x0) {
			methods = &VirtualTable_303370;
			elemAmtPtr = elemAmountAddress;
			if (elemAmountAddress->elemAmount == 0x0) {
				elemAmt = (int *)0x0;
				elemAmountAddress = (ObjectElements *)elemAmt;
			}
		LAB_0025fec4:
			do {
				elemAmt = (int *)elemAmountAddress;
				itemCounter = 0x0;
				do {
					while (true) {
						if (elemAmt == (int *)0x0) {
							methods = &VirtualTable_3033A8;
							goto LAB_0025fee0;
						}
						idPtr = (short *)(**(code **)(methods + 0x24))
							((int)&methods + (int)*(short *)(methods + 0x20));
						MoveShortFromS2toS1(asStack160, idPtr);
						MoveShortFromS2toS1((short *)local_90, asStack160);
						id_ = (uint)local_90[0] & 0x7fff;
						if (local_90[0] != 0xffff) {
							pGVar4 = (GameCodeModel *)codeModelTable_->resourceTable[id_];
							if (pGVar4 == (GameCodeModel *)0x0) {
								pGVar4 = (GameCodeModel *)MemoryAllocate(0x18);
								pGVar4 = FUN_00263840(pGVar4);
								pGVar4->id = id_;
								uVar1 = pGVar4->field_0x0;
							}
							else {
								uVar1 = pGVar4->field_0x0;
							}
							pGVar4->field_0x0 = uVar1 & 0xfffdffff;
							*(short *)&pGVar4->field_0x0 = *(short *)&pGVar4->field_0x0 + 0x1;
							*(GameCodeModel **)(codeModelTable_->resourceTable + id_) = pGVar4;
						}
						itemCounter += 0x1;
						elemAmountAddress = (ObjectElements *)*elemAmt;
						if (DAT(0x00000010) < elemAmountAddress) break;
						if (elemAmountAddress <= (uint)itemCounter) {
							elemAmt = (int *)0x0;
							elemAmountAddress = (ObjectElements *)elemAmt;
							goto LAB_0025fec4;
						}
					}
				} while ((uint)itemCounter < DAT(0x00000010));
			} while (true);
		}
	LAB_0025fee0:
		elemAmountAddress = objRequiredResources->scriptElements;
	}
	if (elemAmountAddress == (ObjectElements *)0x0) {
		elemAmountAddress = objRequiredResources->soundElements;
	}
	else {
		if (scriptTable != (ResourceTable *)0x0) {
			methods = &VirtualTable_303370;
			elemAmt = (int *)elemAmountAddress;
			if (elemAmountAddress->elemAmount == 0x0) {
				elemAmt = (int *)0x0;
			}
			itemCounter = 0x0;
			elemAmtPtr = elemAmountAddress;
		joined_r0x0025ff30:
			while (elemAmt != (int *)0x0) {
				// Call next elem address function with itemCounter as parameter
				// 
				idPtr = (short *)(**(code **)(methods + 0x24))
					((int)&methods + (int)*(short *)(methods + 0x20));
				MoveShortFromS2toS1(&idPtrOnStack, idPtr);
				MoveShortFromS2toS1(&scriptId, &idPtrOnStack);
				id_ = (uint)(ushort)scriptId & 0x7fff;
				if (scriptId != -0x1) {
					// Find script ptr in the resource table
					scriptInfo = (MajorScript *)scriptTable->resourceTable[id_];
					// If search ended up at a null ptr, create new script
					if (scriptInfo == (MajorScript *)0x0) {
						if ((scriptId & 0x1U) == 0x0) {
							pHVar5 = (HeaderScript *)MemoryAllocate(0x3c);
							scriptInfo = (MajorScript *)FUN_002095e8(pHVar5);
						}
						else {
							scriptInfo = (MajorScript *)MemoryAllocate(0x20);
							FUN_00208cb0((GenericScriptInfo *)scriptInfo);
							(scriptInfo->scriptInfo).methods = DAT(0x002fce38);
							scriptInfo->scriptData = (ScriptData *)0x0;
						}
						(scriptInfo->scriptInfo).scriptId = id_;
						uVar1 = *(uint *)&scriptInfo->scriptInfo;
					}
					else {
						uVar1 = *(uint *)&scriptInfo->scriptInfo;
					}
					// Increment a short in script header, store the ptr in the table(in case it was
					// null before) for future searches
					*(uint *)&scriptInfo->scriptInfo = uVar1 & 0xfffdffff;
					(scriptInfo->scriptInfo).field_0x0 = (scriptInfo->scriptInfo).field_0x0 + 0x1;
					*(MajorScript **)(scriptTable->resourceTable + id_) = scriptInfo;
				}
				itemCounter += 0x1;
				piVar2 = (int *)*elemAmt;
				if (piVar2 < DAT(0x00000011)) goto LAB_0026003c;
				if ((int *)0xf < (uint)itemCounter) goto LAB_00260048;
			}
			methods = &VirtualTable_3033A8;
		}
		elemAmountAddress = objRequiredResources->soundElements;
	}
	if ((elemAmountAddress != (ObjectElements *)0x0) && (soundTable_ != (ResourceTable *)0x0)) {
		methods = &VirtualTable_303370;
		elemAmt = (int *)elemAmountAddress;
		if (elemAmountAddress->elemAmount == 0x0) {
			elemAmt = (int *)0x0;
		}
		itemCounter = 0x0;
		elemAmtPtr = elemAmountAddress;
	joined_r0x002600b4:
		while (elemAmt != (int *)0x0) {
			idPtr = (short *)(**(code **)(methods + 0x24))
				((int)&methods + (int)*(short *)(methods + 0x20));
			MoveShortFromS2toS1(&idPtrOnStack, idPtr);
			MoveShortFromS2toS1((short *)local_70, &idPtrOnStack);
			if (local_70[0] == 0xffff) {
				pvVar6 = (void *)0x0;
			}
			else {
				pvVar6 = soundTable_->resourceTable[(uint)local_70[0] & 0x7fff];
			}
			if (pvVar6 == (void *)0x0) {
				MoveShortFromS2toS1((short *)local_70, &idPtrOnStack);
				id_ = (uint)local_70[0] & 0x7fff;
				if (local_70[0] != 0xffff) {
					pGVar7 = (GameSound *)voicesTables->resourceTable[id_];
					if (pGVar7 == (GameSound *)0x0) {
						pGVar7 = (GameSound *)MemoryAllocate(0x2c);
						pGVar7 = FUN_001e5410(pGVar7);
						pGVar7->soundId = id_;
						uVar1 = *(uint *)pGVar7;
					}
					else {
						uVar1 = *(uint *)pGVar7;
					}
					*(uint *)pGVar7 = uVar1 & 0xfffdffff;
					pGVar7->field_0x0 = pGVar7->field_0x0 + 0x1;
					ppvVar9 = voicesTables->resourceTable;
					goto LAB_002601fc;
				}
			}
			else {
				MoveShortFromS2toS1((short *)local_70, &idPtrOnStack);
				id_ = (uint)local_70[0] & 0x7fff;
				if (local_70[0] != 0xffff) {
					pGVar7 = (GameSound *)soundTable_->resourceTable[id_];
					if (pGVar7 == (GameSound *)0x0) {
						pGVar7 = (GameSound *)MemoryAllocate(0x2c);
						pGVar7 = FUN_001e5410(pGVar7);
						pGVar7->soundId = id_;
						uVar1 = *(uint *)pGVar7;
					}
					else {
						uVar1 = *(uint *)pGVar7;
					}
					*(uint *)pGVar7 = uVar1 & 0xfffdffff;
					pGVar7->field_0x0 = pGVar7->field_0x0 + 0x1;
					ppvVar9 = soundTable_->resourceTable;
				LAB_002601fc:
					*(GameSound **)(ppvVar9 + id_) = pGVar7;
				}
			}
			itemCounter += 0x1;
			piVar2 = (int *)*elemAmt;
			if (piVar2 < DAT(0x00000011)) goto LAB_00260238;
			if ((int *)0xf < (uint)itemCounter) goto LAB_00260244;
		}
		methods = &VirtualTable_3033A8;
	}
	// Copy object ID
	MoveShortFromS2toS1((short *)&methods, objIdAddress);
	id_ = (uint)methods & 0x7fff;
	if ((short)methods != -0x1) {
		// Find object ptr in resource table
		pGVar8 = (GameObject *)objectTable->resourceTable[id_];
		if (pGVar8 == (GameObject *)0x0) {
			local_v0_lo_2400 = (int *)MemoryAllocate(0x60);
			pGVar8 = FUN_0025d1e0((GameObject *)local_v0_lo_2400);
			pGVar8->objectId = id_;
			uVar1 = *(uint *)pGVar8;
		}
		else {
			uVar1 = *(uint *)pGVar8;
		}
		*(uint *)pGVar8 = uVar1 & 0xfffdffff;
		pGVar8->field_0x0 = pGVar8->field_0x0 + 0x1;
		*(GameObject **)(objectTable->resourceTable + id_) = pGVar8;
	}
	return;
LAB_0026003c:
	if (piVar2 <= (uint)itemCounter) {
		elemAmt = (int *)0x0;
		piVar2 = elemAmt;
	LAB_00260048:
		elemAmt = piVar2;
		itemCounter = 0x0;
	}
	goto joined_r0x0025ff30;
LAB_00260238:
	if (piVar2 <= (uint)itemCounter) {
		elemAmt = (int *)0x0;
		piVar2 = elemAmt;
	LAB_00260244:
		elemAmt = piVar2;
		itemCounter = 0x0;
	}
	goto joined_r0x002600b4;
}



// WARNING: Type propagation algorithm not settling
// WARNING: Could not reconcile some variable overlaps

void FUN_00260310(GameObjectLoadedResources *objResources, short *objId, GameResources *gameResources)

{
	ResourceTable *objectTable;
	ResourceTable *animationTable;
	ResourceTable *codeModelTable;
	ResourceTable *ogiTable;
	ResourceTable *soundTable;
	uint *puVar1;
	ushort *puVar2;
	undefined *puVar3;
	GameObject *gameObj;
	short sVar4;
	ushort uVar5;
	short *s2;
	void *pvVar6;
	uint uVar7;
	void **resourceTablePtr;
	ulong uVar8;
	ulong uVar9;
	ObjectElements OVar10;
	uint scriptId;
	ResourceTable *voicesTable;
	undefined *local_110;
	ObjectElements local_10c;
	ObjectElements local_108;
	ObjectElements local_104;
	short local_100[0x8];
	ushort local_f0[0x8];
	short asStack224[0x8];
	ushort local_d0[0x8];
	short asStack192[0x8];
	ushort local_b0[0x8];
	short asStack160[0x8];
	ushort local_90[0x8];
	ushort local_80[0x8];
	ushort local_70[0x8];
	GameObjectLoadedResources *local_60;
	short *local_5c;
	ResourceTable *scriptTable;
	HeaderScript *script;

	objectTable = gameResources->objectTable;
	animationTable = gameResources->animationTable;
	codeModelTable = gameResources->codeModelTable;
	scriptTable = gameResources->scriptTable;
	ogiTable = gameResources->ogiTable;
	soundTable = gameResources->soundTable;
	if ((gameResources->voicesTables == (ResourceTable **)0x0) ||
		(gameResources->languagesAmt <= (uint)GlobalZero)) {
		voicesTable = (ResourceTable *)0x0;
	}
	else {
		voicesTable = gameResources->voicesTables[GlobalZero];
	}
	OVar10 = (ObjectElements)((ObjectElements *)&objResources->soundElements)->elemAmount;
	local_60 = objResources;
	local_5c = objId;
	if (OVar10 == (ObjectElements)0x0) {
		OVar10 = (ObjectElements)((ObjectElements *)&objResources->scriptElements)->elemAmount;
	}
	else {
		if (soundTable != (ResourceTable *)0x0) {
			local_110 = &VirtualTable_303370;
			local_108 = OVar10;
			if (*(ObjectElements *)OVar10 == (ObjectElements)0x0) {
				local_108 = (ObjectElements)0x0;
			}
			local_104 = (ObjectElements)0x0;
			local_10c = OVar10;
		joined_r0x002603e0:
			while (local_108 != (ObjectElements)0x0) {
				s2 = (short *)(**(code **)(local_110 + 0x24))
					((int)&local_110 + (int)*(short *)(local_110 + 0x20));
				MoveShortFromS2toS1(local_100, s2);
				MoveShortFromS2toS1((short *)local_f0, local_100);
				if (local_f0[0] == 0xffff) {
					pvVar6 = (void *)0x0;
				}
				else {
					pvVar6 = soundTable->resourceTable[(uint)local_f0[0] & 0x7fff];
				}
				if (pvVar6 == (void *)0x0) {
					MoveShortFromS2toS1((short *)local_f0, local_100);
					scriptId = (uint)local_f0[0] & 0x7fff;
					if (local_f0[0] != 0xffff) {
						puVar1 = (uint *)voicesTable->resourceTable[scriptId];
						uVar9 = SEXT48((int)puVar1);
						if (uVar9 != 0x0) {
							sVar4 = *(short *)puVar1 + -0x1;
							*(short *)puVar1 = sVar4;
							if ((sVar4 == 0x0) && (sVar4 = 0x1, (*puVar1 & 0x20000) == 0x0)) {
								sVar4 = 0x0;
							}
							if (sVar4 == 0x0) {
								puVar2 = (ushort *)voicesTable->unkPoolOfMemoryOfSize_0xC00;
								if (puVar2 == (ushort *)0x0) {
									if (uVar9 != 0x0) {
										FUN_001e5528(uVar9, 0x3);
										resourceTablePtr = voicesTable->resourceTable;
										goto LAB_002605b4;
									}
								}
								else {
									uVar7 = (uint)*puVar2 + (uint)puVar2[0x1];
									if (0x2fe < uVar7) {
										uVar7 = uVar7 - 0x2ff;
									}
									*(uint **)(puVar2 + uVar7 * 0x2 + 0x2) = puVar1;
									puVar2[0x1] = puVar2[0x1] + 0x1;
								}
								resourceTablePtr = voicesTable->resourceTable;
								goto LAB_002605b4;
							}
						}
					}
				}
				else {
					MoveShortFromS2toS1((short *)local_f0, local_100);
					scriptId = (uint)local_f0[0] & 0x7fff;
					if (local_f0[0] != 0xffff) {
						puVar1 = (uint *)soundTable->resourceTable[scriptId];
						uVar9 = SEXT48((int)puVar1);
						if (uVar9 != 0x0) {
							sVar4 = *(short *)puVar1 + -0x1;
							*(short *)puVar1 = sVar4;
							if ((sVar4 == 0x0) && (sVar4 = 0x1, (*puVar1 & 0x20000) == 0x0)) {
								sVar4 = 0x0;
							}
							if (sVar4 == 0x0) {
								puVar2 = (ushort *)soundTable->unkPoolOfMemoryOfSize_0xC00;
								if (puVar2 == (ushort *)0x0) {
									if (uVar9 != 0x0) {
										FUN_001e5528(uVar9, 0x3);
										resourceTablePtr = soundTable->resourceTable;
										goto LAB_002605b4;
									}
								}
								else {
									uVar7 = (uint)*puVar2 + (uint)puVar2[0x1];
									if (0x2fe < uVar7) {
										uVar7 = uVar7 - 0x2ff;
									}
									*(uint **)(puVar2 + uVar7 * 0x2 + 0x2) = puVar1;
									puVar2[0x1] = puVar2[0x1] + 0x1;
								}
								resourceTablePtr = soundTable->resourceTable;
							LAB_002605b4:
								resourceTablePtr[scriptId] = (void *)0x0;
							}
						}
					}
				}
				local_104 = (ObjectElements)((int)&((ObjectElements *)local_104)->elemAmount + 0x1);
				OVar10 = *(ObjectElements *)local_108;
				if ((uint)OVar10 < 0x11) goto LAB_002605f4;
				if (0xf < (uint)local_104) goto LAB_00260600;
			}
			local_110 = &VirtualTable_3033A8;
		}
		OVar10 = (ObjectElements)((ObjectElements *)&local_60->scriptElements)->elemAmount;
	}
	if ((OVar10 != (ObjectElements)0x0) && (scriptTable != (ResourceTable *)0x0)) {
		local_110 = &VirtualTable_303370;
		local_10c = OVar10;
		if (*(int **)OVar10 == (int *)0x0) {
			local_108 = (ObjectElements)0x0;
			OVar10 = local_108;
		}
	LAB_002607a0:
		do {
			local_108 = OVar10;
			local_104 = (ObjectElements)0x0;
		LAB_002607a8:
			do {
				if (local_108 == (ObjectElements)0x0) {
					local_110 = &VirtualTable_3033A8;
					goto LAB_002607c0;
				}
				s2 = (short *)(**(code **)(local_110 + 0x24))
					((int)&local_110 + (int)*(short *)(local_110 + 0x20));
				MoveShortFromS2toS1(asStack224, s2);
				MoveShortFromS2toS1((short *)local_d0, asStack224);
				scriptId = (uint)local_d0[0];
				if ((local_d0[0] != 0xffff) &&
					(script = (HeaderScript *)scriptTable->resourceTable[scriptId & 0x7fff],
						script != (HeaderScript *)0x0)) {
					uVar5 = (script->scriptInfo).field_0x0 - 0x1;
					uVar9 = (ulong)uVar5;
					(script->scriptInfo).field_0x0 = uVar5;
					if (uVar5 == 0x0) {
						uVar9 = (ulong)((*(uint *)&script->scriptInfo & 0x20000) != 0x0);
					}
					if (uVar9 == 0x0) {
						puVar2 = (ushort *)scriptTable->unkPoolOfMemoryOfSize_0xC00;
						if (puVar2 == (ushort *)0x0) {
							if (script == (HeaderScript *)0x0) goto LAB_00260750;
							puVar3 = (script->scriptInfo).methods;
							(**(code **)(puVar3 + 0xc))
								((int)&(script->scriptInfo).field_0x0 + (int)*(short *)(puVar3 + 0x8), 0x3);
							resourceTablePtr = scriptTable->resourceTable;
						}
						else {
							uVar7 = (uint)*puVar2 + (uint)puVar2[0x1];
							if (0x2fe < uVar7) {
								uVar7 = uVar7 - 0x2ff;
							}
							*(HeaderScript **)(puVar2 + uVar7 * 0x2 + 0x2) = script;
							puVar2[0x1] = puVar2[0x1] + 0x1;
						LAB_00260750:
							resourceTablePtr = scriptTable->resourceTable;
						}
						resourceTablePtr[scriptId & 0x7fff] = (void *)0x0;
					}
				}
				local_104 = (ObjectElements)((int)local_104 + 0x1);
				OVar10 = *(ObjectElements *)local_108;
				if (DAT(0x00000010) < (uint)OVar10) {
					if (DAT(0x00000010) <= (uint)local_104) goto LAB_002607a0;
					goto LAB_002607a8;
				}
			} while ((uint)local_104 < (uint)OVar10);
			local_108 = (ObjectElements)0x0;
			OVar10 = local_108;
		} while (true);
	}
LAB_002607c0:
	OVar10 = (ObjectElements)((ObjectElements *)&local_60->codeModelElements)->elemAmount;
	if ((OVar10 != (ObjectElements)0x0) && (codeModelTable != (ResourceTable *)0x0)) {
		local_110 = &VirtualTable_303370;
		local_10c = OVar10;
		if (*(int **)OVar10 == (int *)0x0) {
			local_108 = (ObjectElements)0x0;
			OVar10 = local_108;
		}
	LAB_00260934:
		do {
			local_108 = OVar10;
			local_104 = (ObjectElements)0x0;
		LAB_0026093c:
			do {
				if (local_108 == (ObjectElements)0x0) {
					local_110 = &VirtualTable_3033A8;
					goto LAB_00260954;
				}
				s2 = (short *)(**(code **)(local_110 + 0x24))
					((int)&local_110 + (int)*(short *)(local_110 + 0x20));
				MoveShortFromS2toS1(asStack192, s2);
				MoveShortFromS2toS1((short *)local_b0, asStack192);
				scriptId = (uint)local_b0[0];
				if (local_b0[0] != 0xffff) {
					puVar1 = (uint *)codeModelTable->resourceTable[scriptId & 0x7fff];
					uVar9 = SEXT48((int)puVar1);
					if (uVar9 != 0x0) {
						uVar5 = *(short *)puVar1 - 0x1;
						uVar8 = (ulong)uVar5;
						*(ushort *)puVar1 = uVar5;
						if (uVar5 == 0x0) {
							uVar8 = (ulong)((*puVar1 & 0x20000) != 0x0);
						}
						if (uVar8 == 0x0) {
							puVar2 = (ushort *)codeModelTable->unkPoolOfMemoryOfSize_0xC00;
							if (puVar2 == (ushort *)0x0) {
								if (uVar9 == 0x0) goto LAB_002608e4;
								FUN_00263898(uVar9, 0x3);
								resourceTablePtr = codeModelTable->resourceTable;
							}
							else {
								uVar7 = (uint)*puVar2 + (uint)puVar2[0x1];
								if (0x2fe < uVar7) {
									uVar7 = uVar7 - 0x2ff;
								}
								*(uint **)(puVar2 + uVar7 * 0x2 + 0x2) = puVar1;
								puVar2[0x1] = puVar2[0x1] + 0x1;
							LAB_002608e4:
								resourceTablePtr = codeModelTable->resourceTable;
							}
							resourceTablePtr[scriptId & 0x7fff] = (void *)0x0;
						}
					}
				}
				local_104 = (ObjectElements)((int)local_104 + 0x1);
				OVar10 = *(ObjectElements *)local_108;
				if (DAT(0x00000010) < (uint)OVar10) {
					if (DAT(0x00000010) <= (uint)local_104) goto LAB_00260934;
					goto LAB_0026093c;
				}
			} while ((uint)local_104 < (uint)OVar10);
			local_108 = (ObjectElements)0x0;
			OVar10 = local_108;
		} while (true);
	}
LAB_00260954:
	OVar10 = (ObjectElements)((ObjectElements *)&local_60->animElements)->elemAmount;
	if ((OVar10 != (ObjectElements)0x0) && (animationTable != (ResourceTable *)0x0)) {
		local_110 = &VirtualTable_303370;
		local_10c = OVar10;
		if (*(int **)OVar10 == (int *)0x0) {
			local_108 = (ObjectElements)0x0;
			OVar10 = local_108;
		}
	LAB_00260ac4:
		do {
			local_108 = OVar10;
			local_104 = (ObjectElements)0x0;
		LAB_00260acc:
			do {
				if (local_108 == (ObjectElements)0x0) {
					local_110 = &VirtualTable_3033A8;
					goto LAB_00260ae4;
				}
				s2 = (short *)(**(code **)(local_110 + 0x24))
					((int)&local_110 + (int)*(short *)(local_110 + 0x20));
				MoveShortFromS2toS1(asStack160, s2);
				MoveShortFromS2toS1((short *)local_90, asStack160);
				scriptId = (uint)local_90[0];
				if (local_90[0] != 0xffff) {
					puVar1 = (uint *)animationTable->resourceTable[scriptId & 0x7fff];
					uVar9 = SEXT48((int)puVar1);
					if (uVar9 != 0x0) {
						uVar5 = *(short *)puVar1 - 0x1;
						uVar8 = (ulong)uVar5;
						*(ushort *)puVar1 = uVar5;
						if (uVar5 == 0x0) {
							uVar8 = (ulong)((*puVar1 & 0x20000) != 0x0);
						}
						if (uVar8 == 0x0) {
							puVar2 = (ushort *)animationTable->unkPoolOfMemoryOfSize_0xC00;
							if (puVar2 == (ushort *)0x0) {
								if (uVar9 == 0x0) goto LAB_00260a74;
								FUN_00299550(uVar9, 0x3);
								resourceTablePtr = animationTable->resourceTable;
							}
							else {
								uVar7 = (uint)*puVar2 + (uint)puVar2[0x1];
								if (0x2fe < uVar7) {
									uVar7 = uVar7 - 0x2ff;
								}
								*(uint **)(puVar2 + uVar7 * 0x2 + 0x2) = puVar1;
								puVar2[0x1] = puVar2[0x1] + 0x1;
							LAB_00260a74:
								resourceTablePtr = animationTable->resourceTable;
							}
							resourceTablePtr[scriptId & 0x7fff] = (void *)0x0;
						}
					}
				}
				local_104 = (ObjectElements)((int)local_104 + 0x1);
				OVar10 = *(ObjectElements *)local_108;
				if (DAT(0x00000010) < (uint)OVar10) {
					if (DAT(0x00000010) <= (uint)local_104) goto LAB_00260ac4;
					goto LAB_00260acc;
				}
			} while ((uint)local_104 < (uint)OVar10);
			local_108 = (ObjectElements)0x0;
			OVar10 = local_108;
		} while (true);
	}
LAB_00260ae4:
	OVar10 = (ObjectElements)((ObjectElements *)&local_60->ogiElements)->elemAmount;
	if ((OVar10 != (ObjectElements)0x0) && (ogiTable != (ResourceTable *)0x0)) {
		local_110 = &VirtualTable_303370;
		local_10c = OVar10;
		if (*(int **)OVar10 == (int *)0x0) {
			local_108 = (ObjectElements)0x0;
			OVar10 = local_108;
		}
	LAB_00260c54:
		do {
			local_108 = OVar10;
			local_104 = (ObjectElements)0x0;
		LAB_00260c5c:
			do {
				if (local_108 == (ObjectElements)0x0) {
					local_110 = &VirtualTable_3033A8;
					goto LAB_00260c74;
				}
				s2 = (short *)(**(code **)(local_110 + 0x24))
					((int)&local_110 + (int)*(short *)(local_110 + 0x20));
				MoveShortFromS2toS1(local_100, s2);
				MoveShortFromS2toS1((short *)local_80, local_100);
				scriptId = (uint)local_80[0];
				if (local_80[0] != 0xffff) {
					puVar1 = (uint *)ogiTable->resourceTable[scriptId & 0x7fff];
					uVar9 = SEXT48((int)puVar1);
					if (uVar9 != 0x0) {
						uVar5 = *(short *)puVar1 - 0x1;
						uVar8 = (ulong)uVar5;
						*(ushort *)puVar1 = uVar5;
						if (uVar5 == 0x0) {
							uVar8 = (ulong)((*puVar1 & 0x20000) != 0x0);
						}
						if (uVar8 == 0x0) {
							puVar2 = (ushort *)ogiTable->unkPoolOfMemoryOfSize_0xC00;
							if (puVar2 == (ushort *)0x0) {
								if (uVar9 == 0x0) goto LAB_00260c04;
								FUN_002960e0(uVar9, 0x3);
								resourceTablePtr = ogiTable->resourceTable;
							}
							else {
								uVar7 = (uint)*puVar2 + (uint)puVar2[0x1];
								if (0x2fe < uVar7) {
									uVar7 = uVar7 - 0x2ff;
								}
								*(uint **)(puVar2 + uVar7 * 0x2 + 0x2) = puVar1;
								puVar2[0x1] = puVar2[0x1] + 0x1;
							LAB_00260c04:
								resourceTablePtr = ogiTable->resourceTable;
							}
							resourceTablePtr[scriptId & 0x7fff] = (void *)0x0;
						}
					}
				}
				local_104 = (ObjectElements)((int)local_104 + 0x1);
				OVar10 = *(ObjectElements *)local_108;
				if (DAT(0x00000010) < (uint)OVar10) {
					if (DAT(0x00000010) <= (uint)local_104) goto LAB_00260c54;
					goto LAB_00260c5c;
				}
			} while ((uint)local_104 < (uint)OVar10);
			local_108 = (ObjectElements)0x0;
			OVar10 = local_108;
		} while (true);
	}
LAB_00260c74:
	OVar10 = (ObjectElements)((ObjectElements *)&local_60->objectElements)->elemAmount;
	if ((OVar10 != (ObjectElements)0x0) && (objectTable != (ResourceTable *)0x0)) {
		local_110 = &VirtualTable_303370;
		local_10c = OVar10;
		if (*(ObjectElements *)OVar10 == (ObjectElements)0x0) {
			local_108 = (ObjectElements)0x0;
			OVar10 = local_108;
		}
	LAB_00260df4:
		do {
			local_108 = OVar10;
			local_104 = (ObjectElements)0x0;
		LAB_00260dfc:
			do {
				if (local_108 == (ObjectElements)0x0) {
					local_110 = &VirtualTable_3033A8;
					goto LAB_00260e14;
				}
				s2 = (short *)(**(code **)(local_110 + 0x24))
					((int)&local_110 + (int)*(short *)(local_110 + 0x20));
				MoveShortFromS2toS1(local_100, s2);
				if (local_100[0] != *local_5c) {
					MoveShortFromS2toS1((short *)local_70, local_100);
					scriptId = (uint)local_70[0];
					if ((local_70[0] != 0xffff) &&
						(gameObj = (GameObject *)objectTable->resourceTable[scriptId & 0x7fff],
							gameObj != (GameObject *)0x0)) {
						uVar5 = gameObj->field_0x0 - 0x1;
						uVar9 = (ulong)uVar5;
						gameObj->field_0x0 = uVar5;
						if (uVar5 == 0x0) {
							uVar9 = (ulong)((*(uint *)gameObj & 0x20000) != 0x0);
						}
						if (uVar9 == 0x0) {
							puVar2 = (ushort *)objectTable->unkPoolOfMemoryOfSize_0xC00;
							if (puVar2 == (ushort *)0x0) {
								if (gameObj == (GameObject *)0x0) goto LAB_00260da4;
								FUN_0025d380(gameObj, 0x3);
								resourceTablePtr = objectTable->resourceTable;
							}
							else {
								uVar7 = (uint)*puVar2 + (uint)puVar2[0x1];
								if (0x2fe < uVar7) {
									uVar7 = uVar7 - 0x2ff;
								}
								*(GameObject **)(puVar2 + uVar7 * 0x2 + 0x2) = gameObj;
								puVar2[0x1] = puVar2[0x1] + 0x1;
							LAB_00260da4:
								resourceTablePtr = objectTable->resourceTable;
							}
							resourceTablePtr[scriptId & 0x7fff] = (void *)0x0;
						}
					}
				}
				local_104 = (ObjectElements)((int)local_104 + 0x1);
				OVar10 = *(ObjectElements *)local_108;
				if ((ObjectElements *)DAT(0x00000011) <= (uint)OVar10) {
					if (DAT(0x00000010) <= (uint)local_104) goto LAB_00260df4;
					goto LAB_00260dfc;
				}
			} while ((uint)local_104 < (uint)OVar10);
			local_108 = (ObjectElements)0x0;
			OVar10 = local_108;
		} while (true);
	}
LAB_00260e14:
	MoveShortFromS2toS1((short *)&local_110, local_5c);
	scriptId = (uint)local_110 & 0x7fff;
	if ((short)local_110 == -0x1) {
		return;
	}
	gameObj = (GameObject *)objectTable->resourceTable[scriptId];
	if (gameObj == (GameObject *)0x0) {
		return;
	}
	uVar5 = gameObj->field_0x0 - 0x1;
	uVar9 = (ulong)uVar5;
	gameObj->field_0x0 = uVar5;
	if (uVar5 == 0x0) {
		uVar9 = (ulong)((*(uint *)gameObj & 0x20000) != 0x0);
	}
	if (uVar9 != 0x0) {
		return;
	}
	puVar2 = (ushort *)objectTable->unkPoolOfMemoryOfSize_0xC00;
	if (puVar2 == (ushort *)0x0) {
		if (gameObj != (GameObject *)0x0) {
			FUN_0025d380(gameObj, 0x3);
			resourceTablePtr = objectTable->resourceTable;
			goto LAB_00260ecc;
		}
	}
	else {
		uVar7 = (uint)*puVar2 + (uint)puVar2[0x1];
		if (0x2fe < uVar7) {
			uVar7 = uVar7 - 0x2ff;
		}
		*(GameObject **)(puVar2 + uVar7 * 0x2 + 0x2) = gameObj;
		puVar2[0x1] = puVar2[0x1] + 0x1;
	}
	resourceTablePtr = objectTable->resourceTable;
LAB_00260ecc:
	resourceTablePtr[scriptId] = (void *)0x0;
	return;
LAB_002605f4:
	if ((uint)OVar10 <= (uint)local_104) {
		local_108 = (ObjectElements)0x0;
		OVar10 = local_108;
	LAB_00260600:
		local_108 = OVar10;
		local_104 = (ObjectElements)0x0;
	}
	goto joined_r0x002603e0;
}



void FUN_00260f08(undefined8 param_1, int *param_2)

{
	int **ppiVar1;
	int **ppiVar2;
	int iVar3;
	uint *puVar4;

	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1);
	puVar4 = (uint *)param_1;
	if ((*puVar4 & 0x1) == 0x0) {
		ppiVar1 = (int **)0x0;
	}
	else {
		iVar3 = 0xf;
		ppiVar1 = (int **)MemoryAllocate(0x24);
		ppiVar2 = ppiVar1 + 0x1;
		do {
			iVar3 += -0x1;
			SetUndefinedID_((short *)ppiVar2);
			ppiVar2 = (int **)((int)ppiVar2 + 0x2);
		} while (iVar3 != -0x1);
		*ppiVar1 = (int *)0x0;
		FUN_00262c98(ppiVar1, param_2);
	}
	*(int ***)(puVar4 + 0x1) = ppiVar1;
	if ((*puVar4 & 0x2) == 0x0) {
		ppiVar1 = (int **)0x0;
	}
	else {
		iVar3 = 0xf;
		ppiVar1 = (int **)MemoryAllocate(0x24);
		ppiVar2 = ppiVar1 + 0x1;
		do {
			iVar3 += -0x1;
			SetUndefinedID_((short *)ppiVar2);
			ppiVar2 = (int **)((int)ppiVar2 + 0x2);
		} while (iVar3 != -0x1);
		*ppiVar1 = (int *)0x0;
		FUN_00262c98(ppiVar1, param_2);
	}
	*(int ***)(puVar4 + 0x2) = ppiVar1;
	if ((*puVar4 & 0x4) == 0x0) {
		ppiVar1 = (int **)0x0;
	}
	else {
		iVar3 = 0xf;
		ppiVar1 = (int **)MemoryAllocate(0x24);
		ppiVar2 = ppiVar1 + 0x1;
		do {
			iVar3 += -0x1;
			SetUndefinedID_((short *)ppiVar2);
			ppiVar2 = (int **)((int)ppiVar2 + 0x2);
		} while (iVar3 != -0x1);
		*ppiVar1 = (int *)0x0;
		FUN_00262c98(ppiVar1, param_2);
	}
	*(int ***)(puVar4 + 0x3) = ppiVar1;
	if ((*puVar4 & 0x8) == 0x0) {
		ppiVar1 = (int **)0x0;
	}
	else {
		iVar3 = 0xf;
		ppiVar1 = (int **)MemoryAllocate(0x24);
		ppiVar2 = ppiVar1 + 0x1;
		do {
			iVar3 += -0x1;
			SetUndefinedID_((short *)ppiVar2);
			ppiVar2 = (int **)((int)ppiVar2 + 0x2);
		} while (iVar3 != -0x1);
		*ppiVar1 = (int *)0x0;
		FUN_00262c98(ppiVar1, param_2);
	}
	*(int ***)(puVar4 + 0x4) = ppiVar1;
	if ((*puVar4 & 0x10) == 0x0) {
		ppiVar1 = (int **)0x0;
	}
	else {
		iVar3 = 0xf;
		ppiVar1 = (int **)MemoryAllocate(0x24);
		ppiVar2 = ppiVar1 + 0x1;
		do {
			iVar3 += -0x1;
			SetUndefinedID_((short *)ppiVar2);
			ppiVar2 = (int **)((int)ppiVar2 + 0x2);
		} while (iVar3 != -0x1);
		*ppiVar1 = (int *)0x0;
		FUN_00262c98(ppiVar1, param_2);
	}
	*(int ***)(puVar4 + 0x5) = ppiVar1;
	if ((*puVar4 & 0x20) == 0x0) {
		ppiVar1 = (int **)0x0;
	}
	else {
		iVar3 = 0xf;
		ppiVar1 = (int **)MemoryAllocate(0x24);
		ppiVar2 = ppiVar1 + 0x1;
		do {
			iVar3 += -0x1;
			SetUndefinedID_((short *)ppiVar2);
			ppiVar2 = (int **)((int)ppiVar2 + 0x2);
		} while (iVar3 != -0x1);
		*ppiVar1 = (int *)0x0;
		FUN_00262c98(ppiVar1, param_2);
	}
	*(int ***)(puVar4 + 0x6) = ppiVar1;
	if ((*puVar4 & 0x40) == 0x0) {
		ppiVar1 = (int **)0x0;
	}
	else {
		iVar3 = 0xf;
		ppiVar1 = (int **)MemoryAllocate(0x24);
		ppiVar2 = ppiVar1 + 0x1;
		do {
			iVar3 += -0x1;
			SetUndefinedID_((short *)ppiVar2);
			ppiVar2 = (int **)((int)ppiVar2 + 0x2);
		} while (iVar3 != -0x1);
		*ppiVar1 = (int *)0x0;
		FUN_00262c98(ppiVar1, param_2);
	}
	*(int ***)(puVar4 + 0x7) = ppiVar1;
	return;
}



void LoadPropertyLists(InstanceProperties *instProps, BinaryReader *binReader)

{
	bool bVar1;
	undefined *methods;
	int flagsAmt;
	int *listPtr;
	uint counter;
	int **listPtrCopy;

	listPtrCopy = &instProps->flagsList;
	(**(code **)(binReader->methods + 0x8c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x88), instProps);
	(**(code **)(binReader->methods + 0x8c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x88),
			&instProps->unkInt2);
	if (instProps->flagsList == (int *)0x0) {
		methods = binReader->methods;
	}
	else {
		MemoryDeallocate_(instProps->flagsList);
		methods = binReader->methods;
	}
	// Load flags amount from disk
	(**(code **)(methods + 0x8c))
		((int)&binReader->methods + (int)*(short *)(methods + 0x88), &instProps->flagsAmt);
	flagsAmt = instProps->flagsAmt;
	if (flagsAmt == 0x0) {
		listPtr = (int *)0x0;
	}
	else {
		// Allocate flags amount * 4 amount of bytes so new int[flagsAmt]
		listPtr = (int *)MemoryAllocate2((long)(flagsAmt << 0x2));
		if (flagsAmt != 0x0) {
			flagsAmt += -0x2;
			do {
				bVar1 = flagsAmt != -0x1;
				flagsAmt += -0x1;
			} while (bVar1);
		}
	}
	// Load flags from disk into the list
	*listPtrCopy = listPtr;
	if (instProps->flagsAmt != 0x0) {
		listPtr = *listPtrCopy;
		counter = 0x0;
		while (true) {
			FUN_0018c190(listPtr + counter, binReader);
			if ((uint)instProps->flagsAmt <= counter + 0x1) break;
			listPtr = *listPtrCopy;
			counter = counter + 0x1;
		}
	}
	if (instProps->floatPropsList == (int *)0x0) {
		methods = binReader->methods;
	}
	else {
		MemoryDeallocate_(instProps->floatPropsList);
		methods = binReader->methods;
	}
	(**(code **)(methods + 0x8c))
		((int)&binReader->methods + (int)*(short *)(methods + 0x88), &instProps->floatPropsAmt);
	listPtr = (int *)0x0;
	if (instProps->floatPropsAmt != 0x0) {
		listPtr = (int *)MemoryAllocate2((long)(instProps->floatPropsAmt << 0x2));
	}
	instProps->floatPropsList = listPtr;
	if (instProps->floatPropsAmt != 0x0) {
		methods = binReader->methods;
		counter = 0x0;
		while (true) {
			// Load the float props
			(**(code **)(methods + 0xbc))
				((int)&binReader->methods + (int)*(short *)(methods + 0xb8),
					instProps->floatPropsList + counter);
			if ((uint)instProps->floatPropsAmt <= counter + 0x1) break;
			methods = binReader->methods;
			counter = counter + 0x1;
		}
	}
	if (instProps->integerPropsList == (int *)0x0) {
		methods = binReader->methods;
	}
	else {
		MemoryDeallocate_(instProps->integerPropsList);
		methods = binReader->methods;
	}
	(**(code **)(methods + 0x8c))
		((int)&binReader->methods + (int)*(short *)(methods + 0x88), &instProps->integerPropsAmt)
		;
	listPtr = (int *)0x0;
	if (instProps->integerPropsAmt != 0x0) {
		listPtr = (int *)MemoryAllocate2((long)(instProps->integerPropsAmt << 0x2));
	}
	instProps->integerPropsList = listPtr;
	if (instProps->integerPropsAmt != 0x0) {
		methods = binReader->methods;
		counter = 0x0;
		while (true) {
			// Load the integer props
			(**(code **)(methods + 0xac))
				((int)&binReader->methods + (int)*(short *)(methods + 0xa8),
					instProps->integerPropsList + counter);
			if ((uint)instProps->integerPropsAmt <= counter + 0x1) break;
			methods = binReader->methods;
			counter = counter + 0x1;
		}
	}
	return;
}



void FUN_00261488(astruct_1 *param_1, short *param_2, undefined4 param_3, long param_4, byte param_5)

{
	ChunkNode *pCVar1;
	astruct_21 *someStruct;
	ChunkNodeUnkBitfield *pCVar2;
	astruct_22 *paVar3;
	short local_50;
	ChunkNodeUnkBitfield *local_40[0x4];

	MoveShortFromS2toS1(&local_50, param_2);
	pCVar1 = param_1->ChunkNode;
	if (pCVar1 == (ChunkNode *)0x0) {
		local_40[0] = (ChunkNodeUnkBitfield *)0x0;
	}
	else {
		if (pCVar1->field_0xb0 == (ChunkNodeUnkBitfield *)0x0) {
			pCVar2 = (ChunkNodeUnkBitfield *)MemoryAllocate(0x8);
			pCVar2->chunkNode = pCVar1;
			pCVar2->unkBitfield = pCVar2->unkBitfield & 0xfe000000;
			pCVar1->field_0xb0 = pCVar2;
			pCVar2 = pCVar1->field_0xb0;
		}
		else {
			pCVar2 = pCVar1->field_0xb0;
		}
		pCVar2->unkBitfield =
			pCVar2->unkBitfield & 0xff000000 | (pCVar2->unkBitfield & 0xffffff) + 0x1 & 0xffffff;
		local_40[0] = pCVar1->field_0xb0;
	}
	someStruct = (astruct_21 *)MemoryAllocate(0x1c);
	someStruct = FUN_0020a5a0(someStruct, &local_50, param_5, param_4, local_40, param_3, 0x2);
	if (someStruct == (astruct_21 *)0x0) {
		_local_50 = (astruct_21 *)0x0;
	}
	else {
		if (someStruct->field_0x0 == (astruct_22 *)0x0) {
			paVar3 = (astruct_22 *)MemoryAllocate(0x8);
			paVar3->field_0x0 = someStruct;
			*(uint *)&paVar3->field_0x4 = *(uint *)&paVar3->field_0x4 & 0xfe000000 | 0x1000000;
			someStruct->field_0x0 = paVar3;
			paVar3 = someStruct->field_0x0;
		}
		else {
			paVar3 = someStruct->field_0x0;
		}
		*(uint *)&paVar3->field_0x4 =
			*(uint *)&paVar3->field_0x4 & 0xff000000 |
			(*(uint *)&paVar3->field_0x4 & 0xffffff) + 0x1 & 0xffffff;
		_local_50 = (astruct_21 *)someStruct->field_0x0;
	}
	FUN_001981c0((char)param_1->ChunkNode, (astruct_22 *)&local_50);
	return;
}



void FUN_00261610(astruct_1 *astr1_Ptr, GameResources *resourceLayout)

{
	ResourceTable *ogiResourceTable;
	uint objUnkHeader;
	OgiRelatedNode *unkNode;
	GameOGI *ogiBaseAddress;
	short local_40;
	short local_30;

	// Get node type of 3
	unkNode = (OgiRelatedNode *)GetGameNode(&astr1_Ptr->ChunkNode->nodesList_, 0x3);
	if (unkNode != (OgiRelatedNode *)0x0) {
		MoveShortFromS2toS1(&local_40, astr1_Ptr->objectBaseAddress->ogiIdsScriptSlots);
		ogiResourceTable = resourceLayout->ogiTable;
		MoveShortFromS2toS1(&local_30, &local_40);
		if (local_30 == -0x1) {
			ogiBaseAddress = (GameOGI *)0x0;
		}
		else {
			ogiBaseAddress = (GameOGI *)ogiResourceTable->resourceTable[(uint)(ushort)local_30 & 0x7fff];
		}
		objUnkHeader = astr1_Ptr->objectBaseAddress->unkHeader;
		FUN_0019e4c0(unkNode, ogiBaseAddress, objUnkHeader >> 0x6 & 0x3f, objUnkHeader & 0x3f);
	}
	return;
}



int FUN_002616c0(astruct_1 *astr1_Ptr, int slotIndex, ChunkNode *param_3, long param_4, byte param_5)

{
	GameObject *objBaseAddress;
	ChunkNode *pCVar1;
	ChunkNodeUnkBitfield *local_v0_lo_164;
	astruct_21 *astr21_Ptr;
	astruct_22 *local_v0_lo_332;
	ChunkNodeUnkBitfield *pCVar2;
	astruct_22 *paVar3;
	short scriptId;
	short scriptId2;
	ChunkNodeUnkBitfield *local_50;

	objBaseAddress = astr1_Ptr->objectBaseAddress;
	if (objBaseAddress != (GameObject *)0x0) {
		if ((*(ulong *)&astr1_Ptr->unkByte1 & 0x100000000) != 0x0) {
			return 0x0;
		}
		if ((ulong)(long)slotIndex < (ulong)objBaseAddress->scriptIdsArraySizeByte) {
			MoveShortFromS2toS1(&scriptId, objBaseAddress->scriptIdsScriptSlots + slotIndex);
			if (scriptId != -0x1) {
				MoveShortFromS2toS1(&scriptId2, &scriptId);
				pCVar1 = astr1_Ptr->ChunkNode;
				if (pCVar1 == (ChunkNode *)0x0) {
					local_50 = (ChunkNodeUnkBitfield *)0x0;
				}
				else {
					if (pCVar1->field_0xb0 == (ChunkNodeUnkBitfield *)0x0) {
						local_v0_lo_164 = (ChunkNodeUnkBitfield *)MemoryAllocate(0x8);
						local_v0_lo_164->chunkNode = pCVar1;
						local_v0_lo_164->unkBitfield = local_v0_lo_164->unkBitfield & 0xfe000000;
						pCVar1->field_0xb0 = local_v0_lo_164;
						pCVar2 = pCVar1->field_0xb0;
					}
					else {
						pCVar2 = pCVar1->field_0xb0;
					}
					pCVar2->unkBitfield =
						pCVar2->unkBitfield & 0xff000000 | (pCVar2->unkBitfield & 0xffffff) + 0x1 & 0xffffff;
					local_50 = pCVar1->field_0xb0;
				}
				astr21_Ptr = (astruct_21 *)MemoryAllocate(0x1c);
				astr21_Ptr = FUN_0020a5a0(astr21_Ptr, (short *)(astruct_22 *)&scriptId2, param_5, param_4,
					&local_50, param_3, 0x2);
				if (astr21_Ptr == (astruct_21 *)0x0) {
					_scriptId2 = (astruct_21 *)0x0;
				}
				else {
					if (astr21_Ptr->field_0x0 == (astruct_22 *)0x0) {
						local_v0_lo_332 = (astruct_22 *)MemoryAllocate(0x8);
						local_v0_lo_332->field_0x0 = astr21_Ptr;
						*(uint *)&local_v0_lo_332->field_0x4 =
							*(uint *)&local_v0_lo_332->field_0x4 & 0xfe000000 | 0x1000000;
						astr21_Ptr->field_0x0 = local_v0_lo_332;
						paVar3 = astr21_Ptr->field_0x0;
					}
					else {
						paVar3 = astr21_Ptr->field_0x0;
					}
					*(uint *)&paVar3->field_0x4 =
						*(uint *)&paVar3->field_0x4 & 0xff000000 |
						(*(uint *)&paVar3->field_0x4 & 0xffffff) + 0x1 & 0xffffff;
					_scriptId2 = (astruct_21 *)astr21_Ptr->field_0x0;
				}
				FUN_001981c0((char)astr1_Ptr->ChunkNode, (astruct_22 *)&scriptId2);
			}
			return 0x1;
		}
	}
	return 0x0;
}



undefined8 FUN_002618b0(undefined8 param_1, InstanceProperties *instProps, int param_3)

{
	int iVar1;
	int iVar2;
	int iVar3;
	uint uVar4;
	void *flagsProps;
	void *floatProps;
	undefined4 *puVar5;
	int *intPropsList;
	int iVar6;
	ulong uVar7;
	byte *pbVar8;
	int local_50;

	uVar7 = 0x0;
	iVar1 = (**(code **)(*(int *)(param_3 + 0x8) + 0x4c))
		(param_3 + *(short *)(*(int *)(param_3 + 0x8) + 0x48));
	iVar2 = (**(code **)(*(int *)(param_3 + 0x8) + 0x54))
		(param_3 + *(short *)(*(int *)(param_3 + 0x8) + 0x50));
	iVar3 = (**(code **)(*(int *)(param_3 + 0x8) + 0x5c))
		(param_3 + *(short *)(*(int *)(param_3 + 0x8) + 0x58));
	uVar4 = (uint)*(byte *)&instProps->unkInt1 - iVar1;
	pbVar8 = (byte *)param_1;
	*pbVar8 = (byte)uVar4;
	pbVar8[0x1] = *(char *)((int)&instProps->unkInt1 + 0x1) - (char)iVar2;
	pbVar8[0x2] = *(char *)((int)&instProps->unkInt1 + 0x2) - (char)iVar3;
	if ((uVar4 & 0xff) != 0x0) {
		iVar1 <<= 0x2;
		flagsProps = instProps->flagsList;
		while (true) {
			iVar6 = (int)uVar7;
			uVar7 = SEXT48(iVar6 + 0x1);
			local_50 = *(int *)((int)flagsProps + iVar1);
			iVar1 += 0x4;
			FUN_002636f0((int)pbVar8, iVar6, &local_50);
			if (*pbVar8 <= uVar7) break;
			flagsProps = instProps->flagsList;
		}
	}
	uVar7 = 0x0;
	if (pbVar8[0x1] != 0x0) {
		iVar2 <<= 0x2;
		floatProps = instProps->floatPropsList;
		while (true) {
			iVar1 = (int)uVar7;
			uVar7 = SEXT48(iVar1 + 0x1);
			puVar5 = (undefined4 *)((int)floatProps + iVar2);
			iVar2 += 0x4;
			FUN_00263718(*puVar5, (int)pbVar8, iVar1);
			if (pbVar8[0x1] <= uVar7) break;
			floatProps = instProps->floatPropsList;
		}
	}
	uVar7 = 0x0;
	if (pbVar8[0x2] != 0x0) {
		iVar3 <<= 0x2;
		intPropsList = instProps->integerPropsList;
		while (true) {
			iVar1 = (int)uVar7;
			uVar7 = SEXT48(iVar1 + 0x1);
			puVar5 = (undefined4 *)((int)intPropsList + iVar3);
			iVar3 += 0x4;
			FUN_00263750((int)pbVar8, iVar1, *puVar5);
			if (pbVar8[0x2] <= uVar7) break;
			intPropsList = instProps->integerPropsList;
		}
	}
	return param_1;
}



void FUN_00261a40(int param_1, undefined8 param_2)

{
	byte bVar1;
	uint *puVar2;
	uint *puVar3;
	void *pvVar4;
	ScriptSupportStruct4 *pSVar5;
	int iVar6;
	ulong uVar7;
	int iVar8;
	BinaryReader *binReader;

	binReader = (BinaryReader *)param_2;
	(**(code **)(binReader->methods + 0x8c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x88), param_1 + 0x8);
	bVar1 = *(byte *)(param_1 + 0xa);
	iVar8 = (uint)bVar1 - 0x1;
	puVar3 = (uint *)MemoryAllocate2((long)(int)((uint)bVar1 * 0x8 + 0x10));
	*puVar3 = (uint)bVar1;
	puVar2 = puVar3 + 0x4;
	if (bVar1 != 0x0) {
		do {
			iVar8 += -0x1;
			FUN_00251900((long)(int)puVar2);
			puVar2 = puVar2 + 0x2;
		} while (iVar8 != -0x1);
	}
	*(byte *)(param_1 + 0xa) = bVar1;
	uVar7 = 0x0;
	*(uint **)(param_1 + 0xc) = puVar3 + 0x4;
	pvVar4 = MemoryAllocate2((long)(int)((uint)bVar1 << 0x1));
	*(void **)(param_1 + 0x14) = pvVar4;
	if (*(char *)(param_1 + 0xa) != '\0') {
		iVar8 = *(int *)(param_1 + 0xc);
		while (true) {
			iVar6 = (int)uVar7;
			FUN_002519c8((long)(iVar6 * 0x8 + iVar8), param_2);
			uVar7 = SEXT48(iVar6 + 0x1);
			(**(code **)(binReader->methods + 0x7c))
				((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78),
					iVar6 * 0x2 + *(int *)(param_1 + 0x14));
			if (*(byte *)(param_1 + 0xa) <= uVar7) break;
			iVar8 = *(int *)(param_1 + 0xc);
		}
	}
	pSVar5 = FUN_00206580(binReader);
	*(ScriptSupportStruct4 **)(param_1 + 0x10) = pSVar5;
	return;
}



undefined8 FUN_00261b68(undefined8 param_1, int *param_2)

{
	undefined4 *puVar1;
	int *piVar2;
	int **ppiVar3;
	int iVar4;

	ppiVar3 = (int **)param_1;
	iVar4 = 0x9;
	*ppiVar3 = (int *)0x0;
	ppiVar3[0x1] = (int *)0x0;
	ppiVar3[0x2] = (int *)0x0;
	SetUndefinedID_((short *)((int)ppiVar3 + 0xe));
	ppiVar3[0x7] = (int *)0xa;
	ppiVar3[0x8] = (int *)0xa;
	ppiVar3[0x6] = (int *)0x0;
	puVar1 = (undefined4 *)MemoryAllocate2(0x24);
	*puVar1 = 0xa;
	piVar2 = puVar1 + 0x4;
	do {
		iVar4 += -0x1;
		SetUndefinedID_((short *)piVar2);
		piVar2 = (int *)((int)piVar2 + 0x2);
	} while (iVar4 != -0x1);
	ppiVar3[0x5] = puVar1 + 0x4;
	*(undefined **)(ppiVar3 + 0x11) = DAT(0x00303610);
	ppiVar3[0xa] = (int *)0x0;
	ppiVar3[0xc] = (int *)0x0;
	ppiVar3[0xb] = (int *)0x0;
	ppiVar3[0x9] = (int *)0x0;
	ppiVar3[0xe] = (int *)0x0;
	ppiVar3[0xd] = (int *)0x0;
	ppiVar3[0x10] = (int *)0x0;
	ppiVar3[0xf] = (int *)0x0;
	*(undefined *)(ppiVar3 + 0x9) = 0x0;
	*(undefined *)((int)ppiVar3 + 0x26) = 0x0;
	*(undefined *)((int)ppiVar3 + 0x25) = 0x0;
	FUN_00263978(ppiVar3, param_2);
	return param_1;
}



void FUN_00261c70(long param_1, long param_2)

{
	if ((param_2 == 0xffff) && (param_1 != 0x0)) {
		uRam0030a988 = 0x0;
	}
	return;
}



void FUN_00261c98(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f03e8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00261d28(ulong param_1, ulong param_2)

{
	String *address;

	address = (String *)param_1;
	address[0x2].stringLength = 0x303648;
	StringDelete(address);
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



uint * GetUnkInt32ScriptSlot_(GameObject *param_1, int slotIndex)

{
	return (uint *)(param_1->unkInt32ScriptSlots + slotIndex);
}



short * GetOgiID_FromScriptSlots(short *destination, GameObject *param_2, int index)

{
	MoveShortFromS2toS1(destination, param_2->ogiIdsScriptSlots + index);
	return destination;
}



short * GetAnimID_FromObject(short *param_1, GameObject *param_2, int index)

{
	MoveShortFromS2toS1(param_1, param_2->animIdsScriptSlots + index);
	return param_1;
}



short * GetScriptId_FromScriptSlot(short *destination, GameObject *gameObj, int slotIndex)

{
	MoveShortFromS2toS1(destination, gameObj->scriptIdsScriptSlots + slotIndex);
	return destination;
}



short * GetSoundID_FromObject(short *destination, GameObject *gameObject, short soundIndex)

{
	short local_20;

	local_20 = -0x1;
	if ((ulong)(long)soundIndex < (ulong)gameObject->soundIdsArraySizeByte) {
		local_20 = gameObject->soundIdsScriptSlots[soundIndex];
	}
	MoveShortFromS2toS1(destination, &local_20);
	return destination;
}



undefined8 FUN_00261ea8(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	*puVar1 = 0x0;
	puVar1[0x2] = 0x303560;
	puVar1[0x1] = 0x0;
	return param_1;
}



void FUN_00261ec8(ulong param_1, ulong param_2)

{
	void *address;

	address = (void *)param_1;
	*(undefined4 *)((int)address + 0x8) = 0x303560;
	if ((long)*(int *)((int)address + 0x4) != 0x0) {
		FUN_002636c8((long)*(int *)((int)address + 0x4), 0x3);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



void FUN_00261f30(int param_1, ulong param_2, int *param_3)

{
	int *piVar1;
	ulong uVar2;
	int local_30[0x4];

	uVar2 = (**(code **)(*(int *)(param_1 + 0x8) + 0x4c))
		(param_1 + *(short *)(*(int *)(param_1 + 0x8) + 0x48));
	if (param_2 < uVar2) {
		piVar1 = (int *)(**(code **)(*(int *)(param_1 + 0x8) + 0x24))
			(param_1 + *(short *)(*(int *)(param_1 + 0x8) + 0x20), param_2);
		*piVar1 = *param_3;
	}
	else {
		if (*(int *)(param_1 + 0x4) != 0x0) {
			local_30[0] = *param_3;
			FUN_002636f0(*(int *)(param_1 + 0x4), (int)param_2 - (int)uVar2, local_30);
		}
	}
	return;
}



undefined8 FUN_00261fd0(undefined8 param_1, int param_2, ulong param_3)

{
	int *piVar1;
	ulong uVar2;

	uVar2 = (**(code **)(*(int *)(param_2 + 0x8) + 0x4c))
		(param_2 + *(short *)(*(int *)(param_2 + 0x8) + 0x48));
	if (param_3 < uVar2) {
		piVar1 = (int *)(**(code **)(*(int *)(param_2 + 0x8) + 0xc))
			(param_2 + *(short *)(*(int *)(param_2 + 0x8) + 0x8), param_3);
		*(int *)param_1 = *piVar1;
	}
	else {
		if (*(int *)(param_2 + 0x4) == 0x0) {
			FUN_0011bf10(0.00000000, (int *)param_1, 0x0);
		}
		else {
			FUN_00263788(param_1, *(int *)(param_2 + 0x4), (int)param_3 - (int)uVar2);
		}
	}
	return param_1;
}



void FUN_00262080(undefined4 param_1, int param_2, ulong param_3)

{
	undefined4 *puVar1;
	ulong uVar2;

	uVar2 = (**(code **)(*(int *)(param_2 + 0x8) + 0x54))
		(param_2 + *(short *)(*(int *)(param_2 + 0x8) + 0x50));
	if (param_3 < uVar2) {
		puVar1 = (undefined4 *)
			(**(code **)(*(int *)(param_2 + 0x8) + 0x2c))
			(param_2 + *(short *)(*(int *)(param_2 + 0x8) + 0x28));
		*puVar1 = param_1;
	}
	else {
		if (*(int *)(param_2 + 0x4) != 0x0) {
			FUN_00263718(param_1, *(int *)(param_2 + 0x4), (int)param_3 - (int)uVar2);
		}
	}
	return;
}



ulong FUN_00262110(int param_1, ulong param_2)

{
	int iVar1;
	ulong uVar2;
	ulong uVar3;

	uVar2 = (**(code **)(*(int *)(param_1 + 0x8) + 0x54))
		(param_1 + *(short *)(*(int *)(param_1 + 0x8) + 0x50));
	uVar3 = (ulong)(param_2 < uVar2);
	if (param_2 < uVar2) {
		uVar3 = (**(code **)(*(int *)(param_1 + 0x8) + 0x14))
			(param_1 + *(short *)(*(int *)(param_1 + 0x8) + 0x10));
	}
	else {
		if (*(int *)(param_1 + 0x4) != 0x0) {
			iVar1 = FUN_002637d0(*(int *)(param_1 + 0x4), (int)param_2 - (int)uVar2);
			uVar3 = SEXT48(iVar1);
		}
	}
	return uVar3;
}



void FUN_002621a0(int param_1, ulong param_2, undefined4 param_3)

{
	undefined4 *puVar1;
	ulong uVar2;

	uVar2 = (**(code **)(*(int *)(param_1 + 0x8) + 0x5c))
		(param_1 + *(short *)(*(int *)(param_1 + 0x8) + 0x58));
	if (param_2 < uVar2) {
		puVar1 = (undefined4 *)
			(**(code **)(*(int *)(param_1 + 0x8) + 0x34))
			(param_1 + *(short *)(*(int *)(param_1 + 0x8) + 0x30));
		*puVar1 = param_3;
	}
	else {
		if (*(int *)(param_1 + 0x4) != 0x0) {
			FUN_00263750(*(int *)(param_1 + 0x4), (int)param_2 - (int)uVar2, param_3);
		}
	}
	return;
}



undefined4 FUN_00262230(int *param_1, ulong param_2)

{
	undefined4 *puVar1;
	undefined4 uVar2;
	ulong uVar3;

	uVar3 = (**(code **)(param_1[0x2] + 0x5c))((int)param_1 + (int)*(short *)(param_1[0x2] + 0x58));
	if (param_2 < uVar3) {
		puVar1 = (undefined4 *)
			(**(code **)(param_1[0x2] + 0x1c))((int)param_1 + (int)*(short *)(param_1[0x2] + 0x18))
			;
		uVar2 = *puVar1;
	}
	else {
		uVar2 = 0x0;
		if ((byte *)param_1[0x1] != (byte *)0x0) {
			uVar2 = FUN_00263808((byte *)param_1[0x1], (int)param_2 - (int)uVar3);
		}
	}
	return uVar2;
}



InstanceContructor *
FUN_002622b8(InstanceContructor *param_1, GameInstance *gameInst, GameResources *param_3,
	ChunkNode *ChunkNode)

{
	ResourceTable *objTable;
	GameObject *gameObj;
	short local_40;
	short local_30;

	param_1->ChunkNode = ChunkNode;
	param_1->instancePtr = gameInst;
	MoveShortFromS2toS1(&local_40, &gameInst->objId);
	objTable = param_3->objectTable;
	MoveShortFromS2toS1(&local_30, &local_40);
	if (local_30 == -0x1) {
		gameObj = (GameObject *)0x0;
	}
	else {
		gameObj = (GameObject *)objTable->resourceTable[(uint)(ushort)local_30 & 0x7fff];
	}
	param_1->gameObject = gameObj;
	return param_1;
}



void FUN_00262340(ulong param_1, ulong param_2)

{
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00262380(void)

{
	return;
}



undefined4 FUN_00262388(void)

{
	return 0x1;
}



void FUN_00262390(void)

{
	return;
}



void FUN_00262398(void)

{
	return;
}



undefined4 FUN_002623a0(void)

{
	return 0x1;
}



undefined8 FUN_002623a8(void)

{
	return 0x0;
}



void FUN_002623b0(void)

{
	return;
}



void FUN_002623b8(void)

{
	return;
}



void FUN_002623c0(void)

{
	return;
}



void FUN_002623c8(void)

{
	return;
}



void FUN_002623d0(void)

{
	return;
}



undefined4 FUN_002623f8(void)

{
	return 0x1;
}



GameNode * FUN_00262400(astruct_15 *this_, undefined8 param_2, GameInstance *gameInst)

{
	ResourceTable *objTable;
	GameNode *pGVar1;
	GameObject *gameObj;
	short asStack48[0x8];
	ushort local_20[0x8];

	MoveShortFromS2toS1(asStack48, &gameInst->objId);
	objTable = this_->gameResources->objectTable;
	MoveShortFromS2toS1((short *)local_20, asStack48);
	if (local_20[0] == 0xffff) {
		gameObj = (GameObject *)0x0;
	}
	else {
		gameObj = (GameObject *)objTable->resourceTable[(uint)local_20[0] & 0x7fff];
	}
	if (gameObj == (GameObject *)0x0) {
		pGVar1 = (GameNode *)0x0;
	}
	else {
		pGVar1 = FUN_002598e8(gameObj);
	}
	return pGVar1;
}



void FUN_00262488(undefined8 param_1, int param_2)

{
	void *pvVar1;

	pvVar1 = MemoryAllocate(0x180);
	FUN_0023d598((long)(int)pvVar1, param_2, 0x1);
	return;
}



undefined8 FUN_002624c8(void)

{
	return 0x0;
}



undefined8 FUN_002624d0(astruct_15 *this_, int param_2, ulong *param_3)

{
	void *pvVar1;
	undefined8 uVar2;
	long lVar3;

	lVar3 = 0x0;
	if (*(int **)(param_2 + 0x14) != (int *)0x0) {
		lVar3 = (long)**(int **)(param_2 + 0x14);
	}
	pvVar1 = MemoryAllocate(0x1a0);
	uVar2 = FUN_002081c0((long)(int)pvVar1, lVar3, param_3);
	if ((*param_3 >> 0xc & 0x1) != 0x0) {
		*(ulong *)((int)uVar2 + 0x18) = *(ulong *)((int)uVar2 + 0x18) | 0x100000;
	}
	return uVar2;
}



void FUN_00262550(astruct_15 *this_, int param_2, ulong *param_3)

{
	void *pvVar1;
	long lVar2;

	lVar2 = 0x0;
	if (*(int **)(param_2 + 0x14) != (int *)0x0) {
		lVar2 = (long)**(int **)(param_2 + 0x14);
	}
	pvVar1 = MemoryAllocate(0x180);
	FUN_0027e3e8((long)(int)pvVar1, lVar2, param_3);
	return;
}



// sets some flags at astruct_14?

int FUN_002625a0(astruct_15 *this_, GeneralChunkStruct *generalLevelStructPtr,
	GameObject *gameObjectPtr, GameInstance *instPtr, ChunkNode *ChunkNode)

{
	InstanceProperties *instProps;
	ulong uVar1;
	uint uVar2;

	instProps = instPtr->properties;
	uVar2 = ChunkNode->unkBitField | 0x200;
	ChunkNode->unkBitField = uVar2;
	uVar2 |= this_->field_0x0;
	ChunkNode->unkBitField = uVar2;
	ChunkNode->unkBitField = uVar2 & ~this_->field_0x4;
	if ((this_->field_0x8 & 0x1) == 0x0) {
		uVar1 = SEXT48(instProps->unkInt2);
	}
	else {
		if (*(int *)&ChunkNode->field_0x154 == -0x1) {
			FUN_00199ca0(DAT_00309b8c, ChunkNode);
			uVar1 = SEXT48(instProps->unkInt2);
		}
		else {
			uVar1 = SEXT48(instProps->unkInt2);
		}
	}
	// Check the 5th bit of the header
	if ((uVar1 >> 0x4 & 0x1) != 0x0) {
		ChunkNode->unkBitField = ChunkNode->unkBitField | 0x4000;
	}
	return 0x0;
}

*/

astruct_15 * FUN_00262648(astruct_15 *param_1, GameResources *resources) {
	String **ppSVar1;

	param_1->field_0x0 = 0x0;
	param_1->field_0x4 = 0x0;
	param_1->methods = DAT(0x00303468);
	SetUndefinedID_((short *)&param_1->field_0xc);
	param_1->gameResources = resources;
	param_1->field_0x20 = 0xa;
	param_1->field_0x1c = 0xa;
	param_1->field_0x18 = 0x0;
	ppSVar1 = (String **)MemoryAllocate2(0x28);
	param_1->stringArrayOfSize_0xA = ppSVar1;
	param_1->field_0x8 = 0x1fe0;
	FUN_00262830(param_1);
	return param_1;
}

/*

void FUN_002626c8(astruct_15 *this_, ulong param_2)

{
	this_->methods = DAT(0x00303468);
	if (this_->stringArrayOfSize_0xA != (String **)0x0) {
		MemoryDeallocate_(this_->stringArrayOfSize_0xA);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(this_);
	}
	return;
}



void FUN_00262728(astruct_15 *this_, GeneralChunkStruct *param_2, int param_3)

{
	uint *puVar1;
	long lVar2;
	uint uVar3;

	uVar3 = this_->field_0x8 >> 0x5 & 0xff;
	if (uVar3 != 0xff) {
		lVar2 = (**(code **)(*(int *)(param_3 + 0x8) + 0x5c))
			(param_3 + *(short *)(*(int *)(param_3 + 0x8) + 0x58), param_2);
		if (lVar2 == 0x0) {
			if (*(int *)(param_3 + 0x4) != 0x0) {
				FUN_00263750(*(int *)(param_3 + 0x4), -(int)lVar2, uVar3);
			}
		}
		else {
			puVar1 = (uint *)(**(code **)(*(int *)(param_3 + 0x8) + 0x34))
				(param_3 + *(short *)(*(int *)(param_3 + 0x8) + 0x30));
			*puVar1 = uVar3;
		}
	}
	return;
}



void FUN_002627b0(int param_1)

{
	*(uint *)(param_1 + 0x8) = *(uint *)(param_1 + 0x8) | 0x1;
	return;
}



void FUN_002627c0(int *param_1)

{
	param_1[0x2] = param_1[0x2] & 0xfffffffe;
	return;
}



void FUN_002627d8(int *param_1)

{
	param_1[0x2] = param_1[0x2] & 0xfffffffd;
	return;
}



void FUN_002627f0(int *param_1)

{
	param_1[0x2] = param_1[0x2] | 0x4;
	return;
}



void FUN_00262808(int *param_1)

{
	param_1[0x2] = param_1[0x2] | 0x8;
	return;
}



void FUN_00262818(int param_1)

{
	*(uint *)(param_1 + 0x8) = *(uint *)(param_1 + 0x8) & 0xfffffff7;
	return;
}

*/

void FUN_00262830(astruct_15 *param_1)

{
	param_1->field_0x8 = param_1->field_0x8 | 0x10;
	return;
}

/*

void FUN_00262840(int param_1)

{
	*(uint *)(param_1 + 0x8) = *(uint *)(param_1 + 0x8) & 0xffffffef;
	return;
}



GameInstance * FUN_00262858(GameInstance *param_1)

{
	int *piVar1;
	short *psVar2;

	param_1->field_0x28 = 0xa;
	param_1->field_0x24 = 0xa;
	param_1->field_0x20 = 0x0;
	piVar1 = (int *)MemoryAllocate2(0x14);
	param_1->field_0x1c = piVar1;
	*(undefined4 *)&param_1->field_0x38 = 0xa;
	*(undefined4 *)&param_1->field_0x34 = 0xa;
	param_1->field_0x30 = 0x0;
	psVar2 = (short *)MemoryAllocate2(0x14);
	param_1->positionsArray = psVar2;
	param_1->field_0x48 = 0xa;
	param_1->field_0x44 = 0xa;
	param_1->field_0x40 = 0x0;
	piVar1 = (int *)MemoryAllocate2(0x14);
	param_1->properties = (InstanceProperties *)0x0;
	param_1->field_0x3c = piVar1;
	SetUndefinedID_(&param_1->objId);
	SetUndefinedID_(&param_1->field_0x52);
	SetUndefinedID_(&param_1->field_0x54);
	param_1->propertiesLoadedFlag_ = 0x0;
	return param_1;
}



GameInstance * InitInstance(GameInstance *instancePtr, BinaryReader *binReader_)

{
	int *piVar1;
	short *psVar2;

	instancePtr->field_0x28 = 0xa;
	instancePtr->field_0x24 = 0xa;
	instancePtr->field_0x20 = 0x0;
	piVar1 = (int *)MemoryAllocate2(0x14);
	instancePtr->field_0x1c = piVar1;
	*(undefined4 *)&instancePtr->field_0x38 = 0xa;
	*(undefined4 *)&instancePtr->field_0x34 = 0xa;
	instancePtr->field_0x30 = 0x0;
	psVar2 = (short *)MemoryAllocate2(0x14);
	instancePtr->positionsArray = psVar2;
	instancePtr->field_0x48 = 0xa;
	instancePtr->field_0x44 = 0xa;
	instancePtr->field_0x40 = 0x0;
	piVar1 = (int *)MemoryAllocate2(0x14);
	instancePtr->properties = (InstanceProperties *)0x0;
	instancePtr->field_0x3c = piVar1;
	SetUndefinedID_(&instancePtr->objId);
	SetUndefinedID_(&instancePtr->field_0x52);
	SetUndefinedID_(&instancePtr->field_0x54);
	instancePtr->propertiesLoadedFlag_ = 0x0;
	LoadInstance(instancePtr, binReader_);
	return instancePtr;
}



void FUN_002629c0(GameInstance *param_1, InstanceProperties *param_2)

{
	InstanceProperties *pIVar1;

	if (param_1->propertiesLoadedFlag_ != 0x0) {
		pIVar1 = param_1->properties;
		if (pIVar1 != (InstanceProperties *)0x0) {
			(**(code **)(pIVar1->methods + 0xc))
				((int)&pIVar1->unkInt1 + (int)*(short *)(pIVar1->methods + 0x8), 0x3);
		}
	}
	param_1->properties = param_2;
	param_1->propertiesLoadedFlag_ = 0x0;
	return;
}



void FUN_00262a20(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303430;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00262a50(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303430;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00262a80(int param_1)

{
	*(undefined4 *)(param_1 + 0x8) = 0x0;
	return;
}



undefined4 FUN_00262a88(int param_1)

{
	undefined4 uVar1;

	uVar1 = 0x0;
	if (((int)*(uint *)(param_1 + 0x8) < 0x0) ||
		(*(uint *)(*(int *)(param_1 + 0x4) + 0x4) <= *(uint *)(param_1 + 0x8))) {
		uVar1 = 0x1;
	}
	return uVar1;
}



int FUN_00262ac8(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x2;
}



undefined8 FUN_00262ae0(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	puVar1[0x1] = 0x0;
	puVar1[0x2] = 0x0;
	puVar1[0x3] = 0x0;
	puVar1[0x4] = 0x0;
	puVar1[0x5] = 0x0;
	puVar1[0x6] = 0x0;
	puVar1[0x7] = 0x0;
	*puVar1 = 0x0;
	return param_1;
}



void FUN_00262b08(ulong param_1, ulong param_2)

{
	int *piVar1;
	ulong param_1_00;
	int *address;

	address = (int *)param_1;
	param_1_00 = SEXT48(*address);
	if ((0x10 < param_1_00) && (param_1_00 != 0x0)) {
		FUN_00262b08(param_1_00, 0x3);
	}
	if ((address != (int *)0xfffffffc) && (address + 0x1 != address + 0x9)) {
		piVar1 = (int *)((int)address + 0x22);
		while (address + 0x1 != piVar1) {
			piVar1 = (int *)((int)piVar1 + -0x2);
		}
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



void FUN_00262b98(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x3033a8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00262bc8(undefined *this_, ulong param_2)

{
	*(undefined4 *)this_ = 0x3033a8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(this_);
	}
	return;
}



void FUN_00262bf8(int param_1)

{
	if (**(int **)(param_1 + 0x4) != 0x0) {
		*(int **)(param_1 + 0x8) = *(int **)(param_1 + 0x4);
		*(undefined4 *)(param_1 + 0xc) = 0x0;
		return;
	}
	*(undefined4 *)(param_1 + 0xc) = 0x0;
	*(undefined4 *)(param_1 + 0x8) = 0x0;
	return;
}



ulong FUN_00262c20(int param_1)

{
	return (ulong)(*(int *)(param_1 + 0x8) == 0x0);
}



void FUN_00262c30(int param_1)

{
	uint uVar1;
	uint uVar2;

	uVar2 = *(int *)(param_1 + 0xc) + 0x1;
	*(uint *)(param_1 + 0xc) = uVar2;
	uVar1 = **(uint **)(param_1 + 0x8);
	if (uVar1 < 0x11) {
		if (uVar1 <= uVar2) {
			*(undefined4 *)(param_1 + 0xc) = 0x0;
			*(undefined4 *)(param_1 + 0x8) = 0x0;
		}
	}
	else {
		if (0xf < uVar2) {
			*(uint *)(param_1 + 0x8) = uVar1;
			*(undefined4 *)(param_1 + 0xc) = 0x0;
			return;
		}
	}
	return;
}



int * GetNextObjectElemIdAddress(ObjectElements *elemStruct)

{
	return (int *)(elemStruct[0x2].elemAmount + elemStruct[0x3].elemAmount * 0x2 + 0x4);
}



void FUN_00262c98(int **param_1, int *param_2)

{
	int *piVar1;
	int *piVar2;
	int *address;
	ulong uVar3;
	int *piVar4;
	int iVar5;
	uint uVar6;
	short asStack144[0x8];
	short local_80[0x8];
	short asStack112[0x8];
	uint local_60[0x4];

	address = *param_1;
	if (DAT(0x00000010) < address) {
		if (address == (int *)0x0) {
			*param_1 = (int *)0x0;
			goto LAB_00262d44;
		}
		uVar3 = SEXT48(*address);
		if ((0x10 < uVar3) && (uVar3 != 0x0)) {
			FUN_00262b08(uVar3, 0x3);
		}
		if (address != (int *)0xfffffffc) {
			piVar4 = (int *)((int)address + 0x22);
			piVar2 = address + 0x9;
			while (piVar1 = piVar4, address + 0x1 != piVar2) {
				piVar4 = (int *)((int)piVar1 + -0x2);
				piVar2 = piVar1;
			}
		}
		MemoryDeallocate2_(address);
	}
	*param_1 = (int *)0x0;
LAB_00262d44:
	uVar6 = 0x0;
	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), local_60);
	if (local_60[0] != 0x0) {
		do {
			FUN_00263ab0((long)(int)asStack144, param_2);
			MoveShortFromS2toS1(local_80, asStack144);
			address = *param_1;
			if (address < (int *)0x10) {
				*param_1 = (int *)((int)address + 0x1);
				*(short *)((int)param_1 + (int)address * 0x2 + 0x4) = local_80[0];
			}
			else {
				if (address == (int *)DAT(0x00000010)) {
					iVar5 = 0xf;
					address = (int *)MemoryAllocate(0x24);
					piVar4 = address + 0x1;
					do {
						iVar5 += -0x1;
						SetUndefinedID_((short *)piVar4);
						piVar4 = (int *)((int)piVar4 + 0x2);
					} while (iVar5 != -0x1);
					*param_1 = address;
					*address = 0x0;
				}
				MoveShortFromS2toS1(asStack112, local_80);
				FUN_00263b40((int **)*param_1, asStack112);
			}
			uVar6 += 0x1;
		} while (uVar6 < local_60[0]);
	}
	return;
}



undefined8 FUN_00262e60(undefined8 param_1, long param_2, long param_3, long param_4)

{
	bool bVar1;
	void *pvVar2;
	int iVar3;
	undefined4 *puVar4;

	puVar4 = (undefined4 *)param_1;
	puVar4[0x8] = 0x303610;
	puVar4[0x1] = 0x0;
	iVar3 = (int)param_2;
	puVar4[0x3] = iVar3;
	if (param_2 == 0x0) {
		pvVar2 = (void *)0x0;
	}
	else {
		pvVar2 = MemoryAllocate2((long)(iVar3 << 0x2));
		if (param_2 != 0x0) {
			iVar3 += -0x2;
			do {
				bVar1 = iVar3 != -0x1;
				iVar3 += -0x1;
			} while (bVar1);
			*(void **)(puVar4 + 0x2) = pvVar2;
			goto LAB_00262f00;
		}
	}
	*(void **)(puVar4 + 0x2) = pvVar2;
LAB_00262f00:
	puVar4[0x5] = (int)param_3;
	if (param_3 == 0x0) {
		*(void **)(puVar4 + 0x4) = (void *)0x0;
	}
	else {
		pvVar2 = MemoryAllocate2((long)((int)param_3 << 0x2));
		*(void **)(puVar4 + 0x4) = pvVar2;
	}
	puVar4[0x7] = (int)param_4;
	if (param_4 == 0x0) {
		*(void **)(puVar4 + 0x6) = (void *)0x0;
	}
	else {
		pvVar2 = MemoryAllocate2((long)((int)param_4 << 0x2));
		*(void **)(puVar4 + 0x6) = pvVar2;
	}
	*puVar4 = 0x0;
	*(char *)puVar4 = (char)param_2;
	*(undefined *)((int)puVar4 + 0x1) = (char)param_3;
	*(undefined *)((int)puVar4 + 0x2) = (char)param_4;
	return param_1;
}



InstanceProperties * InitInstanceProperties(InstanceProperties *instProps, BinaryReader *param_2)

{
	instProps->methods = DAT(0x00303610);
	instProps->flagsAmt = 0x0;
	instProps->flagsList = (int *)0x0;
	instProps->floatPropsAmt = 0x0;
	instProps->floatPropsList = (int *)0x0;
	instProps->integerPropsAmt = 0x0;
	instProps->integerPropsList = (int *)0x0;
	LoadPropertyLists(instProps, param_2);
	return instProps;
}



void FreeInstancePropsList_(InstanceProperties *instProps, ulong freeAllPropsFlag)

{
	int *address;

	instProps->methods = DAT(0x00303610);
	if (instProps->integerPropsList != (int *)0x0) {
		MemoryDeallocate_(instProps->integerPropsList);
	}
	if (instProps->floatPropsList == (int *)0x0) {
		address = instProps->flagsList;
	}
	else {
		MemoryDeallocate_(instProps->floatPropsList);
		address = instProps->flagsList;
	}
	if (address != (int *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((freeAllPropsFlag & 0x1) != 0x0) {
		MemoryDeallocate2_(instProps);
	}
	return;
}



void FUN_00263058(int param_1, int param_2, undefined4 *param_3)

{
	*(undefined4 *)(*(int *)(param_1 + 0x8) + param_2 * 0x4) = *param_3;
	return;
}



void FUN_00263080(undefined4 param_1, int param_2, int param_3)

{
	*(undefined4 *)(*(int *)(param_2 + 0x10) + param_3 * 0x4) = param_1;
	return;
}



void FUN_00263098(int param_1, int param_2, undefined4 param_3)

{
	*(undefined4 *)(*(int *)(param_1 + 0x18) + param_2 * 0x4) = param_3;
	return;
}



uint GetFlagPropAtIndex(uint param_1, InstanceProperties *param_2, int index)

{
	*(int *)param_1 = param_2->flagsList[index];
	return param_1;
}



float * GetFloatPropAtIndex(InstanceProperties *param_1, int propIndex)

{
	return (float *)(param_1->floatPropsList + propIndex);
}



int GetIntegerPropAtIndex(InstanceProperties *instProps, int index)

{
	return instProps->integerPropsList[index];
}



void FUN_00263138(undefined *param_1, undefined param_2, undefined4 *param_3)

{
	*param_1 = param_2;
	*(undefined4 *)(param_1 + 0x4) = *param_3;
	return;
}



uint FUN_00263148(float param_1, byte *param_2, ulong param_3, int *param_4)

{
	if (param_3 == (ulong)*param_2) {
		return (uint)((float)(*param_4 - *(int *)(param_2 + 0x4)) * DAT_00309b80 <= param_1);
	}
	return 0x0;
}



uint FUN_00263198(float param_1, int param_2, int *param_3)

{
	return (uint)((float)(*param_3 - *(int *)(param_2 + 0x4)) * DAT_00309b80 <= param_1);
}



void FUN_002631d8(astruct_10 *this_)

{
	this_->field_0x8 = 0x0;
	this_->field_0x0 = 0x0;
	this_->field_0x4 = 0x0;
	return;
}



void RETURN_BACK(void)

{
	return;
}



astruct_1 *
FUN_002631f0(astruct_1 *param_1, InstanceContructor *param_2, int param_3, astruct_10 *param_4)

{
	GameObject *gameObjectPtr;
	GameResources *gameResources;
	short objId;
	short objId2;

	*(undefined **)&param_1->methods = DAT(0x003034c0);
	param_1->ChunkNode = param_2->ChunkNode;
	SetUndefinedID_(&param_1->unkShort);
	MoveShortFromS2toS1(&param_1->objectId, &param_2->instancePtr->objId);
	gameObjectPtr = param_2->gameObject;
	*(int *)&param_1->field_0xc = param_3;
	param_1->astr10_Ptr = param_4;
	*(ulong *)&param_1->unkByte1 = *(ulong *)&param_1->unkByte1 & 0xfffffffeffffffff;
	param_1->objectBaseAddress = gameObjectPtr;
	*(undefined2 *)&param_1->field_0x16 = 0xffff;
	*(undefined2 *)&param_1->field_0x14 = 0xffff;
	FUN_0011c1e8(&param_1->unkPos);
	gameResources = GameResourcesObjectPointer;
	FUN_00263410(param_1);
	MoveShortFromS2toS1(&objId, &param_1->objectId);
	gameObjectPtr = param_1->objectBaseAddress;
	MoveShortFromS2toS1(&objId2, &objId);
	LoadObjectResources(gameObjectPtr->resources, &objId2, gameResources);
	return param_1;
}



void FUN_002632f0(astruct_1 *this_, ulong param_2)

{
	GameObject *gameObj;
	GameResources *gameResources;
	short asStack80[0x8];
	short objId[0x8];

	gameResources = GameResourcesObjectPointer;
	*(undefined **)&this_->methods = DAT(0x003034c0);
	MoveShortFromS2toS1(asStack80, &this_->objectId);
	gameObj = this_->objectBaseAddress;
	MoveShortFromS2toS1(objId, asStack80);
	FUN_00260310(gameObj->resources, objId, gameResources);
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(this_);
	}
	return;
}



void FUN_00263390(astruct_1 *astr1_Ptr, GameResources *resourceLayout)

{
	(**(code **)((int)astr1_Ptr->methods + 0xc))
		((int)&astr1_Ptr->ChunkNode + (int)*(short *)((int)astr1_Ptr->methods + 0x8), 0x0);
	// OGI loader? Hell if I know
	FUN_00261610(astr1_Ptr, resourceLayout);
	FUN_002634c8(astr1_Ptr);
	FUN_00263410(astr1_Ptr);
	*(ulong *)&astr1_Ptr->unkByte1 = *(ulong *)&astr1_Ptr->unkByte1 & 0xfffffffeffffffff;
	return;
}



void FUN_00263410(astruct_1 *param_1)

{
	param_1->unkByte4 = 0x0;
	param_1->unkByte1 = 0x0;
	param_1->unkByte2 = 0x0;
	param_1->unkByte3 = 0x0;
	return;
}



int * FUN_00263428(int **param_1, int param_2, undefined8 param_3, undefined8 param_4)

{
	int *piVar1;

	(*(code *)param_1[0x10][0x3])((int)param_1 + (int)*(short *)(param_1[0x10] + 0x2), param_4);
	*(ulong *)(param_1 + 0x6) = *(ulong *)(param_1 + 0x6) & 0xfffffffeffffffff;
	param_1[0xc] = (int *)0x0;
	*(undefined *)(param_1 + 0xd) = 0x0;
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x8), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	FUN_00261610((astruct_1 *)param_1, (GameResources *)param_2);
	piVar1 = (int *)FUN_002634c8((astruct_1 *)param_1);
	*(undefined *)((int)param_1 + 0x1b) = 0x0;
	*(undefined *)(param_1 + 0x6) = 0x0;
	*(undefined *)((int)param_1 + 0x19) = 0x0;
	*(undefined *)((int)param_1 + 0x1a) = 0x0;
	return piVar1;
}



int FUN_002634c8(astruct_1 *astr1_Ptr)

{
	GameObject *objBaseAddress;
	short local_20;

	objBaseAddress = astr1_Ptr->objectBaseAddress;
	if (objBaseAddress != (GameObject *)0x0) {
		if (astr1_Ptr->unkShort == -0x1) {
			objBaseAddress = (GameObject *)FUN_002616c0(astr1_Ptr, 0x0, (ChunkNode *)0x0, 0x1, 0x0);
		}
		else {
			MoveShortFromS2toS1(&local_20, &astr1_Ptr->unkShort);
			objBaseAddress = (GameObject *)FUN_00261488(astr1_Ptr, &local_20, 0x0, 0x1, 0x0);
		}
	}
	return (int)objBaseAddress;
}



undefined4 FUN_00263550(int *param_1, long param_2, long param_3)

{
	UnkNode_index_0x6 *pUVar1;
	undefined4 uVar2;

	pUVar1 = FUN_001975b0((ChunkNode *)*param_1);
	uVar2 = FUN_00196258((int)pUVar1, (ChunkNode *)param_2, param_3);
	return uVar2;
}



undefined4 FUN_00263598(int *param_1, long param_2, ulong param_3, ulong param_4, long param_5)

{
	UnkNode_index_0x6 *pUVar1;
	undefined4 uVar2;

	pUVar1 = FUN_001975b0((ChunkNode *)*param_1);
	if ((param_4 & 0xff) == 0xff) {
		uVar2 = FUN_001969b0((int)pUVar1, *param_1, param_2, param_3, param_5);
	}
	else {
		uVar2 = FUN_00196408((int)pUVar1, *param_1, param_2, param_4 & 0xff, param_3, param_5, 0x0);
	}
	return uVar2;
}



void FUN_00263630(astruct_1 *this_, Vector4 *param_2)

{
	ChunkNode *pCVar1;
	float fVar2;
	float fVar3;
	float fVar4;

	pCVar1 = this_->ChunkNode;
	fVar2 = (pCVar1->chunkNodeRelData_).unkBbox.bboxMax.y;
	fVar3 = (pCVar1->chunkNodeRelData_).unkBbox.bboxMax.z;
	fVar4 = (pCVar1->chunkNodeRelData_).unkBbox.bboxMax.w;
	param_2->x = (pCVar1->chunkNodeRelData_).unkBbox.bboxMax.x;
	param_2->y = fVar2;
	param_2->z = fVar3;
	param_2->w = fVar4;
	fVar2 = param_2->x - (pCVar1->chunkNodeRelData_).unkBbox.bboxMin.x;
	param_2->x = fVar2;
	fVar2 = fVar2 * 0.50000000;
	fVar4 = param_2->y - (pCVar1->chunkNodeRelData_).unkBbox.bboxMin.y;
	param_2->y = fVar4;
	fVar4 = fVar4 * 0.50000000;
	fVar3 = (pCVar1->chunkNodeRelData_).unkBbox.bboxMin.z;
	param_2->x = fVar2;
	param_2->y = fVar4;
	fVar3 = (param_2->z - fVar3) * 0.50000000;
	param_2->z = fVar3;
	param_2->x = fVar2 + (pCVar1->chunkNodeRelData_).unkBbox.bboxMin.x;
	param_2->y = fVar4 + (pCVar1->chunkNodeRelData_).unkBbox.bboxMin.y;
	param_2->z = fVar3 + (pCVar1->chunkNodeRelData_).unkBbox.bboxMin.z;
	return;
}



void FUN_002636c8(ulong param_1, ulong param_2)

{
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_002636f0(int param_1, int param_2, int *param_3)

{
	*(float *)(param_2 * 0x4 + param_1 + 0x4) = (float)*param_3 * 0.00009587;
	return;
}



void FUN_00263718(undefined4 param_1, int param_2, int param_3)

{
	byte *pbVar1;
	int iVar2;
	int iVar3;

	iVar3 = 0x0;
	iVar2 = 0x0;
	do {
		pbVar1 = (byte *)(param_2 + iVar2);
		iVar2 += 0x1;
		iVar3 += (uint)*pbVar1;
	} while (iVar2 < 0x1);
	*(undefined4 *)((iVar3 + param_3) * 0x4 + param_2 + 0x4) = param_1;
	return;
}



void FUN_00263750(int param_1, int param_2, undefined4 param_3)

{
	byte *pbVar1;
	int iVar2;
	int iVar3;

	iVar3 = 0x0;
	iVar2 = 0x0;
	do {
		pbVar1 = (byte *)(param_1 + iVar2);
		iVar2 += 0x1;
		iVar3 += (uint)*pbVar1;
	} while (iVar2 < 0x2);
	*(undefined4 *)((iVar3 + param_2) * 0x4 + param_1 + 0x4) = param_3;
	return;
}



undefined8 FUN_00263788(undefined8 param_1, int param_2, int param_3)

{
	int local_20[0x4];

	FUN_0011bf10(*(float *)(param_3 * 0x4 + param_2 + 0x4), local_20, 0x0);
	*(int *)param_1 = local_20[0];
	return param_1;
}



int FUN_002637d0(int param_1, int param_2)

{
	byte *pbVar1;
	int iVar2;
	int iVar3;

	iVar3 = 0x0;
	iVar2 = 0x0;
	do {
		pbVar1 = (byte *)(param_1 + iVar2);
		iVar2 += 0x1;
		iVar3 += (uint)*pbVar1;
	} while (iVar2 < 0x1);
	return (iVar3 + param_2) * 0x4 + param_1;
}



undefined4 FUN_00263808(byte *param_1, int param_2)

{
	byte *pbVar1;
	int counter;
	int iVar2;

	iVar2 = 0x0;
	counter = 0x0;
	do {
		pbVar1 = param_1 + counter;
		counter += 0x1;
		iVar2 += (uint)*pbVar1;
	} while (counter < 0x2);
	return *(undefined4 *)(param_1 + (iVar2 + param_2) * 0x4 + 0x4);
}



GameCodeModel * FUN_00263840(GameCodeModel *param_1)

{
	*(undefined2 *)&param_1->field_0x0 = 0x0;
	*(undefined4 *)&param_1->field_0x8 = 0x0;
	param_1->field_0x0 = param_1->field_0x0 & 0xfffcffff;
	param_1->id = -0x1;
	*(undefined *)&param_1->field_0x9 = 0xff;
	param_1->field_0xc = 0x0;
	param_1->field_0x10 = 0x0;
	param_1->field_0x14 = 0x0;
	*(undefined *)&param_1->field_0x8 = 0xff;
	return param_1;
}



void FUN_00263898(ulong param_1, ulong param_2)

{
	int iVar1;
	int iVar2;
	void *address;

	address = (void *)param_1;
	iVar1 = *(int *)((int)address + 0xc);
	if (iVar1 != 0x0) {
		iVar2 = iVar1 + *(int *)(iVar1 + -0x10) * 0x8;
		if (iVar1 == iVar2) {
			iVar1 = *(int *)((int)address + 0xc);
		}
		else {
			do {
				iVar2 += -0x8;
				FUN_00251910((long)iVar2, 0x0);
			} while ((long)*(int *)((int)address + 0xc) != (long)iVar2);
			iVar1 = *(int *)((int)address + 0xc);
		}
		MemoryDeallocate_((void *)(iVar1 + -0x10));
	}
	if (*(void **)((int)address + 0x14) == (void *)0x0) {
		iVar1 = *(int *)((int)address + 0x10);
	}
	else {
		MemoryDeallocate_(*(void **)((int)address + 0x14));
		iVar1 = *(int *)((int)address + 0x10);
	}
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x8) + 0xc))(iVar1 + *(short *)(*(int *)(iVar1 + 0x8) + 0x8), 0x3);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



void FUN_00263978(int **param_1, int *param_2)

{
	GetScriptName((String *)param_1, (BinaryReader *)param_2);
	(**(code **)(*param_2 + 0x7c))((int)param_2 + (int)*(short *)(*param_2 + 0x78), (int)param_1 + 0xe)
		;
	(**(code **)(*param_2 + 0x74))((int)param_2 + (int)*(short *)(*param_2 + 0x70), param_1 + 0x4);
	(**(code **)(*param_2 + 0x74))
		((int)param_2 + (int)*(short *)(*param_2 + 0x70), (int)param_1 + 0x11);
	FUN_00263c18(param_1 + 0x5, param_2);
	(**(code **)(*param_2 + 0x74))((int)param_2 + (int)*(short *)(*param_2 + 0x70), param_1 + 0x3);
	(**(code **)(*param_2 + 0x74))((int)param_2 + (int)*(short *)(*param_2 + 0x70), (int)param_1 + 0xd)
		;
	LoadPropertyLists((InstanceProperties *)(param_1 + 0x9), (BinaryReader *)param_2);
	return;
}



void FUN_00263a38(undefined8 param_1, int *param_2)

{
	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1);
	return;
}



void FUN_00263ab0(undefined8 param_1, int *param_2)

{
	(**(code **)(*param_2 + 0x7c))((int)param_2 + (int)*(short *)(*param_2 + 0x78), param_1);
	return;
}



void FUN_00263ae0(ulong param_1, ulong param_2)

{
	String *address;

	address = (String *)param_1;
	address[0x2].stringLength = 0x303648;
	StringDelete(address);
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



void FUN_00263b40(int **param_1, undefined2 *param_2)

{
	int *piVar1;
	int *piVar2;
	int iVar3;
	short asStack80[0x8];

	piVar1 = *param_1;
	if (piVar1 < DAT(0x00000010)) {
		*param_1 = (int *)((int)piVar1 + 0x1);
		*(undefined2 *)((int)param_1 + (int)piVar1 * 0x2 + 0x4) = *param_2;
	}
	else {
		if (piVar1 == (int *)DAT(0x00000010)) {
			iVar3 = 0xf;
			piVar1 = (int *)MemoryAllocate(0x24);
			piVar2 = piVar1 + 0x1;
			do {
				iVar3 += -0x1;
				SetUndefinedID_((short *)piVar2);
				piVar2 = (int *)((int)piVar2 + 0x2);
			} while (iVar3 != -0x1);
			*param_1 = piVar1;
			*piVar1 = 0x0;
		}
		MoveShortFromS2toS1(asStack80, param_2);
		FUN_00263b40((int **)*param_1, asStack80);
	}
	return;
}



void FUN_00263c18(int **param_1, int *param_2)

{
	int *piVar1;
	int **ppiVar2;
	int iVar3;
	int *piVar4;
	int **ppiVar5;
	int iVar6;

	piVar1 = *param_1;
	if (piVar1 != (int *)0x0) {
		piVar4 = (int *)((int)piVar1 + piVar1[-0x4] * 0x2);
		while (piVar1 != piVar4) {
			piVar4 = (int *)((int)piVar4 + -0x2);
		}
		MemoryDeallocate_(piVar1 + -0x4);
	}
	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1 + 0x1);
	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1 + 0x2);
	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1 + 0x3);
	piVar1 = param_1[0x1];
	ppiVar2 = (int **)0x0;
	if (piVar1 != (int *)0x0) {
		piVar1 = param_1[0x2];
		iVar6 = (int)piVar1 + -0x1;
		ppiVar5 = (int **)MemoryAllocate2((long)((int)piVar1 * 0x2 + 0x10));
		ppiVar2 = ppiVar5 + 0x4;
		*ppiVar5 = piVar1;
		ppiVar5 = ppiVar2;
		if (piVar1 != (int *)0x0) {
			do {
				iVar6 += -0x1;
				SetUndefinedID_((short *)ppiVar5);
				ppiVar5 = (int **)((int)ppiVar5 + 0x2);
			} while (iVar6 != -0x1);
		}
		piVar1 = param_1[0x1];
	}
	piVar4 = (int *)0x0;
	*(int ***)param_1 = ppiVar2;
	if (piVar1 != (int *)0x0) {
		iVar6 = *param_2;
		while (true) {
			iVar3 = (int)piVar4 * 0x2;
			piVar4 = (int *)((int)piVar4 + 0x1);
			(**(code **)(iVar6 + 0x7c))
				((int)param_2 + (int)*(short *)(iVar6 + 0x78), (int *)(iVar3 + (int)*param_1));
			if (param_1[0x1] <= piVar4) break;
			iVar6 = *param_2;
		}
	}
	return;
}



void FUN_00263d88(void)

{
	FUN_00261c70(0x1, 0xffff);
	return;
}



void FUN_00263da8(int param_1)

{
	void **address;
	bool bVar1;
	int *piVar2;
	undefined *local_30;
	int local_2c;
	uint local_28;

	local_2c = *(int *)(param_1 + 0x2c);
	if (local_2c != 0x0) {
		local_28 = 0x0;
		local_30 = DAT(0x00304130);
		while (true) {
			if (((int)local_28 < 0x0) || (bVar1 = false, *(uint *)(local_2c + 0x4) <= local_28)) {
				bVar1 = true;
			}
			if (bVar1) break;
			piVar2 = (int *)(**(code **)(local_30 + 0x24))
				((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			if ((long)*piVar2 != 0x0) {
				FUN_0023c738((long)*piVar2, 0x3);
			}
			local_28 += 0x1;
		}
		address = *(void ***)(param_1 + 0x2c);
		if (address != (void **)0x0) {
			if (*address != (void *)0x0) {
				MemoryDeallocate_(*address);
			}
			MemoryDeallocate2_(address);
		}
		*(undefined4 *)(param_1 + 0x2c) = 0x0;
	}
	return;
}



void FUN_00263e98(int param_1)

{
	int iVar1;
	void **address;
	bool bVar2;
	int *piVar3;
	undefined *local_30;
	int local_2c;
	uint local_28;

	local_2c = *(int *)(param_1 + 0x34);
	if (local_2c != 0x0) {
		local_28 = 0x0;
		local_30 = DAT(0x003040a0);
		while (true) {
			if (((int)local_28 < 0x0) || (bVar2 = false, *(uint *)(local_2c + 0x4) <= local_28)) {
				bVar2 = true;
			}
			if (bVar2) break;
			piVar3 = (int *)(**(code **)(local_30 + 0x24))
				((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			iVar1 = *piVar3;
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x8) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x8) + 0x8), 0x3);
			}
			local_28 += 0x1;
		}
		address = *(void ***)(param_1 + 0x34);
		if (address != (void **)0x0) {
			if (*address != (void *)0x0) {
				MemoryDeallocate_(*address);
			}
			MemoryDeallocate2_(address);
		}
		*(undefined4 *)(param_1 + 0x34) = 0x0;
	}
	return;
}



void FUN_00263fa8(ulong param_1, ulong param_2)

{
	uint uVar1;
	int **address;
	int **ppiVar2;
	int *address_00;
	uint uVar3;
	String *address_01;
	int **ppiVar4;

	address_01 = (String *)param_1;
	FUN_002687e0((int)address_01);
	address_00 = (int *)address_01[0x2].stringLength;
	if (address_00 != (int *)0x0) {
		(**(code **)(*address_00 + 0x2c))((int)address_00 + (int)*(short *)(*address_00 + 0x28), 0x3);
	}
	address_00 = (int *)address_01[0x1].stringMemoryOccupied;
	ppiVar4 = (int **)&address_01[0x1].stringMemoryOccupied;
	if (address_00 == (int *)0x0) goto LAB_002640e4;
	uVar1 = address_00[0x1];
	uVar3 = (uVar1 & 0xffffff) - 0x1 & 0xffffff;
	address_00[0x1] = uVar1 & 0xff000000 | uVar3;
	if (uVar3 == 0x0) {
		if ((uVar1 & 0x1000000) != 0x0) {
			if ((long)*address_00 == 0x0) {
				*address_00 = 0x0;
			}
			else {
				FUN_001ecfc0((long)*address_00, 0x3);
				*address_00 = 0x0;
			}
			goto LAB_00264054;
		}
		uVar1 = address_00[0x1];
	}
	else {
	LAB_00264054:
		uVar1 = address_00[0x1];
	}
	if ((uVar1 & 0xffffff) == 0x0) {
		address = (int **)*ppiVar4;
		ppiVar2 = (int **)*address;
		if (ppiVar2 == (int **)0x0) {
			if (address != (int **)0x0) {
				if (((uint)address[0x1] & 0x1000000) != 0x0) {
					*address = (int *)0x0;
				}
				MemoryDeallocate2_(address);
				*ppiVar4 = (int *)0x0;
				goto LAB_002640e4;
			}
		}
		else {
			address_00 = *ppiVar2;
			if (address_00 != (int *)0x0) {
				if ((address_00[0x1] & 0x1000000U) != 0x0) {
					if ((long)*address_00 == 0x0) {
						*address_00 = 0x0;
					}
					else {
						FUN_001ecfc0((long)*address_00, 0x3);
						*address_00 = 0x0;
					}
				}
				MemoryDeallocate2_(address_00);
				*ppiVar2 = (int *)0x0;
			}
		}
		*ppiVar4 = (int *)0x0;
	}
LAB_002640e4:
	StringDelete(address_01);
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_01);
	}
	return;
}



undefined4 FUN_00264120(int param_1, short param_2)

{
	int iVar1;
	int *piVar2;
	GameNode *pGVar3;
	int *piVar4;
	int *piVar5;
	int *piVar6;
	int local_1060[0x400];
	int *local_60;
	undefined2 local_5c;
	undefined2 local_5a;
	undefined4 local_58;
	uint local_54;
	undefined4 local_50;
	undefined4 local_4c;
	undefined4 local_48;
	undefined4 local_44;
	undefined4 local_40;

	local_60 = local_1060;
	piVar4 = local_1060;
	piVar5 = local_1060;
	if (param_2 != -0x1) {
		piVar2 = *(int **)(param_1 + 0x14);
		iVar1 = 0x0;
		if (piVar2 != (int *)0x0) {
			iVar1 = *piVar2;
		}
		if (iVar1 != 0x0) {
			local_5a = 0x400;
			local_5c = 0x0;
			local_58 = 0x7149f2ca;
			local_4c = 0x1;
			local_50 = 0x0;
			local_48 = 0x0;
			local_54 = local_54 & 0xfffffffe | 0x2;
			local_40 = 0x0;
			local_44 = 0x0;
			if (piVar2 == (int *)0x0) {
				iVar1 = 0x0;
			}
			else {
				iVar1 = *piVar2;
			}
			piVar6 = (int *)0x0;
			piVar2 = FUN_001f1e40(iVar1, 0x2, (int *)&local_60);
			if (piVar2 != (int *)0x0) {
				do {
					pGVar3 = GetGameNode((NodeList *)(*piVar4 + 0xd4), 0x1);
					piVar6 = (int *)((int)piVar6 + 0x1);
					if (param_2 == *(short *)((int)&(pGVar3[0x5].prevNode)->methods + 0x2)) {
						return *piVar5;
					}
					piVar4 = piVar4 + 0x1;
					piVar5 = piVar5 + 0x1;
				} while (piVar6 < piVar2);
			}
		}
	}
	return 0x0;
}



String * FUN_00264248(ushort *param_1, long param_2, long param_3)

{
	ushort uVar1;
	int **ppiVar2;
	int **ppiVar3;
	int *piVar4;
	String *pSVar5;

	pSVar5 = (String *)FUN_00268dd0(param_1, param_2);
	ppiVar3 = (int **)param_3;
	if (pSVar5 == (String *)0x0) {
		pSVar5 = (String *)MemoryAllocate(0x38);
		uVar1 = *param_1;
		CopyToString(pSVar5, (char *)param_2);
		*(ushort *)&pSVar5[0x1].string = uVar1;
		*(ushort **)&pSVar5[0x1].stringLength = param_1;
		if (param_3 == 0x0) {
			pSVar5[0x1].stringMemoryOccupied = 0x0;
		}
		else {
			if (*ppiVar3 == (int *)0x0) {
				ppiVar2 = (int **)MemoryAllocate(0x8);
				piVar4 = ppiVar2[0x1];
				*(int ***)ppiVar3 = ppiVar2;
				*(int ***)ppiVar2 = ppiVar3;
				ppiVar2[0x1] = (int *)((uint)piVar4 & 0xfe000000);
				piVar4 = *ppiVar3;
			}
			else {
				piVar4 = *ppiVar3;
			}
			piVar4[0x1] = piVar4[0x1] & 0xff000000U | (piVar4[0x1] & 0xffffffU) + 0x1 & 0xffffff;
			*(int **)&pSVar5[0x1].stringMemoryOccupied = *ppiVar3;
		}
		uVar1 = *param_1;
		pSVar5[0x2].string = (char *)0x0;
		*param_1 = uVar1 + 0x1;
		pSVar5[0x2].stringLength = 0x0;
		*(String **)(param_1 + (uint)uVar1 * 0x2 + 0x2) = pSVar5;
		pSVar5[0x2].stringMemoryOccupied = 0x0;
		*(undefined2 *)&pSVar5[0x3].string = 0x0;
		pSVar5[0x3].stringLength = 0x0;
		pSVar5[0x3].stringMemoryOccupied = 0x0;
		pSVar5[0x4].string = (char *)0x0;
		pSVar5[0x4].stringLength = 0x0;
	}
	else {
		FUN_00101248((long)(int)&pSVar5[0x1].stringMemoryOccupied, ppiVar3);
	}
	return pSVar5;
}



void FUN_00264390(ushort *param_1, undefined8 param_2)

{
	int iVar1;
	int iVar2;
	BinaryReader *pBVar3;
	uint uVar4;
	String local_60;
	char local_50[0x10];
	uint local_40[0x4];

	uVar4 = 0x0;
	FUN_00269140(param_1);
	pBVar3 = (BinaryReader *)param_2;
	(**(code **)(pBVar3->methods + 0x8c))
		((int)&pBVar3->methods + (int)*(short *)(pBVar3->methods + 0x88), local_40);
	if (local_40[0] != 0x0) {
		do {
			local_60.string = (char *)0x0;
			local_60.stringLength = 0x0;
			local_60.stringMemoryOccupied = 0x0;
			GetScriptName(&local_60, pBVar3);
			iVar2 = (**(code **)(*(int *)(param_1 + 0xfdc) + 0xc))
				((int)param_1 + (int)*(short *)(*(int *)(param_1 + 0xfdc) + 0x8),
					local_60.string, 0x0);
			(**(code **)(pBVar3->methods + 0xb4))
				((int)&pBVar3->methods + (int)*(short *)(pBVar3->methods + 0xb0), local_50);
			if (local_50[0] != '\0') {
				iVar1 = **(int **)(iVar2 + 0x1c);
				(**(code **)(iVar1 + 0x34))
					((int)*(int **)(iVar2 + 0x1c) + (int)*(short *)(iVar1 + 0x30), param_2);
			}
			uVar4 += 0x1;
			StringDelete(&local_60);
		} while (uVar4 < local_40[0]);
	}
	return;
}



void FUN_00264488(undefined8 param_1, int *param_2)

{
	ChunkListData *pCVar1;
	int iVar2;
	int *piVar3;
	GameNode *pGVar4;
	long lVar5;
	int **ppiVar6;
	uint uVar7;
	ulong uVar8;
	int local_80;
	int local_7c;
	undefined *local_60;
	int local_5c;
	int local_58;
	int *local_54;
	int **local_50;

	uVar8 = SEXT48((int)&local_80);
	FUN_001f2670(uVar8, (int *)param_2[0x1], (int *)param_2[0x2], (int *)0x0);
	pCVar1 = GetChunkListData();
	iVar2 = FUN_001f1750((int *)pCVar1, (long)*param_2, uVar8);
	if (iVar2 != 0x0) {
		local_60 = DAT(0x002fb770);
		local_58 = 0x0;
		uVar7 = 0x0;
		local_50 = (int **)MemoryAllocate2((long)(local_7c << 0x2));
		if (0x0 < local_7c) {
			iVar2 = 0x0;
			do {
				if (((0x3 >> (uVar7 & 0x1f) & 0x1U) != 0x0) && (0x0 < *(short *)(iVar2 + local_80 + 0x4))) {
					ppiVar6 = local_50 + local_58;
					local_58 = local_58 + 0x1;
					piVar3 = (int *)MemoryAllocate(0xc);
					*piVar3 = 0x2fb720;
					*(undefined2 *)(piVar3 + 0x1) = 0x0;
					piVar3[0x2] = iVar2 + local_80;
					*(undefined2 *)((int)piVar3 + 0x6) = 0x0;
					*ppiVar6 = piVar3;
				}
				uVar7 += 0x1;
				iVar2 += 0x14;
			} while ((int)uVar7 < local_7c);
		}
		local_5c = 0x0;
		if (0x0 < local_58) {
			local_54 = *local_50;
			(**(code **)(*local_54 + 0x14))((int)local_54 + (int)*(short *)(*local_54 + 0x10));
		}
		local_5c = 0x0;
		if (local_58 < 0x1) {
			local_54 = (int *)0x0;
		}
		else {
			local_54 = *local_50;
			(**(code **)(*local_54 + 0x14))((int)local_54 + (int)*(short *)(*local_54 + 0x10));
		}
	joined_r0x0026460c:
		do {
			if (local_54 == (int *)0x0) goto LAB_00264744;
			piVar3 = (int *)(**(code **)(local_60 + 0x24))
				((int)&local_60 + (int)*(short *)(local_60 + 0x20));
			pGVar4 = GetGameNode((NodeList *)(*piVar3 + 0xd4), 0x1);
			if (pGVar4 != (GameNode *)0x0) {
				(**(code **)(pGVar4->methods + 0x11c))
					((int)&pGVar4->ChunkNode + (int)*(short *)(pGVar4->methods + 0x118));
				(**(code **)(pGVar4->methods + 0xa4))
					((int)&pGVar4->ChunkNode + (int)*(short *)(pGVar4->methods + 0xa0));
				(**(code **)(pGVar4->methods + 0xac))
					((int)&pGVar4->ChunkNode + (int)*(short *)(pGVar4->methods + 0xa8), 0x1);
			}
			if (local_54 != (int *)0x0) {
				lVar5 = (**(code **)(*local_54 + 0x1c))((int)local_54 + (int)*(short *)(*local_54 + 0x18));
				if (lVar5 == 0x0) {
					(**(code **)(*local_54 + 0x2c))((int)local_54 + (int)*(short *)(*local_54 + 0x28));
					lVar5 = (**(code **)(*local_54 + 0x1c))((int)local_54 + (int)*(short *)(*local_54 + 0x18))
						;
					if (lVar5 == 0x0) goto joined_r0x0026460c;
				}
				local_5c += 0x1;
				if (local_5c < local_58) {
					local_54 = local_50[local_5c];
					(**(code **)(*local_54 + 0x14))((int)local_54 + (int)*(short *)(*local_54 + 0x10));
				}
				else {
					local_54 = (int *)0x0;
				}
			}
		} while (true);
	}
LAB_002647b4:
	FUN_001ee290(uVar8, 0x2);
	return;
LAB_00264744:
	local_60 = DAT(0x002fb770);
	iVar2 = 0x0;
	if (0x0 < local_58) {
		do {
			piVar3 = local_50[iVar2];
			if (piVar3 != (int *)0x0) {
				(**(code **)(*piVar3 + 0xc))((int)piVar3 + (int)*(short *)(*piVar3 + 0x8));
			}
			iVar2 += 0x1;
		} while (iVar2 < local_58);
	}
	if (local_50 != (int **)0x0) {
		MemoryDeallocate_(local_50);
	}
	local_60 = DAT(0x002fb7a8);
	goto LAB_002647b4;
}



undefined4 FUN_002647e8(int *param_1, long param_2, long param_3)

{
	int *piVar1;
	int iVar2;
	undefined4 *puVar3;
	ChunkItem *chunkItem;
	int iVar4;

	if (param_2 == 0x0) {
		piVar1 = *(int **)(*(int *)(*param_1 + 0x24) + 0x1c);
		iVar4 = 0x0;
		if (piVar1 != (int *)0x0) {
			iVar4 = *piVar1;
		}
		if (iVar4 != 0x0) {
			iVar2 = (**(code **)(PTR_0030a150->methods + 0xc))
				((int)&PTR_0030a150->unkBitfield +
				(int)*(short *)(PTR_0030a150->methods + 0x8),
					*(undefined4 *)(*param_1 + 0xc), iVar4);
			param_1[0x7] = iVar2;
			*(int *)(iVar4 + 0x124) = *(int *)(iVar4 + 0x124) + 0x1;
			FUN_001f1ca8(iVar4);
			FUN_001f1cf0(iVar4, 0x64);
			FUN_001f1dc0(iVar4);
			iVar4 = param_1[0x7];
			puVar3 = (undefined4 *)MemoryAllocate(0x404);
			*puVar3 = 0x0;
			*(undefined4 **)(iVar4 + 0x18) = puVar3;
			chunkItem = (ChunkItem *)MemoryAllocate(0x16c);
			chunkItem = FUN_00264a30(chunkItem, (char *)param_1[0x7]);
			*(ChunkItem **)(param_1 + 0x6) = chunkItem;
			FUN_0026a6c0((int *)chunkItem, param_3, (long)(*(int *)(*param_1 + 0x4) >> 0x8) & 0x1);
			return 0x1;
		}
	}
	return 0x0;
}



void FUN_002648e8(int param_1, undefined8 param_2)

{
	int *piVar1;
	int *piVar2;
	char *string;
	int iVar3;
	ulong uVar4;
	String local_50;
	String local_40;

	local_50.string = (char *)0x0;
	local_50.stringLength = 0x0;
	local_50.stringMemoryOccupied = 0x0;
	piVar2 = (int *)param_2;
	if ((*(uint *)(param_1 + 0x4) & 0x1) == 0x0) {
		piVar1 = *(int **)(*(int *)(param_1 + 0x168) + 0x14);
		iVar3 = 0x0;
		if (piVar1 != (int *)0x0) {
			iVar3 = *piVar1;
		}
		CreateStringFromChar(&local_50, *(char **)(param_1 + 0x8));
		ConcatenateString(&local_50, DAT(0x0030a1a0));
		FUN_001a0128(piVar2);
		FUN_001b90a0('\x01', iVar3);
	}
	else {
		uVar4 = 0x0;
		FUN_001ba170();
		string = *(char **)(param_1 + 0x8);
		while (true) {
			CreateStringFromChar(&local_50, string);
			FUN_00204498(&local_40, uVar4);
			ConcatenateString(&local_50, local_40.string);
			StringDelete(&local_40);
			ConcatenateString(&local_50, DAT(0x0030a1a0));
			FUN_001b9d00((int)uVar4, param_2);
			uVar4 = SEXT48((int)uVar4 + 0x1);
			if (0x2 < uVar4) break;
			string = *(char **)(param_1 + 0x8);
		}
		FUN_001a0128(piVar2);
		FUN_001b90a0('\0', 0x0);
		FUN_001b9a08((int)DAT(0x003240a0), param_2);
		FUN_001ae528((int)DAT(0x003240a0), piVar2);
	}
	StringDelete(&local_50);
	return;
}



ChunkItem * FUN_00264a30(ChunkItem *chunkItem, char *param_2)

{
	int iVar1;
	undefined4 uVar2;
	undefined4 *puVar3;
	undefined4 *puVar4;
	uint uVar5;

	(chunkItem->chunkPath).string = (char *)0x0;
	(chunkItem->itemInterface).methods = (undefined *)0x304258;
	(chunkItem->chunkPath).stringLength = 0x0;
	(chunkItem->chunkPath).stringMemoryOccupied = 0x0;
	CreateStringFromChar(&chunkItem->chunkPath, *(char **)param_2);
	chunkItem->gameResources = *(GameResources **)(*(int *)(param_2 + 0x10) + 0x80c);
	uVar2 = *(undefined4 *)(param_2 + 0x18);
	*(undefined4 *)&chunkItem->field_0x1c = 0x0;
	*(undefined4 *)&chunkItem->field_0x18 = uVar2;
	InitGraphicsItem(&chunkItem->graphicsItem);
	InitAgentLabItem(&chunkItem->agentLabItem, chunkItem->gameResources,
		*(undefined4 *)&chunkItem->field_0x18);
	*(char **)&chunkItem->field_0x168 = param_2;
	if (*(int **)(param_2 + 0x14) == (int *)0x0) {
		iVar1 = 0x0;
	}
	else {
		iVar1 = **(int **)(param_2 + 0x14);
	}
	uVar2 = *(undefined4 *)(iVar1 + 0x1bc);
	FillMemory((void *)&chunkItem->field_0x4, 0x0, 0x4);
	*(uint *)&chunkItem->field_0x4 = *(uint *)&chunkItem->field_0x4 | 0x2;
	puVar3 = (undefined4 *)MemoryAllocate(0x4);
	uVar2 = FUN_00282568(puVar3, uVar2);
	*(undefined4 *)&chunkItem->field_0x1c = uVar2;
	uVar5 = 0x0;
	puVar4 = (undefined4 *)&chunkItem->field_0x148;
	puVar3 = (undefined4 *)&chunkItem->field_0x128;
	do {
		*puVar3 = 0x0;
		uVar5 += 0x1;
		*puVar4 = 0x0;
		puVar3 = puVar3 + 0x1;
		puVar4 = puVar4 + 0x1;
	} while (uVar5 < 0x8);
	return chunkItem;
}

*/

GameResources * InitResources(GameResources *resources, uint languagesAmt, char *levelAgentsStr)

{
	resources->methods = DAT(0x00304230);
	resources->languagesAmt = languagesAmt;
	resources->LevelAgentsAxpString = levelAgentsStr;
	*(byte*)DAT(0x003b0670) = DAT(0x003b9f20);
	*(byte*)DAT(0x003b0648) = DAT(0x003bab20);
	*(byte*)DAT(0x003b0570) = DAT(0x003bb720);
	*(byte*)DAT(0x003b0698) = DAT(0x003bc320);
	*(byte*)DAT(0x003b06c0) = DAT(0x003bcf20);
	*(byte*)DAT(0x003b0598) = DAT(0x003b6f20);
	*(byte*)DAT(0x003b05d0) = DAT(0x003b7b20);
	*(byte*)DAT(0x003b0620) = DAT(0x003b8720);
	*(byte*)DAT(0x003b05f8) = DAT(0x003b9320);
	resources->objectTable = (ResourceTable *)0x0;
	resources->scriptTable = (ResourceTable *)0x0;
	resources->animationTable = (ResourceTable *)0x0;
	resources->ogiTable = (ResourceTable *)0x0;
	resources->codeModelTable = (ResourceTable *)0x0;
	resources->soundTable = (ResourceTable *)0x0;
	resources->voicesTables = (ResourceTable **)0x0;
	resources->unkPoolOfMemoryOfSize_0xC00_forObjects = (undefined *)0x0;
	resources->unkPoolOfMemoryOfSize_0xC00_forScripts = (undefined *)0x0;
	resources->unkPoolOfMemoryOfSize_0xC00_forAnimations = (undefined *)0x0;
	resources->unkPoolOfMemoryOfSize_0xC00_forOgis = (undefined *)0x0;
	resources->unkPoolOfMemoryOfSize_0xC00_forCodeModels = (undefined *)0x0;
	resources->unkPoolOfMemoryOfSize_0xC00_forSounds = (undefined *)0x0;
	resources->unkPoolsOfMemoryOfSize_0xC00_forVoiceTables = (undefined **)0x0;
	return resources;
}

/*

void FUN_00264c48(GameResources *this_, ulong param_2)

{
	ushort uVar1;
	int iVar2;
	ushort *address;
	bool bVar3;
	ResourceTable *resourceTable;
	undefined **ppuVar4;
	ushort uVar5;
	uint uVar6;

	this_->methods = DAT(0x00304230);
	resourceTable = this_->objectTable;
	if (resourceTable != (ResourceTable *)0x0) {
		(**(code **)(resourceTable->methods + 0xc))
			((int)&resourceTable->itemsAmount + (int)*(short *)(resourceTable->methods + 0x8), 0x3)
			;
	}
	resourceTable = this_->scriptTable;
	if (resourceTable != (ResourceTable *)0x0) {
		(**(code **)(resourceTable->methods + 0xc))
			((int)&resourceTable->itemsAmount + (int)*(short *)(resourceTable->methods + 0x8));
	}
	resourceTable = this_->animationTable;
	if (resourceTable != (ResourceTable *)0x0) {
		(**(code **)(resourceTable->methods + 0xc))
			((int)&resourceTable->itemsAmount + (int)*(short *)(resourceTable->methods + 0x8));
	}
	resourceTable = this_->ogiTable;
	if (resourceTable != (ResourceTable *)0x0) {
		(**(code **)(resourceTable->methods + 0xc))
			((int)&resourceTable->itemsAmount + (int)*(short *)(resourceTable->methods + 0x8));
	}
	resourceTable = this_->codeModelTable;
	if (resourceTable != (ResourceTable *)0x0) {
		(**(code **)(resourceTable->methods + 0xc))
			((int)&resourceTable->itemsAmount + (int)*(short *)(resourceTable->methods + 0x8));
	}
	resourceTable = this_->soundTable;
	if (resourceTable != (ResourceTable *)0x0) {
		(**(code **)(resourceTable->methods + 0xc))
			((int)&resourceTable->itemsAmount + (int)*(short *)(resourceTable->methods + 0x8));
	}
	address = (ushort *)this_->unkPoolOfMemoryOfSize_0xC00_forObjects;
	if (address != (ushort *)0x0) {
		uVar1 = address[0x1];
		while (true) {
			bVar3 = false;
			if (uVar1 != 0x0) {
				if (*(GameObject **)(address + (uint)*address * 0x2 + 0x2) == (GameObject *)0x0) {
					uVar1 = *address;
				}
				else {
					FUN_0025d380(*(GameObject **)(address + (uint)*address * 0x2 + 0x2), 0x3);
					uVar1 = *address;
				}
				address[0x1] = address[0x1] - 0x1;
				*address = uVar1 + 0x1;
				if (0x2fe < (ushort)(uVar1 + 0x1)) {
					*address = uVar1 - 0x2fe;
				}
				bVar3 = true;
			}
			if (!bVar3) break;
			uVar1 = address[0x1];
		}
		MemoryDeallocate2_(address);
	}
	address = (ushort *)this_->unkPoolOfMemoryOfSize_0xC00_forScripts;
	if (address == (ushort *)0x0) {
		address = (ushort *)this_->unkPoolOfMemoryOfSize_0xC00_forAnimations;
	}
	else {
		uVar1 = address[0x1];
		while (true) {
			bVar3 = false;
			if (uVar1 != 0x0) {
				iVar2 = *(int *)(address + (uint)*address * 0x2 + 0x2);
				if (iVar2 != 0x0) {
					(**(code **)(*(int *)(iVar2 + 0x18) + 0xc))
						(iVar2 + *(short *)(*(int *)(iVar2 + 0x18) + 0x8), 0x3);
				}
				uVar1 = *address;
				uVar5 = uVar1 + 0x1;
				address[0x1] = address[0x1] - 0x1;
				*address = uVar5;
				if (0x2fe < uVar5) {
					*address = uVar1 - 0x2fe;
				}
				bVar3 = true;
			}
			if (!bVar3) break;
			uVar1 = address[0x1];
		}
		MemoryDeallocate2_(address);
		address = (ushort *)this_->unkPoolOfMemoryOfSize_0xC00_forAnimations;
	}
	if (address == (ushort *)0x0) {
		address = (ushort *)this_->unkPoolOfMemoryOfSize_0xC00_forOgis;
	}
	else {
		uVar1 = address[0x1];
		while (true) {
			bVar3 = false;
			if (uVar1 != 0x0) {
				if ((long)*(int *)(address + (uint)*address * 0x2 + 0x2) == 0x0) {
					uVar1 = *address;
				}
				else {
					FUN_00299550((long)*(int *)(address + (uint)*address * 0x2 + 0x2), 0x3);
					uVar1 = *address;
				}
				address[0x1] = address[0x1] - 0x1;
				*address = uVar1 + 0x1;
				if (0x2fe < (ushort)(uVar1 + 0x1)) {
					*address = uVar1 - 0x2fe;
				}
				bVar3 = true;
			}
			if (!bVar3) break;
			uVar1 = address[0x1];
		}
		MemoryDeallocate2_(address);
		address = (ushort *)this_->unkPoolOfMemoryOfSize_0xC00_forOgis;
	}
	if (address == (ushort *)0x0) {
		address = (ushort *)this_->unkPoolOfMemoryOfSize_0xC00_forCodeModels;
	}
	else {
		uVar1 = address[0x1];
		while (true) {
			bVar3 = false;
			if (uVar1 != 0x0) {
				if ((long)*(int *)(address + (uint)*address * 0x2 + 0x2) == 0x0) {
					uVar1 = *address;
				}
				else {
					FUN_002960e0((long)*(int *)(address + (uint)*address * 0x2 + 0x2), 0x3);
					uVar1 = *address;
				}
				address[0x1] = address[0x1] - 0x1;
				*address = uVar1 + 0x1;
				if (0x2fe < (ushort)(uVar1 + 0x1)) {
					*address = uVar1 - 0x2fe;
				}
				bVar3 = true;
			}
			if (!bVar3) break;
			uVar1 = address[0x1];
		}
		MemoryDeallocate2_(address);
		address = (ushort *)this_->unkPoolOfMemoryOfSize_0xC00_forCodeModels;
	}
	if (address == (ushort *)0x0) {
		address = (ushort *)this_->unkPoolOfMemoryOfSize_0xC00_forSounds;
	}
	else {
		uVar1 = address[0x1];
		while (true) {
			bVar3 = false;
			if (uVar1 != 0x0) {
				if ((long)*(int *)(address + (uint)*address * 0x2 + 0x2) == 0x0) {
					uVar1 = *address;
				}
				else {
					FUN_00263898((long)*(int *)(address + (uint)*address * 0x2 + 0x2), 0x3);
					uVar1 = *address;
				}
				address[0x1] = address[0x1] - 0x1;
				*address = uVar1 + 0x1;
				if (0x2fe < (ushort)(uVar1 + 0x1)) {
					*address = uVar1 - 0x2fe;
				}
				bVar3 = true;
			}
			if (!bVar3) break;
			uVar1 = address[0x1];
		}
		MemoryDeallocate2_(address);
		address = (ushort *)this_->unkPoolOfMemoryOfSize_0xC00_forSounds;
	}
	if (address == (ushort *)0x0) {
		resourceTable = (ResourceTable *)this_->voicesTables;
	}
	else {
		uVar1 = address[0x1];
		while (true) {
			bVar3 = false;
			if (uVar1 != 0x0) {
				if ((long)*(int *)(address + (uint)*address * 0x2 + 0x2) == 0x0) {
					uVar1 = *address;
				}
				else {
					FUN_001e5528((long)*(int *)(address + (uint)*address * 0x2 + 0x2), 0x3);
					uVar1 = *address;
				}
				address[0x1] = address[0x1] - 0x1;
				*address = uVar1 + 0x1;
				if (0x2fe < (ushort)(uVar1 + 0x1)) {
					*address = uVar1 - 0x2fe;
				}
				bVar3 = true;
			}
			if (!bVar3) break;
			uVar1 = address[0x1];
		}
		MemoryDeallocate2_(address);
		resourceTable = (ResourceTable *)this_->voicesTables;
	}
	if (resourceTable == (ResourceTable *)0x0) {
		ppuVar4 = this_->unkPoolsOfMemoryOfSize_0xC00_forVoiceTables;
	}
	else {
		uVar6 = 0x0;
		if (this_->languagesAmt != 0x0) {
			resourceTable = (ResourceTable *)this_->voicesTables;
			while (true) {
				resourceTable = ((ResourceTable **)resourceTable)[uVar6];
				if (resourceTable != (ResourceTable *)0x0) {
					(**(code **)(resourceTable->methods + 0xc))
						((int)&resourceTable->itemsAmount +
						(int)*(short *)(resourceTable->methods + 0x8), 0x3);
				}
				uVar6 += 0x1;
				if (this_->languagesAmt <= uVar6) break;
				resourceTable = (ResourceTable *)this_->voicesTables;
			}
		}
		MemoryDeallocate2_(this_->voicesTables);
		ppuVar4 = this_->unkPoolsOfMemoryOfSize_0xC00_forVoiceTables;
	}
	if (ppuVar4 != (undefined **)0x0) {
		uVar6 = 0x0;
		if (this_->languagesAmt != 0x0) {
			ppuVar4 = this_->unkPoolsOfMemoryOfSize_0xC00_forVoiceTables;
			while (true) {
				address = (ushort *)ppuVar4[uVar6];
				uVar6 += 0x1;
				if (address != (ushort *)0x0) {
					uVar1 = address[0x1];
					while (true) {
						bVar3 = false;
						if (uVar1 != 0x0) {
							if ((long)*(int *)(address + (uint)*address * 0x2 + 0x2) == 0x0) {
								uVar1 = *address;
							}
							else {
								FUN_001e5528((long)*(int *)(address + (uint)*address * 0x2 + 0x2), 0x3);
								uVar1 = *address;
							}
							address[0x1] = address[0x1] - 0x1;
							*address = uVar1 + 0x1;
							if (0x2fe < (ushort)(uVar1 + 0x1)) {
								*address = uVar1 - 0x2fe;
							}
							bVar3 = true;
						}
						if (!bVar3) break;
						uVar1 = address[0x1];
					}
					MemoryDeallocate2_(address);
				}
				if (this_->languagesAmt <= uVar6) break;
				ppuVar4 = this_->unkPoolsOfMemoryOfSize_0xC00_forVoiceTables;
			}
		}
		MemoryDeallocate2_(this_->unkPoolsOfMemoryOfSize_0xC00_forVoiceTables);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(this_);
	}
	return;
}



uint FUN_002651a0(uint *param_1)

{
	ushort uVar1;
	int iVar2;
	ushort *puVar3;
	uint uVar4;
	uint uVar5;
	uint uVar6;
	uint uVar7;
	uint uVar8;
	uint uVar9;
	uint uVar10;
	ushort uVar11;
	uint uVar12;
	uint uVar13;

	puVar3 = (ushort *)param_1[0x9];
	uVar4 = 0x0;
	if ((puVar3 != (ushort *)0x0) && (uVar4 = 0x0, puVar3[0x1] != 0x0)) {
		if (*(GameObject **)(puVar3 + (uint)*puVar3 * 0x2 + 0x2) == (GameObject *)0x0) {
			uVar1 = *puVar3;
		}
		else {
			FUN_0025d380(*(GameObject **)(puVar3 + (uint)*puVar3 * 0x2 + 0x2), 0x3);
			uVar1 = *puVar3;
		}
		puVar3[0x1] = puVar3[0x1] - 0x1;
		*puVar3 = uVar1 + 0x1;
		if (0x2fe < (ushort)(uVar1 + 0x1)) {
			*puVar3 = uVar1 - 0x2fe;
		}
		uVar4 = 0x1;
	}
	if (uVar4 == 0x0) {
		puVar3 = (ushort *)param_1[0xa];
		if ((puVar3 != (ushort *)0x0) && (uVar4 = 0x0, puVar3[0x1] != 0x0)) {
			iVar2 = *(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2);
			if (iVar2 != 0x0) {
				(**(code **)(*(int *)(iVar2 + 0x18) + 0xc))
					(iVar2 + *(short *)(*(int *)(iVar2 + 0x18) + 0x8));
			}
			uVar1 = *puVar3;
			uVar11 = uVar1 + 0x1;
			puVar3[0x1] = puVar3[0x1] - 0x1;
			*puVar3 = uVar11;
			if (0x2fe < uVar11) {
				*puVar3 = uVar1 - 0x2fe;
			}
			uVar4 = 0x1;
		}
		if (uVar4 == 0x0) {
			puVar3 = (ushort *)param_1[0xb];
			if ((puVar3 != (ushort *)0x0) && (uVar4 = 0x0, puVar3[0x1] != 0x0)) {
				if ((long)*(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2) == 0x0) {
					uVar1 = *puVar3;
				}
				else {
					FUN_00299550((long)*(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2), 0x3);
					uVar1 = *puVar3;
				}
				puVar3[0x1] = puVar3[0x1] - 0x1;
				*puVar3 = uVar1 + 0x1;
				if (0x2fe < (ushort)(uVar1 + 0x1)) {
					*puVar3 = uVar1 - 0x2fe;
				}
				uVar4 = 0x1;
			}
			if (uVar4 == 0x0) {
				puVar3 = (ushort *)param_1[0xc];
				if ((puVar3 != (ushort *)0x0) && (uVar4 = 0x0, puVar3[0x1] != 0x0)) {
					if ((long)*(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2) == 0x0) {
						uVar1 = *puVar3;
					}
					else {
						FUN_002960e0((long)*(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2), 0x3);
						uVar1 = *puVar3;
					}
					puVar3[0x1] = puVar3[0x1] - 0x1;
					*puVar3 = uVar1 + 0x1;
					if (0x2fe < (ushort)(uVar1 + 0x1)) {
						*puVar3 = uVar1 - 0x2fe;
					}
					uVar4 = 0x1;
				}
				if (uVar4 == 0x0) {
					puVar3 = (ushort *)param_1[0xd];
					if ((puVar3 != (ushort *)0x0) && (uVar4 = 0x0, puVar3[0x1] != 0x0)) {
						if ((long)*(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2) == 0x0) {
							uVar1 = *puVar3;
						}
						else {
							FUN_00263898((long)*(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2), 0x3);
							uVar1 = *puVar3;
						}
						puVar3[0x1] = puVar3[0x1] - 0x1;
						*puVar3 = uVar1 + 0x1;
						if (0x2fe < (ushort)(uVar1 + 0x1)) {
							*puVar3 = uVar1 - 0x2fe;
						}
						uVar4 = 0x1;
					}
					if (uVar4 == 0x0) {
						puVar3 = (ushort *)param_1[0xe];
						if ((puVar3 != (ushort *)0x0) && (uVar4 = 0x0, puVar3[0x1] != 0x0)) {
							if ((long)*(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2) == 0x0) {
								uVar1 = *puVar3;
							}
							else {
								FUN_001e5528((long)*(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2), 0x3);
								uVar1 = *puVar3;
							}
							puVar3[0x1] = puVar3[0x1] - 0x1;
							*puVar3 = uVar1 + 0x1;
							if (0x2fe < (ushort)(uVar1 + 0x1)) {
								*puVar3 = uVar1 - 0x2fe;
							}
							uVar4 = 0x1;
						}
						if (uVar4 == 0x0) {
							if (param_1[0xf] != 0x0) {
								uVar12 = *param_1;
								uVar13 = 0x0;
								if (uVar12 != 0x0) {
									uVar5 = param_1[0xf];
									while (true) {
										puVar3 = *(ushort **)(uVar13 * 0x4 + uVar5);
										uVar5 = 0x0;
										if (puVar3[0x1] != 0x0) {
											if ((long)*(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2) == 0x0) {
												uVar1 = *puVar3;
											}
											else {
												FUN_001e5528((long)*(int *)(puVar3 + (uint)*puVar3 * 0x2 + 0x2), 0x3);
												uVar1 = *puVar3;
											}
											puVar3[0x1] = puVar3[0x1] - 0x1;
											*puVar3 = uVar1 + 0x1;
											if (0x2fe < (ushort)(uVar1 + 0x1)) {
												*puVar3 = uVar1 - 0x2fe;
											}
											uVar5 = 0x1;
											uVar12 = *param_1;
										}
										uVar13 += 0x1;
										uVar4 = uVar5 | uVar4;
										if (uVar12 <= uVar13) break;
										uVar5 = param_1[0xf];
									}
								}
							}
							if (uVar4 == 0x0) {
								if (DAT_003b6f22 == 0x0) {
									uVar12 = 0x0;
								}
								else {
									if ((long)*(int *)(DAT(0x003b6f24) + (uint)DAT_003b6f20 * 0x4) != 0x0) {
										FUN_001c0d18((long)*(int *)(DAT(0x003b6f24) + (uint)DAT_003b6f20 * 0x4), 0x3);
									}
									DAT_003b6f22 += -0x1;
									uVar1 = DAT_003b6f20 + 0x1;
									if (0x2fe < (ushort)(DAT_003b6f20 + 0x1)) {
										uVar1 = DAT_003b6f20 - 0x2fe;
									}
									DAT_003b6f20 = uVar1;
									uVar12 = 0x1;
								}
								if (DAT_003b7b22 == 0x0) {
									uVar13 = 0x0;
								}
								else {
									if ((long)*(int *)(DAT(0x003b7b24) + (uint)DAT_003b7b20 * 0x4) != 0x0) {
										FUN_001c1118((long)*(int *)(DAT(0x003b7b24) + (uint)DAT_003b7b20 * 0x4), 0x3);
									}
									DAT_003b7b22 += -0x1;
									uVar1 = DAT_003b7b20 + 0x1;
									if (0x2fe < (ushort)(DAT_003b7b20 + 0x1)) {
										uVar1 = DAT_003b7b20 - 0x2fe;
									}
									DAT_003b7b20 = uVar1;
									uVar13 = 0x1;
								}
								if (DAT_003b8722 == 0x0) {
									uVar5 = 0x0;
								}
								else {
									if ((long)*(int *)(DAT(0x003b8724) + (uint)DAT_003b8720 * 0x4) != 0x0) {
										FUN_001c1298((long)*(int *)(DAT(0x003b8724) + (uint)DAT_003b8720 * 0x4), 0x3);
									}
									DAT_003b8722 += -0x1;
									uVar1 = DAT_003b8720 + 0x1;
									if (0x2fe < (ushort)(DAT_003b8720 + 0x1)) {
										uVar1 = DAT_003b8720 - 0x2fe;
									}
									DAT_003b8720 = uVar1;
									uVar5 = 0x1;
								}
								if (DAT_003b9322 == 0x0) {
									uVar6 = 0x0;
								}
								else {
									if ((long)*(int *)(DAT(0x003b9324) + (uint)DAT_003b9320 * 0x4) != 0x0) {
										FUN_001c13d8((long)*(int *)(DAT(0x003b9324) + (uint)DAT_003b9320 * 0x4), 0x3);
									}
									DAT_003b9322 += -0x1;
									uVar1 = DAT_003b9320 + 0x1;
									if (0x2fe < (ushort)(DAT_003b9320 + 0x1)) {
										uVar1 = DAT_003b9320 - 0x2fe;
									}
									DAT_003b9320 = uVar1;
									uVar6 = 0x1;
								}
								if (DAT_003b9f22 == 0x0) {
									uVar7 = 0x0;
								}
								else {
									if ((long)*(int *)(DAT(0x003b9f24) + (uint)DAT_003b9f20 * 0x4) != 0x0) {
										FUN_001be3e8((long)*(int *)(DAT(0x003b9f24) + (uint)DAT_003b9f20 * 0x4), 0x3);
									}
									DAT_003b9f22 += -0x1;
									uVar1 = DAT_003b9f20 + 0x1;
									if (0x2fe < (ushort)(DAT_003b9f20 + 0x1)) {
										uVar1 = DAT_003b9f20 - 0x2fe;
									}
									DAT_003b9f20 = uVar1;
									uVar7 = 0x1;
								}
								if (DAT_003bab22 == 0x0) {
									uVar8 = 0x0;
								}
								else {
									if ((long)*(int *)(DAT(0x003bab24) + (uint)DAT_003bab20 * 0x4) != 0x0) {
										FUN_001c16a8((long)*(int *)(DAT(0x003bab24) + (uint)DAT_003bab20 * 0x4), 0x3);
									}
									DAT_003bab22 += -0x1;
									uVar1 = DAT_003bab20 + 0x1;
									if (0x2fe < (ushort)(DAT_003bab20 + 0x1)) {
										uVar1 = DAT_003bab20 - 0x2fe;
									}
									DAT_003bab20 = uVar1;
									uVar8 = 0x1;
								}
								if (DAT_003bb722 == 0x0) {
									uVar9 = 0x0;
								}
								else {
									if ((long)*(int *)(DAT(0x003bb724) + (uint)DAT_003bb720 * 0x4) != 0x0) {
										FUN_001c03a8((long)*(int *)(DAT(0x003bb724) + (uint)DAT_003bb720 * 0x4), 0x3);
									}
									DAT_003bb722 += -0x1;
									uVar1 = DAT_003bb720 + 0x1;
									if (0x2fe < (ushort)(DAT_003bb720 + 0x1)) {
										uVar1 = DAT_003bb720 - 0x2fe;
									}
									DAT_003bb720 = uVar1;
									uVar9 = 0x1;
								}
								if (DAT_003bc322 == 0x0) {
									uVar10 = 0x0;
								}
								else {
									if ((long)*(int *)(DAT(0x003bc324) + (uint)DAT_003bc320 * 0x4) != 0x0) {
										FUN_001c1dd0((long)*(int *)(DAT(0x003bc324) + (uint)DAT_003bc320 * 0x4), 0x3);
									}
									DAT_003bc322 += -0x1;
									uVar1 = DAT_003bc320 + 0x1;
									if (0x2fe < (ushort)(DAT_003bc320 + 0x1)) {
										uVar1 = DAT_003bc320 - 0x2fe;
									}
									DAT_003bc320 = uVar1;
									uVar10 = 0x1;
								}
								if (DAT_003bcf22 == 0x0) {
									uVar4 = 0x0;
								}
								else {
									if ((long)*(int *)(DAT(0x003bcf24) + (uint)DAT_003bcf20 * 0x4) != 0x0) {
										FUN_001c2018((long)*(int *)(DAT(0x003bcf24) + (uint)DAT_003bcf20 * 0x4), 0x3);
									}
									DAT_003bcf22 += -0x1;
									uVar1 = DAT_003bcf20 + 0x1;
									if (0x2fe < (ushort)(DAT_003bcf20 + 0x1)) {
										uVar1 = DAT_003bcf20 - 0x2fe;
									}
									DAT_003bcf20 = uVar1;
									uVar4 = 0x1;
								}
								uVar4 |= uVar10 | uVar9 | uVar8 | uVar7 | uVar6 | uVar5 | uVar13 | uVar12;
							}
						}
					}
				}
			}
		}
	}
	return uVar4;
}



void FUN_00265920(GameResources *resources)

{
	undefined *tableMethods;
	ResourceTable *voiceTable;
	uint counter;

	tableMethods = resources->objectTable->methods;
	(**(code **)(tableMethods + 0x14))
		((int)&resources->objectTable->itemsAmount + (int)*(short *)(tableMethods + 0x10));
	tableMethods = resources->scriptTable->methods;
	(**(code **)(tableMethods + 0x14))
		((int)&resources->scriptTable->itemsAmount + (int)*(short *)(tableMethods + 0x10));
	tableMethods = resources->animationTable->methods;
	(**(code **)(tableMethods + 0x14))
		((int)&resources->animationTable->itemsAmount + (int)*(short *)(tableMethods + 0x10));
	tableMethods = resources->ogiTable->methods;
	(**(code **)(tableMethods + 0x14))
		((int)&resources->ogiTable->itemsAmount + (int)*(short *)(tableMethods + 0x10));
	tableMethods = resources->codeModelTable->methods;
	(**(code **)(tableMethods + 0x14))
		((int)&resources->codeModelTable->itemsAmount + (int)*(short *)(tableMethods + 0x10));
	tableMethods = resources->soundTable->methods;
	(**(code **)(tableMethods + 0x14))
		((int)&resources->soundTable->itemsAmount + (int)*(short *)(tableMethods + 0x10));
	if (resources->languagesAmt != 0x0) {
		voiceTable = (ResourceTable *)resources->voicesTables;
		counter = 0x0;
		while (true) {
			tableMethods = ((ResourceTable **)voiceTable)[counter]->methods;
			(**(code **)(tableMethods + 0x14))
				((int)&((ResourceTable **)voiceTable)[counter]->itemsAmount +
				(int)*(short *)(tableMethods + 0x10));
			if (resources->languagesAmt <= counter + 0x1) break;
			voiceTable = (ResourceTable *)resources->voicesTables;
			counter = counter + 0x1;
		}
	}
	return;
}

*/

ResourceTable * InitObjectTable(GameResources *resources, uint tableSize)

{
	ResourceTable *newTable;
	void **addressTable;
	short *psVar1;
	undefined2 *puVar2;
	uint index;
	uint counter;
	ResourceTable *objectTable;

	newTable = (ResourceTable *)MemoryAllocate(0x18);
	newTable->methods = DAT(0x00304738);
	newTable->field_0xc = 0x0;
	newTable->unkPoolOfMemoryOfSize_0xC00 = (undefined *)0x0;
	FillMemory(newTable, 0x0, 0x4);
	newTable->itemsAmount = newTable->itemsAmount & 0xffff4000 | tableSize & 0x3fff;
	addressTable = (void **)MemoryAllocate2((long)(int)(tableSize << 0x2));
	newTable->resourceTable = addressTable;
	psVar1 = (short *)MemoryAllocate2((long)(int)(tableSize << 0x1));
	newTable->resourceIDsTable = psVar1;
	index = 0x0;
	if (tableSize != 0x0) {
		do {
			counter = index + 0x1;
			newTable->resourceTable[index] = (void *)0x0;
			index = counter;
		} while (counter < tableSize);
	}
	resources->objectTable = newTable;
	newTable->methods = DAT(0x00304708);
	puVar2 = (undefined2 *)MemoryAllocate(0xc00);
	objectTable = resources->objectTable;
	*puVar2 = 0x0;
	puVar2[0x1] = 0x0;
	*(undefined2 **)&resources->unkPoolOfMemoryOfSize_0xC00_forObjects = puVar2;
	*(undefined2 **)&objectTable->unkPoolOfMemoryOfSize_0xC00 = puVar2;
	return resources->objectTable;
}



ResourceTable * InitScriptTable(GameResources *resources, uint tableSize)

{
	ResourceTable *newTable;
	void **ppvVar1;
	short *psVar2;
	undefined2 *puVar3;
	uint index;
	uint counter;

	newTable = (ResourceTable *)MemoryAllocate(0x18);
	newTable->methods = DAT(0x003046d8);
	newTable->field_0xc = 0x0;
	newTable->unkPoolOfMemoryOfSize_0xC00 = (undefined *)0x0;
	FillMemory(newTable, 0x0, 0x4);
	newTable->itemsAmount = newTable->itemsAmount & 0xffffc000 | tableSize & 0x3fff | 0x8000;
	ppvVar1 = (void **)MemoryAllocate2((long)(int)(tableSize << 0x2));
	newTable->resourceTable = ppvVar1;
	psVar2 = (short *)MemoryAllocate2((long)(int)(tableSize << 0x1));
	newTable->resourceIDsTable = psVar2;
	index = 0x0;
	if (tableSize != 0x0) {
		do {
			counter = index + 0x1;
			newTable->resourceTable[index] = (void *)0x0;
			index = counter;
		} while (counter < tableSize);
	}
	newTable->methods = DAT(0x003046a8);
	psVar2 = (short *)MemoryAllocate2((long)(int)(tableSize << 0x1));
	resources->scriptTable = newTable;
	newTable->resourceIDsTable = psVar2;
	puVar3 = (undefined2 *)MemoryAllocate(0xc00);
	*(undefined2 **)&resources->unkPoolOfMemoryOfSize_0xC00_forScripts = puVar3;
	newTable = resources->scriptTable;
	*puVar3 = 0x0;
	puVar3[0x1] = 0x0;
	*(undefined2 **)&newTable->unkPoolOfMemoryOfSize_0xC00 = puVar3;
	G_ScriptTable = resources->scriptTable;
	return resources->scriptTable;
}



ResourceTable * InitCodeModelTable(GameResources *param_1, uint tableSize)

{
	ResourceTable *newTable;
	void **ppvVar1;
	short *psVar2;
	undefined2 *puVar3;
	uint uVar4;
	uint uVar5;

	newTable = (ResourceTable *)MemoryAllocate(0x18);
	newTable->methods = DAT(0x003045b8);
	newTable->field_0xc = 0x0;
	newTable->unkPoolOfMemoryOfSize_0xC00 = (undefined *)0x0;
	FillMemory(newTable, 0x0, 0x4);
	newTable->itemsAmount = newTable->itemsAmount & 0xffffc000 | tableSize & 0x3fff | 0x8000;
	ppvVar1 = (void **)MemoryAllocate2((long)(int)(tableSize << 0x2));
	newTable->resourceTable = ppvVar1;
	psVar2 = (short *)MemoryAllocate2((long)(int)(tableSize << 0x1));
	newTable->resourceIDsTable = psVar2;
	uVar4 = 0x0;
	if (tableSize != 0x0) {
		do {
			uVar5 = uVar4 + 0x1;
			newTable->resourceTable[uVar4] = (void *)0x0;
			uVar4 = uVar5;
		} while (uVar5 < tableSize);
	}
	param_1->codeModelTable = newTable;
	newTable->methods = DAT(0x00304588);
	puVar3 = (undefined2 *)MemoryAllocate(0xc00);
	newTable = param_1->codeModelTable;
	*puVar3 = 0x0;
	puVar3[0x1] = 0x0;
	*(undefined2 **)&param_1->unkPoolOfMemoryOfSize_0xC00_forCodeModels = puVar3;
	*(undefined2 **)&newTable->unkPoolOfMemoryOfSize_0xC00 = puVar3;
	return param_1->codeModelTable;
}



ResourceTable * InitAnimationTable(GameResources *resources, uint tableSize)

{
	ResourceTable *newTable;
	void **addressTable;
	short *psVar1;
	undefined2 *puVar2;
	uint uVar3;
	uint uVar4;

	newTable = (ResourceTable *)MemoryAllocate(0x18);
	newTable->methods = DAT(0x00304678);
	newTable->field_0xc = 0x0;
	newTable->unkPoolOfMemoryOfSize_0xC00 = (undefined *)0x0;
	FillMemory(newTable, 0x0, 0x4);
	newTable->itemsAmount = newTable->itemsAmount & 0xffffc000 | tableSize & 0x3fff | 0x8000;
	addressTable = (void **)MemoryAllocate2((long)(int)(tableSize << 0x2));
	newTable->resourceTable = addressTable;
	psVar1 = (short *)MemoryAllocate2((long)(int)(tableSize << 0x1));
	newTable->resourceIDsTable = psVar1;
	uVar3 = 0x0;
	if (tableSize != 0x0) {
		do {
			uVar4 = uVar3 + 0x1;
			newTable->resourceTable[uVar3] = (void *)0x0;
			uVar3 = uVar4;
		} while (uVar4 < tableSize);
	}
	resources->animationTable = newTable;
	newTable->methods = DAT(0x00304648);
	puVar2 = (undefined2 *)MemoryAllocate(0xc00);
	newTable = resources->animationTable;
	*puVar2 = 0x0;
	puVar2[0x1] = 0x0;
	*(undefined2 **)&resources->unkPoolOfMemoryOfSize_0xC00_forAnimations = puVar2;
	*(undefined2 **)&newTable->unkPoolOfMemoryOfSize_0xC00 = puVar2;
	return resources->animationTable;
}



ResourceTable * InitSoundTable(GameResources *param_1, uint tableSize)

{
	ResourceTable *newTable;
	void **ppvVar1;
	short *psVar2;
	undefined2 *puVar3;
	uint uVar4;
	uint uVar5;

	newTable = (ResourceTable *)MemoryAllocate(0x18);
	newTable->methods = DAT(0x00304558);
	newTable->field_0xc = 0x0;
	newTable->unkPoolOfMemoryOfSize_0xC00 = (undefined *)0x0;
	FillMemory(newTable, 0x0, 0x4);
	newTable->itemsAmount = newTable->itemsAmount & 0xffffc000 | tableSize & 0x3fff | 0x8000;
	ppvVar1 = (void **)MemoryAllocate2((long)(int)(tableSize << 0x2));
	newTable->resourceTable = ppvVar1;
	psVar2 = (short *)MemoryAllocate2((long)(int)(tableSize << 0x1));
	newTable->resourceIDsTable = psVar2;
	uVar4 = 0x0;
	if (tableSize != 0x0) {
		do {
			uVar5 = uVar4 + 0x1;
			newTable->resourceTable[uVar4] = (void *)0x0;
			uVar4 = uVar5;
		} while (uVar5 < tableSize);
	}
	newTable->methods = DAT(0x00304528);
	psVar2 = (short *)MemoryAllocate2((long)(int)(tableSize << 0x1));
	param_1->soundTable = newTable;
	newTable->resourceIDsTable = psVar2;
	puVar3 = (undefined2 *)MemoryAllocate(0xc00);
	newTable = param_1->soundTable;
	*puVar3 = 0x0;
	puVar3[0x1] = 0x0;
	*(undefined2 **)&param_1->unkPoolOfMemoryOfSize_0xC00_forSounds = puVar3;
	*(undefined2 **)&newTable->unkPoolOfMemoryOfSize_0xC00 = puVar3;
	return param_1->soundTable;
}



ResourceTable ** InitVoiceTables(GameResources *param_1, uint param_2)

{
	ResourceTable **newTables;
	undefined **ppuVar1;
	ResourceTable *newTable;
	void **ppvVar2;
	short *psVar3;
	undefined2 *puVar4;
	ResourceTable **tables;
	uint index;
	uint counter;
	uint counter2;

	newTables = (ResourceTable **)MemoryAllocate2((long)(int)(param_1->languagesAmt << 0x2));
	param_1->voicesTables = newTables;
	ppuVar1 = (undefined **)MemoryAllocate2((long)(int)(param_1->languagesAmt << 0x2));
	param_1->unkPoolsOfMemoryOfSize_0xC00_forVoiceTables = ppuVar1;
	if (param_1->languagesAmt != 0x0) {
		tables = param_1->voicesTables;
		counter2 = 0x0;
		while (true) {
			newTable = (ResourceTable *)MemoryAllocate(0x18);
			newTable->methods = DAT(0x00304558);
			newTable->field_0xc = 0x0;
			newTable->unkPoolOfMemoryOfSize_0xC00 = (undefined *)0x0;
			FillMemory(newTable, 0x0, 0x4);
			newTable->itemsAmount = newTable->itemsAmount & 0xffffc000 | param_2 & 0x3fff | 0x8000;
			ppvVar2 = (void **)MemoryAllocate2((long)(int)(param_2 << 0x2));
			newTable->resourceTable = ppvVar2;
			psVar3 = (short *)MemoryAllocate2((long)(int)(param_2 << 0x1));
			newTable->resourceIDsTable = psVar3;
			index = 0x0;
			if (param_2 != 0x0) {
				do {
					counter = index + 0x1;
					newTable->resourceTable[index] = (void *)0x0;
					index = counter;
				} while (counter < param_2);
			}
			newTable->methods = DAT(0x00304528);
			psVar3 = (short *)MemoryAllocate2((long)(int)(param_2 << 0x1));
			newTable->resourceIDsTable = psVar3;
			tables[counter2] = newTable;
			ppuVar1 = param_1->unkPoolsOfMemoryOfSize_0xC00_forVoiceTables;
			puVar4 = (undefined2 *)MemoryAllocate(0xc00);
			*puVar4 = 0x0;
			puVar4[0x1] = 0x0;
			*(undefined2 **)(ppuVar1 + counter2) = puVar4;
			param_1->voicesTables[counter2]->unkPoolOfMemoryOfSize_0xC00 =
				param_1->unkPoolsOfMemoryOfSize_0xC00_forVoiceTables[counter2];
			if (param_1->languagesAmt <= counter2 + 0x1) break;
			tables = param_1->voicesTables;
			counter2 = counter2 + 0x1;
		}
	}
	return (ResourceTable **)param_1->voicesTables;
}



ResourceTable * InitOgiTable(GameResources *param_1, uint tableSize)

{
	ResourceTable *newTable;
	void **ppvVar1;
	short *psVar2;
	undefined2 *puVar3;
	uint uVar4;
	uint uVar5;

	newTable = (ResourceTable *)MemoryAllocate(0x18);
	newTable->methods = DAT(0x00304618);
	newTable->field_0xc = 0x0;
	newTable->unkPoolOfMemoryOfSize_0xC00 = (undefined *)0x0;
	FillMemory(newTable, 0x0, 0x4);
	newTable->itemsAmount = newTable->itemsAmount & 0xffffc000 | tableSize & 0x3fff | 0x8000;
	ppvVar1 = (void **)MemoryAllocate2((long)(int)(tableSize << 0x2));
	newTable->resourceTable = ppvVar1;
	psVar2 = (short *)MemoryAllocate2((long)(int)(tableSize << 0x1));
	newTable->resourceIDsTable = psVar2;
	uVar4 = 0x0;
	if (tableSize != 0x0) {
		do {
			uVar5 = uVar4 + 0x1;
			newTable->resourceTable[uVar4] = (void *)0x0;
			uVar4 = uVar5;
		} while (uVar5 < tableSize);
	}
	param_1->ogiTable = newTable;
	newTable->methods = DAT(0x003045e8);
	puVar3 = (undefined2 *)MemoryAllocate(0xc00);
	newTable = param_1->ogiTable;
	*puVar3 = 0x0;
	puVar3[0x1] = 0x0;
	*(undefined2 **)&param_1->unkPoolOfMemoryOfSize_0xC00_forOgis = puVar3;
	*(undefined2 **)&newTable->unkPoolOfMemoryOfSize_0xC00 = puVar3;
	return param_1->ogiTable;
}

/*

void FUN_00266180(uint *param_1, uint *param_2)

{
	int iVar1;
	uint *puVar2;
	uint uVar3;
	short local_70[0x8];
	ushort local_60[0x8];
	short asStack80[0x8];

	uVar3 = 0x0;
	if (*param_2 != 0x0) {
		puVar2 = param_2 + 0x1;
		local_70[0] = *(short *)puVar2;
		while (true) {
			MoveShortFromS2toS1((short *)local_60, local_70);
			if (local_60[0] == 0xffff) {
				iVar1 = 0x0;
			}
			else {
				iVar1 = *(int *)(((uint)local_60[0] & 0x7fff) * 0x4 + *(int *)(param_1[0x2] + 0x4));
			}
			MoveShortFromS2toS1((short *)local_60, local_70);
			uVar3 += 0x1;
			MoveShortFromS2toS1(asStack80, (short *)local_60);
			puVar2 = (uint *)((int)puVar2 + 0x2);
			LoadObjectResources(*(GameObjectLoadedResources **)(iVar1 + 0x24), asStack80,
				(GameResources *)param_1);
			if (*param_2 <= uVar3) break;
			local_70[0] = *(short *)puVar2;
		}
	}
	return;
}



void FUN_00266260(uint *param_1, uint *param_2)

{
	int iVar1;
	uint *puVar2;
	uint uVar3;
	short local_70[0x8];
	ushort local_60[0x8];
	short asStack80[0x8];

	uVar3 = 0x0;
	if (*param_2 != 0x0) {
		puVar2 = param_2 + 0x1;
		local_70[0] = *(short *)puVar2;
		while (true) {
			MoveShortFromS2toS1((short *)local_60, local_70);
			if (local_60[0] == 0xffff) {
				iVar1 = 0x0;
			}
			else {
				iVar1 = *(int *)(((uint)local_60[0] & 0x7fff) * 0x4 + *(int *)(param_1[0x2] + 0x4));
			}
			MoveShortFromS2toS1((short *)local_60, local_70);
			uVar3 += 0x1;
			MoveShortFromS2toS1(asStack80, (short *)local_60);
			puVar2 = (uint *)((int)puVar2 + 0x2);
			FUN_00260310(*(GameObjectLoadedResources **)(iVar1 + 0x24), asStack80, (GameResources *)param_1)
				;
			if (*param_2 <= uVar3) break;
			local_70[0] = *(short *)puVar2;
		}
	}
	return;
}



// WARNING: Type propagation algorithm not settling

AgentLabItem * InitAgentLabItem(AgentLabItem *agentLab, GameResources *resources, undefined4 param_3)

{
	ResourceTable *resourceTable;

	(agentLab->itemInterface).methods = (undefined *)0x3042d0;
	agentLab->gameResources = resources;
	resourceTable = resources->objectTable;
	(agentLab->objects).itemInterface.methods = (undefined *)0x3044b0;
	(agentLab->objects).field_0x8 = param_3;
	(agentLab->objects).subItems = resourceTable;
	resourceTable = resources->scriptTable;
	(agentLab->scripts).itemInterface.methods = (undefined *)0x304460;
	(agentLab->scripts).subItems = resourceTable;
	(agentLab->scripts).field_0x8 = 0x0;
	resourceTable = resources->animationTable;
	(agentLab->animations).itemInterface.methods = (undefined *)0x304410;
	(agentLab->animations).subItems = resourceTable;
	(agentLab->animations).field_0x8 = 0x0;
	resourceTable = resources->ogiTable;
	(agentLab->ogis).itemInterface.methods = (undefined *)0x3043c0;
	(agentLab->ogis).subItems = resourceTable;
	(agentLab->ogis).field_0x8 = 0x0;
	resourceTable = resources->codeModelTable;
	(agentLab->codeModels).itemInterface.methods = (undefined *)0x304370;
	(agentLab->codeModels).subItems = resourceTable;
	(agentLab->codeModels).field_0x8 = 0x0;
	resourceTable = resources->soundTable;
	(agentLab->sfx).itemInterface.methods = (undefined *)0x2f5518;
	(agentLab->sfx).subItems = resourceTable;
	(agentLab->sfx).field_0x8 = 0x0;
	resourceTable = (ResourceTable *)0x0;
	if (((ResourceTable *)resources->voicesTables != (ResourceTable *)0x0) &&
		(resources->languagesAmt != 0x0)) {
		resourceTable = (ResourceTable *)((ResourceTable *)resources->voicesTables)->itemsAmount;
	}
	(agentLab->sfxEnglish).itemInterface.methods = (undefined *)0x2f5518;
	(agentLab->sfxEnglish).subItems = resourceTable;
	(agentLab->sfxEnglish).field_0x8 = 0x0;
	resourceTable = (ResourceTable *)0x0;
	if ((resources->voicesTables != (ResourceTable **)0x0) && (0x1 < resources->languagesAmt)) {
		resourceTable = resources->voicesTables[0x1];
	}
	(agentLab->sfxFrench).itemInterface.methods = (undefined *)0x2f5518;
	(agentLab->sfxFrench).subItems = resourceTable;
	(agentLab->sfxFrench).field_0x8 = 0x0;
	resourceTable = (ResourceTable *)0x0;
	if ((resources->voicesTables != (ResourceTable **)0x0) && (0x2 < resources->languagesAmt)) {
		resourceTable = resources->voicesTables[0x2];
	}
	(agentLab->sfxGerman).itemInterface.methods = (undefined *)0x2f5518;
	(agentLab->sfxGerman).subItems = resourceTable;
	(agentLab->sfxGerman).field_0x8 = 0x0;
	resourceTable = (ResourceTable *)0x0;
	if ((resources->voicesTables != (ResourceTable **)0x0) && (0x3 < resources->languagesAmt)) {
		resourceTable = resources->voicesTables[0x3];
	}
	(agentLab->sfxSpanish).itemInterface.methods = (undefined *)0x2f5518;
	(agentLab->sfxSpanish).subItems = resourceTable;
	(agentLab->sfxSpanish).field_0x8 = 0x0;
	resourceTable = (ResourceTable *)0x0;
	if ((resources->voicesTables != (ResourceTable **)0x0) && (0x4 < resources->languagesAmt)) {
		resourceTable = resources->voicesTables[0x4];
	}
	(agentLab->sfxItalian).itemInterface.methods = (undefined *)0x2f5518;
	(agentLab->sfxItalian).subItems = resourceTable;
	(agentLab->sfxItalian).field_0x8 = 0x0;
	resourceTable = (ResourceTable *)0x0;
	if ((resources->voicesTables != (ResourceTable **)0x0) && (0x5 < resources->languagesAmt)) {
		resourceTable = resources->voicesTables[0x5];
	}
	(agentLab->sfxJapanese).itemInterface.methods = (undefined *)0x2f5518;
	(agentLab->sfxJapanese).subItems = resourceTable;
	(agentLab->sfxJapanese).field_0x8 = 0x0;
	return agentLab;
}



int ** FUN_00266540(AgentLabItem *this_, undefined8 param_2, int **param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int iVar3;
	int **ppiVar4;

	if (*param_4 == 0x0) {
		return (int **)0x0;
	}
	piVar1 = param_3[0x2];
	piVar2 = *param_3;
	switch (piVar1) {
	case (int *)0x0:
		iVar3 = 0xc;
		break;
	case (int *)0x1:
		iVar3 = 0xc;
		break;
	case (int *)0x2:
		iVar3 = 0xc;
		break;
	case (int *)0x3:
		iVar3 = 0xc;
		break;
	case (int *)0x4:
		iVar3 = 0xc;
		break;
	default:
		goto switchD_00266590_caseD_5;
	case (int *)0x6:
		iVar3 = 0xc;
		break;
	case (int *)0x7:
	case (int *)0x8:
	case (int *)0x9:
	case (int *)0xa:
	case (int *)0xb:
	case (int *)0xc:
		iVar3 = 0xc;
		if (piVar1 != (int *)(GlobalZero + 0x7)) {
			iVar3 = 0x0;
		}
	}
	*param_4 = iVar3;
switchD_00266590_caseD_5:
	ppiVar4 = (int **)0x0;
	if (*param_4 != 0x0) {
		ppiVar4 = (int **)MemoryAllocate(0x10);
		ppiVar4[0x1] = piVar1;
		*(undefined **)ppiVar4 = DAT(0x00304500);
		ppiVar4[0x2] = piVar2;
		*(AgentLabItem **)(ppiVar4 + 0x3) = this_;
	}
	return ppiVar4;
}



void FUN_00266628(ulong param_1, ulong param_2)

{
	void **address;
	void *address_00;

	address_00 = (void *)param_1;
	FUN_002670f0((int)address_00);
	address = *(void ***)((int)address_00 + 0x2c);
	if (address == (void **)0x0) {
		address = *(void ***)((int)address_00 + 0x28);
	}
	else {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
		address = *(void ***)((int)address_00 + 0x28);
	}
	if (address == (void **)0x0) {
		address = *(void ***)((int)address_00 + 0x24);
	}
	else {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
		address = *(void ***)((int)address_00 + 0x24);
	}
	if (address == (void **)0x0) {
		address = *(void ***)((int)address_00 + 0x20);
	}
	else {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
		address = *(void ***)((int)address_00 + 0x20);
	}
	if (address == (void **)0x0) {
		address = *(void ***)((int)address_00 + 0x1c);
	}
	else {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
		address = *(void ***)((int)address_00 + 0x1c);
	}
	if (address == (void **)0x0) {
		address = *(void ***)((int)address_00 + 0x18);
	}
	else {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
		address = *(void ***)((int)address_00 + 0x18);
	}
	if (address == (void **)0x0) {
		address = *(void ***)((int)address_00 + 0x14);
	}
	else {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
		address = *(void ***)((int)address_00 + 0x14);
	}
	if (address == (void **)0x0) {
		address = *(void ***)((int)address_00 + 0x10);
	}
	else {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
		address = *(void ***)((int)address_00 + 0x10);
	}
	if (address == (void **)0x0) {
		address = *(void ***)((int)address_00 + 0xc);
	}
	else {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
		address = *(void ***)((int)address_00 + 0xc);
	}
	if (address != (void **)0x0) {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



void FUN_002667e0(astruct_12 *param_1, int param_2, long param_3, GameInstance *instancePtr)

{
	astruct_15 *astr15;
	void *pvVar1;
	long lVar2;
	uint uVar3;
	void **ppvVar4;
	int iVar5;

	astr15 = DAT_0030a14c;
	FUN_002627f0((int *)DAT_0030a14c);
	FUN_00262808((int *)astr15);
	FUN_002627d8((int *)astr15);
	FUN_002627c0((int *)astr15);
	if ((param_1->field_0x0 & 0x2) == 0x0) {
		astr15->field_0x0 = 0x2000;
	}
	else {
		astr15->field_0x0 = 0x0;
	}
	lVar2 = FUN_0025e080(astr15, param_1->field_0x8, instancePtr);
	if (param_1->field_0x30 == (void **)0x0) {
		ppvVar4 = (void **)MemoryAllocate(0x8);
		ppvVar4[0x1] = (void *)param_3;
		if (param_3 == 0x0) {
			pvVar1 = (void *)0x0;
		}
		else {
			pvVar1 = MemoryAllocate2((long)((int)(void *)param_3 << 0x2));
		}
		uVar3 = param_1->field_0x0;
		*ppvVar4 = pvVar1;
		param_1->field_0x30 = ppvVar4;
		param_1->field_0x0 = uVar3 & 0xffff0003;
		ppvVar4 = param_1->field_0x30;
	}
	else {
		ppvVar4 = param_1->field_0x30;
	}
	iVar5 = (int)lVar2;
	*(int *)((int)*ppvVar4 + (param_1->field_0x0 & 0xfffc)) = iVar5;
	uVar3 = param_1->field_0x0 & 0xffff0003 |
		((param_1->field_0x0 >> 0x2 & 0x3fff) + 0x1 & 0x3fff) << 0x2;
	param_1->field_0x0 = uVar3;
	FUN_0025f448(instancePtr, param_1->field_0x8, iVar5, ((long)((int)uVar3 >> 0x1) ^ 0x1U) & 0x1);
	FUN_0025f558(instancePtr, param_1->field_0x8, iVar5);
	astr15->field_0x0 = 0x0;
	return;
}



undefined * FUN_00266958(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4)

{
	int *piVar1;
	bool bVar2;
	void *pvVar3;
	GameNode *pGVar4;
	ushort *puVar5;
	undefined *puVar6;
	undefined8 uVar7;
	long lVar8;
	int iVar9;
	undefined *local_30;
	char *local_2c;
	uint local_28;

	local_2c = (char *)param_4;
	if (*local_2c == '\0') {
		pvVar3 = MemoryAllocate(0xc0);
		uVar7 = FUN_001dd4f0((long)(int)pvVar3, (int)local_2c);
		piVar1 = *(int **)(*(int *)(param_1 + 0x8) + 0x14);
		if (piVar1 == (int *)0x0) {
			iVar9 = 0x0;
		}
		else {
			iVar9 = *piVar1;
		}
		puVar6 = (undefined *)FUN_001f25c0(iVar9, (int)uVar7);
	}
	else {
		local_2c = local_2c + 0x40;
		local_30 = DAT(0x00303af0);
		local_28 = 0x0;
		lVar8 = FUN_0025e558(DAT_0030a14c, (long)*(int *)(param_1 + 0x8), param_4);
		pGVar4 = GetGameNode((NodeList *)((int)lVar8 + 0xd4), 0x7);
		local_28 = 0x0;
		while (true) {
			if (((int)local_28 < 0x0) || (bVar2 = false, *(uint *)(local_2c + 0x4) <= local_28)) {
				bVar2 = true;
			}
			puVar6 = DAT(0x00303b48);
			if (bVar2) break;
			puVar5 = (ushort *)
				(**(code **)(local_30 + 0x24))((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			FUN_001f6298((int)pGVar4, *(undefined4 *)(**(int **)(param_1 + 0x30) + (uint)*puVar5 * 0x4));
			local_28 += 0x1;
		}
	}
	return puVar6;
}



void FUN_00266a90(uint *param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4)

{
	bool bVar1;
	uint *puVar2;
	GameNode *pGVar3;
	ushort *puVar4;
	long lVar5;
	undefined *local_30;
	int local_2c;
	uint local_28;

	puVar2 = DAT_0030a14c;
	local_2c = (int)param_4 + 0x40;
	local_30 = DAT(0x00303af0);
	local_28 = 0x0;
	if ((*param_1 & 0x2) == 0x0) {
		*DAT_0030a14c = 0x2000;
	}
	else {
		*DAT_0030a14c = 0x0;
	}
	lVar5 = FUN_0025e888(puVar2, (long)(int)param_1[0x2], param_4);
	pGVar3 = GetGameNode((NodeList *)((int)lVar5 + 0xd4), 0x8);
	local_28 = 0x0;
	while (true) {
		if (((int)local_28 < 0x0) || (bVar1 = false, *(uint *)(local_2c + 0x4) <= local_28)) {
			bVar1 = true;
		}
		if (bVar1) break;
		puVar4 = (ushort *)
			(**(code **)(local_30 + 0x24))((int)&local_30 + (int)*(short *)(local_30 + 0x20));
		FUN_001f6298((int)pGVar3, *(undefined4 *)(*(int *)param_1[0xc] + (uint)*puVar4 * 0x4));
		local_28 += 0x1;
	}
	*puVar2 = 0x0;
	return;
}



void FUN_00266ba0(int param_1)

{
	int iVar1;
	int iVar2;
	void **address;
	bool bVar3;
	int *piVar4;
	GameNode *pGVar5;
	ushort *puVar6;
	int iVar7;
	undefined *local_50;
	int local_4c;
	uint local_48;
	undefined *local_40;
	int local_3c;
	uint local_38;

	iVar1 = *(int *)(param_1 + 0x10);
	if ((long)*(int *)(param_1 + 0x34) != 0x0) {
		FUN_0022c2e8((long)*(int *)(param_1 + 0x34), PTR_0030a150->field_0x810,
			(ulong)*(ushort *)(*(int *)(param_1 + 0x8) + 0xc));
	}
	if (iVar1 != 0x0) {
		local_50 = DAT(0x00303a60);
		local_48 = 0x0;
		iVar7 = 0x0;
		local_4c = iVar1;
		while (true) {
			if (((int)local_48 < 0x0) || (bVar3 = false, *(uint *)(local_4c + 0x4) <= local_48)) {
				bVar3 = true;
			}
			if (bVar3) break;
			piVar4 = (int *)(**(code **)(local_50 + 0x24))
				((int)&local_50 + (int)*(short *)(local_50 + 0x20));
			iVar1 = *piVar4;
			if ((*(int *)(iVar1 + 0x20) != 0x0) &&
				(iVar2 = *(int *)(**(int **)(param_1 + 0x30) + iVar7 * 0x4), iVar2 != 0x0)) {
				pGVar5 = GetGameNode((NodeList *)(iVar2 + 0xd4), 0x1);
				pGVar5 = pGVar5[0x5].prevNode;
				local_38 = 0x0;
				local_40 = DAT(0x003033e0);
				local_3c = iVar1 + 0x1c;
				while (true) {
					if (((int)local_38 < 0x0) || (bVar3 = false, *(uint *)(local_3c + 0x4) <= local_38)) {
						bVar3 = true;
					}
					if (bVar3) break;
					puVar6 = (ushort *)
						(**(code **)(local_40 + 0x24))((int)&local_40 + (int)*(short *)(local_40 + 0x20))
						;
					FUN_00263550((int *)pGVar5,
						(long)*(int *)(**(int **)(param_1 + 0x30) + (uint)*puVar6 * 0x4), 0x1);
					local_38 += 0x1;
				}
				local_40 = DAT(0x00303430);
			}
			local_48 += 0x1;
			iVar7 = iVar7 + 0x1;
		}
		local_50 = DAT(0x00303ab8);
	}
	address = *(void ***)(param_1 + 0x30);
	if (address == (void **)0x0) {
		*(undefined4 *)(param_1 + 0x30) = 0x0;
	}
	else {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
		*(undefined4 *)(param_1 + 0x30) = 0x0;
	}
	return;
}



void FUN_00266d90(int param_1)

{
	void **address;
	int iVar1;
	GameInstance **ppGVar2;
	int *piVar3;
	ulong uVar4;
	undefined *local_40;
	int local_3c;
	int local_38;

	FUN_0026b088((int **)(param_1 + 0xc), 0x0);
	address = *(void ***)(param_1 + 0x14);
	if (address == (void **)0x0) {
		*(undefined4 *)(param_1 + 0x14) = 0x0;
	}
	else {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
		*(undefined4 *)(param_1 + 0x14) = 0x0;
	}
	address = *(void ***)(param_1 + 0x18);
	if (address != (void **)0x0) {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*(undefined4 *)(param_1 + 0x18) = 0x0;
	address = *(void ***)(param_1 + 0x1c);
	if (address != (void **)0x0) {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*(undefined4 *)(param_1 + 0x1c) = 0x0;
	address = *(void ***)(param_1 + 0x20);
	if (address != (void **)0x0) {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*(undefined4 *)(param_1 + 0x20) = 0x0;
	address = *(void ***)(param_1 + 0x2c);
	if (address != (void **)0x0) {
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*(undefined4 *)(param_1 + 0x2c) = 0x0;
	local_3c = *(int *)(param_1 + 0x10);
	if (local_3c != 0x0) {
		local_38 = 0x0;
		local_40 = DAT(0x00303a60);
		while (true) {
			uVar4 = (**(code **)(local_40 + 0x1c))((int)&local_40 + (int)*(short *)(local_40 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			ppGVar2 = (GameInstance **)
				(**(code **)(local_40 + 0x24))((int)&local_40 + (int)*(short *)(local_40 + 0x20));
			if (*ppGVar2 != (GameInstance *)0x0) {
				FUN_0025efd8(*ppGVar2, 0x3);
			}
			local_38 += 0x1;
		}
		address = *(void ***)(void **)(param_1 + 0x10);
		local_40 = DAT(0x00303ab8);
		if (address != (void **)0x0) {
			if (*address != (void *)0x0) {
				MemoryDeallocate_(*address);
			}
			MemoryDeallocate2_(address);
		}
	}
	*(void **)(param_1 + 0x10) = (void *)0x0;
	local_3c = *(int *)(param_1 + 0x24);
	if (local_3c != 0x0) {
		local_38 = 0x0;
		local_40 = DAT(0x00303828);
		while (true) {
			uVar4 = (**(code **)(local_40 + 0x1c))((int)&local_40 + (int)*(short *)(local_40 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			piVar3 = (int *)(**(code **)(local_40 + 0x24))
				((int)&local_40 + (int)*(short *)(local_40 + 0x20));
			iVar1 = *piVar3;
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x50) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x50) + 0x8), 0x3);
			}
			local_38 += 0x1;
		}
		address = *(void ***)(void **)(param_1 + 0x24);
		local_40 = DAT(0x00303880);
		if (address != (void **)0x0) {
			if (*address != (void *)0x0) {
				MemoryDeallocate_(*address);
			}
			MemoryDeallocate2_(address);
		}
	}
	*(void **)(param_1 + 0x24) = (void *)0x0;
	local_3c = *(int *)(param_1 + 0x28);
	if (local_3c != 0x0) {
		local_38 = 0x0;
		local_40 = DAT(0x00303798);
		while (true) {
			uVar4 = (**(code **)(local_40 + 0x1c))((int)&local_40 + (int)*(short *)(local_40 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			piVar3 = (int *)(**(code **)(local_40 + 0x24))
				((int)&local_40 + (int)*(short *)(local_40 + 0x20));
			iVar1 = *piVar3;
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x50) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x50) + 0x8), 0x3);
			}
			local_38 += 0x1;
		}
		address = *(void ***)(void **)(param_1 + 0x28);
		local_40 = DAT(0x003037f0);
		if (address != (void **)0x0) {
			if (*address != (void *)0x0) {
				MemoryDeallocate_(*address);
			}
			MemoryDeallocate2_(address);
		}
	}
	*(void **)(param_1 + 0x28) = (void *)0x0;
	return;
}



void FUN_002670f0(int param_1)

{
	void *address;
	int iVar1;
	GameInstance **ppGVar2;
	void **address_00;
	int *piVar3;
	ulong uVar4;
	undefined *local_70;
	int local_6c;
	int local_68;
	void **local_60;

	FUN_0026b088((int **)(param_1 + 0xc), 0x1);
	local_6c = *(int *)(param_1 + 0x10);
	if (local_6c != 0x0) {
		local_68 = 0x0;
		local_70 = DAT(0x00303a60);
		while (true) {
			uVar4 = (**(code **)(local_70 + 0x1c))((int)&local_70 + (int)*(short *)(local_70 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			ppGVar2 = (GameInstance **)
				(**(code **)(local_70 + 0x24))((int)&local_70 + (int)*(short *)(local_70 + 0x20));
			if (*ppGVar2 != (GameInstance *)0x0) {
				FUN_0025efd8(*ppGVar2, 0x3);
			}
			local_68 += 0x1;
		}
		address_00 = *(void ***)(void **)(param_1 + 0x10);
		local_70 = DAT(0x00303ab8);
		if (address_00 != (void **)0x0) {
			if (*address_00 != (void *)0x0) {
				MemoryDeallocate_(*address_00);
			}
			MemoryDeallocate2_(address_00);
		}
	}
	*(void **)(param_1 + 0x10) = (void *)0x0;
	local_60 = (void **)(param_1 + 0x2c);
	local_6c = *(int *)(param_1 + 0x14);
	if (local_6c != 0x0) {
		local_68 = 0x0;
		local_70 = DAT(0x00303948);
		while (true) {
			uVar4 = (**(code **)(local_70 + 0x1c))((int)&local_70 + (int)*(short *)(local_70 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			address_00 = (void **)(**(code **)(local_70 + 0x24))
				((int)&local_70 + (int)*(short *)(local_70 + 0x20));
			address = *address_00;
			if (address != (void *)0x0) {
				if (*(void **)((int)address + 0x14) != (void *)0x0) {
					MemoryDeallocate_(*(void **)((int)address + 0x14));
				}
				MemoryDeallocate2_(address);
			}
			local_68 += 0x1;
		}
		address_00 = *(void ***)(void **)(param_1 + 0x14);
		local_70 = DAT(0x003039a0);
		if (address_00 != (void **)0x0) {
			if (*address_00 != (void *)0x0) {
				MemoryDeallocate_(*address_00);
			}
			MemoryDeallocate2_(address_00);
		}
	}
	*(void **)(param_1 + 0x14) = (void *)0x0;
	local_6c = *(int *)(param_1 + 0x18);
	if (local_6c != 0x0) {
		local_68 = 0x0;
		local_70 = DAT(0x003038b8);
		while (true) {
			uVar4 = (**(code **)(local_70 + 0x1c))((int)&local_70 + (int)*(short *)(local_70 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			address_00 = (void **)(**(code **)(local_70 + 0x24))
				((int)&local_70 + (int)*(short *)(local_70 + 0x20));
			MemoryDeallocate2_(*address_00);
			local_68 += 0x1;
		}
		address_00 = *(void ***)(void **)(param_1 + 0x18);
		local_70 = DAT(0x00303910);
		if (address_00 != (void **)0x0) {
			if (*address_00 != (void *)0x0) {
				MemoryDeallocate_(*address_00);
			}
			MemoryDeallocate2_(address_00);
		}
	}
	*(void **)(param_1 + 0x18) = (void *)0x0;
	local_6c = *(int *)(param_1 + 0x1c);
	if (local_6c != 0x0) {
		local_68 = 0x0;
		local_70 = DAT(0x00304130);
		while (true) {
			uVar4 = (**(code **)(local_70 + 0x1c))((int)&local_70 + (int)*(short *)(local_70 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			piVar3 = (int *)(**(code **)(local_70 + 0x24))
				((int)&local_70 + (int)*(short *)(local_70 + 0x20));
			if ((long)*piVar3 != 0x0) {
				FUN_0023c738((long)*piVar3, 0x3);
			}
			local_68 += 0x1;
		}
		address_00 = *(void ***)(void **)(param_1 + 0x1c);
		local_70 = DAT(0x00304188);
		if (address_00 != (void **)0x0) {
			if (*address_00 != (void *)0x0) {
				MemoryDeallocate_(*address_00);
			}
			MemoryDeallocate2_(address_00);
		}
	}
	*(void **)(param_1 + 0x1c) = (void *)0x0;
	local_6c = *(int *)(param_1 + 0x20);
	if (local_6c != 0x0) {
		local_68 = 0x0;
		local_70 = DAT(0x003040a0);
		while (true) {
			uVar4 = (**(code **)(local_70 + 0x1c))((int)&local_70 + (int)*(short *)(local_70 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			piVar3 = (int *)(**(code **)(local_70 + 0x24))
				((int)&local_70 + (int)*(short *)(local_70 + 0x20));
			iVar1 = *piVar3;
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x8) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x8) + 0x8), 0x3);
			}
			local_68 += 0x1;
		}
		address_00 = *(void ***)(void **)(param_1 + 0x20);
		local_70 = DAT(0x003040f8);
		if (address_00 != (void **)0x0) {
			if (*address_00 != (void *)0x0) {
				MemoryDeallocate_(*address_00);
			}
			MemoryDeallocate2_(address_00);
		}
	}
	*(void **)(param_1 + 0x20) = (void *)0x0;
	local_6c = *(int *)(param_1 + 0x24);
	if (local_6c != 0x0) {
		local_68 = 0x0;
		local_70 = DAT(0x00303828);
		while (true) {
			uVar4 = (**(code **)(local_70 + 0x1c))((int)&local_70 + (int)*(short *)(local_70 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			piVar3 = (int *)(**(code **)(local_70 + 0x24))
				((int)&local_70 + (int)*(short *)(local_70 + 0x20));
			iVar1 = *piVar3;
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x50) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x50) + 0x8), 0x3);
			}
			local_68 += 0x1;
		}
		address_00 = *(void ***)(void **)(param_1 + 0x24);
		local_70 = DAT(0x00303880);
		if (address_00 != (void **)0x0) {
			if (*address_00 != (void *)0x0) {
				MemoryDeallocate_(*address_00);
			}
			MemoryDeallocate2_(address_00);
		}
	}
	*(void **)(param_1 + 0x24) = (void *)0x0;
	local_6c = *(int *)(param_1 + 0x28);
	if (local_6c != 0x0) {
		local_68 = 0x0;
		local_70 = DAT(0x00303798);
		while (true) {
			uVar4 = (**(code **)(local_70 + 0x1c))((int)&local_70 + (int)*(short *)(local_70 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			piVar3 = (int *)(**(code **)(local_70 + 0x24))
				((int)&local_70 + (int)*(short *)(local_70 + 0x20));
			iVar1 = *piVar3;
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x50) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x50) + 0x8), 0x3);
			}
			local_68 += 0x1;
		}
		address_00 = *(void ***)(void **)(param_1 + 0x28);
		local_70 = DAT(0x003037f0);
		if (address_00 != (void **)0x0) {
			if (*address_00 != (void *)0x0) {
				MemoryDeallocate_(*address_00);
			}
			MemoryDeallocate2_(address_00);
		}
	}
	*(void **)(param_1 + 0x28) = (void *)0x0;
	local_6c = *(int *)(param_1 + 0x2c);
	if (local_6c != 0x0) {
		local_68 = 0x0;
		local_70 = DAT(0x00303708);
		while (true) {
			uVar4 = (**(code **)(local_70 + 0x1c))((int)&local_70 + (int)*(short *)(local_70 + 0x18));
			if (((uVar4 ^ 0x1) & 0xff) == 0x0) break;
			address_00 = (void **)(**(code **)(local_70 + 0x24))
				((int)&local_70 + (int)*(short *)(local_70 + 0x20));
			if (*address_00 != (void *)0x0) {
				MemoryDeallocate2_(*address_00);
			}
			local_68 += 0x1;
		}
		address_00 = (void **)*local_60;
		local_70 = DAT(0x00303760);
		if (address_00 != (void **)0x0) {
			if (*address_00 != (void *)0x0) {
				MemoryDeallocate_(*address_00);
			}
			MemoryDeallocate2_(address_00);
		}
	}
	*local_60 = (void *)0x0;
	return;
}



undefined8 FUN_00267710(undefined8 param_1, int param_2)

{
	undefined4 uVar1;
	undefined4 *puVar2;

	puVar2 = (undefined4 *)param_1;
	*puVar2 = 0x303c10;
	puVar2[0x2] = 0x303ee0;
	puVar2[0x1] = param_2;
	puVar2[0x4] = param_2 + 0xc;
	puVar2[0x3] = param_2;
	uVar1 = 0x0;
	if (*(int *)(param_2 + 0xc) != 0x0) {
		uVar1 = *(undefined4 *)(*(int *)(param_2 + 0xc) + 0x4);
	}
	puVar2[0x5] = uVar1;
	puVar2[0x6] = 0x303e90;
	puVar2[0x8] = param_2 + 0x10;
	puVar2[0x7] = param_2;
	uVar1 = 0x0;
	if (*(int *)(param_2 + 0x10) != 0x0) {
		uVar1 = *(undefined4 *)(*(int *)(param_2 + 0x10) + 0x4);
	}
	puVar2[0x9] = uVar1;
	puVar2[0xa] = 0x303e40;
	puVar2[0xc] = param_2 + 0x14;
	puVar2[0xb] = param_2;
	uVar1 = 0x0;
	if (*(int *)(param_2 + 0x14) != 0x0) {
		uVar1 = *(undefined4 *)(*(int *)(param_2 + 0x14) + 0x4);
	}
	puVar2[0xd] = uVar1;
	puVar2[0xe] = 0x303df0;
	puVar2[0x10] = param_2 + 0x18;
	puVar2[0xf] = param_2;
	uVar1 = 0x0;
	if (*(int *)(param_2 + 0x18) != 0x0) {
		uVar1 = *(undefined4 *)(*(int *)(param_2 + 0x18) + 0x4);
	}
	puVar2[0x11] = uVar1;
	puVar2[0x12] = 0x303da0;
	puVar2[0x14] = param_2 + 0x1c;
	puVar2[0x13] = param_2;
	uVar1 = 0x0;
	if (*(int *)(param_2 + 0x1c) != 0x0) {
		uVar1 = *(undefined4 *)(*(int *)(param_2 + 0x1c) + 0x4);
	}
	puVar2[0x15] = uVar1;
	puVar2[0x16] = 0x303d50;
	puVar2[0x18] = param_2 + 0x20;
	puVar2[0x17] = param_2;
	uVar1 = 0x0;
	if (*(int *)(param_2 + 0x20) != 0x0) {
		uVar1 = *(undefined4 *)(*(int *)(param_2 + 0x20) + 0x4);
	}
	puVar2[0x19] = uVar1;
	puVar2[0x1a] = 0x303d00;
	puVar2[0x1c] = param_2 + 0x24;
	puVar2[0x1b] = param_2;
	uVar1 = 0x0;
	if (*(int *)(param_2 + 0x24) != 0x0) {
		uVar1 = *(undefined4 *)(*(int *)(param_2 + 0x24) + 0x4);
	}
	puVar2[0x1d] = uVar1;
	puVar2[0x1e] = 0x303cb0;
	puVar2[0x20] = param_2 + 0x28;
	puVar2[0x1f] = param_2;
	uVar1 = 0x0;
	if (*(int *)(param_2 + 0x28) != 0x0) {
		uVar1 = *(undefined4 *)(*(int *)(param_2 + 0x28) + 0x4);
	}
	puVar2[0x21] = uVar1;
	puVar2[0x22] = 0x303c60;
	puVar2[0x24] = param_2 + 0x2c;
	puVar2[0x23] = param_2;
	if (*(int *)(param_2 + 0x2c) == 0x0) {
		uVar1 = 0x0;
	}
	else {
		uVar1 = *(undefined4 *)(*(int *)(param_2 + 0x2c) + 0x4);
	}
	puVar2[0x25] = uVar1;
	return param_1;
}



// WARNING: Switch with 1 destination removed at 0x00267924 : 9 cases all go to same destination

int ** FUN_002678d8(int *param_1, undefined8 param_2, int **param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int **ppiVar3;

	if (*param_4 == 0x0) {
		ppiVar3 = (int **)0x0;
	}
	else {
		piVar1 = param_3[0x2];
		piVar2 = *param_3;
		if (piVar1 < DAT(0x00000009)) {
			*param_4 = 0xc;
		}
		ppiVar3 = (int **)MemoryAllocate(0x10);
		ppiVar3[0x1] = param_1;
		*(undefined **)ppiVar3 = DAT(0x00303f30);
		ppiVar3[0x2] = piVar1;
		ppiVar3[0x3] = piVar2;
	}
	return ppiVar3;
}



void FUN_00267970(long param_1, long param_2)

{
	if ((param_2 == 0xffff) && (param_1 != 0x0)) {
		DAT_003b6f20 = 0x0;
		DAT_003b6f22 = 0x0;
		DAT_003b7b20 = 0x0;
		DAT_003b7b22 = 0x0;
		DAT_003b8720 = 0x0;
		DAT_003b8722 = 0x0;
		DAT_003b9320 = 0x0;
		DAT_003b9322 = 0x0;
		DAT_003b9f20 = 0x0;
		DAT_003b9f22 = 0x0;
		DAT_003bab20 = 0x0;
		DAT_003bb720 = 0x0;
		DAT_003bab22 = 0x0;
		DAT_003bb722 = 0x0;
		DAT_003bc320 = 0x0;
		DAT_003bc322 = 0x0;
		DAT_003bcf20 = 0x0;
		DAT_003bcf22 = 0x0;
		uRam0030a990 = 0x0;
	}
	return;
}



void FUN_00267a40(ResourceTable *this_, ulong param_2)

{
	uint uVar1;
	void **ppvVar2;
	short *address;
	uint uVar3;

	uVar3 = 0x0;
	this_->methods = DAT(0x00304738);
	if ((this_->itemsAmount & 0x3fff) != 0x0) {
		ppvVar2 = this_->resourceTable;
		while (true) {
			if ((GameObject *)ppvVar2[uVar3] == (GameObject *)0x0) {
				uVar1 = this_->itemsAmount;
			}
			else {
				FUN_0025d380((GameObject *)ppvVar2[uVar3], 0x3);
				this_->resourceTable[uVar3] = (void *)0x0;
				uVar1 = this_->itemsAmount;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			ppvVar2 = this_->resourceTable;
		}
	}
	if (this_->resourceTable == (void **)0x0) {
		address = this_->resourceIDsTable;
	}
	else {
		MemoryDeallocate_(this_->resourceTable);
		address = this_->resourceIDsTable;
	}
	if (address != (short *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(this_);
	}
	return;
}



void FUN_00267b18(ResourceTable *this_)

{
	uint uVar1;
	void **resources;
	uint counter;

	counter = 0x0;
	if ((this_->itemsAmount & 0x3fff) != 0x0) {
		resources = this_->resourceTable;
		while (true) {
			if ((GameObject *)resources[counter] == (GameObject *)0x0) {
				uVar1 = this_->itemsAmount;
			}
			else {
				FUN_0025d380((GameObject *)resources[counter], 0x3);
				this_->resourceTable[counter] = (void *)0x0;
				uVar1 = this_->itemsAmount;
			}
			counter += 0x1;
			if ((uVar1 & 0x3fff) <= counter) break;
			resources = this_->resourceTable;
		}
	}
	return;
}



void FUN_00267ba0(ResourceTable *this_, ulong param_2)

{
	uint uVar1;
	void **ppvVar2;
	short *address;
	uint uVar3;

	uVar3 = 0x0;
	this_->methods = DAT(0x00304738);
	if ((this_->itemsAmount & 0x3fff) != 0x0) {
		ppvVar2 = this_->resourceTable;
		while (true) {
			if ((GameObject *)ppvVar2[uVar3] == (GameObject *)0x0) {
				uVar1 = this_->itemsAmount;
			}
			else {
				FUN_0025d380((GameObject *)ppvVar2[uVar3], 0x3);
				this_->resourceTable[uVar3] = (void *)0x0;
				uVar1 = this_->itemsAmount;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			ppvVar2 = this_->resourceTable;
		}
	}
	if (this_->resourceTable == (void **)0x0) {
		address = this_->resourceIDsTable;
	}
	else {
		MemoryDeallocate_(this_->resourceTable);
		address = this_->resourceIDsTable;
	}
	if (address != (short *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(this_);
	}
	return;
}



void FUN_00267c78(ulong param_1, ulong param_2)

{
	int iVar1;
	uint uVar2;
	void *address;
	uint uVar3;
	uint *address_00;

	uVar3 = 0x0;
	address_00 = (uint *)param_1;
	address_00[0x5] = 0x3046d8;
	if ((*address_00 & 0x3fff) != 0x0) {
		uVar2 = address_00[0x1];
		while (true) {
			iVar1 = *(int *)(uVar3 * 0x4 + uVar2);
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x18) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x18) + 0x8), 0x3);
				*(undefined4 *)(uVar3 * 0x4 + address_00[0x1]) = 0x0;
			}
			uVar3 += 0x1;
			if ((*address_00 & 0x3fff) <= uVar3) break;
			uVar2 = address_00[0x1];
		}
	}
	if ((void *)address_00[0x1] == (void *)0x0) {
		address = (void *)address_00[0x2];
	}
	else {
		MemoryDeallocate_((void *)address_00[0x1]);
		address = (void *)address_00[0x2];
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



void FUN_00267d60(ulong param_1, ulong param_2)

{
	uint uVar1;
	void *address;
	ulong uVar2;
	uint uVar3;
	uint *address_00;

	uVar3 = 0x0;
	address_00 = (uint *)param_1;
	address_00[0x5] = 0x304678;
	if ((*address_00 & 0x3fff) != 0x0) {
		uVar1 = address_00[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *address_00;
			}
			else {
				FUN_00299550(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + address_00[0x1]) = 0x0;
				uVar1 = *address_00;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = address_00[0x1];
		}
	}
	if ((void *)address_00[0x1] == (void *)0x0) {
		address = (void *)address_00[0x2];
	}
	else {
		MemoryDeallocate_((void *)address_00[0x1]);
		address = (void *)address_00[0x2];
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



void FUN_00267e38(uint *param_1)

{
	uint uVar1;
	ulong uVar2;
	uint uVar3;

	uVar3 = 0x0;
	if ((*param_1 & 0x3fff) != 0x0) {
		uVar1 = param_1[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *param_1;
			}
			else {
				FUN_00299550(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + param_1[0x1]) = 0x0;
				uVar1 = *param_1;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = param_1[0x1];
		}
	}
	return;
}



void FUN_00267ec0(ulong param_1, ulong param_2)

{
	uint uVar1;
	void *address;
	ulong uVar2;
	uint uVar3;
	uint *address_00;

	uVar3 = 0x0;
	address_00 = (uint *)param_1;
	address_00[0x5] = 0x304678;
	if ((*address_00 & 0x3fff) != 0x0) {
		uVar1 = address_00[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *address_00;
			}
			else {
				FUN_00299550(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + address_00[0x1]) = 0x0;
				uVar1 = *address_00;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = address_00[0x1];
		}
	}
	if ((void *)address_00[0x1] == (void *)0x0) {
		address = (void *)address_00[0x2];
	}
	else {
		MemoryDeallocate_((void *)address_00[0x1]);
		address = (void *)address_00[0x2];
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



void FUN_00267f98(ulong param_1, ulong param_2)

{
	uint uVar1;
	void *address;
	ulong uVar2;
	uint uVar3;
	uint *address_00;

	uVar3 = 0x0;
	address_00 = (uint *)param_1;
	address_00[0x5] = 0x304618;
	if ((*address_00 & 0x3fff) != 0x0) {
		uVar1 = address_00[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *address_00;
			}
			else {
				FUN_002960e0(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + address_00[0x1]) = 0x0;
				uVar1 = *address_00;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = address_00[0x1];
		}
	}
	if ((void *)address_00[0x1] == (void *)0x0) {
		address = (void *)address_00[0x2];
	}
	else {
		MemoryDeallocate_((void *)address_00[0x1]);
		address = (void *)address_00[0x2];
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



void FUN_00268070(uint *param_1)

{
	uint uVar1;
	ulong uVar2;
	uint uVar3;

	uVar3 = 0x0;
	if ((*param_1 & 0x3fff) != 0x0) {
		uVar1 = param_1[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *param_1;
			}
			else {
				FUN_002960e0(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + param_1[0x1]) = 0x0;
				uVar1 = *param_1;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = param_1[0x1];
		}
	}
	return;
}



void FUN_002680f8(ulong param_1, ulong param_2)

{
	uint uVar1;
	void *address;
	ulong uVar2;
	uint uVar3;
	uint *address_00;

	uVar3 = 0x0;
	address_00 = (uint *)param_1;
	address_00[0x5] = 0x304618;
	if ((*address_00 & 0x3fff) != 0x0) {
		uVar1 = address_00[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *address_00;
			}
			else {
				FUN_002960e0(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + address_00[0x1]) = 0x0;
				uVar1 = *address_00;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = address_00[0x1];
		}
	}
	if ((void *)address_00[0x1] == (void *)0x0) {
		address = (void *)address_00[0x2];
	}
	else {
		MemoryDeallocate_((void *)address_00[0x1]);
		address = (void *)address_00[0x2];
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



void FUN_002681d0(ulong param_1, ulong param_2)

{
	uint uVar1;
	void *address;
	ulong uVar2;
	uint uVar3;
	uint *address_00;

	uVar3 = 0x0;
	address_00 = (uint *)param_1;
	address_00[0x5] = 0x3045b8;
	if ((*address_00 & 0x3fff) != 0x0) {
		uVar1 = address_00[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *address_00;
			}
			else {
				FUN_00263898(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + address_00[0x1]) = 0x0;
				uVar1 = *address_00;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = address_00[0x1];
		}
	}
	if ((void *)address_00[0x1] == (void *)0x0) {
		address = (void *)address_00[0x2];
	}
	else {
		MemoryDeallocate_((void *)address_00[0x1]);
		address = (void *)address_00[0x2];
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



void FUN_002682a8(uint *param_1)

{
	uint uVar1;
	ulong uVar2;
	uint uVar3;

	uVar3 = 0x0;
	if ((*param_1 & 0x3fff) != 0x0) {
		uVar1 = param_1[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *param_1;
			}
			else {
				FUN_00263898(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + param_1[0x1]) = 0x0;
				uVar1 = *param_1;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = param_1[0x1];
		}
	}
	return;
}



void FUN_00268330(ulong param_1, ulong param_2)

{
	uint uVar1;
	void *address;
	ulong uVar2;
	uint uVar3;
	uint *address_00;

	uVar3 = 0x0;
	address_00 = (uint *)param_1;
	address_00[0x5] = 0x3045b8;
	if ((*address_00 & 0x3fff) != 0x0) {
		uVar1 = address_00[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *address_00;
			}
			else {
				FUN_00263898(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + address_00[0x1]) = 0x0;
				uVar1 = *address_00;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = address_00[0x1];
		}
	}
	if ((void *)address_00[0x1] == (void *)0x0) {
		address = (void *)address_00[0x2];
	}
	else {
		MemoryDeallocate_((void *)address_00[0x1]);
		address = (void *)address_00[0x2];
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



void FUN_00268408(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00268438(AgentLabSubItem *this_, ulong param_2)

{
	(this_->itemInterface).methods = (undefined *)0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(this_);
	}
	return;
}



void FUN_00268468(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00268498(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_002684c8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_002684f8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00268528(undefined *param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	*(undefined4 *)(param_1 + 0x8c) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x80) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x74) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x68) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x5c) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x50) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x44) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x38) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x2c) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x20) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x14) = 0x2f5568;
	*(undefined4 *)(param_1 + 0x8) = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(param_1);
	}
	return;
}



void FUN_00268588(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00268638(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x304188;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



undefined4 FUN_00268670(int param_1)

{
	undefined4 uVar1;

	uVar1 = 0x0;
	if (((int)*(uint *)(param_1 + 0x8) < 0x0) ||
		(*(uint *)(*(int *)(param_1 + 0x4) + 0x4) <= *(uint *)(param_1 + 0x8))) {
		uVar1 = 0x1;
	}
	return uVar1;
}



int FUN_002686b0(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



void FUN_002686c8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x3040f8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_002686f8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x3040f8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



undefined4 FUN_00268730(int param_1)

{
	undefined4 uVar1;

	uVar1 = 0x0;
	if (((int)*(uint *)(param_1 + 0x8) < 0x0) ||
		(*(uint *)(*(int *)(param_1 + 0x4) + 0x4) <= *(uint *)(param_1 + 0x8))) {
		uVar1 = 0x1;
	}
	return uVar1;
}



int FUN_00268770(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



undefined4 FUN_00268788(GeneralChunkStruct *param_1, int param_2)

{
	if (*(int **)&param_1->field_0x2c != (int *)0x0) {
		return *(undefined4 *)
			(**(int **)&param_1->field_0x2c + (*(int *)&param_1->field_0x30 + param_2) * 0x4);
	}
	return 0x0;
}



void FUN_002687e0(int param_1)

{
	uint *puVar1;
	int iVar2;
	int *piVar3;

	puVar1 = *(uint **)(*(int *)(param_1 + 0x10) + 0x80c);
	if (*(int *)(param_1 + 0x28) != 0x0) {
		*(undefined4 *)
			(*(int *)(*(int *)(param_1 + 0x28) + 0xc) + (uint)*(ushort *)(param_1 + 0xc) * 0x4) = 0x0;
		iVar2 = *(int *)(param_1 + 0x28);
		if (iVar2 != 0x0) {
			(**(code **)(*(int *)(iVar2 + 0x10) + 0xc))
				(iVar2 + *(short *)(*(int *)(iVar2 + 0x10) + 0x8), 0x3);
		}
		*(undefined4 *)(param_1 + 0x28) = 0x0;
	}
	FUN_00263da8(param_1);
	FUN_00263e98(param_1);
	piVar3 = *(int **)(param_1 + 0x20);
	if (piVar3 != (int *)0x0) {
		(**(code **)(*piVar3 + 0x2c))((int)piVar3 + (int)*(short *)(*piVar3 + 0x28), 0x3);
	}
	*(undefined4 *)(param_1 + 0x20) = 0x0;
	if (*(uint **)(param_1 + 0x18) != (uint *)0x0) {
		FUN_00266260(puVar1, *(uint **)(param_1 + 0x18));
		MemoryDeallocate2_(*(void **)(param_1 + 0x18));
		*(undefined4 *)(param_1 + 0x18) = 0x0;
	}
	FUN_00101248((long)(param_1 + 0x14), (int **)0x0);
	*(undefined2 *)(param_1 + 0x24) = 0x0;
	return;
}



void FUN_002688b0(int param_1, undefined4 param_2)

{
	*(undefined4 *)(param_1 + 0x20) = param_2;
	return;
}



void FUN_002688b8(int param_1)

{
	*(short *)(param_1 + 0x24) = *(short *)(param_1 + 0x24) + 0x1;
	return;
}



undefined8 * FUN_002688d0(int param_1, float *param_2, long param_3)

{
	int *piVar1;
	undefined8 *puVar2;

	piVar1 = *(int **)(param_1 + 0x28);
	puVar2 = (undefined8 *)0x0;
	if (piVar1 != (int *)0x0) {
		if (param_3 == 0x0) {
			puVar2 = FUN_0023c288(piVar1, param_2);
		}
		else {
			puVar2 = FUN_0023c348(piVar1, param_2, (undefined2 *)param_3);
		}
	}
	return puVar2;
}



undefined8 *
FUN_00268910(int param_1, float *param_2, undefined2 *param_3, ushort param_4, ushort param_5)

{
	undefined8 *puVar1;

	puVar1 = (undefined8 *)0x0;
	if (*(int **)(param_1 + 0x28) != (int *)0x0) {
		puVar1 = FUN_0023c410(*(int **)(param_1 + 0x28), param_2, param_3, param_4, param_5);
	}
	return puVar1;
}



long FUN_00268948(int *param_1, long param_2, long param_3, undefined8 param_4, int *param_5)

{
	undefined2 uVar1;
	ushort uVar2;
	String *pSVar3;
	int **ppiVar4;
	int *piVar5;
	int **ppiVar6;

	pSVar3 = (String *)MemoryAllocate(0x38);
	uVar1 = *(undefined2 *)param_1;
	CopyToString(pSVar3, (char *)param_2);
	*(undefined2 *)&pSVar3[0x1].string = uVar1;
	*(int **)&pSVar3[0x1].stringLength = param_1;
	if (param_3 == 0x0) {
		pSVar3[0x1].stringMemoryOccupied = 0x0;
	}
	else {
		ppiVar6 = (int **)param_3;
		if (*ppiVar6 == (int *)0x0) {
			ppiVar4 = (int **)MemoryAllocate(0x8);
			piVar5 = ppiVar4[0x1];
			*(int ***)ppiVar6 = ppiVar4;
			*(int ***)ppiVar4 = ppiVar6;
			ppiVar4[0x1] = (int *)((uint)piVar5 & 0xfe000000);
			piVar5 = *ppiVar6;
		}
		else {
			piVar5 = *ppiVar6;
		}
		piVar5[0x1] = piVar5[0x1] & 0xff000000U | (piVar5[0x1] & 0xffffffU) + 0x1 & 0xffffff;
		*(int **)&pSVar3[0x1].stringMemoryOccupied = *ppiVar6;
	}
	uVar2 = *(ushort *)param_1;
	*(int **)&pSVar3[0x2].stringLength = param_5;
	*(ushort *)param_1 = uVar2 + 0x1;
	pSVar3[0x2].string = (char *)0x0;
	*(String **)(param_1 + (uint)uVar2 + 0x1) = pSVar3;
	pSVar3[0x2].stringMemoryOccupied = 0x0;
	*(undefined2 *)&pSVar3[0x3].string = 0x0;
	pSVar3[0x3].stringLength = 0x0;
	pSVar3[0x3].stringMemoryOccupied = 0x0;
	pSVar3[0x4].string = (char *)0x0;
	pSVar3[0x4].stringLength = 0x0;
	return (long)(int)pSVar3;
}



undefined4 FUN_00268a78(VeryBigBOI_0x3200 *param_1, int param_2)

{
	uint *puVar1;
	int iVar2;
	int *piVar3;

	puVar1 = *(uint **)(*(int *)(param_2 + 0x10) + 0x80c);
	if (*(int *)(param_2 + 0x28) != 0x0) {
		*(undefined4 *)
			(*(int *)(*(int *)(param_2 + 0x28) + 0xc) + (uint)*(ushort *)(param_2 + 0xc) * 0x4) = 0x0;
		iVar2 = *(int *)(param_2 + 0x28);
		if (iVar2 != 0x0) {
			(**(code **)(*(int *)(iVar2 + 0x10) + 0xc))
				(iVar2 + *(short *)(*(int *)(iVar2 + 0x10) + 0x8), 0x3);
		}
		*(undefined4 *)(param_2 + 0x28) = 0x0;
	}
	FUN_00263da8(param_2);
	FUN_00263e98(param_2);
	piVar3 = *(int **)(param_2 + 0x20);
	if (piVar3 != (int *)0x0) {
		(**(code **)(*piVar3 + 0x2c))((int)piVar3 + (int)*(short *)(*piVar3 + 0x28), 0x3);
	}
	*(undefined4 *)(param_2 + 0x20) = 0x0;
	if (*(uint **)(param_2 + 0x18) != (uint *)0x0) {
		FUN_00266260(puVar1, *(uint **)(param_2 + 0x18));
		MemoryDeallocate2_(*(void **)(param_2 + 0x18));
		*(undefined4 *)(param_2 + 0x18) = 0x0;
	}
	FUN_00101248((long)(param_2 + 0x14), (int **)0x0);
	*(undefined2 *)(param_2 + 0x24) = 0x0;
	return 0x1;
}



VeryBigBOI_0x3200 *
FUN_00268b50(VeryBigBOI_0x3200 *param_1, GameResources *gameResources, undefined8 param_3,
	undefined8 param_4)

{
	param_1->field_0x804 = 0x0;
	param_1->field_0x808 = 0x0;
	param_1->field_0x810 = 0x0;
	param_1->gameResources = gameResources;
	param_1->methods = DAT(0x00304208);
	FUN_00199bf0((long)&param_1->field_0x814);
	PTR_0030a150 = param_1;
	FillMemory(param_1, 0x0, 0x4);
	param_1->unkBitfield =
		param_1->unkBitfield & 0xfffcffff | ((uint)param_3 & 0x1) << 0x10 |
		((uint)param_4 & 0x1) << 0x11;
	DAT_00309b8c = &param_1->field_0x814;
	return param_1;
}



void FUN_00268c10(VeryBigBOI_0x3200 *param_1, ulong param_2)

{
	int *piVar1;

	param_1->methods = DAT(0x00304208);
	FUN_00269140((ushort *)param_1);
	piVar1 = (int *)param_1->field_0x804;
	if (piVar1 != (int *)0x0) {
		(**(code **)(*piVar1 + 0xc))((int)piVar1 + (int)*(short *)(*piVar1 + 0x8), 0x3);
	}
	MemoryDeallocate2_((void *)param_1->field_0x808);
	FUN_00199c48((long)&param_1->field_0x814, 0x2);
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(param_1);
	}
	return;
}



void FUN_00268c98(uint *param_1, char *defaultChunkPath)

{
	uint uVar1;
	undefined4 *puVar2;
	ChunkItem *pCVar3;
	undefined8 uVar4;
	undefined8 extraout_a1;
	undefined8 extraout_a2;
	undefined8 extraout_a3;
	undefined8 extraout_t0;
	undefined8 extraout_t1;
	undefined8 extraout_t2;
	undefined8 extraout_t3;
	undefined4 extraout_f13;
	undefined4 extraout_f12;
	undefined4 extraout_f15;
	undefined4 extraout_f14;
	undefined4 extraout_f17;
	undefined4 extraout_f16;
	undefined4 extraout_f18;

	FUN_00268da8((int)param_1);
	puVar2 = (undefined4 *)MemoryAllocate(0x404);
	*(undefined4 **)(param_1 + 0x202) = puVar2;
	*puVar2 = 0x0;
	pCVar3 = (ChunkItem *)MemoryAllocate(0x16c);
	uVar4 = FUN_0026a208(pCVar3, defaultChunkPath, (GameResources *)param_1[0x203], param_1[0x202]);
	param_1[0x201] = (uint)uVar4;
	if ((*param_1 & 0x10000) == 0x0) {
		FUN_001c9668(0x1);
		FUN_0025cf50(extraout_f12, extraout_f13, extraout_f14, extraout_f15, extraout_f16, extraout_f17,
			extraout_f18, 0x303690, extraout_a1, extraout_a2, extraout_a3, extraout_t0, extraout_t1,
			extraout_t2, extraout_t3);
		FUN_0026a6c0((int *)param_1[0x201], 0x1, 0x0);
		uVar1 = *param_1;
	}
	else {
		FUN_0025cf88();
		FUN_0026a6c0((int *)param_1[0x201], 0x1, 0x1);
		FUN_001c9668(0x0);
		uVar1 = *param_1;
	}
	if ((uVar1 & 0x20000) == 0x0) {
		FUN_00266180((uint *)param_1[0x203], (uint *)param_1[0x202]);
		uVar1 = param_1[0x203];
	}
	else {
		uVar1 = param_1[0x203];
	}
	(**(code **)(*(int *)(uVar1 + 0x40) + 0x14))
		(uVar1 + (int)*(short *)(*(int *)(uVar1 + 0x40) + 0x10), 0x0);
	return;
}



void FUN_00268da8(int param_1)

{
	uint uVar1;
	undefined4 *puVar2;

	puVar2 = (undefined4 *)(param_1 + 0x1018);
	uVar1 = 0x0;
	do {
		*puVar2 = 0x0;
		uVar1 += 0x1;
		puVar2 = puVar2 + 0x1;
	} while (uVar1 < 0x3e8);
	return;
}



int * FUN_00268dd0(ushort *param_1, long param_2)

{
	String *str;
	bool bVar1;
	String **ppSVar2;
	ulong uVar3;

	uVar3 = 0x0;
	if (*param_1 != 0x0) {
		ppSVar2 = (String **)(param_1 + 0x2);
		do {
			str = *ppSVar2;
			bVar1 = StringsNotEqual(str, (char *)param_2);
			if (bVar1 != true) {
				return (int *)str;
			}
			uVar3 = SEXT48((int)uVar3 + 0x1);
			ppSVar2 = ppSVar2 + 0x1;
		} while (uVar3 < *param_1);
	}
	return (int *)0x0;
}



int FUN_00268e60(ushort *param_1, short param_2)

{
	int *piVar1;
	ulong uVar2;

	uVar2 = 0x0;
	if (*param_1 != 0x0) {
		piVar1 = (int *)(param_1 + 0x2);
		do {
			uVar2 = SEXT48((int)uVar2 + 0x1);
			if (*(short *)(*piVar1 + 0xc) == param_2) {
				return *piVar1;
			}
			piVar1 = piVar1 + 0x1;
		} while (uVar2 < *param_1);
	}
	return 0x0;
}



int FUN_00268eb0(ushort *param_1, int param_2)

{
	int *piVar1;
	int iVar2;
	int *piVar3;
	ulong uVar4;

	uVar4 = 0x0;
	if (*param_1 != 0x0) {
		piVar3 = (int *)(param_1 + 0x2);
		do {
			piVar1 = *(int **)(*piVar3 + 0x14);
			if (piVar1 == (int *)0x0) {
				iVar2 = 0x0;
			}
			else {
				iVar2 = *piVar1;
			}
			uVar4 = SEXT48((int)uVar4 + 0x1);
			if (*(int *)(param_2 + 0xa0) == iVar2) {
				return *piVar3;
			}
			piVar3 = piVar3 + 0x1;
		} while (uVar4 < *param_1);
	}
	return 0x0;
}



void FUN_00268f08(ushort *param_1, undefined8 param_2)

{
	ushort uVar1;
	undefined4 *puVar2;
	int iVar3;
	int *piVar4;
	undefined4 *puVar5;
	ulong uVar6;

	uVar6 = 0x0;
	piVar4 = (int *)param_2;
	uVar1 = *param_1;
	(**(code **)(*piVar4 + 0xdc))((int)piVar4 + (int)*(short *)(*piVar4 + 0xd8), (ulong)uVar1);
	puVar5 = (undefined4 *)(param_1 + 0x2);
	if (uVar1 != 0x0) {
		do {
			puVar2 = (undefined4 *)*puVar5;
			FUN_00204ab0(puVar2, piVar4);
			iVar3 = puVar2[0x7];
			(**(code **)(*piVar4 + 0x104))
				((int)piVar4 + (int)*(short *)(*piVar4 + 0x100), (ulong)(iVar3 != 0x0));
			if (iVar3 != 0x0) {
				iVar3 = *(int *)puVar2[0x7];
				(**(code **)(iVar3 + 0x3c))((int)(int *)puVar2[0x7] + (int)*(short *)(iVar3 + 0x38), param_2)
					;
			}
			uVar6 = SEXT48((int)uVar6 + 0x1);
			puVar5 = puVar5 + 0x1;
		} while (uVar6 < (ulong)uVar1);
	}
	return;
}



void FUN_00268fe0(undefined8 param_1, undefined8 param_2, undefined8 param_3)

{
	ChunkListData *pCVar1;

	FUN_00264488(param_1, (int *)param_3);
	pCVar1 = GetChunkListData();
	FUN_001f17c8((int *)pCVar1, param_2, param_3);
	FUN_00199670((int)param_2);
	return;
}



void FUN_00269038(ushort *param_1, undefined8 param_2, long param_3)

{
	ulong uVar1;
	uint uVar2;
	undefined4 *puVar3;
	int iVar4;
	int *piVar5;
	ulong uVar6;

	uVar6 = 0x0;
	if (*param_1 != 0x0) {
		piVar5 = (int *)(param_1 + 0x2);
		iVar4 = *piVar5;
		while (true) {
			uVar6 = SEXT48((int)uVar6 + 0x1);
			piVar5 = piVar5 + 0x1;
			if (*(int **)(iVar4 + 0x20) != (int *)0x0) {
				FUN_002691f8(*(int **)(iVar4 + 0x20));
			}
			if (param_3 == 0x0) {
				uVar1 = (ulong)*param_1;
			}
			else {
				if (*(int **)(iVar4 + 0x1c) == (int *)0x0) {
					uVar1 = (ulong)*param_1;
				}
				else {
					FUN_002691f8(*(int **)(iVar4 + 0x1c));
					uVar1 = (ulong)*param_1;
				}
			}
			if (uVar1 <= uVar6) break;
			iVar4 = *piVar5;
		}
	}
	puVar3 = (undefined4 *)(param_1 + 0x80c);
	uVar2 = 0x0;
	do {
		*puVar3 = 0x0;
		uVar2 += 0x1;
		puVar3 = puVar3 + 0x1;
	} while (uVar2 < 0x3e8);
	return;
}



void FUN_002690f8(int param_1, int param_2, undefined4 param_3)

{
	*(undefined4 *)(param_1 + param_2 * 0x4 + 0x1018) = param_3;
	return;
}



void FUN_00269108(int param_1, int param_2, int param_3)

{
	int *piVar1;

	piVar1 = (int *)(param_1 + 0x1018 + param_2 * 0x4);
	*piVar1 = *piVar1 + param_3;
	return;
}



undefined4 FUN_00269130(int param_1, int param_2)

{
	return *(undefined4 *)(param_1 + param_2 * 0x4 + 0x1018);
}



void FUN_00269140(ushort *param_1)

{
	ushort uVar1;
	int *piVar2;
	ulong uVar3;

	uVar3 = 0x0;
	if (*param_1 != 0x0) {
		piVar2 = (int *)(param_1 + 0x2);
		do {
			if ((long)*piVar2 == 0x0) {
				uVar1 = *param_1;
			}
			else {
				FUN_00263fa8((long)*piVar2, 0x3);
				uVar1 = *param_1;
			}
			uVar3 = SEXT48((int)uVar3 + 0x1);
			piVar2 = piVar2 + 0x1;
		} while (uVar3 < uVar1);
	}
	*param_1 = 0x0;
	return;
}



undefined8 FUN_002691b0(undefined8 param_1)

{
	*(undefined4 *)param_1 = 0x3041c0;
	return param_1;
}



void FUN_002691c8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x3041c0;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_002691f8(int *param_1)

{
	uint uVar1;
	uint uVar2;
	undefined4 *puVar3;

	uVar1 = (**(code **)(*param_1 + 0x1c))((int)param_1 + (int)*(short *)(*param_1 + 0x18));
	puVar3 = (undefined4 *)
		(**(code **)(*param_1 + 0x14))((int)param_1 + (int)*(short *)(*param_1 + 0x10));
	uVar2 = 0x0;
	if (uVar1 != 0x0) {
		do {
			*puVar3 = 0x0;
			uVar2 += 0x1;
			puVar3 = puVar3 + 0x1;
		} while (uVar2 < uVar1);
	}
	return;
}



void FUN_00269278(int *param_1, ulong param_2, long param_3)

{
	int iVar1;
	uint *puVar2;
	ulong uVar3;
	uint uVar4;
	uint uVar5;

	uVar3 = (**(code **)(*param_1 + 0x24))((int)param_1 + (int)*(short *)(*param_1 + 0x20));
	if (param_2 < uVar3) {
		iVar1 = (**(code **)(*param_1 + 0x14))((int)param_1 + (int)*(short *)(*param_1 + 0x10));
		uVar5 = (uint)param_2 >> 0x5;
		uVar4 = 0x1 << ((uint)param_2 & 0x1f);
		if (param_3 == 0x0) {
			puVar2 = (uint *)(uVar5 * 0x4 + iVar1);
			*puVar2 = *puVar2 & ~uVar4;
		}
		else {
			puVar2 = (uint *)(uVar5 * 0x4 + iVar1);
			*puVar2 = *puVar2 | uVar4;
		}
	}
	return;
}



void FUN_00269330(int *param_1, ulong param_2)

{
	int iVar1;
	ulong uVar2;
	uint *puVar3;

	uVar2 = (**(code **)(*param_1 + 0x24))((int)param_1 + (int)*(short *)(*param_1 + 0x20));
	if (param_2 < uVar2) {
		iVar1 = (**(code **)(*param_1 + 0x14))((int)param_1 + (int)*(short *)(*param_1 + 0x10));
		puVar3 = (uint *)(((uint)param_2 >> 0x5) * 0x4 + iVar1);
		*puVar3 = *puVar3 ^ 0x1 << ((uint)param_2 & 0x1f);
	}
	return;
}



ulong FUN_002693b8(int *param_1, ulong param_2)

{
	int iVar1;
	ulong uVar2;

	uVar2 = (**(code **)(*param_1 + 0x24))((int)param_1 + (int)*(short *)(*param_1 + 0x20));
	if (param_2 < uVar2) {
		iVar1 = (**(code **)(*param_1 + 0xc))((int)param_1 + (int)*(short *)(*param_1 + 0x8));
		uVar2 = (ulong)((*(uint *)(((uint)param_2 >> 0x5) * 0x4 + iVar1) & 0x1 << ((uint)param_2 & 0x1f)
			) != 0x0);
	}
	else {
		uVar2 = 0x0;
	}
	return uVar2;
}



void FUN_00269440(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2fc2e0;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



undefined8 FUN_002694c0(undefined8 param_1, undefined4 param_2)

{
	undefined4 *puVar1;
	int iVar2;

	FUN_002ad1b0(param_1, param_2);
	iVar2 = (int)param_1;
	*(undefined4 *)(iVar2 + 0x18) = 0x0;
	*(undefined4 *)(iVar2 + 0x1c) = 0x0;
	*(undefined4 *)(iVar2 + 0x14) = 0x303f58;
	*(undefined4 *)(iVar2 + 0x10) = 0x1;
	puVar1 = (undefined4 *)MemoryAllocate(0x4);
	*(undefined4 **)(iVar2 + 0x4) = puVar1;
	*puVar1 = 0x303fb0;
	return param_1;
}



void FUN_00269520(ulong param_1, ulong param_2)

{
	int *piVar1;

	*(undefined4 *)((int)param_1 + 0x14) = 0x303f58;
	piVar1 = *(int **)((int)param_1 + 0x4);
	if (piVar1 != (int *)0x0) {
		(**(code **)(*piVar1 + 0xc))((int)piVar1 + (int)*(short *)(*piVar1 + 0x8), 0x3);
	}
	FUN_002ad248(param_1, param_2);
	return;
}



void FUN_00269588(undefined8 param_1, int param_2)

{
	ulong uVar1;
	ulong uVar2;
	int iVar3;
	ulong *puVar4;

	puVar4 = (ulong *)(param_2 + 0x20);
	iVar3 = 0x0;
	if (*(int **)(param_2 + 0x10) != (int *)0x0) {
		iVar3 = **(int **)(param_2 + 0x10);
	}
	uVar2 = 0x0;
	if (iVar3 != 0x0) {
		if (*(int *)(iVar3 + 0x20) == 0x0) {
			uVar1 = *puVar4;
			goto LAB_002695cc;
		}
		uVar2 = FUN_002ad3d0(*(int *)(iVar3 + 0x20), 0x0);
	}
	uVar1 = *puVar4;
LAB_002695cc:
	*puVar4 = uVar1 & 0xfffffffffffbffff | (uVar2 & 0x1) << 0x12;
	return;
}



void FUN_002695f8(void)

{
	return;
}



undefined4 FUN_00269600(int *param_1)

{
	int iVar1;
	uint *puVar2;
	int iVar3;
	int *piVar4;
	undefined4 uVar5;
	void *pvVar6;
	long lVar7;
	int iVar8;

	uVar5 = 0x1;
	if ((*(int *)(param_1[0x6] + 0x4) >> 0x1 & 0x1U) == 0x0) {
		if ((*(int *)(*param_1 + 0x4) >> 0x9 & 0x1U) == 0x0) {
			iVar1 = param_1[0x7];
			puVar2 = *(uint **)(*(int *)(iVar1 + 0x10) + 0x80c);
			if (*(int *)(iVar1 + 0x28) == 0x0) {
				iVar3 = *(int *)(*(int *)(iVar1 + 0x10) + 0x810);
				pvVar6 = MemoryAllocate(0x14);
				lVar7 = FUN_0023bf40((long)(int)pvVar6, 0x0);
				iVar8 = (int)lVar7;
				*(int *)(iVar1 + 0x28) = iVar8;
				*(int *)(iVar3 + (uint)*(ushort *)(iVar1 + 0xc) * 0x4) = iVar8;
				if (lVar7 != 0x0) {
					FUN_0023c510(iVar8, iVar3);
				}
			}
			FUN_00266180(puVar2, *(uint **)(iVar1 + 0x18));
			piVar4 = (int *)param_1[0x6];
		}
		else {
			piVar4 = (int *)param_1[0x6];
		}
		if (piVar4 != (int *)0x0) {
			(**(code **)(*piVar4 + 0xc))((int)piVar4 + (int)*(short *)(*piVar4 + 0x8), 0x3);
		}
		param_1[0x6] = 0x0;
		uVar5 = 0x0;
	}
	return uVar5;
}



undefined4 FUN_002696f0(int *param_1)

{
	int *piVar1;
	long lVar2;

	piVar1 = *(int **)(*(int *)(*param_1 + 0x24) + 0x1c);
	lVar2 = 0x0;
	if (piVar1 != (int *)0x0) {
		lVar2 = (long)*piVar1;
	}
	if (param_1[0x7] != 0x0) {
		(**(code **)(PTR_0030a150->methods + 0x14))
			((int)&PTR_0030a150->unkBitfield + (int)*(short *)(PTR_0030a150->methods + 0x10));
		param_1[0x7] = 0x0;
	}
	if (lVar2 != 0x0) {
		*(int *)((int)lVar2 + 0x124) = *(int *)((int)lVar2 + 0x124) + -0x1;
		FUN_001ee130(lVar2, 0x1, 0x0, 0x1);
	}
	return 0x1;
}



void FUN_002697b8(uint *param_1)

{
	int iVar1;
	uint uVar2;
	uint uVar3;

	uVar3 = 0x0;
	if ((*param_1 & 0x3fff) != 0x0) {
		uVar2 = param_1[0x1];
		while (true) {
			iVar1 = *(int *)(uVar3 * 0x4 + uVar2);
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x18) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x18) + 0x8), 0x3);
				*(undefined4 *)(uVar3 * 0x4 + param_1[0x1]) = 0x0;
			}
			uVar3 += 0x1;
			if ((*param_1 & 0x3fff) <= uVar3) break;
			uVar2 = param_1[0x1];
		}
	}
	return;
}



void FUN_00269850(ulong param_1, ulong param_2)

{
	int iVar1;
	uint uVar2;
	void *address;
	uint uVar3;
	uint *address_00;

	uVar3 = 0x0;
	address_00 = (uint *)param_1;
	address_00[0x5] = 0x3046d8;
	if ((*address_00 & 0x3fff) != 0x0) {
		uVar2 = address_00[0x1];
		while (true) {
			iVar1 = *(int *)(uVar3 * 0x4 + uVar2);
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x18) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x18) + 0x8), 0x3);
				*(undefined4 *)(uVar3 * 0x4 + address_00[0x1]) = 0x0;
			}
			uVar3 += 0x1;
			if ((*address_00 & 0x3fff) <= uVar3) break;
			uVar2 = address_00[0x1];
		}
	}
	if ((void *)address_00[0x1] == (void *)0x0) {
		address = (void *)address_00[0x2];
	}
	else {
		MemoryDeallocate_((void *)address_00[0x1]);
		address = (void *)address_00[0x2];
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



void FUN_00269938(ResourceTable *this_, uint elemAmount)

{
	void *elem;
	short *idTable;
	uint counter;

	counter = 0x0;
	if (elemAmount != 0x0) {
		idTable = this_->resourceIDsTable;
		while (true) {
			elem = this_->resourceTable[(ushort)idTable[counter]];
			if (elem != (void *)0x0) {
				(**(code **)(*(int *)((int)elem + 0x18) + 0x1c))
					((int)elem + (int)*(short *)(*(int *)((int)elem + 0x18) + 0x18), this_);
			}
			counter += 0x1;
			if (elemAmount <= counter) break;
			idTable = this_->resourceIDsTable;
		}
	}
	return;
}



void FUN_002699c8(uint *param_1)

{
	uint uVar1;
	ulong uVar2;
	uint uVar3;

	uVar3 = 0x0;
	if ((*param_1 & 0x3fff) != 0x0) {
		uVar1 = param_1[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *param_1;
			}
			else {
				FUN_001e5528(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + param_1[0x1]) = 0x0;
				uVar1 = *param_1;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = param_1[0x1];
		}
	}
	return;
}



void FUN_00269a50(ulong param_1, ulong param_2)

{
	uint uVar1;
	void *address;
	ulong uVar2;
	uint uVar3;
	uint *address_00;

	uVar3 = 0x0;
	address_00 = (uint *)param_1;
	address_00[0x5] = 0x304558;
	if ((*address_00 & 0x3fff) != 0x0) {
		uVar1 = address_00[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *address_00;
			}
			else {
				FUN_001e5528(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + address_00[0x1]) = 0x0;
				uVar1 = *address_00;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = address_00[0x1];
		}
	}
	if ((void *)address_00[0x1] == (void *)0x0) {
		address = (void *)address_00[0x2];
	}
	else {
		MemoryDeallocate_((void *)address_00[0x1]);
		address = (void *)address_00[0x2];
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



undefined8 FUN_00269b28(undefined8 param_1, uint param_2)

{
	void *pvVar1;
	int iVar2;
	uint uVar3;
	uint *memory;

	memory = (uint *)param_1;
	memory[0x3] = 0x0;
	memory[0x4] = 0x0;
	memory[0x5] = 0x304558;
	FillMemory(memory, 0x0, 0x4);
	*memory = *memory & 0xffffc000 | param_2 & 0x3fff | 0x8000;
	pvVar1 = MemoryAllocate2((long)(int)(param_2 << 0x2));
	*(void **)(memory + 0x1) = pvVar1;
	pvVar1 = MemoryAllocate2((long)(int)(param_2 << 0x1));
	*(void **)(memory + 0x2) = pvVar1;
	uVar3 = 0x0;
	if (param_2 != 0x0) {
		do {
			iVar2 = uVar3 * 0x4;
			uVar3 += 0x1;
			*(undefined4 *)(iVar2 + memory[0x1]) = 0x0;
		} while (uVar3 < param_2);
	}
	memory[0x5] = 0x304528;
	pvVar1 = MemoryAllocate2((long)(int)(param_2 << 0x1));
	*(void **)(memory + 0x2) = pvVar1;
	return param_1;
}



void FUN_00269bf0(ulong param_1, ulong param_2)

{
	uint uVar1;
	void *address;
	ulong uVar2;
	uint uVar3;
	uint *address_00;

	uVar3 = 0x0;
	address_00 = (uint *)param_1;
	address_00[0x5] = 0x304558;
	if ((*address_00 & 0x3fff) != 0x0) {
		uVar1 = address_00[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *address_00;
			}
			else {
				FUN_001e5528(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + address_00[0x1]) = 0x0;
				uVar1 = *address_00;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = address_00[0x1];
		}
	}
	if ((void *)address_00[0x1] == (void *)0x0) {
		address = (void *)address_00[0x2];
	}
	else {
		MemoryDeallocate_((void *)address_00[0x1]);
		address = (void *)address_00[0x2];
	}
	if (address != (void *)0x0) {
		MemoryDeallocate_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address_00);
	}
	return;
}



void FUN_00269cc8(uint *param_1)

{
	uint uVar1;
	ulong uVar2;
	uint uVar3;

	uVar3 = 0x0;
	if ((*param_1 & 0x3fff) != 0x0) {
		uVar1 = param_1[0x1];
		while (true) {
			uVar2 = SEXT48(*(int *)(uVar3 * 0x4 + uVar1));
			if (uVar2 == 0x0) {
				uVar1 = *param_1;
			}
			else {
				FUN_001e5528(uVar2, 0x3);
				*(undefined4 *)(uVar3 * 0x4 + param_1[0x1]) = 0x0;
				uVar1 = *param_1;
			}
			uVar3 += 0x1;
			if ((uVar1 & 0x3fff) <= uVar3) break;
			uVar1 = param_1[0x1];
		}
	}
	return;
}



void FUN_00269d50(int param_1, uint param_2, undefined8 param_3, int param_4)

{
	int iVar1;
	int iVar2;
	GameReadersStorage *pGVar3;
	void *pvVar4;
	undefined8 uVar5;
	int iVar6;
	uint uVar7;

	pGVar3 = G_GameReadersStorages[0];
	uVar7 = 0x0;
	if (param_2 != 0x0) {
		iVar6 = *(int *)(param_1 + 0x8);
		while (true) {
			iVar6 = *(int *)((uint)*(ushort *)(uVar7 * 0x2 + iVar6) * 0x4 + *(int *)(param_1 + 0x4));
			if ((iVar6 != 0x0) && (iVar1 = *(int *)(iVar6 + 0x24), iVar1 != 0x0)) {
				iVar2 = *(int *)(iVar6 + 0x28);
				pvVar4 = MemoryAllocate(0x28);
				uVar5 = FUN_002ac958((long)(int)pvVar4, iVar6, param_4 + iVar2, iVar1);
				FUN_002b7188(pGVar3, (GenericSectionReader *)uVar5, false);
			}
			uVar7 += 0x1;
			if (param_2 <= uVar7) break;
			iVar6 = *(int *)(param_1 + 0x8);
		}
	}
	return;
}



void FUN_00269e38(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00269e68(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00269e98(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00269ec8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00269ef8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00269f28(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00269f58(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00269f88(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00269fb8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_00269fe8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026a018(ulong param_1, ulong param_2)

{
	undefined4 *address;

	address = (undefined4 *)param_1;
	*address = 0x2f5568;
	address[0x22] = 0x2f5568;
	address[0x1e] = 0x2f5568;
	address[0x1a] = 0x2f5568;
	address[0x16] = 0x2f5568;
	address[0x12] = 0x2f5568;
	address[0xe] = 0x2f5568;
	address[0xa] = 0x2f5568;
	address[0x6] = 0x2f5568;
	address[0x2] = 0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



String * FUN_0026a070(int param_1, undefined8 param_2, undefined8 param_3)

{
	String *pSVar1;

	CreateStringFromChar((String *)param_3, *(char **)(param_1 + 0x8));
	pSVar1 = (String *)DAT(0x00300000);
	switch (param_2) {
	case 0x0:
		pSVar1 = ConcatenateString((String *)param_3, DAT(0x0030a188));
		break;
	case 0x1:
		pSVar1 = ConcatenateString((String *)param_3, DAT(0x0030a190));
		break;
	case 0x2:
		pSVar1 = ConcatenateString((String *)param_3, DAT(0x0030a198));
		break;
	case 0x3:
		pSVar1 = ConcatenateString((String *)param_3, DAT(0x0030a168));
		break;
	case 0x4:
		pSVar1 = ConcatenateString((String *)param_3, DAT(0x0030a170));
		break;
	case 0x5:
		pSVar1 = ConcatenateString((String *)param_3, DAT(0x0030a178));
		break;
	case 0x6:
		pSVar1 = ConcatenateString((String *)param_3, DAT(0x0030a180));
		break;
	case 0x7:
		pSVar1 = ConcatenateString((String *)param_3, DAT(0x0030a1a8));
		break;
	case 0x8:
		pSVar1 = ConcatenateString((String *)param_3, DAT(0x0030a1a0));
		break;
	case 0x9:
		pSVar1 = ConcatenateString((String *)param_3, DAT(0x0030a1b0));
	}
	return pSVar1;
}



void FUN_0026a1b8(int param_1, void *param_2, undefined4 param_3)

{
	BinaryReader BStack48;

	CreateBinReader(&BStack48, param_2, param_3, 0x0, 0x40);
	FUN_0026a580(*(int *)(param_1 + 0xc), *(uint *)(param_1 + 0x4), *(int **)(param_1 + 0x8),
		(long)(int)&BStack48);
	DeleteBinaryReader(&BStack48, 0x2);
	return;
}



long FUN_0026a208(ChunkItem *param_1, char *defaultChunkPath, GameResources *gameResources,
	undefined4 param_4)

{
	undefined4 *puVar1;
	uint uVar2;

	(param_1->itemInterface).methods = (undefined *)0x304258;
	CopyToString(&param_1->chunkPath, defaultChunkPath);
	param_1->gameResources = gameResources;
	*(undefined4 *)&param_1->field_0x18 = param_4;
	*(undefined4 *)&param_1->field_0x1c = 0x0;
	InitGraphicsItem(&param_1->graphicsItem);
	InitAgentLabItem(&param_1->agentLabItem, gameResources, param_4);
	*(undefined4 *)&param_1->field_0x168 = 0x0;
	FillMemory((void *)&param_1->field_0x4, 0x0, 0x4);
	uVar2 = 0x0;
	puVar1 = (undefined4 *)&param_1->field_0x148;
	*(uint *)&param_1->field_0x4 = *(uint *)&param_1->field_0x4 | 0x3;
	do {
		puVar1[-0x8] = 0x0;
		uVar2 += 0x1;
		*puVar1 = 0x0;
		puVar1 = puVar1 + 0x1;
	} while (uVar2 < 0x8);
	return (long)(int)param_1;
}



void FUN_0026a2c0(ChunkItem *this_, ulong param_2)

{
	(this_->itemInterface).methods = (undefined *)0x304258;
	MemoryDeallocate2_(*(void **)&this_->field_0x1c);
	FUN_0026a4f0(this_);
	FUN_00268528((undefined *)&this_->agentLabItem, 0x2);
	FUN_0019ead0(&this_->graphicsItem, 0x2);
	StringDelete(&this_->chunkPath);
	(this_->itemInterface).methods = (undefined *)0x2f5568;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(this_);
	}
	return;
}



void FUN_0026a368(ChunkItem *this_, undefined8 param_2, int **param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int iVar3;
	undefined4 *puVar4;

	piVar1 = param_3[0x2];
	if (*param_4 == 0x0) {
		return;
	}
	piVar2 = *param_3;
	if (piVar1 == (int *)0xa) {
		iVar3 = 0xc;
	}
	else {
		if (0xa < (int)piVar1) {
			if (piVar1 == (int *)0xb) {
				*param_4 = 0xc;
			}
			goto LAB_0026a3d8;
		}
		iVar3 = 0x14;
		if (piVar1 != (int *)DAT(0x00000009)) goto LAB_0026a3d8;
	}
	*param_4 = iVar3;
LAB_0026a3d8:
	puVar4 = (undefined4 *)MemoryAllocate(0x10);
	*(int **)(puVar4 + 0x1) = piVar1;
	*puVar4 = 0x3042a8;
	*(int **)(puVar4 + 0x2) = piVar2;
	*(ChunkItem **)(puVar4 + 0x3) = this_;
	return;
}



void FUN_0026a418(ChunkItem *this_)

{
	undefined *puVar1;
	uint uVar2;

	puVar1 = this_->gameResources->methods;
	(**(code **)(puVar1 + 0x14))
		((int)&this_->gameResources->languagesAmt + (int)*(short *)(puVar1 + 0x10), 0x0);
	if ((*(uint *)&this_->field_0x4 & 0x1) == 0x0) {
		FUN_0019f0c8(&this_->graphicsItem);
		uVar2 = *(uint *)&this_->field_0x4;
	}
	else {
		FUN_0019f4e8();
		uVar2 = *(uint *)&this_->field_0x4;
	}
	*(uint *)&this_->field_0x4 = uVar2 & 0xfffffffd;
	return;
}



void FUN_0026a490(ChunkItem *this_)

{
	int *piVar1;
	long lVar2;

	if (*(int *)&this_->field_0x168 != 0x0) {
		piVar1 = *(int **)(*(int *)&this_->field_0x168 + 0x14);
		if (piVar1 == (int *)0x0) {
			lVar2 = 0x0;
		}
		else {
			lVar2 = (long)*piVar1;
		}
		FUN_001ee130(lVar2, 0x1, 0x1, 0x0);
	}
	FUN_00265920(this_->gameResources);
	FUN_001a2348();
	return;
}



void FUN_0026a4f0(ChunkItem *this_)

{
	int *piVar1;
	int **ppiVar2;
	uint uVar3;

	ppiVar2 = (int **)&this_->field_0x148;
	uVar3 = 0x0;
	do {
		if (ppiVar2[-0x8] == (int *)0x0) {
			piVar1 = *ppiVar2;
		}
		else {
			FUN_00266d90((int)ppiVar2[-0x8]);
			if ((long)(int)ppiVar2[-0x8] == 0x0) {
				piVar1 = *ppiVar2;
			}
			else {
				FUN_00266628((long)(int)ppiVar2[-0x8], 0x3);
				piVar1 = *ppiVar2;
			}
		}
		if (piVar1 != (int *)0x0) {
			(**(code **)(*piVar1 + 0xc))((int)piVar1 + (int)*(short *)(*piVar1 + 0x8), 0x3);
		}
		ppiVar2[-0x8] = (int *)0x0;
		uVar3 += 0x1;
		*ppiVar2 = (int *)0x0;
		ppiVar2 = ppiVar2 + 0x1;
	} while (uVar3 < 0x8);
	return;
}



void FUN_0026a580(int param_1, uint param_2, int *param_3, undefined8 param_4)

{
	void *pvVar1;
	undefined8 uVar2;
	int *piVar3;
	undefined8 uVar4;

	if (param_2 == 0x9) {
		FUN_00282580(*(int ***)(param_1 + 0x1c), param_3);
		return;
	}
	if ((int)param_2 < 0xa) {
		if (param_2 == 0x8) {
			FUN_002648e8(param_1, param_4);
			return;
		}
	LAB_0026a628:
		uVar4 = 0x0;
		if (param_2 < 0x3) {
			uVar4 = 0x1;
		}
		else {
			if (param_2 == 0x7) {
				uVar4 = 0x1;
			}
		}
		pvVar1 = MemoryAllocate(0x40);
		uVar4 = FUN_0026a978((long)(int)pvVar1, (uint)*(byte *)(param_1 + 0x4) & 0x1, uVar4,
			*(undefined4 *)(param_1 + 0x14), *(undefined4 *)(param_1 + 0x168));
		pvVar1 = MemoryAllocate(0x98);
		uVar2 = FUN_00267710((long)(int)pvVar1, (int)uVar4);
		param_1 += param_2 * 0x4;
		*(int *)(param_1 + 0x128) = (int)uVar4;
		*(int **)(param_1 + 0x148) = (int *)uVar2;
		FUN_002b69d0((int *)uVar2, param_3);
	}
	else {
		if (param_2 == 0xa) {
			piVar3 = (int *)(param_1 + 0x90);
		}
		else {
			if (param_2 != 0xb) goto LAB_0026a628;
			piVar3 = (int *)(param_1 + 0x20);
		}
		FUN_002b69d0(piVar3, param_3);
	}
	return;
}



void FUN_0026a6c0(int *param_1, long param_2, long param_3)

{
	String local_30;

	if (param_3 != 0x0) {
		local_30.string = (char *)0x0;
		local_30.stringLength = 0x0;
		local_30.stringMemoryOccupied = 0x0;
		CreateStringFromChar(&local_30, (char *)param_1[0x2]);
		ConcatenateString(&local_30, pcRam0030a160);
		uRam0030a230 = 0x1;
		FUN_002b68e8(param_1, local_30.string, 0x0);
		StringDelete(&local_30);
	}
	if (param_2 != 0x0) {
		FUN_002b5310();
	}
	return;
}



void FUN_0026a748(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303bd8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026a778(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303bd8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026a810(int param_1)

{
	FUN_0026a838(*(int *)(param_1 + 0xc), (long)*(int *)(param_1 + 0x4), *(int **)(param_1 + 0x8));
	return;
}



void FUN_0026a838(int param_1, undefined8 param_2, int *param_3)

{
	switch (param_2) {
	case 0x0:
		FUN_002b69d0((int *)(param_1 + 0x8), param_3);
		break;
	case 0x1:
		FUN_002b69d0((int *)(param_1 + 0x14), param_3);
		break;
	case 0x2:
		FUN_002b69d0((int *)(param_1 + 0x20), param_3);
		break;
	case 0x3:
		FUN_002b69d0((int *)(param_1 + 0x2c), param_3);
		break;
	case 0x4:
		FUN_002b69d0((int *)(param_1 + 0x38), param_3);
		break;
	case 0x6:
		FUN_002b69d0((int *)(param_1 + 0x44), param_3);
		break;
	case 0x7:
		FUN_002b69d0((int *)(param_1 + 0x50), param_3);
		break;
	case 0x8:
		FUN_002b69d0((int *)(param_1 + 0x5c), param_3);
		break;
	case 0x9:
		FUN_002b69d0((int *)(param_1 + 0x68), param_3);
		break;
	case 0xa:
		FUN_002b69d0((int *)(param_1 + 0x74), param_3);
		break;
	case 0xb:
		FUN_002b69d0((int *)(param_1 + 0x80), param_3);
		break;
	case 0xc:
		FUN_002b69d0((int *)(param_1 + 0x8c), param_3);
	}
	return;
}



int GetSubSectionsAmount(undefined param_1)

{
	return 0xd;
}



void FUN_0026a958(AgentLabItem *this_)

{
	FUN_00265920(this_->gameResources);
	return;
}



undefined8
FUN_0026a978(undefined8 param_1, uint param_2, undefined8 param_3, uint param_4, uint param_5)

{
	uint *memory;

	memory = (uint *)param_1;
	memory[0x3] = 0x0;
	memory[0x4] = 0x0;
	memory[0x5] = 0x0;
	memory[0x6] = 0x0;
	memory[0x7] = 0x0;
	memory[0x8] = 0x0;
	memory[0x9] = 0x0;
	memory[0xa] = 0x0;
	memory[0xb] = 0x0;
	memory[0xc] = 0x0;
	memory[0xd] = 0x0;
	memory[0xe] = 0x0;
	memory[0xf] = 0x0;
	memory[0x1] = param_4;
	memory[0x2] = param_5;
	FillMemory(memory, 0x0, 0x4);
	*memory = *memory & 0xfffffffc | param_2 & 0x1 | ((uint)param_3 & 0x1) << 0x1;
	return param_1;
}



void FUN_0026aa28(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303b48;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026aa58(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303b48;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



int FUN_0026aad0(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x2;
}



void FUN_0026aae8(void)

{
	int iVar1;
	undefined4 *puVar2;
	int iVar3;
	uint uVar4;
	undefined4 *puVar5;
	undefined4 in_a3_lo;
	void **ppvVar6;
	int iVar7;

	iVar1 = DAT_0030a14c;
	ppvVar6 = (void **)(DAT_0030a14c + 0x14);
	if (*(int *)(DAT_0030a14c + 0x18) == *(int *)(DAT_0030a14c + 0x1c)) {
		iVar7 = *(int *)(DAT_0030a14c + 0x18) + *(int *)(DAT_0030a14c + 0x20);
		puVar2 = (undefined4 *)MemoryAllocate2((long)(iVar7 * 0x4));
		uVar4 = 0x0;
		puVar5 = puVar2;
		if (*(int *)(iVar1 + 0x18) != 0x0) {
			do {
				iVar3 = uVar4 * 0x4;
				uVar4 += 0x1;
				*puVar5 = *(undefined4 *)(iVar3 + (int)*ppvVar6);
				puVar5 = puVar5 + 0x1;
			} while (uVar4 < *(uint *)(iVar1 + 0x18));
		}
		if (*ppvVar6 == (void *)0x0) {
			*(undefined4 **)ppvVar6 = puVar2;
		}
		else {
			MemoryDeallocate_(*ppvVar6);
			*(undefined4 **)ppvVar6 = puVar2;
		}
		*(int *)(iVar1 + 0x1c) = iVar7;
	}
	iVar7 = *(int *)(iVar1 + 0x18);
	*(undefined4 *)(iVar7 * 0x4 + (int)*ppvVar6) = in_a3_lo;
	*(int *)(iVar1 + 0x18) = iVar7 + 0x1;
	return;
}



void FUN_0026abc0(int param_1, ulong param_2, undefined8 param_3, undefined4 param_4)

{
	int iVar1;
	int iVar2;
	void *pvVar3;
	undefined8 uVar4;
	int **ppiVar5;
	int *piVar6;

	iVar1 = PTR_0030a150->field_0x810;
	if (iVar1 != 0x0) {
		if (*(int *)(param_1 + 0x34) == 0x0) {
			iVar2 = *(int *)(param_1 + 0x8);
			pvVar3 = MemoryAllocate(0x14);
			uVar4 = FUN_0023bf40((long)(int)pvVar3, iVar1);
			*(undefined4 *)(iVar2 + 0x28) = (int)uVar4;
			*(undefined4 *)(param_1 + 0x34) = (int)uVar4;
			ppiVar5 = *(int ***)(param_1 + 0x34);
		}
		else {
			ppiVar5 = *(int ***)(param_1 + 0x34);
		}
		if (*(short *)(ppiVar5 + 0x2) != 0x0) {
			piVar6 = *(int **)(param_1 + 0x34);
			goto LAB_0026ac44;
		}
		FUN_0023c0e8(ppiVar5, (uint)param_3 & 0xffff);
	}
	piVar6 = *(int **)(param_1 + 0x34);
LAB_0026ac44:
	FUN_0023c578(piVar6, param_2 & 0xffff, param_4);
	return;
}



void FUN_0026ac78(int param_1, ulong param_2, undefined8 param_3, undefined4 param_4)

{
	int iVar1;
	void *pvVar2;
	undefined8 uVar3;
	int iVar4;

	iVar4 = PTR_0030a150->field_0x810;
	if (iVar4 != 0x0) {
		if (*(int *)(param_1 + 0x34) == 0x0) {
			iVar1 = *(int *)(param_1 + 0x8);
			pvVar2 = MemoryAllocate(0x14);
			uVar3 = FUN_0023bf40((long)(int)pvVar2, iVar4);
			*(undefined4 *)(iVar1 + 0x28) = (int)uVar3;
			*(undefined4 *)(param_1 + 0x34) = (int)uVar3;
			iVar4 = *(int *)(param_1 + 0x34);
		}
		else {
			iVar4 = *(int *)(param_1 + 0x34);
		}
		if (*(short *)(iVar4 + 0xa) != 0x0) {
			iVar4 = *(int *)(param_1 + 0x34);
			goto LAB_0026acfc;
		}
		FUN_0023c1c8(iVar4, (uint)param_3 & 0xffff);
	}
	iVar4 = *(int *)(param_1 + 0x34);
LAB_0026acfc:
	FUN_0023c5f8(iVar4, param_2 & 0xffff, param_4);
	return;
}



void FUN_0026ad30(uint *param_1, undefined8 param_2, int *param_3, int param_4)

{
	void **ppvVar1;
	void *pvVar2;
	undefined4 *puVar3;
	int iVar4;
	uint uVar5;
	undefined4 *puVar6;
	void *pvVar7;

	if (param_1[0xe] == 0x0) {
		uVar5 = param_1[0x2];
		if (*(int *)(uVar5 + 0x2c) == 0x0) {
			ppvVar1 = (void **)MemoryAllocate(0x10);
			ppvVar1[0x1] = (void *)0x0;
			*(int **)(ppvVar1 + 0x2) = param_3;
			*(int **)(ppvVar1 + 0x3) = param_3;
			pvVar2 = MemoryAllocate2((long)((int)param_3 << 0x2));
			*ppvVar1 = pvVar2;
			*(void ***)(uVar5 + 0x2c) = ppvVar1;
			uVar5 = *(uint *)(uVar5 + 0x2c);
		}
		else {
			uVar5 = *(uint *)(uVar5 + 0x2c);
		}
		param_1[0xe] = uVar5;
		if ((*param_1 & 0x2) != 0x0) {
			*(int **)(param_1[0x2] + 0x30) = param_3;
		}
	}
	ppvVar1 = (void **)param_1[0xe];
	if (ppvVar1[0x1] == ppvVar1[0x2]) {
		pvVar7 = (void *)((int)ppvVar1[0x1] + (int)ppvVar1[0x3]);
		puVar3 = (undefined4 *)MemoryAllocate2((long)((int)pvVar7 * 0x4));
		pvVar2 = (void *)0x0;
		puVar6 = puVar3;
		if (ppvVar1[0x1] != (void *)0x0) {
			do {
				iVar4 = (int)pvVar2 * 0x4;
				pvVar2 = (void *)((int)pvVar2 + 0x1);
				*puVar6 = *(undefined4 *)(iVar4 + (int)*ppvVar1);
				puVar6 = puVar6 + 0x1;
			} while (pvVar2 < ppvVar1[0x1]);
		}
		if (*ppvVar1 == (void *)0x0) {
			*(undefined4 **)ppvVar1 = puVar3;
		}
		else {
			MemoryDeallocate_(*ppvVar1);
			*(undefined4 **)ppvVar1 = puVar3;
		}
		ppvVar1[0x2] = pvVar7;
		pvVar2 = ppvVar1[0x1];
	}
	else {
		pvVar2 = ppvVar1[0x1];
	}
	*(int *)((int)pvVar2 * 0x4 + (int)*ppvVar1) = param_4;
	ppvVar1[0x1] = (void *)((int)pvVar2 + 0x1);
	return;
}



void FUN_0026ae70(int param_1, undefined8 param_2, int *param_3, int param_4)

{
	void **ppvVar1;
	void *pvVar2;
	undefined4 *puVar3;
	int iVar4;
	undefined4 *puVar5;
	void *pvVar6;

	if (*(int *)(param_1 + 0x3c) == 0x0) {
		iVar4 = *(int *)(param_1 + 0x8);
		if (*(int *)(iVar4 + 0x34) == 0x0) {
			ppvVar1 = (void **)MemoryAllocate(0x10);
			ppvVar1[0x1] = (void *)0x0;
			*(int **)(ppvVar1 + 0x2) = param_3;
			*(int **)(ppvVar1 + 0x3) = param_3;
			pvVar2 = MemoryAllocate2((long)((int)param_3 << 0x2));
			*ppvVar1 = pvVar2;
			*(void ***)(iVar4 + 0x34) = ppvVar1;
			*(undefined4 *)(param_1 + 0x3c) = *(undefined4 *)(iVar4 + 0x34);
		}
		else {
			*(int *)(param_1 + 0x3c) = *(int *)(iVar4 + 0x34);
		}
	}
	ppvVar1 = *(void ***)(param_1 + 0x3c);
	if (ppvVar1[0x1] == ppvVar1[0x2]) {
		pvVar6 = (void *)((int)ppvVar1[0x1] + (int)ppvVar1[0x3]);
		puVar3 = (undefined4 *)MemoryAllocate2((long)((int)pvVar6 * 0x4));
		pvVar2 = (void *)0x0;
		puVar5 = puVar3;
		if (ppvVar1[0x1] != (void *)0x0) {
			do {
				iVar4 = (int)pvVar2 * 0x4;
				pvVar2 = (void *)((int)pvVar2 + 0x1);
				*puVar5 = *(undefined4 *)(iVar4 + (int)*ppvVar1);
				puVar5 = puVar5 + 0x1;
			} while (pvVar2 < ppvVar1[0x1]);
		}
		if (*ppvVar1 == (void *)0x0) {
			*(undefined4 **)ppvVar1 = puVar3;
		}
		else {
			MemoryDeallocate_(*ppvVar1);
			*(undefined4 **)ppvVar1 = puVar3;
		}
		ppvVar1[0x2] = pvVar6;
		pvVar2 = ppvVar1[0x1];
	}
	else {
		pvVar2 = ppvVar1[0x1];
	}
	*(int *)((int)pvVar2 * 0x4 + (int)*ppvVar1) = param_4;
	ppvVar1[0x1] = (void *)((int)pvVar2 + 0x1);
	return;
}



void FUN_0026af98(undefined param_1, undefined param_2, undefined param_3, char param_4)

{
	FUN_002822c0((int)DAT(0x003bdc10), (int)param_4);
	return;
}



void FUN_0026afc0(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303ab8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026aff0(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303ab8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



undefined4 FUN_0026b028(int param_1)

{
	undefined4 uVar1;

	uVar1 = 0x0;
	if (((int)*(uint *)(param_1 + 0x8) < 0x0) ||
		(*(uint *)(*(int *)(param_1 + 0x4) + 0x4) <= *(uint *)(param_1 + 0x8))) {
		uVar1 = 0x1;
	}
	return uVar1;
}



int FUN_0026b068(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



void FUN_0026b088(int **param_1, long param_2)

{
	String *address;
	int iVar1;
	void **address_00;
	String **ppSVar2;
	int iVar3;
	ulong uVar4;
	undefined *local_30;
	int *local_2c;
	int local_28;

	if (param_2 != 0x0) {
		local_2c = *param_1;
		if (local_2c == (int *)0x0) goto LAB_0026b1a8;
		local_28 = 0x0;
		local_30 = DAT(0x00304a60);
		while (uVar4 = (**(code **)(local_30 + 0x1c))((int)&local_30 + (int)*(short *)(local_30 + 0x18))
			, ((uVar4 ^ 0x1) & 0xff) != 0x0) {
			ppSVar2 = (String **)
				(**(code **)(local_30 + 0x24))((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			address = *ppSVar2;
			if (address != (String *)0x0) {
				FreeInstancePropsList_((InstanceProperties *)(address + 0x3), 0x2);
				iVar1 = address[0x1].stringMemoryOccupied;
				if (iVar1 != 0x0) {
					iVar3 = iVar1 + *(int *)(iVar1 + -0x10) * 0x2;
					while (iVar1 != iVar3) {
						iVar3 += -0x2;
					}
					MemoryDeallocate_((void *)(iVar1 + -0x10));
				}
				StringDelete(address);
				MemoryDeallocate2_(address);
			}
			local_28 += 0x1;
		}
		local_30 = DAT(0x00304ab8);
	}
	address_00 = (void **)*param_1;
	if (address_00 == (void **)0x0) {
		*param_1 = (int *)0x0;
		return;
	}
	if (*address_00 != (void *)0x0) {
		MemoryDeallocate_(*address_00);
	}
	MemoryDeallocate2_(address_00);
LAB_0026b1a8:
	*param_1 = (int *)0x0;
	return;
}



void FUN_0026b1c8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x3039a0;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026b1f8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x3039a0;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



int FUN_0026b240(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



void FUN_0026b258(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303910;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026b288(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303910;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



int FUN_0026b2d0(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



void FUN_0026b2e8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303880;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026b318(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303880;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



int FUN_0026b360(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



void FUN_0026b378(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x3037f0;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026b3a8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x3037f0;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



int FUN_0026b3f0(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



void FUN_0026b408(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303760;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026b438(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x303760;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



int FUN_0026b480(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



void FUN_0026b498(int param_1)

{
	FUN_0026b4c0(*(int *)(param_1 + 0x4), (long)*(int *)(param_1 + 0x8), *(int **)(param_1 + 0xc));
	return;
}



void FUN_0026b4c0(int param_1, undefined8 param_2, int *param_3)

{
	switch (param_2) {
	case 0x0:
		FUN_002b69d0((int *)(param_1 + 0x8), param_3);
		break;
	case 0x1:
		FUN_002b69d0((int *)(param_1 + 0x28), param_3);
		break;
	case 0x2:
		FUN_002b69d0((int *)(param_1 + 0x38), param_3);
		break;
	case 0x3:
		FUN_002b69d0((int *)(param_1 + 0x48), param_3);
		break;
	case 0x4:
		FUN_002b69d0((int *)(param_1 + 0x58), param_3);
		break;
	case 0x5:
		FUN_002b69d0((int *)(param_1 + 0x88), param_3);
		break;
	case 0x6:
		FUN_002b69d0((int *)(param_1 + 0x18), param_3);
		break;
	case 0x7:
		FUN_002b69d0((int *)(param_1 + 0x68), param_3);
		break;
	case 0x8:
		FUN_002b69d0((int *)(param_1 + 0x78), param_3);
	}
	return;
}



void FUN_0026b5c0(int param_1)

{
	FUN_00266ba0(*(int *)(param_1 + 0x4));
	return;
}



undefined4 FUN_0026b5e0(int param_1)

{
	undefined4 uVar1;

	uVar1 = 0x0;
	if (((int)*(uint *)(param_1 + 0x8) < 0x0) ||
		(*(uint *)(*(int *)(param_1 + 0x4) + 0x4) <= *(uint *)(param_1 + 0x8))) {
		uVar1 = 0x1;
	}
	return uVar1;
}



undefined4 FUN_0026b668(int param_1)

{
	undefined4 uVar1;

	uVar1 = 0x0;
	if (((int)*(uint *)(param_1 + 0x8) < 0x0) ||
		(*(uint *)(*(int *)(param_1 + 0x4) + 0x4) <= *(uint *)(param_1 + 0x8))) {
		uVar1 = 0x1;
	}
	return uVar1;
}



undefined4 FUN_0026b6f0(int param_1)

{
	undefined4 uVar1;

	uVar1 = 0x0;
	if (((int)*(uint *)(param_1 + 0x8) < 0x0) ||
		(*(uint *)(*(int *)(param_1 + 0x4) + 0x4) <= *(uint *)(param_1 + 0x8))) {
		uVar1 = 0x1;
	}
	return uVar1;
}



undefined4 FUN_0026b778(int param_1)

{
	undefined4 uVar1;

	uVar1 = 0x0;
	if (((int)*(uint *)(param_1 + 0x8) < 0x0) ||
		(*(uint *)(*(int *)(param_1 + 0x4) + 0x4) <= *(uint *)(param_1 + 0x8))) {
		uVar1 = 0x1;
	}
	return uVar1;
}



undefined4 FUN_0026b800(int param_1)

{
	undefined4 uVar1;

	uVar1 = 0x0;
	if (((int)*(uint *)(param_1 + 0x8) < 0x0) ||
		(*(uint *)(*(int *)(param_1 + 0x4) + 0x4) <= *(uint *)(param_1 + 0x8))) {
		uVar1 = 0x1;
	}
	return uVar1;
}



int ** FUN_0026b9c0(int param_1, undefined8 param_2, undefined8 param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;

	if (*param_4 == 0x0) {
		ppiVar4 = (int **)0x0;
	}
	else {
		ppiVar4 = (int **)MemoryAllocate(0x10);
		piVar1 = *(int **)(param_1 + 0x8);
		piVar2 = *(int **)(param_1 + 0xc);
		piVar3 = *(int **)(param_1 + 0x4);
		*(undefined **)ppiVar4 = DAT(0x00304a38);
		ppiVar4[0x1] = piVar3;
		ppiVar4[0x2] = piVar1;
		ppiVar4[0x3] = piVar2;
	}
	return ppiVar4;
}



void FUN_0026ba20(int param_1)

{
	void **ppvVar1;
	void **address;
	ulong uVar2;
	undefined *local_30;
	void *local_2c;
	int local_28;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	local_2c = *ppvVar1;
	if (local_2c != (void *)0x0) {
		local_28 = 0x0;
		local_30 = DAT(0x00303708);
		while (uVar2 = (**(code **)(local_30 + 0x1c))((int)&local_30 + (int)*(short *)(local_30 + 0x18))
			, ((uVar2 ^ 0x1) & 0xff) != 0x0) {
			address = (void **)(**(code **)(local_30 + 0x24))
				((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			if (*address != (void *)0x0) {
				MemoryDeallocate2_(*address);
			}
			local_28 += 0x1;
		}
		local_30 = DAT(0x00303760);
		address = (void **)*ppvVar1;
		if (address == (void **)0x0) {
			*ppvVar1 = (void *)0x0;
			return;
		}
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*ppvVar1 = (void *)0x0;
	return;
}



void FUN_0026baf8(int param_1, long param_2)

{
	void **ppvVar1;
	void **ppvVar2;
	void *pvVar3;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	pvVar3 = (void *)param_2;
	*(void **)(param_1 + 0xc) = pvVar3;
	if (param_2 != 0x0) {
		ppvVar2 = (void **)MemoryAllocate(0x10);
		ppvVar2[0x1] = (void *)0x0;
		ppvVar2[0x2] = pvVar3;
		ppvVar2[0x3] = pvVar3;
		pvVar3 = MemoryAllocate2((long)((int)pvVar3 << 0x2));
		*ppvVar2 = pvVar3;
		*(void ***)ppvVar1 = ppvVar2;
	}
	return;
}



int ** FUN_0026bb80(int param_1, undefined8 param_2, undefined8 param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;

	if (*param_4 == 0x0) {
		ppiVar4 = (int **)0x0;
	}
	else {
		ppiVar4 = (int **)MemoryAllocate(0x10);
		piVar1 = *(int **)(param_1 + 0x8);
		piVar2 = *(int **)(param_1 + 0xc);
		piVar3 = *(int **)(param_1 + 0x4);
		*(undefined **)ppiVar4 = DAT(0x00304a10);
		ppiVar4[0x1] = piVar3;
		ppiVar4[0x2] = piVar1;
		ppiVar4[0x3] = piVar2;
	}
	return ppiVar4;
}



void FUN_0026bbe0(int param_1)

{
	void **ppvVar1;
	int iVar2;
	void **address;
	int *piVar3;
	ulong uVar4;
	undefined *local_30;
	void *local_2c;
	int local_28;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	local_2c = *ppvVar1;
	if (local_2c != (void *)0x0) {
		local_28 = 0x0;
		local_30 = DAT(0x00303798);
		while (uVar4 = (**(code **)(local_30 + 0x1c))((int)&local_30 + (int)*(short *)(local_30 + 0x18))
			, ((uVar4 ^ 0x1) & 0xff) != 0x0) {
			piVar3 = (int *)(**(code **)(local_30 + 0x24))
				((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			iVar2 = *piVar3;
			if (iVar2 != 0x0) {
				(**(code **)(*(int *)(iVar2 + 0x50) + 0xc))
					(iVar2 + *(short *)(*(int *)(iVar2 + 0x50) + 0x8), 0x3);
			}
			local_28 += 0x1;
		}
		local_30 = DAT(0x003037f0);
		address = (void **)*ppvVar1;
		if (address == (void **)0x0) {
			*ppvVar1 = (void *)0x0;
			return;
		}
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*ppvVar1 = (void *)0x0;
	return;
}



void FUN_0026bcc0(int param_1, long param_2)

{
	void **ppvVar1;
	void **ppvVar2;
	void *pvVar3;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	pvVar3 = (void *)param_2;
	*(void **)(param_1 + 0xc) = pvVar3;
	if (param_2 != 0x0) {
		ppvVar2 = (void **)MemoryAllocate(0x10);
		ppvVar2[0x1] = (void *)0x0;
		ppvVar2[0x2] = pvVar3;
		ppvVar2[0x3] = pvVar3;
		pvVar3 = MemoryAllocate2((long)((int)pvVar3 << 0x2));
		*ppvVar2 = pvVar3;
		*(void ***)ppvVar1 = ppvVar2;
	}
	return;
}



int ** FUN_0026bd48(int param_1, undefined8 param_2, undefined8 param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;

	if (*param_4 == 0x0) {
		ppiVar4 = (int **)0x0;
	}
	else {
		ppiVar4 = (int **)MemoryAllocate(0x10);
		piVar1 = *(int **)(param_1 + 0x8);
		piVar2 = *(int **)(param_1 + 0xc);
		piVar3 = *(int **)(param_1 + 0x4);
		*(undefined **)ppiVar4 = DAT(0x003049e8);
		ppiVar4[0x1] = piVar3;
		ppiVar4[0x2] = piVar1;
		ppiVar4[0x3] = piVar2;
	}
	return ppiVar4;
}



void FUN_0026bda8(int param_1)

{
	void **ppvVar1;
	int iVar2;
	void **address;
	int *piVar3;
	ulong uVar4;
	undefined *local_30;
	void *local_2c;
	int local_28;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	local_2c = *ppvVar1;
	if (local_2c != (void *)0x0) {
		local_28 = 0x0;
		local_30 = DAT(0x00303828);
		while (uVar4 = (**(code **)(local_30 + 0x1c))((int)&local_30 + (int)*(short *)(local_30 + 0x18))
			, ((uVar4 ^ 0x1) & 0xff) != 0x0) {
			piVar3 = (int *)(**(code **)(local_30 + 0x24))
				((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			iVar2 = *piVar3;
			if (iVar2 != 0x0) {
				(**(code **)(*(int *)(iVar2 + 0x50) + 0xc))
					(iVar2 + *(short *)(*(int *)(iVar2 + 0x50) + 0x8), 0x3);
			}
			local_28 += 0x1;
		}
		local_30 = DAT(0x00303880);
		address = (void **)*ppvVar1;
		if (address == (void **)0x0) {
			*ppvVar1 = (void *)0x0;
			return;
		}
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*ppvVar1 = (void *)0x0;
	return;
}



void FUN_0026be88(int param_1, long param_2)

{
	void **ppvVar1;
	void **ppvVar2;
	void *pvVar3;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	pvVar3 = (void *)param_2;
	*(void **)(param_1 + 0xc) = pvVar3;
	if (param_2 != 0x0) {
		ppvVar2 = (void **)MemoryAllocate(0x10);
		ppvVar2[0x1] = (void *)0x0;
		ppvVar2[0x2] = pvVar3;
		ppvVar2[0x3] = pvVar3;
		pvVar3 = MemoryAllocate2((long)((int)pvVar3 << 0x2));
		*ppvVar2 = pvVar3;
		*(void ***)ppvVar1 = ppvVar2;
	}
	return;
}



int ** FUN_0026bf10(int param_1, undefined8 param_2, undefined8 param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;

	if (*param_4 == 0x0) {
		ppiVar4 = (int **)0x0;
	}
	else {
		ppiVar4 = (int **)MemoryAllocate(0x10);
		piVar1 = *(int **)(param_1 + 0x8);
		piVar2 = *(int **)(param_1 + 0xc);
		piVar3 = *(int **)(param_1 + 0x4);
		*(undefined **)ppiVar4 = DAT(0x003049c0);
		ppiVar4[0x1] = piVar3;
		ppiVar4[0x2] = piVar1;
		ppiVar4[0x3] = piVar2;
	}
	return ppiVar4;
}



void FUN_0026bf70(int param_1)

{
	void **ppvVar1;
	int iVar2;
	void **address;
	int *piVar3;
	ulong uVar4;
	undefined *local_30;
	void *local_2c;
	int local_28;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	local_2c = *ppvVar1;
	if (local_2c != (void *)0x0) {
		local_28 = 0x0;
		local_30 = DAT(0x003040a0);
		while (uVar4 = (**(code **)(local_30 + 0x1c))((int)&local_30 + (int)*(short *)(local_30 + 0x18))
			, ((uVar4 ^ 0x1) & 0xff) != 0x0) {
			piVar3 = (int *)(**(code **)(local_30 + 0x24))
				((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			iVar2 = *piVar3;
			if (iVar2 != 0x0) {
				(**(code **)(*(int *)(iVar2 + 0x8) + 0xc))
					(iVar2 + *(short *)(*(int *)(iVar2 + 0x8) + 0x8), 0x3);
			}
			local_28 += 0x1;
		}
		local_30 = DAT(0x003040f8);
		address = (void **)*ppvVar1;
		if (address == (void **)0x0) {
			*ppvVar1 = (void *)0x0;
			return;
		}
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*ppvVar1 = (void *)0x0;
	return;
}



void FUN_0026c050(int param_1, long param_2)

{
	void **ppvVar1;
	void **ppvVar2;
	void *pvVar3;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	pvVar3 = (void *)param_2;
	*(void **)(param_1 + 0xc) = pvVar3;
	if (param_2 != 0x0) {
		ppvVar2 = (void **)MemoryAllocate(0x10);
		ppvVar2[0x1] = (void *)0x0;
		ppvVar2[0x2] = pvVar3;
		ppvVar2[0x3] = pvVar3;
		pvVar3 = MemoryAllocate2((long)((int)pvVar3 << 0x2));
		*ppvVar2 = pvVar3;
		*(void ***)ppvVar1 = ppvVar2;
	}
	return;
}



int ** FUN_0026c0d8(int param_1, undefined8 param_2, undefined8 param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;

	if (*param_4 == 0x0) {
		ppiVar4 = (int **)0x0;
	}
	else {
		ppiVar4 = (int **)MemoryAllocate(0x10);
		piVar1 = *(int **)(param_1 + 0x8);
		piVar2 = *(int **)(param_1 + 0xc);
		piVar3 = *(int **)(param_1 + 0x4);
		*(undefined **)ppiVar4 = DAT(0x00304998);
		ppiVar4[0x1] = piVar3;
		ppiVar4[0x2] = piVar1;
		ppiVar4[0x3] = piVar2;
	}
	return ppiVar4;
}



void FUN_0026c138(int param_1)

{
	void **ppvVar1;
	void **address;
	int *piVar2;
	ulong uVar3;
	undefined *local_30;
	void *local_2c;
	int local_28;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	local_2c = *ppvVar1;
	if (local_2c != (void *)0x0) {
		local_28 = 0x0;
		local_30 = DAT(0x00304130);
		while (uVar3 = (**(code **)(local_30 + 0x1c))((int)&local_30 + (int)*(short *)(local_30 + 0x18))
			, ((uVar3 ^ 0x1) & 0xff) != 0x0) {
			piVar2 = (int *)(**(code **)(local_30 + 0x24))
				((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			if ((long)*piVar2 != 0x0) {
				FUN_0023c738((long)*piVar2, 0x3);
			}
			local_28 += 0x1;
		}
		local_30 = DAT(0x00304188);
		address = (void **)*ppvVar1;
		if (address == (void **)0x0) {
			*ppvVar1 = (void *)0x0;
			return;
		}
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*ppvVar1 = (void *)0x0;
	return;
}



void FUN_0026c210(int param_1, long param_2)

{
	void **ppvVar1;
	void **ppvVar2;
	void *pvVar3;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	pvVar3 = (void *)param_2;
	*(void **)(param_1 + 0xc) = pvVar3;
	if (param_2 != 0x0) {
		ppvVar2 = (void **)MemoryAllocate(0x10);
		ppvVar2[0x1] = (void *)0x0;
		ppvVar2[0x2] = pvVar3;
		ppvVar2[0x3] = pvVar3;
		pvVar3 = MemoryAllocate2((long)((int)pvVar3 << 0x2));
		*ppvVar2 = pvVar3;
		*(void ***)ppvVar1 = ppvVar2;
	}
	return;
}



int ** FUN_0026c298(int param_1, undefined8 param_2, undefined8 param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;

	if (*param_4 == 0x0) {
		ppiVar4 = (int **)0x0;
	}
	else {
		ppiVar4 = (int **)MemoryAllocate(0x10);
		piVar1 = *(int **)(param_1 + 0x8);
		piVar2 = *(int **)(param_1 + 0xc);
		piVar3 = *(int **)(param_1 + 0x4);
		*(undefined **)ppiVar4 = DAT(0x00304970);
		ppiVar4[0x1] = piVar3;
		ppiVar4[0x2] = piVar1;
		ppiVar4[0x3] = piVar2;
	}
	return ppiVar4;
}



void FUN_0026c2f8(int param_1)

{
	void **ppvVar1;
	void **address;
	ulong uVar2;
	undefined *local_30;
	void *local_2c;
	int local_28;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	local_2c = *ppvVar1;
	if (local_2c != (void *)0x0) {
		local_28 = 0x0;
		local_30 = DAT(0x003038b8);
		while (uVar2 = (**(code **)(local_30 + 0x1c))((int)&local_30 + (int)*(short *)(local_30 + 0x18))
			, ((uVar2 ^ 0x1) & 0xff) != 0x0) {
			address = (void **)(**(code **)(local_30 + 0x24))
				((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			MemoryDeallocate2_(*address);
			local_28 += 0x1;
		}
		local_30 = DAT(0x00303910);
		address = (void **)*ppvVar1;
		if (address == (void **)0x0) {
			*ppvVar1 = (void *)0x0;
			return;
		}
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*ppvVar1 = (void *)0x0;
	return;
}



void FUN_0026c3c0(int param_1, long param_2)

{
	void **ppvVar1;
	void **ppvVar2;
	void *pvVar3;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	pvVar3 = (void *)param_2;
	*(void **)(param_1 + 0xc) = pvVar3;
	if (param_2 != 0x0) {
		ppvVar2 = (void **)MemoryAllocate(0x10);
		ppvVar2[0x1] = (void *)0x0;
		ppvVar2[0x2] = pvVar3;
		ppvVar2[0x3] = pvVar3;
		pvVar3 = MemoryAllocate2((long)((int)pvVar3 << 0x2));
		*ppvVar2 = pvVar3;
		*(void ***)ppvVar1 = ppvVar2;
	}
	return;
}



int ** FUN_0026c448(int param_1, undefined8 param_2, undefined8 param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;

	if (*param_4 == 0x0) {
		ppiVar4 = (int **)0x0;
	}
	else {
		ppiVar4 = (int **)MemoryAllocate(0x10);
		piVar1 = *(int **)(param_1 + 0x8);
		piVar2 = *(int **)(param_1 + 0xc);
		piVar3 = *(int **)(param_1 + 0x4);
		*(undefined **)ppiVar4 = DAT(0x00304948);
		ppiVar4[0x1] = piVar3;
		ppiVar4[0x2] = piVar1;
		ppiVar4[0x3] = piVar2;
	}
	return ppiVar4;
}



void FUN_0026c4a8(int param_1)

{
	void **ppvVar1;
	void *address;
	void **address_00;
	ulong uVar2;
	undefined *local_30;
	void *local_2c;
	int local_28;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	local_2c = *ppvVar1;
	if (local_2c != (void *)0x0) {
		local_28 = 0x0;
		local_30 = DAT(0x00303948);
		while (uVar2 = (**(code **)(local_30 + 0x1c))((int)&local_30 + (int)*(short *)(local_30 + 0x18))
			, ((uVar2 ^ 0x1) & 0xff) != 0x0) {
			address_00 = (void **)(**(code **)(local_30 + 0x24))
				((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			address = *address_00;
			if (address != (void *)0x0) {
				if (*(void **)((int)address + 0x14) != (void *)0x0) {
					MemoryDeallocate_(*(void **)((int)address + 0x14));
				}
				MemoryDeallocate2_(address);
			}
			local_28 += 0x1;
		}
		local_30 = DAT(0x003039a0);
		address_00 = (void **)*ppvVar1;
		if (address_00 == (void **)0x0) {
			*ppvVar1 = (void *)0x0;
			return;
		}
		if (*address_00 != (void *)0x0) {
			MemoryDeallocate_(*address_00);
		}
		MemoryDeallocate2_(address_00);
	}
	*ppvVar1 = (void *)0x0;
	return;
}



void FUN_0026c5a0(int param_1, long param_2)

{
	void **ppvVar1;
	void **ppvVar2;
	void *pvVar3;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	pvVar3 = (void *)param_2;
	*(void **)(param_1 + 0xc) = pvVar3;
	if (param_2 != 0x0) {
		ppvVar2 = (void **)MemoryAllocate(0x10);
		ppvVar2[0x1] = (void *)0x0;
		ppvVar2[0x2] = pvVar3;
		ppvVar2[0x3] = pvVar3;
		pvVar3 = MemoryAllocate2((long)((int)pvVar3 << 0x2));
		*ppvVar2 = pvVar3;
		*(void ***)ppvVar1 = ppvVar2;
	}
	return;
}



int ** FUN_0026c628(int param_1, undefined8 param_2, undefined8 param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;

	if (*param_4 == 0x0) {
		ppiVar4 = (int **)0x0;
	}
	else {
		ppiVar4 = (int **)MemoryAllocate(0x10);
		piVar1 = *(int **)(param_1 + 0x8);
		piVar2 = *(int **)(param_1 + 0xc);
		piVar3 = *(int **)(param_1 + 0x4);
		*(undefined **)ppiVar4 = DAT(0x00304920);
		ppiVar4[0x1] = piVar3;
		ppiVar4[0x2] = piVar1;
		ppiVar4[0x3] = piVar2;
	}
	return ppiVar4;
}



void FUN_0026c688(int param_1)

{
	void **ppvVar1;
	void **address;
	GameInstance **ppGVar2;
	ulong uVar3;
	undefined *local_30;
	void *local_2c;
	int local_28;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	local_2c = *ppvVar1;
	if (local_2c != (void *)0x0) {
		local_28 = 0x0;
		local_30 = DAT(0x00303a60);
		while (uVar3 = (**(code **)(local_30 + 0x1c))((int)&local_30 + (int)*(short *)(local_30 + 0x18))
			, ((uVar3 ^ 0x1) & 0xff) != 0x0) {
			ppGVar2 = (GameInstance **)
				(**(code **)(local_30 + 0x24))((int)&local_30 + (int)*(short *)(local_30 + 0x20));
			if (*ppGVar2 != (GameInstance *)0x0) {
				FUN_0025efd8(*ppGVar2, 0x3);
			}
			local_28 += 0x1;
		}
		local_30 = DAT(0x00303ab8);
		address = (void **)*ppvVar1;
		if (address == (void **)0x0) {
			*ppvVar1 = (void *)0x0;
			return;
		}
		if (*address != (void *)0x0) {
			MemoryDeallocate_(*address);
		}
		MemoryDeallocate2_(address);
	}
	*ppvVar1 = (void *)0x0;
	return;
}



void FUN_0026c760(int param_1, long param_2)

{
	void **ppvVar1;
	void **ppvVar2;
	void *pvVar3;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	pvVar3 = (void *)param_2;
	*(void **)(param_1 + 0xc) = pvVar3;
	if (param_2 != 0x0) {
		ppvVar2 = (void **)MemoryAllocate(0x10);
		ppvVar2[0x1] = (void *)0x0;
		ppvVar2[0x2] = pvVar3;
		ppvVar2[0x3] = pvVar3;
		pvVar3 = MemoryAllocate2((long)((int)pvVar3 << 0x2));
		*ppvVar2 = pvVar3;
		*(void ***)ppvVar1 = ppvVar2;
	}
	return;
}



int ** FUN_0026c7e8(int param_1, undefined8 param_2, undefined8 param_3, int *param_4)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;

	if (*param_4 == 0x0) {
		ppiVar4 = (int **)0x0;
	}
	else {
		ppiVar4 = (int **)MemoryAllocate(0x10);
		piVar1 = *(int **)(param_1 + 0x8);
		piVar2 = *(int **)(param_1 + 0xc);
		piVar3 = *(int **)(param_1 + 0x4);
		*(undefined **)ppiVar4 = DAT(0x003048f8);
		ppiVar4[0x1] = piVar3;
		ppiVar4[0x2] = piVar1;
		ppiVar4[0x3] = piVar2;
	}
	return ppiVar4;
}



void FUN_0026c848(int param_1)

{
	FUN_0026b088(*(int ***)(param_1 + 0x8), 0x1);
	return;
}



void FUN_0026c868(int param_1, long param_2)

{
	void **ppvVar1;
	void **ppvVar2;
	void *pvVar3;

	ppvVar1 = *(void ***)(param_1 + 0x8);
	pvVar3 = (void *)param_2;
	*(void **)(param_1 + 0xc) = pvVar3;
	if (param_2 != 0x0) {
		ppvVar2 = (void **)MemoryAllocate(0x10);
		ppvVar2[0x1] = (void *)0x0;
		ppvVar2[0x2] = pvVar3;
		ppvVar2[0x3] = pvVar3;
		pvVar3 = MemoryAllocate2((long)((int)pvVar3 << 0x2));
		*ppvVar2 = pvVar3;
		*(void ***)ppvVar1 = ppvVar2;
	}
	return;
}



int ** FUN_0026ca38(int param_1, int *param_2, int param_3)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;
	uint *puVar5;

	if (*(int *)(param_1 + 0x4) != 0x0) {
		piVar1 = *(int **)(param_3 + 0x8);
		if (((uint)piVar1 & 0xffff) == 0xffff) {
			puVar5 = (uint *)0x0;
		}
		else {
			puVar5 = *(uint **)(((uint)piVar1 & 0x7fff) * 0x4 + *(int *)(*(int *)(param_1 + 0x4) + 0x4));
		}
		if (puVar5 == (uint *)0x0) {
			ppiVar4 = (int **)MemoryAllocate(0x14);
			piVar2 = *(int **)(param_1 + 0x8);
			piVar3 = *(int **)(param_1 + 0x4);
			ppiVar4[0x1] = piVar1;
			*(undefined **)ppiVar4 = DAT(0x003048a8);
			ppiVar4[0x2] = param_2;
			ppiVar4[0x3] = piVar3;
			ppiVar4[0x4] = piVar2;
			return ppiVar4;
		}
		if ((*puVar5 & 0x20000) != 0x0) {
			return (int **)0x0;
		}
		*puVar5 = *puVar5 | 0x20000;
	}
	return (int **)0x0;
}



void FUN_0026cb00(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(*(int *)(param_1 + 0x4) + 0x14);
	(**(code **)(iVar1 + 0x14))(*(int *)(param_1 + 0x4) + (int)*(short *)(iVar1 + 0x10));
	return;
}



void FUN_0026cb38(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x14) + 0x1c))(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x18));
	}
	return;
}



void FUN_0026cb78(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x14) + 0x24))(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x20));
	}
	return;
}



int ** FUN_0026cc20(int param_1, int *param_2, int param_3)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;
	uint *puVar5;

	if (*(int *)(param_1 + 0x4) != 0x0) {
		piVar1 = *(int **)(param_3 + 0x8);
		if (((uint)piVar1 & 0xffff) == 0xffff) {
			puVar5 = (uint *)0x0;
		}
		else {
			puVar5 = *(uint **)(((uint)piVar1 & 0x7fff) * 0x4 + *(int *)(*(int *)(param_1 + 0x4) + 0x4));
		}
		if (puVar5 == (uint *)0x0) {
			ppiVar4 = (int **)MemoryAllocate(0x14);
			piVar2 = *(int **)(param_1 + 0x8);
			piVar3 = *(int **)(param_1 + 0x4);
			ppiVar4[0x1] = piVar1;
			*(undefined **)ppiVar4 = DAT(0x00304880);
			ppiVar4[0x2] = param_2;
			ppiVar4[0x3] = piVar3;
			ppiVar4[0x4] = piVar2;
			return ppiVar4;
		}
		if ((*puVar5 & 0x20000) != 0x0) {
			return (int **)0x0;
		}
		*puVar5 = *puVar5 | 0x20000;
	}
	return (int **)0x0;
}



void FUN_0026cce8(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(*(int *)(param_1 + 0x4) + 0x14);
	(**(code **)(iVar1 + 0x14))(*(int *)(param_1 + 0x4) + (int)*(short *)(iVar1 + 0x10));
	return;
}



void FUN_0026cd20(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x14) + 0x1c))(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x18));
	}
	return;
}



void FUN_0026cd60(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x14) + 0x24))(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x20));
	}
	return;
}



int FUN_0026cd98(int param_1)

{
	uint *puVar1;
	int iVar2;
	int iVar3;
	int *piVar4;
	uint uVar5;

	puVar1 = *(uint **)(param_1 + 0x4);
	uVar5 = 0x0;
	if (puVar1 != (uint *)0x0) {
		iVar3 = 0x0;
		if ((*puVar1 & 0x3fff) != 0x0) {
			piVar4 = (int *)puVar1[0x1];
			do {
				iVar2 = *piVar4;
				uVar5 += 0x1;
				piVar4 = piVar4 + 0x1;
				if (iVar2 != 0x0) {
					iVar3 = iVar3 + 0x1;
				}
			} while (uVar5 < (*puVar1 & 0x3fff));
		}
		return iVar3;
	}
	return 0x0;
}



int ** FUN_0026ce08(int param_1, int *param_2, int param_3)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int **ppiVar4;
	uint *puVar5;

	if (*(int *)(param_1 + 0x4) != 0x0) {
		piVar1 = *(int **)(param_3 + 0x8);
		if (((uint)piVar1 & 0xffff) == 0xffff) {
			puVar5 = (uint *)0x0;
		}
		else {
			puVar5 = *(uint **)(((uint)piVar1 & 0x7fff) * 0x4 + *(int *)(*(int *)(param_1 + 0x4) + 0x4));
		}
		if (puVar5 == (uint *)0x0) {
			ppiVar4 = (int **)MemoryAllocate(0x14);
			piVar2 = *(int **)(param_1 + 0x8);
			piVar3 = *(int **)(param_1 + 0x4);
			ppiVar4[0x1] = piVar1;
			*(undefined **)ppiVar4 = DAT(0x00304858);
			ppiVar4[0x2] = param_2;
			ppiVar4[0x3] = piVar3;
			ppiVar4[0x4] = piVar2;
			return ppiVar4;
		}
		if ((*puVar5 & 0x20000) != 0x0) {
			return (int **)0x0;
		}
		*puVar5 = *puVar5 | 0x20000;
	}
	return (int **)0x0;
}



void FUN_0026ced0(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(*(int *)(param_1 + 0x4) + 0x14);
	(**(code **)(iVar1 + 0x14))(*(int *)(param_1 + 0x4) + (int)*(short *)(iVar1 + 0x10));
	return;
}



void FUN_0026cf08(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x14) + 0x1c))(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x18));
	}
	return;
}



void FUN_0026cf48(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x14) + 0x24))(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x20));
	}
	return;
}



int GetSubSectionAmount(int param_1)

{
	uint *puVar1;
	int iVar2;
	int iVar3;
	int *piVar4;
	uint uVar5;

	puVar1 = *(uint **)(param_1 + 0x4);
	uVar5 = 0x0;
	if (puVar1 != (uint *)0x0) {
		iVar3 = 0x0;
		if ((*puVar1 & 0x3fff) != 0x0) {
			piVar4 = (int *)puVar1[0x1];
			do {
				iVar2 = *piVar4;
				uVar5 += 0x1;
				piVar4 = piVar4 + 0x1;
				if (iVar2 != 0x0) {
					iVar3 = iVar3 + 0x1;
				}
			} while (uVar5 < (*puVar1 & 0x3fff));
		}
		return iVar3;
	}
	return 0x0;
}



ScriptLoader * FUN_0026cff0(int param_1, int *param_2, int param_3)

{
	uint uVar1;
	undefined4 uVar2;
	ResourceTable *pRVar3;
	ScriptLoader *scriptLoader;
	uint *puVar4;

	if (*(int *)(param_1 + 0x4) != 0x0) {
		uVar1 = *(uint *)(param_3 + 0x8);
		if ((uVar1 & 0xffff) == 0xffff) {
			puVar4 = (uint *)0x0;
		}
		else {
			puVar4 = *(uint **)((uVar1 & 0x7fff) * 0x4 + *(int *)(*(int *)(param_1 + 0x4) + 0x4));
		}
		if (puVar4 == (uint *)0x0) {
			scriptLoader = (ScriptLoader *)MemoryAllocate(0x14);
			uVar2 = *(undefined4 *)(param_1 + 0x8);
			pRVar3 = *(ResourceTable **)(param_1 + 0x4);
			scriptLoader->scriptId = uVar1;
			scriptLoader->methods = (undefined *)0x304830;
			*(int **)&scriptLoader->scriptChunkIndex = param_2;
			scriptLoader->scriptsResourceTable = pRVar3;
			*(undefined4 *)&scriptLoader->field_0x10 = uVar2;
			return scriptLoader;
		}
		if ((*puVar4 & 0x20000) != 0x0) {
			return (ScriptLoader *)0x0;
		}
		*puVar4 = *puVar4 | 0x20000;
	}
	return (ScriptLoader *)0x0;
}



void FUN_0026d0b8(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(*(int *)(param_1 + 0x4) + 0x14);
	(**(code **)(iVar1 + 0x14))(*(int *)(param_1 + 0x4) + (int)*(short *)(iVar1 + 0x10));
	return;
}



void FUN_0026d0f0(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x14) + 0x1c))(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x18));
	}
	return;
}



void FUN_0026d130(int param_1)

{
	ResourceTable *resourceTable;

	resourceTable = *(ResourceTable **)(param_1 + 0x4);
	if (resourceTable != (ResourceTable *)0x0) {
		(**(code **)(resourceTable->methods + 0x24))
			((int)&resourceTable->itemsAmount + (int)*(short *)(resourceTable->methods + 0x20));
	}
	return;
}



int GetSubSectionAmount(AgentLabSubItem *this_)

{
	ResourceTable *objectsTable;
	void *pvVar1;
	uint itemsAmt;
	int itemsLoaded;
	void **ppvVar2;
	uint counter;

	objectsTable = this_->subItems;
	counter = 0x0;
	if (objectsTable != (ResourceTable *)0x0) {
		itemsAmt = objectsTable->itemsAmount & 0x3fff;
		itemsLoaded = 0x0;
		if (itemsAmt != 0x0) {
			ppvVar2 = objectsTable->resourceTable;
			do {
				pvVar1 = *ppvVar2;
				counter += 0x1;
				ppvVar2 = ppvVar2 + 0x1;
				if (pvVar1 != (void *)0x0) {
					itemsLoaded = itemsLoaded + 0x1;
				}
			} while (counter < itemsAmt);
		}
		return itemsLoaded;
	}
	return 0x0;
}



int ** FUN_0026d1d8(AgentLabSubItem *this_, int *param_2, int param_3)

{
	int *piVar1;
	int *piVar2;
	ResourceTable *objectsTable;
	int **ppiVar3;
	GameObject *gameObj;

	if (this_->subItems != (ResourceTable *)0x0) {
		piVar1 = *(int **)(param_3 + 0x8);
		if (((uint)piVar1 & 0xffff) == 0xffff) {
			gameObj = (GameObject *)0x0;
		}
		else {
			gameObj = (GameObject *)this_->subItems->resourceTable[(uint)piVar1 & 0x7fff];
		}
		if (gameObj == (GameObject *)0x0) {
			ppiVar3 = (int **)MemoryAllocate(0x14);
			piVar2 = (int *)this_->field_0x8;
			objectsTable = this_->subItems;
			ppiVar3[0x1] = piVar1;
			*(undefined **)ppiVar3 = DAT(0x00304808);
			ppiVar3[0x2] = param_2;
			*(ResourceTable **)(ppiVar3 + 0x3) = objectsTable;
			ppiVar3[0x4] = piVar2;
			return ppiVar3;
		}
		if ((*(uint *)gameObj & 0x20000) != 0x0) {
			return (int **)0x0;
		}
		*(uint *)gameObj = *(uint *)gameObj | 0x20000;
	}
	return (int **)0x0;
}



void FUN_0026d2a0(AgentLabSubItem *this_)

{
	undefined *puVar1;

	puVar1 = this_->subItems->methods;
	(**(code **)(puVar1 + 0x14))((int)&this_->subItems->itemsAmount + (int)*(short *)(puVar1 + 0x10));
	return;
}



void FUN_0026d2d8(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x14) + 0x1c))(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x18));
	}
	return;
}



void FUN_0026d318(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(param_1 + 0x4);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x14) + 0x24))(iVar1 + *(short *)(*(int *)(iVar1 + 0x14) + 0x20));
	}
	return;
}



void FUN_0026d350(int param_1, void *param_2, undefined4 param_3)

{
	int iVar1;
	int *piVar2;
	int iVar3;
	uint uVar4;
	uint *puVar5;
	BinaryReader BStack128;
	short local_60[0x8];
	ushort local_50[0x8];
	ushort local_40[0x8];

	CreateBinReader(&BStack128, param_2, param_3, 0x0, 0x40);
	local_60[0] = *(short *)(param_1 + 0x4);
	if ((*(uint *)(param_1 + 0x4) & 0x1) == 0x0) {
		puVar5 = (uint *)MemoryAllocate(0x24);
		*(undefined2 *)puVar5 = 0x0;
		puVar5[0x1] = 0xffffffff;
		puVar5[0x8] = 0xffffffff;
		*puVar5 = *puVar5 & 0xfffcffff;
		puVar5[0x5] = 0xffffffff;
		puVar5[0x3] = 0x0;
		*(undefined2 *)(puVar5 + 0x4) = 0x0;
		puVar5[0x6] = 0x0;
		*(undefined2 *)(puVar5 + 0x7) = 0x0;
		FUN_00296e10((int)puVar5, (int *)&BStack128);
		uVar4 = *(uint *)(param_1 + 0x4);
	}
	else {
		puVar5 = (uint *)MemoryAllocate(0x24);
		*(undefined2 *)puVar5 = 0x0;
		puVar5[0x1] = 0xffffffff;
		puVar5[0x8] = 0xffffffff;
		*puVar5 = *puVar5 & 0xfffcffff;
		puVar5[0x5] = 0xffffffff;
		puVar5[0x3] = 0x0;
		*(undefined2 *)(puVar5 + 0x4) = 0x0;
		puVar5[0x6] = 0x0;
		*(undefined2 *)(puVar5 + 0x7) = 0x0;
		FUN_00296e10((int)puVar5, (int *)&BStack128);
		uVar4 = *(uint *)(param_1 + 0x4);
	}
	puVar5[0x1] = uVar4;
	MoveShortFromS2toS1((short *)local_50, local_60);
	iVar1 = *(int *)(param_1 + 0xc);
	piVar2 = *(int **)(param_1 + 0x10);
	iVar3 = *(int *)(param_1 + 0x8);
	*(uint **)(((uint)local_50[0] & 0x7fff) * 0x4 + *(int *)(iVar1 + 0x4)) = puVar5;
	MoveShortFromS2toS1((short *)local_40, (short *)local_50);
	*(ushort *)(iVar3 * 0x2 + *(int *)(iVar1 + 0x8)) = local_40[0] & 0x7fff;
	if (piVar2 != (int *)0x0) {
		iVar1 = *piVar2;
		*(ushort *)((int)piVar2 + iVar1 * 0x2 + 0x4) = local_40[0] & 0x7fff;
		*piVar2 = iVar1 + 0x1;
	}
	DeleteBinaryReader(&BStack128, 0x2);
	return;
}



void FUN_0026d508(int param_1, void *param_2, undefined4 param_3)

{
	int iVar1;
	int *piVar2;
	int iVar3;
	uint uVar4;
	uint *puVar5;
	BinaryReader BStack128;
	short local_60[0x8];
	ushort local_50[0x8];
	ushort local_40[0x8];

	CreateBinReader(&BStack128, param_2, param_3, 0x0, 0x40);
	local_60[0] = *(short *)(param_1 + 0x4);
	if ((*(uint *)(param_1 + 0x4) & 0x1) == 0x0) {
		puVar5 = (uint *)MemoryAllocate(0x90);
		*(undefined2 *)puVar5 = 0x0;
		puVar5[0x14] = 0x0;
		puVar5[0x1] = 0xffffffff;
		*puVar5 = *puVar5 & 0xfffcffff;
		puVar5[0x16] = 0x0;
		puVar5[0x15] = 0x0;
		FUN_002962d8((int)puVar5, (int *)&BStack128);
		uVar4 = *(uint *)(param_1 + 0x4);
	}
	else {
		puVar5 = (uint *)MemoryAllocate(0x90);
		*(undefined2 *)puVar5 = 0x0;
		puVar5[0x14] = 0x0;
		puVar5[0x1] = 0xffffffff;
		*puVar5 = *puVar5 & 0xfffcffff;
		puVar5[0x16] = 0x0;
		puVar5[0x15] = 0x0;
		FUN_002962d8((int)puVar5, (int *)&BStack128);
		uVar4 = *(uint *)(param_1 + 0x4);
	}
	puVar5[0x1] = uVar4;
	MoveShortFromS2toS1((short *)local_50, local_60);
	iVar1 = *(int *)(param_1 + 0xc);
	piVar2 = *(int **)(param_1 + 0x10);
	iVar3 = *(int *)(param_1 + 0x8);
	*(uint **)(((uint)local_50[0] & 0x7fff) * 0x4 + *(int *)(iVar1 + 0x4)) = puVar5;
	MoveShortFromS2toS1((short *)local_40, (short *)local_50);
	*(ushort *)(iVar3 * 0x2 + *(int *)(iVar1 + 0x8)) = local_40[0] & 0x7fff;
	if (piVar2 != (int *)0x0) {
		iVar1 = *piVar2;
		*(ushort *)((int)piVar2 + iVar1 * 0x2 + 0x4) = local_40[0] & 0x7fff;
		*piVar2 = iVar1 + 0x1;
	}
	DeleteBinaryReader(&BStack128, 0x2);
	return;
}



void FUN_0026d6a8(int param_1, void *param_2, undefined4 param_3)

{
	int iVar1;
	int *piVar2;
	int iVar3;
	uint uVar4;
	uint *puVar5;
	BinaryReader BStack128;
	short local_60[0x8];
	ushort local_50[0x8];
	ushort local_40[0x8];

	CreateBinReader(&BStack128, param_2, param_3, 0x0, 0x40);
	local_60[0] = *(short *)(param_1 + 0x4);
	if ((*(uint *)(param_1 + 0x4) & 0x1) == 0x0) {
		puVar5 = (uint *)MemoryAllocate(0x18);
		*(undefined2 *)puVar5 = 0x0;
		puVar5[0x1] = 0xffffffff;
		*puVar5 = *puVar5 & 0xfffcffff;
		FUN_00261a40((int)puVar5, (long)(int)&BStack128);
		uVar4 = *(uint *)(param_1 + 0x4);
	}
	else {
		puVar5 = (uint *)MemoryAllocate(0x18);
		*(undefined2 *)puVar5 = 0x0;
		puVar5[0x1] = 0xffffffff;
		*puVar5 = *puVar5 & 0xfffcffff;
		FUN_00261a40((int)puVar5, (long)(int)&BStack128);
		uVar4 = *(uint *)(param_1 + 0x4);
	}
	puVar5[0x1] = uVar4;
	MoveShortFromS2toS1((short *)local_50, local_60);
	iVar1 = *(int *)(param_1 + 0xc);
	piVar2 = *(int **)(param_1 + 0x10);
	iVar3 = *(int *)(param_1 + 0x8);
	*(uint **)(((uint)local_50[0] & 0x7fff) * 0x4 + *(int *)(iVar1 + 0x4)) = puVar5;
	MoveShortFromS2toS1((short *)local_40, (short *)local_50);
	*(ushort *)(iVar3 * 0x2 + *(int *)(iVar1 + 0x8)) = local_40[0] & 0x7fff;
	if (piVar2 != (int *)0x0) {
		iVar1 = *piVar2;
		*(ushort *)((int)piVar2 + iVar1 * 0x2 + 0x4) = local_40[0] & 0x7fff;
		*piVar2 = iVar1 + 0x1;
	}
	DeleteBinaryReader(&BStack128, 0x2);
	return;
}



void FUN_0026d828(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x304ab8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026d858(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x304ab8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



int FUN_0026d8a0(int param_1)

{
	return **(int **)(param_1 + 0x4) + *(int *)(param_1 + 0x8) * 0x4;
}



void FUN_0026d8b8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026d8e8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026d918(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026d948(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026d978(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026d9a8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026d9d8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026da08(ulong this_, ulong param_2)

{
	*(undefined4 *)this_ = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)this_);
	}
	return;
}



void FUN_0026da38(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026da68(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026da98(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026dac8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026daf8(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026db28(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0026db58(int param_1, void *param_2, undefined4 param_3)

{
	int iVar1;
	int *piVar2;
	int iVar3;
	void *pvVar4;
	undefined8 uVar5;
	BinaryReader BStack128;
	short local_60[0x8];
	ushort local_50[0x8];
	ushort local_40[0x8];

	CreateBinReader(&BStack128, param_2, param_3, 0x0, 0x40);
	local_60[0] = *(short *)(param_1 + 0x4);
	pvVar4 = MemoryAllocate(0x60);
	uVar5 = FUN_0025d2b0((long)(int)pvVar4, (long)(int)&BStack128);
	*(undefined4 *)((int)uVar5 + 0x4) = *(undefined4 *)(param_1 + 0x4);
	MoveShortFromS2toS1((short *)local_50, local_60);
	iVar1 = *(int *)(param_1 + 0xc);
	piVar2 = *(int **)(param_1 + 0x10);
	iVar3 = *(int *)(param_1 + 0x8);
	*(int *)(((uint)local_50[0] & 0x7fff) * 0x4 + *(int *)(iVar1 + 0x4)) = (int)uVar5;
	MoveShortFromS2toS1((short *)local_40, (short *)local_50);
	*(ushort *)(iVar3 * 0x2 + *(int *)(iVar1 + 0x8)) = local_40[0] & 0x7fff;
	if (piVar2 != (int *)0x0) {
		iVar1 = *piVar2;
		*(ushort *)((int)piVar2 + iVar1 * 0x2 + 0x4) = local_40[0] & 0x7fff;
		*piVar2 = iVar1 + 0x1;
	}
	DeleteBinaryReader(&BStack128, 0x2);
	return;
}



void FUN_0026dc58(ScriptLoader *scrLoader, byte *diskPosition, int size)

{
	ResourceTable *scriptResTable;
	int scriptChunkIndex;
	int *piVar1;
	uint scriptId;
	GenericScriptInfo *script;
	BinaryReader binReader;
	short scriptId1;
	short scriptId2;
	short scriptId3;

	CreateBinReader(&binReader, diskPosition, size, 0x0, 0x40);
	scriptId1 = *(short *)&scrLoader->scriptId;
	// Check if it's a header script or not
	if ((scrLoader->scriptId & 0x1U) == 0x0) {
		script = (GenericScriptInfo *)MemoryAllocate(0x3c);
		FUN_00208cb0(script);
		(((HeaderScript *)script)->scriptInfo).methods = DAT(0x002fce80);
		ReadHeaderScript((HeaderScript *)script, &binReader);
		scriptId = scrLoader->scriptId;
	}
	else {
		script = (GenericScriptInfo *)MemoryAllocate(0x20);
		FUN_00208cb0(script);
		(((MajorScript *)script)->scriptInfo).methods = DAT(0x002fce38);
		NewScriptData((MajorScript *)script, &binReader);
		scriptId = scrLoader->scriptId;
	}
	script->scriptId = scriptId;
	MoveShortFromS2toS1(&scriptId2, &scriptId1);
	scriptResTable = scrLoader->scriptsResourceTable;
	scriptChunkIndex = scrLoader->scriptChunkIndex;
	piVar1 = *(int **)&scrLoader->field_0x10;
	// Store loaded script into the resource table
	*(GenericScriptInfo **)(scriptResTable->resourceTable + ((uint)(ushort)scriptId2 & 0x7fff)) =
		script;
	MoveShortFromS2toS1(&scriptId3, &scriptId2);
	scriptResTable->resourceIDsTable[scriptChunkIndex] = scriptId3 & 0x7fff;
	if (piVar1 != (int *)0x0) {
		scriptChunkIndex = *piVar1;
		*(ushort *)((int)piVar1 + scriptChunkIndex * 0x2 + 0x4) = scriptId3 & 0x7fff;
		*piVar1 = scriptChunkIndex + 0x1;
	}
	DeleteBinaryReader(&binReader, 0x2);
	return;
}



void FUN_0026df20(astruct_11 *param_1, void *instancePtr, int instanceSizeOnDisk)

{
	int **ppiVar1;
	GameInstance *newInstance;
	void *pvVar2;
	undefined4 *puVar3;
	int iVar4;
	int instId_;
	undefined4 *puVar5;
	void **ppvVar6;
	void *pvVar7;
	BinaryReader BStack80;

	CreateBinReader(&BStack80, instancePtr, instanceSizeOnDisk, 0x0, 0x1);
	newInstance = (GameInstance *)MemoryAllocate(0x60);
	newInstance = InitInstance(newInstance, &BStack80);
	instId_ = 0x0;
	if (*param_1->field_0x8 != (int *)0x0) {
		instId_ = (*param_1->field_0x8)[0x1];
	}
	FUN_002667e0(param_1->field_0x4, instId_, (long)param_1->field_0xc, newInstance);
	ppiVar1 = param_1->field_0x8;
	if (*ppiVar1 == (int *)0x0) {
		ppvVar6 = (void **)MemoryAllocate(0x10);
		ppvVar6[0x1] = (void *)0x0;
		ppvVar6[0x3] = (void *)0xa;
		ppvVar6[0x2] = (void *)0xa;
		pvVar2 = MemoryAllocate2(0x28);
		*ppvVar6 = pvVar2;
		*(void ***)ppiVar1 = ppvVar6;
		ppvVar6 = (void **)*ppiVar1;
	}
	else {
		ppvVar6 = (void **)*ppiVar1;
	}
	if (ppvVar6[0x1] == ppvVar6[0x2]) {
		pvVar7 = (void *)((int)ppvVar6[0x1] + (int)ppvVar6[0x3]);
		puVar3 = (undefined4 *)MemoryAllocate2((long)((int)pvVar7 * 0x4));
		pvVar2 = (void *)0x0;
		puVar5 = puVar3;
		if (ppvVar6[0x1] != (void *)0x0) {
			do {
				iVar4 = (int)pvVar2 * 0x4;
				pvVar2 = (void *)((int)pvVar2 + 0x1);
				*puVar5 = *(undefined4 *)(iVar4 + (int)*ppvVar6);
				puVar5 = puVar5 + 0x1;
			} while (pvVar2 < ppvVar6[0x1]);
		}
		if (*ppvVar6 == (void *)0x0) {
			*(undefined4 **)ppvVar6 = puVar3;
		}
		else {
			MemoryDeallocate_(*ppvVar6);
			*(undefined4 **)ppvVar6 = puVar3;
		}
		ppvVar6[0x2] = pvVar7;
		pvVar2 = ppvVar6[0x1];
	}
	else {
		pvVar2 = ppvVar6[0x1];
	}
	// Store loaded instance in the loaded instance table
	*(GameInstance **)((int)pvVar2 * 0x4 + (int)*ppvVar6) = newInstance;
	// Increase number of loaded instances
	ppvVar6[0x1] = (void *)((int)pvVar2 + 0x1);
	DeleteBinaryReader(&BStack80, 0x2);
	return;
}



void FUN_0026e088(int param_1, void *param_2, undefined4 param_3)

{
	int **ppiVar1;
	void *pvVar2;
	void *pvVar3;
	undefined4 *puVar4;
	int iVar5;
	ulong uVar6;
	undefined4 *puVar7;
	void **ppvVar8;
	void *pvVar9;
	BinaryReader BStack80;

	CreateBinReader(&BStack80, param_2, param_3, 0x0, 0x1);
	pvVar2 = MemoryAllocate(0x20);
	FUN_0023cf48((long)(int)pvVar2, (int *)&BStack80);
	uVar6 = 0x0;
	if (**(int **)(param_1 + 0x8) != 0x0) {
		uVar6 = SEXT48(*(int *)(**(int **)(param_1 + 0x8) + 0x4));
	}
	FUN_0026abc0(*(int *)(param_1 + 0x4), uVar6, (long)*(int *)(param_1 + 0xc), pvVar2);
	ppiVar1 = *(int ***)(param_1 + 0x8);
	if (*ppiVar1 == (int *)0x0) {
		ppvVar8 = (void **)MemoryAllocate(0x10);
		ppvVar8[0x1] = (void *)0x0;
		ppvVar8[0x3] = (void *)0xa;
		ppvVar8[0x2] = (void *)0xa;
		pvVar3 = MemoryAllocate2(0x28);
		*ppvVar8 = pvVar3;
		*(void ***)ppiVar1 = ppvVar8;
		ppvVar8 = (void **)*ppiVar1;
	}
	else {
		ppvVar8 = (void **)*ppiVar1;
	}
	if (ppvVar8[0x1] == ppvVar8[0x2]) {
		pvVar9 = (void *)((int)ppvVar8[0x1] + (int)ppvVar8[0x3]);
		puVar4 = (undefined4 *)MemoryAllocate2((long)((int)pvVar9 * 0x4));
		pvVar3 = (void *)0x0;
		puVar7 = puVar4;
		if (ppvVar8[0x1] != (void *)0x0) {
			do {
				iVar5 = (int)pvVar3 * 0x4;
				pvVar3 = (void *)((int)pvVar3 + 0x1);
				*puVar7 = *(undefined4 *)(iVar5 + (int)*ppvVar8);
				puVar7 = puVar7 + 0x1;
			} while (pvVar3 < ppvVar8[0x1]);
		}
		if (*ppvVar8 == (void *)0x0) {
			*(undefined4 **)ppvVar8 = puVar4;
		}
		else {
			MemoryDeallocate_(*ppvVar8);
			*(undefined4 **)ppvVar8 = puVar4;
		}
		ppvVar8[0x2] = pvVar9;
		pvVar3 = ppvVar8[0x1];
	}
	else {
		pvVar3 = ppvVar8[0x1];
	}
	*(void **)((int)pvVar3 * 0x4 + (int)*ppvVar8) = pvVar2;
	ppvVar8[0x1] = (void *)((int)pvVar3 + 0x1);
	DeleteBinaryReader(&BStack80, 0x2);
	return;
}



void FUN_0026e1f0(int param_1, void *param_2, undefined4 param_3)

{
	int **ppiVar1;
	void *pvVar2;
	void *pvVar3;
	undefined4 *puVar4;
	int iVar5;
	ulong uVar6;
	undefined4 *puVar7;
	void **ppvVar8;
	void *pvVar9;
	BinaryReader BStack80;

	CreateBinReader(&BStack80, param_2, param_3, 0x0, 0x1);
	pvVar2 = MemoryAllocate(0xa);
	FUN_002526a0((long)(int)pvVar2, (int *)&BStack80);
	uVar6 = 0x0;
	if (**(int **)(param_1 + 0x8) != 0x0) {
		uVar6 = SEXT48(*(int *)(**(int **)(param_1 + 0x8) + 0x4));
	}
	FUN_0026ac78(*(int *)(param_1 + 0x4), uVar6, (long)*(int *)(param_1 + 0xc), pvVar2);
	ppiVar1 = *(int ***)(param_1 + 0x8);
	if (*ppiVar1 == (int *)0x0) {
		ppvVar8 = (void **)MemoryAllocate(0x10);
		ppvVar8[0x1] = (void *)0x0;
		ppvVar8[0x3] = (void *)0xa;
		ppvVar8[0x2] = (void *)0xa;
		pvVar3 = MemoryAllocate2(0x28);
		*ppvVar8 = pvVar3;
		*(void ***)ppiVar1 = ppvVar8;
		ppvVar8 = (void **)*ppiVar1;
	}
	else {
		ppvVar8 = (void **)*ppiVar1;
	}
	if (ppvVar8[0x1] == ppvVar8[0x2]) {
		pvVar9 = (void *)((int)ppvVar8[0x1] + (int)ppvVar8[0x3]);
		puVar4 = (undefined4 *)MemoryAllocate2((long)((int)pvVar9 * 0x4));
		pvVar3 = (void *)0x0;
		puVar7 = puVar4;
		if (ppvVar8[0x1] != (void *)0x0) {
			do {
				iVar5 = (int)pvVar3 * 0x4;
				pvVar3 = (void *)((int)pvVar3 + 0x1);
				*puVar7 = *(undefined4 *)(iVar5 + (int)*ppvVar8);
				puVar7 = puVar7 + 0x1;
			} while (pvVar3 < ppvVar8[0x1]);
		}
		if (*ppvVar8 == (void *)0x0) {
			*(undefined4 **)ppvVar8 = puVar4;
		}
		else {
			MemoryDeallocate_(*ppvVar8);
			*(undefined4 **)ppvVar8 = puVar4;
		}
		ppvVar8[0x2] = pvVar9;
		pvVar3 = ppvVar8[0x1];
	}
	else {
		pvVar3 = ppvVar8[0x1];
	}
	*(void **)((int)pvVar3 * 0x4 + (int)*ppvVar8) = pvVar2;
	ppvVar8[0x1] = (void *)((int)pvVar3 + 0x1);
	DeleteBinaryReader(&BStack80, 0x2);
	return;
}



void FUN_0026e358(int param_1, void *param_2, undefined4 param_3)

{
	int **ppiVar1;
	void *pvVar2;
	void *pvVar3;
	undefined4 *puVar4;
	int iVar5;
	long lVar6;
	undefined4 *puVar7;
	void **ppvVar8;
	void *pvVar9;
	BinaryReader BStack80;

	CreateBinReader(&BStack80, param_2, param_3, 0x0, 0x1);
	pvVar2 = MemoryAllocate(0x10);
	FUN_0023c760((long)(int)pvVar2, (int *)&BStack80);
	lVar6 = 0x0;
	if (**(int **)(param_1 + 0x8) != 0x0) {
		lVar6 = (long)*(int *)(**(int **)(param_1 + 0x8) + 0x4);
	}
	FUN_0026ad30(*(uint **)(param_1 + 0x4), lVar6, *(int **)(param_1 + 0xc), (int)pvVar2);
	ppiVar1 = *(int ***)(param_1 + 0x8);
	if (*ppiVar1 == (int *)0x0) {
		ppvVar8 = (void **)MemoryAllocate(0x10);
		ppvVar8[0x1] = (void *)0x0;
		ppvVar8[0x3] = (void *)0xa;
		ppvVar8[0x2] = (void *)0xa;
		pvVar3 = MemoryAllocate2(0x28);
		*ppvVar8 = pvVar3;
		*(void ***)ppiVar1 = ppvVar8;
		ppvVar8 = (void **)*ppiVar1;
	}
	else {
		ppvVar8 = (void **)*ppiVar1;
	}
	if (ppvVar8[0x1] == ppvVar8[0x2]) {
		pvVar9 = (void *)((int)ppvVar8[0x1] + (int)ppvVar8[0x3]);
		puVar4 = (undefined4 *)MemoryAllocate2((long)((int)pvVar9 * 0x4));
		pvVar3 = (void *)0x0;
		puVar7 = puVar4;
		if (ppvVar8[0x1] != (void *)0x0) {
			do {
				iVar5 = (int)pvVar3 * 0x4;
				pvVar3 = (void *)((int)pvVar3 + 0x1);
				*puVar7 = *(undefined4 *)(iVar5 + (int)*ppvVar8);
				puVar7 = puVar7 + 0x1;
			} while (pvVar3 < ppvVar8[0x1]);
		}
		if (*ppvVar8 == (void *)0x0) {
			*(undefined4 **)ppvVar8 = puVar4;
		}
		else {
			MemoryDeallocate_(*ppvVar8);
			*(undefined4 **)ppvVar8 = puVar4;
		}
		ppvVar8[0x2] = pvVar9;
		pvVar3 = ppvVar8[0x1];
	}
	else {
		pvVar3 = ppvVar8[0x1];
	}
	*(void **)((int)pvVar3 * 0x4 + (int)*ppvVar8) = pvVar2;
	ppvVar8[0x1] = (void *)((int)pvVar3 + 0x1);
	DeleteBinaryReader(&BStack80, 0x2);
	return;
}



void FUN_0026e4c0(int param_1, void *param_2, undefined4 param_3)

{
	int **ppiVar1;
	void *pvVar2;
	void *pvVar3;
	undefined4 *puVar4;
	int iVar5;
	long lVar6;
	undefined4 *puVar7;
	void **ppvVar8;
	void *pvVar9;
	BinaryReader BStack80;

	CreateBinReader(&BStack80, param_2, param_3, 0x0, 0x1);
	pvVar2 = MemoryAllocate(0x50);
	*(undefined4 *)((int)pvVar2 + 0x48) = 0xffffffff;
	*(undefined4 *)((int)pvVar2 + 0x8) = 0x2f5c28;
	*(undefined4 *)((int)pvVar2 + 0x4) = 0x0;
	FUN_0018e970((long)(int)pvVar2, (int *)&BStack80);
	lVar6 = 0x0;
	if (**(int **)(param_1 + 0x8) != 0x0) {
		lVar6 = (long)*(int *)(**(int **)(param_1 + 0x8) + 0x4);
	}
	FUN_0026ae70(*(int *)(param_1 + 0x4), lVar6, *(int **)(param_1 + 0xc), (int)pvVar2);
	ppiVar1 = *(int ***)(param_1 + 0x8);
	if (*ppiVar1 == (int *)0x0) {
		ppvVar8 = (void **)MemoryAllocate(0x10);
		ppvVar8[0x1] = (void *)0x0;
		ppvVar8[0x3] = (void *)0xa;
		ppvVar8[0x2] = (void *)0xa;
		pvVar3 = MemoryAllocate2(0x28);
		*ppvVar8 = pvVar3;
		*(void ***)ppiVar1 = ppvVar8;
		ppvVar8 = (void **)*ppiVar1;
	}
	else {
		ppvVar8 = (void **)*ppiVar1;
	}
	if (ppvVar8[0x1] == ppvVar8[0x2]) {
		pvVar9 = (void *)((int)ppvVar8[0x1] + (int)ppvVar8[0x3]);
		puVar4 = (undefined4 *)MemoryAllocate2((long)((int)pvVar9 * 0x4));
		pvVar3 = (void *)0x0;
		puVar7 = puVar4;
		if (ppvVar8[0x1] != (void *)0x0) {
			do {
				iVar5 = (int)pvVar3 * 0x4;
				pvVar3 = (void *)((int)pvVar3 + 0x1);
				*puVar7 = *(undefined4 *)(iVar5 + (int)*ppvVar8);
				puVar7 = puVar7 + 0x1;
			} while (pvVar3 < ppvVar8[0x1]);
		}
		if (*ppvVar8 == (void *)0x0) {
			*(undefined4 **)ppvVar8 = puVar4;
		}
		else {
			MemoryDeallocate_(*ppvVar8);
			*(undefined4 **)ppvVar8 = puVar4;
		}
		ppvVar8[0x2] = pvVar9;
		pvVar3 = ppvVar8[0x1];
	}
	else {
		pvVar3 = ppvVar8[0x1];
	}
	*(void **)((int)pvVar3 * 0x4 + (int)*ppvVar8) = pvVar2;
	ppvVar8[0x1] = (void *)((int)pvVar3 + 0x1);
	DeleteBinaryReader(&BStack80, 0x2);
	return;
}



void FUN_0026e640(int param_1, void *param_2, undefined4 param_3)

{
	int **ppiVar1;
	void *pvVar2;
	void *pvVar3;
	undefined4 *puVar4;
	int iVar5;
	long lVar6;
	undefined4 *puVar7;
	void **ppvVar8;
	void *pvVar9;
	BinaryReader BStack80;

	CreateBinReader(&BStack80, param_2, param_3, 0x0, 0x1);
	pvVar2 = MemoryAllocate(0x70);
	_pvVar2 = (long)(int)pvVar2;
	FUN_0026ee00(_pvVar2);
	*(undefined4 *)((int)pvVar2 + 0x50) = 0x2fce10;
	FUN_00209ca0(_pvVar2, (int *)&BStack80);
	lVar6 = 0x0;
	if (**(int **)(param_1 + 0x8) != 0x0) {
		lVar6 = (long)*(int *)(**(int **)(param_1 + 0x8) + 0x4);
	}
	FUN_00266958(*(int *)(param_1 + 0x4), lVar6, (long)*(int *)(param_1 + 0xc), _pvVar2);
	ppiVar1 = *(int ***)(param_1 + 0x8);
	if (*ppiVar1 == (int *)0x0) {
		ppvVar8 = (void **)MemoryAllocate(0x10);
		ppvVar8[0x1] = (void *)0x0;
		ppvVar8[0x3] = (void *)0xa;
		ppvVar8[0x2] = (void *)0xa;
		pvVar3 = MemoryAllocate2(0x28);
		*ppvVar8 = pvVar3;
		*(void ***)ppiVar1 = ppvVar8;
		ppvVar8 = (void **)*ppiVar1;
	}
	else {
		ppvVar8 = (void **)*ppiVar1;
	}
	if (ppvVar8[0x1] == ppvVar8[0x2]) {
		pvVar9 = (void *)((int)ppvVar8[0x1] + (int)ppvVar8[0x3]);
		puVar4 = (undefined4 *)MemoryAllocate2((long)((int)pvVar9 * 0x4));
		pvVar3 = (void *)0x0;
		puVar7 = puVar4;
		if (ppvVar8[0x1] != (void *)0x0) {
			do {
				iVar5 = (int)pvVar3 * 0x4;
				pvVar3 = (void *)((int)pvVar3 + 0x1);
				*puVar7 = *(undefined4 *)(iVar5 + (int)*ppvVar8);
				puVar7 = puVar7 + 0x1;
			} while (pvVar3 < ppvVar8[0x1]);
		}
		if (*ppvVar8 == (void *)0x0) {
			*(undefined4 **)ppvVar8 = puVar4;
		}
		else {
			MemoryDeallocate_(*ppvVar8);
			*(undefined4 **)ppvVar8 = puVar4;
		}
		ppvVar8[0x2] = pvVar9;
		pvVar3 = ppvVar8[0x1];
	}
	else {
		pvVar3 = ppvVar8[0x1];
	}
	*(void **)((int)pvVar3 * 0x4 + (int)*ppvVar8) = pvVar2;
	ppvVar8[0x1] = (void *)((int)pvVar3 + 0x1);
	DeleteBinaryReader(&BStack80, 0x2);
	return;
}



void FUN_0026e7b8(int param_1, void *param_2, undefined4 param_3)

{
	int **ppiVar1;
	void *pvVar2;
	void *pvVar3;
	undefined4 *puVar4;
	int iVar5;
	long lVar6;
	undefined4 *puVar7;
	void **ppvVar8;
	void *pvVar9;
	BinaryReader BStack80;

	CreateBinReader(&BStack80, param_2, param_3, 0x0, 0x1);
	pvVar2 = MemoryAllocate(0x70);
	_pvVar2 = (long)(int)pvVar2;
	FUN_0026ee00(_pvVar2);
	*(undefined4 *)((int)pvVar2 + 0x50) = 0x304c78;
	FUN_0027e240(_pvVar2, (long)(int)&BStack80);
	lVar6 = 0x0;
	if (**(int **)(param_1 + 0x8) != 0x0) {
		lVar6 = (long)*(int *)(**(int **)(param_1 + 0x8) + 0x4);
	}
	FUN_00266a90(*(uint **)(param_1 + 0x4), lVar6, (long)*(int *)(param_1 + 0xc), _pvVar2);
	ppiVar1 = *(int ***)(param_1 + 0x8);
	if (*ppiVar1 == (int *)0x0) {
		ppvVar8 = (void **)MemoryAllocate(0x10);
		ppvVar8[0x1] = (void *)0x0;
		ppvVar8[0x3] = (void *)0xa;
		ppvVar8[0x2] = (void *)0xa;
		pvVar3 = MemoryAllocate2(0x28);
		*ppvVar8 = pvVar3;
		*(void ***)ppiVar1 = ppvVar8;
		ppvVar8 = (void **)*ppiVar1;
	}
	else {
		ppvVar8 = (void **)*ppiVar1;
	}
	if (ppvVar8[0x1] == ppvVar8[0x2]) {
		pvVar9 = (void *)((int)ppvVar8[0x1] + (int)ppvVar8[0x3]);
		puVar4 = (undefined4 *)MemoryAllocate2((long)((int)pvVar9 * 0x4));
		pvVar3 = (void *)0x0;
		puVar7 = puVar4;
		if (ppvVar8[0x1] != (void *)0x0) {
			do {
				iVar5 = (int)pvVar3 * 0x4;
				pvVar3 = (void *)((int)pvVar3 + 0x1);
				*puVar7 = *(undefined4 *)(iVar5 + (int)*ppvVar8);
				puVar7 = puVar7 + 0x1;
			} while (pvVar3 < ppvVar8[0x1]);
		}
		if (*ppvVar8 == (void *)0x0) {
			*(undefined4 **)ppvVar8 = puVar4;
		}
		else {
			MemoryDeallocate_(*ppvVar8);
			*(undefined4 **)ppvVar8 = puVar4;
		}
		ppvVar8[0x2] = pvVar9;
		pvVar3 = ppvVar8[0x1];
	}
	else {
		pvVar3 = ppvVar8[0x1];
	}
	*(void **)((int)pvVar3 * 0x4 + (int)*ppvVar8) = pvVar2;
	ppvVar8[0x1] = (void *)((int)pvVar3 + 0x1);
	DeleteBinaryReader(&BStack80, 0x2);
	return;
}



void FUN_0026e930(int param_1, void *position, undefined4 blockSize)

{
	int **ppiVar1;
	uint *puVar2;
	void *pvVar3;
	undefined4 *puVar4;
	int iVar5;
	undefined uVar6;
	undefined4 *puVar7;
	void **ppvVar8;
	void *pvVar9;
	BinaryReader BStack80;

	CreateBinReader(&BStack80, position, blockSize, 0x0, 0x1);
	puVar2 = (uint *)MemoryAllocate(0x90);
	*(undefined2 *)puVar2 = 0x0;
	puVar2[0x1] = 0xffffffff;
	*puVar2 = *puVar2 & 0xfffcffff;
	FUN_0011c1e8((Vector4 *)(puVar2 + 0x10));
	FUN_0027ee28((int)puVar2, &BStack80);
	uVar6 = 0x0;
	if (**(int **)(param_1 + 0x8) != 0x0) {
		uVar6 = (undefined)*(undefined4 *)(**(int **)(param_1 + 0x8) + 0x4);
	}
	FUN_0026af98((char)*(undefined4 *)(param_1 + 0x4), uVar6, (char)*(undefined4 *)(param_1 + 0xc),
		(char)puVar2);
	ppiVar1 = *(int ***)(param_1 + 0x8);
	if (*ppiVar1 == (int *)0x0) {
		ppvVar8 = (void **)MemoryAllocate(0x10);
		ppvVar8[0x1] = (void *)0x0;
		ppvVar8[0x3] = (void *)0xa;
		ppvVar8[0x2] = (void *)0xa;
		pvVar3 = MemoryAllocate2(0x28);
		*ppvVar8 = pvVar3;
		*(void ***)ppiVar1 = ppvVar8;
		ppvVar8 = (void **)*ppiVar1;
	}
	else {
		ppvVar8 = (void **)*ppiVar1;
	}
	if (ppvVar8[0x1] == ppvVar8[0x2]) {
		pvVar9 = (void *)((int)ppvVar8[0x1] + (int)ppvVar8[0x3]);
		puVar4 = (undefined4 *)MemoryAllocate2((long)((int)pvVar9 * 0x4));
		pvVar3 = (void *)0x0;
		puVar7 = puVar4;
		if (ppvVar8[0x1] != (void *)0x0) {
			do {
				iVar5 = (int)pvVar3 * 0x4;
				pvVar3 = (void *)((int)pvVar3 + 0x1);
				*puVar7 = *(undefined4 *)(iVar5 + (int)*ppvVar8);
				puVar7 = puVar7 + 0x1;
			} while (pvVar3 < ppvVar8[0x1]);
		}
		if (*ppvVar8 == (void *)0x0) {
			*(undefined4 **)ppvVar8 = puVar4;
		}
		else {
			MemoryDeallocate_(*ppvVar8);
			*(undefined4 **)ppvVar8 = puVar4;
		}
		ppvVar8[0x2] = pvVar9;
		pvVar3 = ppvVar8[0x1];
	}
	else {
		pvVar3 = ppvVar8[0x1];
	}
	*(uint **)((int)pvVar3 * 0x4 + (int)*ppvVar8) = puVar2;
	ppvVar8[0x1] = (void *)((int)pvVar3 + 0x1);
	DeleteBinaryReader(&BStack80, 0x2);
	return;
}



undefined4 FUN_0026ead0(int param_1)

{
	undefined4 uVar1;

	uVar1 = 0x0;
	if (((int)*(uint *)(param_1 + 0x8) < 0x0) ||
		(*(uint *)(*(int *)(param_1 + 0x4) + 0x4) <= *(uint *)(param_1 + 0x8))) {
		uVar1 = 0x1;
	}
	return uVar1;
}



void FUN_0026eb88(undefined8 param_1, int *param_2)

{
	int iVar1;
	void *pvVar2;
	int iVar3;
	int iVar4;
	uint uVar5;

	iVar4 = (int)param_1;
	(**(code **)(*param_2 + 0x14))((int)param_2 + (int)*(short *)(*param_2 + 0x10), param_1, 0x4, 0x1);
	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), iVar4 + 0x4);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar4 + 0x8);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar4 + 0x10, 0x10, 0x1);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar4 + 0x20, 0x10, 0x1);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar4 + 0x30, 0x10, 0x1);
	if (*(void **)(iVar4 + 0x40) == (void *)0x0) {
		iVar1 = *param_2;
	}
	else {
		MemoryDeallocate_(*(void **)(iVar4 + 0x40));
		iVar1 = *param_2;
	}
	(**(code **)(iVar1 + 0x8c))((int)param_2 + (int)*(short *)(iVar1 + 0x88), iVar4 + 0x44);
	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), iVar4 + 0x48);
	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), iVar4 + 0x4c);
	iVar1 = *(int *)(iVar4 + 0x44);
	pvVar2 = (void *)0x0;
	if (iVar1 != 0x0) {
		pvVar2 = MemoryAllocate2((long)(*(int *)(iVar4 + 0x48) << 0x1));
		iVar1 = *(int *)(iVar4 + 0x44);
	}
	uVar5 = 0x0;
	*(void **)(iVar4 + 0x40) = pvVar2;
	if (iVar1 != 0x0) {
		iVar1 = *param_2;
		while (true) {
			iVar3 = uVar5 * 0x2;
			uVar5 += 0x1;
			(**(code **)(iVar1 + 0x7c))
				((int)param_2 + (int)*(short *)(iVar1 + 0x78),
				(void *)(iVar3 + (int)*(void **)(iVar4 + 0x40)));
			if (*(uint *)(iVar4 + 0x44) <= uVar5) break;
			iVar1 = *param_2;
		}
	}
	return;
}



undefined8 FUN_0026ed60(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	puVar1[0x5] = 0xffffffff;
	*(undefined *)(puVar1 + 0x6) = 0x1;
	puVar1[0x7] = 0x304bc8;
	*puVar1 = 0x0;
	puVar1[0x1] = 0x0;
	puVar1[0x2] = 0x0;
	*(undefined *)((int)puVar1 + 0xd) = 0x0;
	puVar1[0x4] = 0x0;
	*(undefined2 *)(puVar1 + 0x8) = 0x0;
	*(undefined2 *)((int)puVar1 + 0x22) = 0x0;
	*(undefined2 *)(puVar1 + 0x9) = 0x0;
	*(undefined2 *)((int)puVar1 + 0x26) = 0x0;
	return param_1;
}



undefined8 FUN_0026ee00(undefined8 param_1)

{
	void *pvVar1;
	undefined4 *puVar2;

	puVar2 = (undefined4 *)param_1;
	puVar2[0x14] = 0x304ba0;
	puVar2[0x1] = 0x0;
	puVar2[0x11] = 0x0;
	puVar2[0x13] = 0xa;
	puVar2[0x12] = 0xa;
	pvVar1 = MemoryAllocate2(0x14);
	*(void **)(puVar2 + 0x10) = pvVar1;
	*puVar2 = 0x0;
	return param_1;
}



void FUN_0026ee58(ulong param_1, ulong param_2)

{
	void *address;

	address = (void *)param_1;
	*(undefined4 *)((int)address + 0x50) = 0x304ba0;
	if (*(void **)((int)address + 0x40) != (void *)0x0) {
		MemoryDeallocate_(*(void **)((int)address + 0x40));
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



undefined8 FUN_0026ef30(undefined8 param_1)

{
	Matrix4x4 *matrix;
	float fVar1;

	matrix = (Matrix4x4 *)param_1;
	matrix[0x5].zComponents.y = 1.00000000;
	matrix[0x5].zComponents.x = 0.00000000;
	InitIdentityMatrix(matrix);
	fVar1 = 1.00000000 / fRam0030a1d8;
	matrix[0x5].xComponents.x = 1.00000000 / fRam0030a1d4;
	matrix[0x5].xComponents.w = 1.00000000;
	matrix[0x5].xComponents.y = fVar1;
	matrix[0x5].xComponents.z = 1.00000000;
	InitIdentityMatrix(matrix + 0x2);
	return param_1;
}



void FUN_0026efa8(float *param_1, int param_2)

{
	int iVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	int local_40[0x4];

	fVar4 = *(float *)(param_2 + 0x28);
	iVar1 = *(int *)(param_2 + 0x1c);
	fVar3 = *(float *)(param_2 + 0x24);
	param_1[0x3] = 0.00000000;
	param_1[0x2] = 0.00000000;
	param_1[0x1] = 0.00000000;
	fVar2 = (float)iVar1 * 0.50000000;
	*param_1 = 0.00000000;
	param_1[0x7] = 0.00000000;
	param_1[0x6] = 0.00000000;
	if ((byte)((uint)fVar2 >> 0x17) < 0x9e) {
		local_40[0] = (int)fVar2;
	}
	else {
		if ((int)fVar2 < 0x0) {
			local_40[0] = 0x7fffffff;
		}
		else {
			local_40[0] = -0x80000000;
		}
	}
	param_1[0x5] = 0.00000000;
	param_1[0x4] = 0.00000000;
	param_1[0xb] = 0.00000000;
	param_1[0xa] = 0.00000000;
	param_1[0x9] = 0.00000000;
	param_1[0x8] = 0.00000000;
	param_1[0xe] = 0.00000000;
	param_1[0xd] = 0.00000000;
	param_1[0xc] = 0.00000000;
	param_1[0xf] = 0.00000000;
	fVar2 = (float)FUN_0018c0f8(local_40);
	param_1[0xb] = 1.00000000;
	param_1[0x5] = 1.00000000 / fVar2;
	*param_1 = param_1[0x59] * (1.00000000 / fVar2);
	param_1[0xa] = (fVar4 + fVar3) / (fVar4 - fVar3);
	param_1[0xe] = -((fVar4 + fVar4) * fVar3) / (fVar4 - fVar3);
	*(uint *)(param_2 + 0x18) = *(uint *)(param_2 + 0x18) & 0xfffffffe;
	return;
}



void FUN_0026f0c8(float param_1, float *param_2)

{
	int *piVar1;
	TransformedGeometyPoint *pTVar2;
	GameNode *pGVar3;
	int iVar4;
	float fVar5;

	iVar4 = 0x0;
	piVar1 = (int *)param_2[0x58];
	if (piVar1 != (int *)0x0) {
		iVar4 = *piVar1;
	}
	if (iVar4 != 0x0) {
		iVar4 = 0x0;
		if (piVar1 != (int *)0x0) {
			iVar4 = *piVar1;
		}
		pTVar2 = *(TransformedGeometyPoint **)(iVar4 + 0x8);
		RotateAndTranslate_(pTVar2);
		if ((int *)param_2[0x58] == (int *)0x0) {
			iVar4 = 0x0;
		}
		else {
			iVar4 = *(int *)param_2[0x58];
		}
		pGVar3 = GetGameNode((NodeList *)(iVar4 + 0xd4), 0x9);
		param_1 = (float)pGVar3[0x1].field_0x8 * param_1;
		fVar5 = param_1 - param_2[0x59];
		FUN_00183b60((long)(int)pTVar2, 0x4, param_2 + 0x10);
		if (iRam0030a998 == 0x0) {
			DAT_003bdb2c = 0x0;
			DAT_003bdb28 = 0x3f800000;
			iRam0030a998 = 0x1;
			DAT_003bdb20 = 0x0;
			DAT_003bdb24 = 0x0;
		}
		FUN_0018ec48((long)(int)pTVar2, DAT(0x003bdb20), param_2 + 0x54);
		if (((*(byte *)&pGVar3[0x1].ChunkNode & 0x1) != 0x0) || (fVar5 * fVar5 <= 0.00000000)) {
			param_2[0x59] = 1.00000000 / param_1;
			FUN_0026efa8(param_2, (int)pGVar3);
		}
	}
	return;
}



void FUN_0026f228(ulong param_1, ulong param_2)

{
	int *piVar1;
	int iVar2;
	ulong *address;

	address = (ulong *)param_1;
	*(undefined4 *)(address + 0x6) = 0x305148;
	if ((*address & 0x4) != 0x0) {
		piVar1 = *(int **)(address + 0x1);
		if (piVar1 != (int *)0x0) {
			(**(code **)(*piVar1 + 0xc))((int)piVar1 + (int)*(short *)(*piVar1 + 0x8), 0x3);
		}
	}
	*(undefined4 *)(address + 0x1) = 0x0;
	if ((*address & 0x8) != 0x0) {
		piVar1 = *(int **)((int)address + 0xc);
		if (piVar1 != (int *)0x0) {
			(**(code **)(*piVar1 + 0xc))((int)piVar1 + (int)*(short *)(*piVar1 + 0x8), 0x3);
		}
	}
	*(undefined4 *)((int)address + 0xc) = 0x0;
	if ((*address & 0x10) != 0x0) {
		iVar2 = *(int *)(address + 0x2);
		if (iVar2 != 0x0) {
			(**(code **)(*(int *)(iVar2 + 0x64) + 0xc))
				(iVar2 + *(short *)(*(int *)(iVar2 + 0x64) + 0x8), 0x3);
		}
	}
	*(undefined4 *)(address + 0x2) = 0x0;
	if ((*address & 0x20) != 0x0) {
		iVar2 = *(int *)((int)address + 0x14);
		if (iVar2 != 0x0) {
			(**(code **)(*(int *)(iVar2 + 0x34) + 0xc))
				(iVar2 + *(short *)(*(int *)(iVar2 + 0x34) + 0x8), 0x3);
		}
	}
	*(undefined4 *)((int)address + 0x14) = 0x0;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



void FUN_0026f330(int param_1, undefined8 param_2)

{
	int iVar1;
	int *piVar2;

	iVar1 = *(int *)(param_1 + 0x10);
	if (iVar1 == 0x0) {
		iVar1 = *(int *)(param_1 + 0x14);
	}
	else {
		(**(code **)(*(int *)(iVar1 + 0x64) + 0x14))(iVar1 + *(short *)(*(int *)(iVar1 + 0x64) + 0x10));
		piVar2 = *(int **)(param_1 + 0x8);
		if (piVar2 != (int *)0x0) {
			(**(code **)(*piVar2 + 0x14))
				((int)piVar2 + (int)*(short *)(*piVar2 + 0x10), *(int *)(param_1 + 0x10) + 0x10,
					*(int *)(param_1 + 0x10) + 0x20);
		}
		iVar1 = *(int *)(param_1 + 0x14);
	}
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x34) + 0x14))
			(iVar1 + *(short *)(*(int *)(iVar1 + 0x34) + 0x10), param_2,
				*(undefined4 *)(param_1 + 0x10));
		piVar2 = *(int **)(param_1 + 0xc);
		if (piVar2 != (int *)0x0) {
			(**(code **)(*piVar2 + 0x14))
				((int)piVar2 + (int)*(short *)(*piVar2 + 0x10), *(int *)(param_1 + 0x14) + 0x10,
					*(int *)(param_1 + 0x14) + 0x20);
		}
	}
	return;
}



void FUN_0026f3f0(ulong *param_1, undefined8 param_2)

{
	int iVar1;
	undefined4 uVar2;
	int *piVar3;
	int iVar4;
	ulong *puVar5;
	undefined4 uVar6;

	iVar4 = *(int *)(param_1 + 0x2);
	if (iVar4 == 0x0) {
		uVar6 = 0x0;
		iVar4 = *(int *)((int)param_1 + 0x14);
		goto LAB_0026f58c;
	}
	(**(code **)(*(int *)(iVar4 + 0x64) + 0x1c))
		(iVar4 + *(short *)(*(int *)(iVar4 + 0x64) + 0x18), param_2);
	if ((*param_1 & 0x2) == 0x0) {
		iVar4 = *(int *)(*(int *)(param_1 + 0x2) + 0x64);
		uVar6 = (**(code **)(iVar4 + 0x24))
			(*(int *)(param_1 + 0x2) + (int)*(short *)(iVar4 + 0x20),
				*(undefined4 *)((int)param_1 + 0x4));
	}
	else {
		uVar6 = 0x0;
	}
	iVar4 = *(int *)(param_1 + 0x2);
	if ((*param_1 & 0x1) == 0x0) {
		piVar3 = *(int **)(param_1 + 0x1);
	LAB_0026f568:
		if (piVar3 != (int *)0x0) {
			(**(code **)(*piVar3 + 0x14))
				((int)piVar3 + (int)*(short *)(*piVar3 + 0x10), iVar4 + 0x10, iVar4 + 0x20);
		}
	}
	else {
		if (*(char *)(iVar4 + 0x61) == '\0') {
			piVar3 = *(int **)(param_1 + 0x1);
			goto LAB_0026f568;
		}
		piVar3 = *(int **)(param_1 + 0x1);
		if (piVar3 != (int *)0x0) {
			(**(code **)(*piVar3 + 0x24))
				((int)piVar3 + (int)*(short *)(*piVar3 + 0x20), param_2, iVar4 + 0x10, iVar4 + 0x20);
			if ((*param_1 & 0x2) == 0x0) {
				puVar5 = (ulong *)0x0;
				if (*(int *)((int)param_1 + 0x4) != 0x0) {
					puVar5 = *(ulong **)(*(int *)((int)param_1 + 0x4) + 0x170);
				}
				uVar2 = 0x0;
				if (puVar5 != (ulong *)0x0) {
					uVar2 = *(undefined4 *)(puVar5 + 0x1);
				}
				iVar4 = **(int **)(param_1 + 0x1);
				(**(code **)(iVar4 + 0x2c))
					((int)*(int **)(param_1 + 0x1) + (int)*(short *)(iVar4 + 0x28), uVar2);
				piVar3 = *(int **)(param_1 + 0x1);
				if ((puVar5 != (ulong *)0x0) && ((*puVar5 >> 0xd & 0x1) != 0x0)) {
					(**(code **)(*piVar3 + 0x34))
						(*(undefined4 *)((int)puVar5 + 0x6c),
						(int)piVar3 + (int)*(short *)(*piVar3 + 0x30));
					iVar4 = *(int *)((int)param_1 + 0x14);
					goto LAB_0026f58c;
				}
			}
			else {
				piVar3 = *(int **)(param_1 + 0x1);
			}
			(**(code **)(*piVar3 + 0x1c))((int)piVar3 + (int)*(short *)(*piVar3 + 0x18));
			iVar4 = *(int *)((int)param_1 + 0x14);
			goto LAB_0026f58c;
		}
	}
	iVar4 = *(int *)((int)param_1 + 0x14);
LAB_0026f58c:
	if (iVar4 != 0x0) {
		if ((*param_1 & 0x2) == 0x0) {
			(**(code **)(*(int *)(iVar4 + 0x34) + 0x24))
				(uVar6, iVar4 + *(short *)(*(int *)(iVar4 + 0x34) + 0x20),
					*(undefined4 *)((int)param_1 + 0x4), *(undefined4 *)(param_1 + 0x2));
			iVar4 = *(int *)((int)param_1 + 0x14);
		}
		else {
			iVar4 = *(int *)((int)param_1 + 0x14);
		}
		(**(code **)(*(int *)(iVar4 + 0x34) + 0x1c))
			(iVar4 + *(short *)(*(int *)(iVar4 + 0x34) + 0x18), param_2,
				*(undefined4 *)(param_1 + 0x2));
		iVar4 = *(int *)((int)param_1 + 0x14);
		if ((*param_1 & 0x1) == 0x0) {
			piVar3 = *(int **)((int)param_1 + 0xc);
		}
		else {
			if (*(char *)(iVar4 + 0x30) != '\0') {
				piVar3 = *(int **)((int)param_1 + 0xc);
				if (piVar3 == (int *)0x0) {
					return;
				}
				if (*(char *)(iVar4 + 0x31) == '\0') {
					(**(code **)(*piVar3 + 0x3c))((int)piVar3 + (int)*(short *)(*piVar3 + 0x38), 0x0);
					iVar1 = **(int **)((int)param_1 + 0xc);
					(**(code **)(iVar1 + 0x1c))
						((int)*(int **)((int)param_1 + 0xc) + (int)*(short *)(iVar1 + 0x18));
					piVar3 = *(int **)((int)param_1 + 0xc);
				}
				else {
					(**(code **)(*piVar3 + 0x3c))((int)piVar3 + (int)*(short *)(*piVar3 + 0x38), 0x1);
					piVar3 = *(int **)((int)param_1 + 0xc);
				}
				(**(code **)(*piVar3 + 0x24))
					((int)piVar3 + (int)*(short *)(*piVar3 + 0x20), param_2, iVar4 + 0x10, iVar4 + 0x20);
				if ((*param_1 & 0x2) != 0x0) {
					return;
				}
				puVar5 = (ulong *)0x0;
				if (*(int *)((int)param_1 + 0x4) != 0x0) {
					puVar5 = *(ulong **)(*(int *)((int)param_1 + 0x4) + 0x170);
				}
				uVar6 = 0x0;
				if (puVar5 != (ulong *)0x0) {
					uVar6 = *(undefined4 *)((int)puVar5 + 0xc);
				}
				iVar4 = **(int **)((int)param_1 + 0xc);
				(**(code **)(iVar4 + 0x2c))
					((int)*(int **)((int)param_1 + 0xc) + (int)*(short *)(iVar4 + 0x28), uVar6);
				piVar3 = *(int **)((int)param_1 + 0xc);
				if ((puVar5 != (ulong *)0x0) && ((*puVar5 >> 0xc & 0x1) != 0x0)) {
					(**(code **)(*piVar3 + 0x34))
						(*(undefined4 *)(puVar5 + 0xd), (int)piVar3 + (int)*(short *)(*piVar3 + 0x30));
					return;
				}
				(**(code **)(*piVar3 + 0x1c))((int)piVar3 + (int)*(short *)(*piVar3 + 0x18));
				return;
			}
			piVar3 = *(int **)((int)param_1 + 0xc);
		}
		if (piVar3 != (int *)0x0) {
			(**(code **)(*piVar3 + 0x14))
				((int)piVar3 + (int)*(short *)(*piVar3 + 0x10), iVar4 + 0x10, iVar4 + 0x20);
		}
	}
	return;
}



ulong FUN_0026f778(int param_1, undefined8 param_2, undefined8 param_3)

{
	int *piVar1;
	int iVar2;
	long lVar3;
	ulong uVar4;

	if ((*(ulong *)param_3 >> 0x12 & 0x1) == 0x0) {
		uVar4 = 0x0;
	}
	else {
		piVar1 = *(int **)(param_1 + 0x8);
		uVar4 = 0x1;
		if (piVar1 != (int *)0x0) {
			lVar3 = (**(code **)(*piVar1 + 0x44))((int)piVar1 + (int)*(short *)(*piVar1 + 0x40));
			uVar4 = (ulong)(lVar3 != 0x0);
		}
		piVar1 = *(int **)(param_1 + 0xc);
		if (piVar1 != (int *)0x0) {
			lVar3 = (**(code **)(*piVar1 + 0x44))
				((int)piVar1 + (int)*(short *)(*piVar1 + 0x40), param_2, param_3);
			uVar4 &= lVar3 != 0x0;
		}
		iVar2 = *(int *)(param_1 + 0x10);
		if (iVar2 != 0x0) {
			lVar3 = (**(code **)(*(int *)(iVar2 + 0x64) + 0x2c))
				(iVar2 + *(short *)(*(int *)(iVar2 + 0x64) + 0x28), param_2, param_3);
			uVar4 &= lVar3 != 0x0;
		}
		iVar2 = *(int *)(param_1 + 0x14);
		if (iVar2 != 0x0) {
			lVar3 = (**(code **)(*(int *)(iVar2 + 0x34) + 0x2c))
				(iVar2 + *(short *)(*(int *)(iVar2 + 0x34) + 0x28), param_2, param_3);
			uVar4 &= lVar3 != 0x0;
		}
	}
	return uVar4;
}



undefined8
FUN_0026f880(undefined8 param_1, int param_2, TransformedGeometyPoint *param_3, Vector4 *param_4,
	float *param_5)

{
	undefined8 uVar1;
	undefined4 uVar2;
	long lVar3;
	float fVar4;
	float fVar5;
	float *pfVar6;
	int iVar7;
	undefined8 *puVar8;
	float fVar9;
	undefined4 local_50[0x4];

	iVar7 = *(int *)(param_2 + 0x14);
	if (iVar7 == 0x0) {
		pfVar6 = (float *)0x0;
		puVar8 = (undefined8 *)0x0;
		uVar2 = DAT_0030a7d0;
	}
	else {
		uVar2 = *(undefined4 *)(iVar7 + 0x4);
		pfVar6 = (float *)(iVar7 + 0x10);
		puVar8 = (undefined8 *)(iVar7 + 0x20);
	}
	iVar7 = *(int *)(param_2 + 0x10) + 0x20;
	if (*(int *)(param_2 + 0x10) == 0x0) {
		iVar7 = 0x0;
	}
	if (pfVar6 == (float *)0x0) {
		FUN_00187090(param_4, param_3);
	}
	else {
		param_4->x = *pfVar6;
		param_4->y = pfVar6[0x1];
		param_4->z = pfVar6[0x2];
		param_4->w = pfVar6[0x3];
	}
	if (puVar8 == (undefined8 *)0x0) {
		fVar4 = (param_3->transformMatrix).wComponents.x;
		fVar9 = (param_3->transformMatrix).wComponents.y;
		fVar5 = (param_3->transformMatrix).wComponents.z;
		param_5[0x3] = (param_3->transformMatrix).wComponents.w;
		*param_5 = fVar4;
		param_5[0x1] = fVar9;
		param_5[0x2] = fVar5;
	}
	else {
		uVar1 = *puVar8;
		fVar4 = *(float *)(puVar8 + 0x1);
		fVar5 = *(float *)((int)puVar8 + 0xc);
		*param_5 = (float)uVar1;
		param_5[0x1] = (float)((ulong)uVar1 >> 0x20);
		param_5[0x2] = fVar4;
		param_5[0x3] = fVar5;
	}
	if (iVar7 != 0x0) {
		FUN_00270398(DAT(0x003bdb30));
		FUN_0027be10((undefined4 *)DAT(0x003bdb30), local_50);
		iVar7 = *(int *)(param_2 + 0x14);
		if ((iVar7 == 0x0) ||
			(lVar3 = (**(code **)(*(int *)(iVar7 + 0x34) + 0x34))
			(iVar7 + *(short *)(*(int *)(iVar7 + 0x34) + 0x30)), lVar3 != 0x0)) {
			param_4->x = *(float *)(param_2 + 0x20);
			param_4->y = *(float *)(param_2 + 0x24);
			param_4->z = *(float *)(param_2 + 0x28);
			param_4->w = *(float *)(param_2 + 0x2c);
		}
		*(float *)(param_2 + 0x20) = param_4->x;
		*(float *)(param_2 + 0x24) = param_4->y;
		*(float *)(param_2 + 0x28) = param_4->z;
		*(float *)(param_2 + 0x2c) = param_4->w;
	}
	*(undefined4 *)param_1 = uVar2;
	return param_1;
}



long FUN_0026fa58(undefined8 param_1, uint param_2)

{
	void *pvVar1;
	long lVar2;

	if (param_2 == 0x1c06) {
		pvVar1 = MemoryAllocate(0x18);
		lVar2 = (long)(int)pvVar1;
		FUN_0027cda8(lVar2);
		*(undefined4 *)((int)pvVar1 + 0xc) = 0x304fa8;
		*(undefined4 *)((int)pvVar1 + 0x8) = 0x40c00000;
		*(uint *)((int)pvVar1 + 0x14) = *(uint *)((int)pvVar1 + 0x14) | 0x1;
		*(undefined4 *)((int)pvVar1 + 0x10) = 0x0;
	}
	else {
		if (param_2 < 0x1c07) {
			if (param_2 == 0x1c03) {
				pvVar1 = MemoryAllocate(0x30);
				lVar2 = FUN_0027d348((long)(int)pvVar1);
			}
			else {
				if (param_2 < 0x1c04) {
					if (param_2 == 0xa19) {
						pvVar1 = MemoryAllocate(0xe0);
						lVar2 = (long)(int)pvVar1;
						FUN_0027cda8(lVar2);
						*(undefined *)((int)pvVar1 + 0xa0) = 0x0;
						*(undefined4 *)((int)pvVar1 + 0xc) = 0x304fe8;
						*(undefined4 *)((int)pvVar1 + 0xb0) = 0x0;
						*(undefined *)((int)pvVar1 + 0xd0) = 0x0;
					}
					else {
						lVar2 = 0x0;
						if (param_2 == 0x1c02) {
							pvVar1 = MemoryAllocate(0x20);
							lVar2 = FUN_0027d530((long)(int)pvVar1);
						}
					}
				}
				else {
					if (param_2 == 0x1c04) {
						pvVar1 = MemoryAllocate(0x60);
						lVar2 = FUN_0027d640((long)(int)pvVar1);
					}
					else {
						lVar2 = 0x0;
						if (param_2 == 0x1c05) {
							pvVar1 = MemoryAllocate(0x90);
							lVar2 = FUN_00279488((long)(int)pvVar1);
						}
					}
				}
			}
		}
		else {
			if (param_2 == 0x1c0c) {
				pvVar1 = MemoryAllocate(0x50);
				lVar2 = (long)(int)pvVar1;
				FUN_0027cda8(lVar2);
				*(undefined4 *)((int)pvVar1 + 0xc) = 0x304ee8;
			}
			else {
				if (param_2 < 0x1c0d) {
					if (param_2 == 0x1c09) {
						pvVar1 = MemoryAllocate(0x70);
						lVar2 = (long)(int)pvVar1;
						FUN_0027cda8(lVar2);
						*(undefined4 *)((int)pvVar1 + 0x10) = 0x0;
						*(undefined4 *)((int)pvVar1 + 0xc) = 0x304f68;
						*(undefined *)((int)pvVar1 + 0x1c) = 0x1;
						*(undefined2 *)((int)pvVar1 + 0x18) = 0x40;
						*(undefined2 *)((int)pvVar1 + 0x14) = 0x0;
						*(undefined2 *)((int)pvVar1 + 0x16) = 0x0;
						*(undefined4 *)((int)pvVar1 + 0x30) = 0x2f5c58;
						*(undefined4 *)((int)pvVar1 + 0x34) = 0x0;
						*(undefined4 *)((int)pvVar1 + 0x24) = 0x0;
						*(undefined4 *)((int)pvVar1 + 0x68) = 0xffffffff;
					}
					else {
						lVar2 = 0x0;
						if (param_2 == 0x1c0b) {
							pvVar1 = MemoryAllocate(0x30);
							lVar2 = (long)(int)pvVar1;
							FUN_0027d530(lVar2);
							*(undefined4 *)((int)pvVar1 + 0xc) = 0x304f28;
							*(undefined4 *)((int)pvVar1 + 0x20) = 0x3f000000;
							*(undefined4 *)((int)pvVar1 + 0x24) = 0x0;
						}
					}
				}
				else {
					if (param_2 == 0x1c0e) {
						pvVar1 = MemoryAllocate(0x3c);
						lVar2 = (long)(int)pvVar1;
						FUN_0027cda8(lVar2);
						*(undefined4 *)((int)pvVar1 + 0x10) = 0x0;
						*(undefined4 *)((int)pvVar1 + 0xc) = 0x304e68;
						*(undefined4 *)((int)pvVar1 + 0x14) = 0x0;
						*(undefined *)((int)pvVar1 + 0x20) = 0x1;
						*(undefined2 *)((int)pvVar1 + 0x1c) = 0x40;
						*(undefined2 *)((int)pvVar1 + 0x18) = 0x0;
						*(undefined2 *)((int)pvVar1 + 0x1a) = 0x0;
						*(undefined *)((int)pvVar1 + 0x24) = 0x0;
						*(undefined *)((int)pvVar1 + 0x25) = 0x0;
					}
					else {
						if (param_2 < 0x1c0e) {
							pvVar1 = MemoryAllocate(0x40);
							lVar2 = (long)(int)pvVar1;
							FUN_0027d348(lVar2);
							*(undefined4 *)((int)pvVar1 + 0xc) = 0x304ea8;
						}
						else {
							lVar2 = 0x0;
							if (param_2 == 0x1c0f) {
								pvVar1 = MemoryAllocate(0xb0);
								lVar2 = (long)(int)pvVar1;
								FUN_0027cda8(lVar2);
								*(undefined4 *)((int)pvVar1 + 0xc) = 0x304e28;
							}
						}
					}
				}
			}
		}
	}
	return lVar2;
}



undefined8 FUN_0026fd60(undefined8 param_1)

{
	int *piVar1;
	int iVar2;
	Vector4 *pos1;

	pos1 = (Vector4 *)param_1;
	pos1[0x3].x = 0.00000000;
	MovePositionFromPos2ToPos1(pos1, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pos1->w = 1.00000000;
	MovePositionFromPos2ToPos1(pos1 + 0x1, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pos1[0x1].w = 1.00000000;
	MovePositionFromPos2ToPos1(pos1 + 0x2, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pos1[0x2].w = 1.00000000;
	InitIdentityMatrix((Matrix4x4 *)(pos1 + 0x4));
	iVar2 = 0x0;
	piVar1 = (int *)pos1[0x3].x;
	pos1[0x8].x = 1.00000000;
	pos1[0x8].z = 0.10000000;
	pos1[0x8].y = 1.00000000;
	if (piVar1 != (int *)0x0) {
		iVar2 = *piVar1;
	}
	if (iVar2 != 0x0) {
		FUN_0011c088((ChunkNodeUnkBitfield **)(pos1 + 0x3));
		pos1[0x3].x = 0.00000000;
	}
	return param_1;
}



void FUN_0026fe40(float param_1, float param_2, int param_3, float *param_4)

{
	int *piVar1;
	int iVar2;
	float fVar3;
	Vector4 local_30;

	iVar2 = 0x0;
	piVar1 = *(int **)(param_3 + 0x30);
	if (piVar1 != (int *)0x0) {
		iVar2 = *piVar1;
	}
	if (iVar2 != 0x0) {
		iVar2 = 0x0;
		if (piVar1 != (int *)0x0) {
			iVar2 = *piVar1;
		}
		iVar2 = *(int *)(iVar2 + 0x8);
		if ((*(ulong *)(iVar2 + 0x60) & 0x4) != 0x0) {
			*(undefined4 *)(iVar2 + 0x40) = *(undefined4 *)(iVar2 + 0x30);
			*(undefined4 *)(iVar2 + 0x4c) = *(undefined4 *)(iVar2 + 0x3c);
			*(undefined4 *)(iVar2 + 0x44) = *(undefined4 *)(iVar2 + 0x34);
			*(undefined4 *)(iVar2 + 0x48) = *(undefined4 *)(iVar2 + 0x38);
			*(ulong *)(iVar2 + 0x60) = *(ulong *)(iVar2 + 0x60) & 0xfffffffffffffffa;
		}
		local_30.w = *(float *)(iVar2 + 0x4c);
		local_30.x = *(float *)(iVar2 + 0x40) - *param_4;
		local_30.y = *(float *)(iVar2 + 0x44) - param_4[0x1];
		local_30.z = *(float *)(iVar2 + 0x48) - param_4[0x2];
		FUN_0018ec48((long)(param_3 + 0x40), (undefined4 *)&local_30, (undefined4 *)&local_30);
		if (0.00010000 < param_2) {
			param_1 = param_1 / ((local_30.x * local_30.x + local_30.y * local_30.y +
				local_30.z * local_30.z) * param_2 + 1.00000000);
		}
		fVar3 = RSQRT(0.00000000, &local_30);
		local_30.x = local_30.x * fVar3;
		local_30.y = local_30.y * fVar3;
		local_30.z = local_30.z * fVar3;
		FUN_0023cfd8(0.20000000, 1.00000000, 1.00000000, 1.00000000, (float *)&local_30);
		local_30.x = local_30.x * param_1;
		local_30.y = local_30.y * param_1;
		local_30.z = local_30.z * param_1;
		*(float *)(param_3 + 0x20) = *(float *)(param_3 + 0x20) + local_30.x;
		*(float *)(param_3 + 0x24) = *(float *)(param_3 + 0x24) + local_30.y;
		*(float *)(param_3 + 0x28) = *(float *)(param_3 + 0x28) + local_30.z;
		FUN_0027bd48(param_1);
	}
	return;
}



// WARNING: Could not reconcile some variable overlaps

void FUN_00270040(float param_1, float param_2, float param_3, float param_4, int param_5,
	Vector4 *param_6)

{
	int *piVar1;
	bool bVar2;
	ulong uVar3;
	float fVar4;
	int iVar5;
	Vector4 local_60;
	undefined8 local_50[0x2];

	iVar5 = 0x0;
	piVar1 = *(int **)(param_5 + 0x30);
	if (piVar1 != (int *)0x0) {
		iVar5 = *piVar1;
	}
	if (iVar5 != 0x0) {
		iVar5 = 0x0;
		if (piVar1 != (int *)0x0) {
			iVar5 = *piVar1;
		}
		iVar5 = *(int *)(iVar5 + 0x8);
		if ((*(ulong *)(iVar5 + 0x60) & 0x4) != 0x0) {
			*(undefined4 *)(iVar5 + 0x40) = *(undefined4 *)(iVar5 + 0x30);
			*(undefined4 *)(iVar5 + 0x4c) = *(undefined4 *)(iVar5 + 0x3c);
			*(undefined4 *)(iVar5 + 0x44) = *(undefined4 *)(iVar5 + 0x34);
			*(undefined4 *)(iVar5 + 0x48) = *(undefined4 *)(iVar5 + 0x38);
			*(ulong *)(iVar5 + 0x60) = *(ulong *)(iVar5 + 0x60) & 0xfffffffffffffffa;
		}
		local_60.w = *(float *)(iVar5 + 0x4c);
		local_60.x = *(float *)(iVar5 + 0x40) - param_6->x;
		local_60.y = *(float *)(iVar5 + 0x44) - param_6->y;
		local_60.z = *(float *)(iVar5 + 0x48) - param_6->z;
		FUN_0018ec48((long)(param_5 + 0x40), (undefined4 *)&local_60, (undefined4 *)&local_60);
		if (0.00010000 < param_4) {
			bVar2 = local_60.x <= 0.00000000;
			fVar4 = 1.00000000 /
				((local_60.x * local_60.x + local_60.y * local_60.y + local_60.z * local_60.z) *
					param_4 + 1.00000000);
			param_3 = param_3 * fVar4;
			local_60.x = param_1 * fVar4;
			if (bVar2) {
				local_60.x = -local_60.x;
			}
			bVar2 = local_60.y <= 0.00000000;
			local_60.y = param_2 * fVar4;
			if (bVar2) {
				local_60.y = -(param_2 * fVar4);
			}
			bVar2 = local_60.z <= 0.00000000;
			local_60.z = param_3;
			if (bVar2) {
				local_60.z = -param_3;
			}
		}
		else {
			fVar4 = RSQRT(0.00000000, &local_60);
			local_60.x = local_60.x * fVar4 * param_1;
			local_60.y = local_60.y * fVar4 * param_2;
			local_60.z = local_60.z * fVar4 * param_3;
		}
		param_3 = param_3 * 1024.00000000;
		*(float *)(param_5 + 0x20) = *(float *)(param_5 + 0x20) + local_60.x;
		if ((byte)((uint)param_3 >> 0x17) < 0x9e) {
			iVar5 = (int)param_3;
		}
		else {
			if ((int)param_3 < 0x0) {
				iVar5 = 0x7fffffff;
			}
			else {
				iVar5 = -0x80000000;
			}
		}
		uVar3 = (long)iVar5;
		if (0xff < (long)iVar5) {
			uVar3 = 0xff;
		}
		*(float *)(param_5 + 0x24) = *(float *)(param_5 + 0x24) + local_60.y;
		if ((long)uVar3 < 0x14) {
			uVar3 = 0x14;
		}
		*(float *)(param_5 + 0x28) = *(float *)(param_5 + 0x28) + local_60.z;
		local_50[0]._0_4_ = (uint)local_50[0] & 0xffff8000 | 0x21 | (uint)((uVar3 & 0xff) << 0x7);
		local_50[0] = CONCAT44(0x3ecccccd, (uint)local_50[0]);
		FUN_002b3f50((uint *)local_50);
	}
	return;
}



void FUN_00270398(undefined8 *param_1)

{
	int *piVar1;
	TransformedGeometyPoint *pTVar2;
	undefined8 uVar3;
	float fVar4;
	int iVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	float fVar10;

	piVar1 = *(int **)(param_1 + 0x6);
	iVar5 = 0x0;
	if (piVar1 != (int *)0x0) {
		iVar5 = *piVar1;
	}
	if (iVar5 != 0x0) {
		iVar5 = 0x0;
		if (piVar1 != (int *)0x0) {
			iVar5 = *piVar1;
		}
		iVar5 = *(int *)(iVar5 + 0x8);
		if ((*(ulong *)(iVar5 + 0x60) & 0x4) != 0x0) {
			*(undefined4 *)(iVar5 + 0x40) = *(undefined4 *)(iVar5 + 0x30);
			*(undefined4 *)(iVar5 + 0x4c) = *(undefined4 *)(iVar5 + 0x3c);
			*(undefined4 *)(iVar5 + 0x44) = *(undefined4 *)(iVar5 + 0x34);
			*(undefined4 *)(iVar5 + 0x48) = *(undefined4 *)(iVar5 + 0x38);
			*(ulong *)(iVar5 + 0x60) = *(ulong *)(iVar5 + 0x60) & 0xfffffffffffffffa;
		}
		iVar5 = 0x0;
		if (*(int **)(param_1 + 0x6) != (int *)0x0) {
			iVar5 = **(int **)(param_1 + 0x6);
		}
		pTVar2 = *(TransformedGeometyPoint **)(iVar5 + 0x8);
		RotateAndTranslate_(pTVar2);
		uVar3 = *(undefined8 *)&(pTVar2->transformMatrix).xComponents;
		fVar6 = (pTVar2->transformMatrix).xComponents.z;
		fVar7 = (pTVar2->transformMatrix).xComponents.w;
		*(int *)(param_1 + 0x8) = (int)uVar3;
		*(undefined4 *)((int)param_1 + 0x44) = (int)((ulong)uVar3 >> 0x20);
		*(float *)(param_1 + 0x9) = fVar6;
		*(float *)((int)param_1 + 0x4c) = fVar7;
		fVar6 = (pTVar2->transformMatrix).yComponents.y;
		fVar7 = (pTVar2->transformMatrix).yComponents.z;
		fVar4 = (pTVar2->transformMatrix).yComponents.w;
		*(float *)(param_1 + 0xa) = (pTVar2->transformMatrix).yComponents.x;
		*(float *)((int)param_1 + 0x54) = fVar6;
		*(float *)(param_1 + 0xb) = fVar7;
		*(float *)((int)param_1 + 0x5c) = fVar4;
		fVar6 = (pTVar2->transformMatrix).zComponents.y;
		fVar7 = (pTVar2->transformMatrix).zComponents.z;
		fVar4 = (pTVar2->transformMatrix).zComponents.w;
		*(float *)(param_1 + 0xc) = (pTVar2->transformMatrix).zComponents.x;
		*(float *)((int)param_1 + 0x64) = fVar6;
		*(float *)(param_1 + 0xd) = fVar7;
		*(float *)((int)param_1 + 0x6c) = fVar4;
		fVar6 = (pTVar2->transformMatrix).wComponents.y;
		fVar7 = (pTVar2->transformMatrix).wComponents.z;
		fVar4 = (pTVar2->transformMatrix).wComponents.w;
		*(float *)(param_1 + 0xe) = (pTVar2->transformMatrix).wComponents.x;
		*(float *)((int)param_1 + 0x74) = fVar6;
		*(float *)(param_1 + 0xf) = fVar7;
		*(float *)((int)param_1 + 0x7c) = fVar4;
		FUN_0018ef98((Matrix4x4 *)(param_1 + 0x8));
		*(float *)param_1 = *(float *)param_1 + *(float *)(param_1 + 0x4);
		*(float *)((int)param_1 + 0x4) =
			*(float *)((int)param_1 + 0x4) + *(float *)((int)param_1 + 0x24);
		*(float *)(param_1 + 0x1) = *(float *)(param_1 + 0x1) + *(float *)(param_1 + 0x5);
		MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x4), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		*(undefined4 *)((int)param_1 + 0x2c) = 0x3f800000;
		fVar6 = (float)*param_1;
		fVar7 = (float)((ulong)*param_1 >> 0x20);
		fVar10 = *(float *)param_1 + (fVar6 - *(float *)(param_1 + 0x2));
		fVar8 = *(float *)(param_1 + 0x11);
		fVar9 = *(float *)((int)param_1 + 0x4) + (fVar7 - *(float *)((int)param_1 + 0x14));
		fVar4 = *(float *)(param_1 + 0x3);
		*(float *)param_1 = fVar10;
		*(float *)((int)param_1 + 0x4) = fVar9;
		*(float *)(param_1 + 0x2) = fVar6;
		*(float *)((int)param_1 + 0x14) = fVar7;
		*(float *)(param_1 + 0x3) = *(float *)(param_1 + 0x1);
		*(undefined4 *)((int)param_1 + 0x1c) = *(undefined4 *)((int)param_1 + 0xc);
		fVar7 = *(float *)(param_1 + 0x1) + (*(float *)(param_1 + 0x1) - fVar4);
		*(float *)(param_1 + 0x1) = fVar7;
		fVar10 = fVar10 - (float)*param_1 * fVar8;
		fVar9 = fVar9 - (float)((ulong)*param_1 >> 0x20) * fVar8;
		fVar7 = fVar7 - *(float *)(param_1 + 0x1) * fVar8;
		*(float *)param_1 = fVar10;
		*(float *)((int)param_1 + 0x4) = fVar9;
		*(float *)(param_1 + 0x1) = fVar7;
		fVar6 = SQRT(fVar10 * fVar10 + fVar9 * fVar9 + fVar7 * fVar7);
		if (*(float *)(param_1 + 0x10) < fVar6) {
			fVar6 = *(float *)(param_1 + 0x10) / fVar6;
			*(float *)(param_1 + 0x1) = fVar7 * fVar6;
			*(float *)param_1 = fVar10 * fVar6;
			*(float *)((int)param_1 + 0x4) = fVar9 * fVar6;
		}
	}
	return;
}



undefined8 FUN_002705d8(undefined8 param_1, int param_2, undefined8 param_3, undefined8 param_4)

{
	uint uVar1;
	undefined4 uVar2;
	int iVar3;
	Vector4 *pVVar4;
	Matrix4x4 *mat;
	int iVar5;
	float fVar6;
	float fVar7;
	int local_f0;
	Vector4 VStack224;
	float local_d0;
	float fStack204;
	float local_c8;
	float fStack196;
	int local_c0;
	undefined auStack176[0x10];
	float local_a0;
	float local_9c;
	float local_98;
	int local_90[0x4];
	Vector4 VStack128;
	float local_70;
	float fStack108;
	float local_68;
	float local_64;
	int local_60;

	if (*(int *)(param_2 + 0x30) == 0x0) {
		fVar7 = 0.00000000;
	}
	else {
		iVar5 = *(int *)((int)param_3 + 0x4);
		if (*(int *)(param_2 + 0x34) == 0x0) {
			*(int *)(param_2 + 0x34) = iVar5;
			iVar5 = 0x0;
		}
		else {
			iVar5 -= *(int *)(param_2 + 0x34);
		}
		if (iVar5 < *(int *)(param_2 + 0x38)) {
			iVar3 = *(int *)(*(int *)(param_2 + 0x30) + 0x30);
			(**(code **)(iVar3 + 0x1c))(*(int *)(param_2 + 0x30) + (int)*(short *)(iVar3 + 0x18), param_3);
			FUN_0026f880(local_90, *(undefined4 *)(param_2 + 0x30), param_4, auStack176, &local_a0);
			fVar7 = ((float)iVar5 * DAT_00309b80) / ((float)*(int *)(param_2 + 0x38) * DAT_00309b80);
			local_c0 = local_90[0];
			if ((*(uint *)(param_2 + 0x18) >> 0x3 & 0x7) == 0x2) {
				fVar6 = fVar7 * fVar7 * fVar7;
				fVar7 = fVar7 * fVar7 * 3.00000000 - (fVar6 + fVar6);
			}
		}
		else {
			if ((*(uint *)(param_2 + 0x18) & 0x2) == 0x0) {
				uVar1 = *(uint *)(param_2 + 0x18);
			}
			else {
				iVar5 = *(int *)(param_2 + 0x2c);
				if (iVar5 != 0x0) {
					(**(code **)(*(int *)(iVar5 + 0x30) + 0xc))
						(iVar5 + *(short *)(*(int *)(iVar5 + 0x30) + 0x8), 0x3);
				}
				*(uint *)(param_2 + 0x18) = *(uint *)(param_2 + 0x18) & 0xfffffffd;
				uVar1 = *(uint *)(param_2 + 0x18);
			}
			uVar2 = *(undefined4 *)(param_2 + 0x30);
			*(undefined4 *)(param_2 + 0x30) = 0x0;
			*(undefined4 *)(param_2 + 0x2c) = uVar2;
			*(uint *)(param_2 + 0x18) = uVar1 & 0xfffffffd | uVar1 >> 0x1 & 0x2;
			fVar7 = 1.00000000;
			*(undefined4 *)(param_2 + 0x34) = 0x0;
		}
	}
	iVar5 = *(int *)(*(int *)(param_2 + 0x2c) + 0x30);
	(**(code **)(iVar5 + 0x1c))(*(int *)(param_2 + 0x2c) + (int)*(short *)(iVar5 + 0x18), param_3);
	FUN_0026f880(local_90, *(undefined4 *)(param_2 + 0x2c), param_4, &VStack224, &local_d0);
	local_f0 = local_90[0];
	mat = (Matrix4x4 *)param_4;
	if ((fVar7 <= 0.00000000) || (local_64 = 1.00000000, 1.00000000 <= fVar7)) {
		Rotate_(mat, &VStack224);
		pVVar4 = GetPositionFromRTS(mat, 0x3);
	}
	else {
		local_60 = local_c0;
		fVar6 = ((float)local_c0 * 0.00009587 * fVar7 +
			(float)local_90[0] * 0.00009587 * (1.00000000 - fVar7)) * 10430.37792969;
		if ((byte)((uint)fVar6 >> 0x17) < 0x9e) {
			local_f0 = (int)fVar6;
		}
		else {
			if ((int)fVar6 < 0x0) {
				local_f0 = 0x7fffffff;
			}
			else {
				local_f0 = -0x80000000;
			}
		}
		FUN_00187890(fVar7, &VStack128, &VStack224, auStack176);
		local_70 = local_d0 + (local_a0 - local_d0) * fVar7;
		fStack108 = fStack204 + (local_9c - fStack204) * fVar7;
		local_68 = local_c8 + (local_98 - local_c8) * fVar7;
		Rotate_(mat, &VStack128);
		pVVar4 = GetPositionFromRTS(mat, 0x3);
		local_c8 = local_68;
		fStack196 = local_64;
		local_d0 = local_70;
		fStack204 = fStack108;
	}
	pVVar4->x = local_d0;
	pVVar4->y = fStack204;
	pVVar4->z = local_c8;
	pVVar4->w = fStack196;
	*(int *)param_1 = local_f0;
	return param_1;
}



undefined4 FUN_00270918(undefined4 *param_1, int param_2, undefined4 param_3, undefined8 param_4)

{
	int iVar1;
	uint uVar2;

	iVar1 = param_1[0xb];
	if (iVar1 == 0x0) {
		if (param_2 == 0x0) {
			uVar2 = param_1[0x6];
		}
		else {
			if ((param_1[0x6] & 0x2) != 0x0) {
				param_1[0x6] = param_1[0x6] & 0xfffffffd;
			}
			param_1[0xb] = param_2;
			param_1[0x6] = param_1[0x6] & 0xfffffffd;
			uVar2 = param_1[0x6];
		}
		if ((uVar2 & 0x4) == 0x0) {
			uVar2 = param_1[0x6];
		}
		else {
			iVar1 = param_1[0xc];
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x30) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x30) + 0x8), 0x3);
			}
			param_1[0x6] = param_1[0x6] & 0xfffffffb;
			uVar2 = param_1[0x6];
		}
		iVar1 = param_1[0xb];
		param_1[0xd] = 0x0;
		param_1[0x6] = uVar2 & 0xfffffffb;
		param_1[0xc] = 0x0;
		if (iVar1 != 0x0) {
			(**(code **)(*(int *)(iVar1 + 0x30) + 0x14))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0x30) + 0x10), *param_1);
			return param_1[0xc];
		}
	}
	else {
		if (param_1[0xd] == 0x0) {
			if (iVar1 == param_2) {
				return param_1[0xc];
			}
			uVar2 = param_1[0x6];
		}
		else {
			if ((param_1[0x6] & 0x2) != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x30) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x30) + 0x8), 0x3);
				param_1[0x6] = param_1[0x6] & 0xfffffffd;
			}
			param_1[0xb] = param_1[0xc];
			param_1[0x6] = param_1[0x6] & 0xfffffffd | (uint)param_1[0x6] >> 0x1 & 0x2;
			uVar2 = param_1[0x6];
		}
		param_1[0xe] = param_3;
		param_1[0xc] = param_2;
		param_1[0x6] = uVar2 & 0xffffffc3 | ((uint)param_4 & 0x7) << 0x3;
		param_1[0xd] = 0x0;
		if (param_2 != 0x0) {
			(**(code **)(*(int *)(param_2 + 0x30) + 0x14))
				(param_2 + *(short *)(*(int *)(param_2 + 0x30) + 0x10), *param_1);
		}
	}
	return param_1[0xc];
}



int FUN_00270ad8(int *param_1, undefined8 param_2)

{
	TransformedGeometyPoint *pTVar1;
	ChunkNode *pCVar2;
	undefined8 uVar3;
	bool bVar4;
	int iVar5;
	undefined4 local_90;
	undefined4 uStack140;
	float fStack136;
	float fStack132;
	float local_80;
	float fStack124;
	float fStack120;
	float fStack116;
	float local_70;
	float fStack108;
	float fStack104;
	float fStack100;
	float local_60;
	float fStack92;
	float fStack88;
	float fStack84;
	int local_50[0x4];
	int local_40;

	if ((*(byte *)&((UnkScriptRelatedStoredInGlobal *)param_2)->field_0x0 & 0x1) != 0x0) {
		pTVar1 = *(TransformedGeometyPoint **)(*param_1 + 0x8);
		RotateAndTranslate_(pTVar1);
		uVar3 = *(undefined8 *)&(pTVar1->transformMatrix).xComponents;
		fStack136 = (pTVar1->transformMatrix).xComponents.z;
		fStack132 = (pTVar1->transformMatrix).xComponents.w;
		local_90 = (undefined4)uVar3;
		uStack140 = (undefined4)((ulong)uVar3 >> 0x20);
		local_80 = (pTVar1->transformMatrix).yComponents.x;
		fStack124 = (pTVar1->transformMatrix).yComponents.y;
		fStack120 = (pTVar1->transformMatrix).yComponents.z;
		fStack116 = (pTVar1->transformMatrix).yComponents.w;
		local_70 = (pTVar1->transformMatrix).zComponents.x;
		fStack108 = (pTVar1->transformMatrix).zComponents.y;
		fStack104 = (pTVar1->transformMatrix).zComponents.z;
		fStack100 = (pTVar1->transformMatrix).zComponents.w;
		local_60 = (pTVar1->transformMatrix).wComponents.x;
		fStack92 = (pTVar1->transformMatrix).wComponents.y;
		fStack88 = (pTVar1->transformMatrix).wComponents.z;
		fStack84 = (pTVar1->transformMatrix).wComponents.w;
		FUN_002705d8((long)(int)local_50, (int)param_1, param_2, (long)(int)&local_90);
		pCVar2 = (ChunkNode *)*param_1;
		param_1[0x6] = param_1[0x6] | 0x1;
		param_1[0x7] = local_50[0];
		local_40 = local_50[0];
		iVar5 = FUN_0018b6d0((undefined4 *)pCVar2->transformMatrixPtr, (undefined8 *)&local_90);
		if (iVar5 != 0x0) {
			FUN_001977d8(pCVar2);
		}
	}
	bVar4 = FUN_001925c0((GameNode *)param_1, (UnkScriptRelatedStoredInGlobal *)param_2);
	return (int)bVar4;
}



void FUN_00270bb8(uint *param_1, int *param_2, int *param_3)

{
	uint uVar1;
	int iVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	int iVar6;
	uint uVar7;
	int iVar8;
	float fVar9;

	uVar5 = param_1[0x5];
	iVar6 = uVar5 + param_1[0x6];
	uVar1 = *param_1;
	uVar3 = (uint)(*param_2 < iVar6) ^ 0x1;
	uVar4 = uVar3 << 0x5;
	*param_1 = uVar1 & 0xffffffdf | uVar4;
	uVar7 = (uint)(iVar6 < *param_3) ^ 0x1;
	*param_1 = uVar1 & 0xffffff9f | uVar4 | uVar7 << 0x6;
	if (uVar3 == 0x0) {
		if (uVar7 == 0x0) {
			iVar8 = *param_3;
			goto LAB_00270c78;
		}
		if ((int)uVar5 <= *param_3) {
			uVar5 = *param_3 - uVar5;
			goto LAB_00270c70;
		}
	}
	else {
		if (*param_2 <= (int)uVar5) {
			uVar5 = *param_2 - uVar5;
		LAB_00270c70:
			param_1[0x6] = uVar5;
		}
	}
	iVar8 = *param_3;
LAB_00270c78:
	iVar2 = *param_2;
	if (iVar2 == iVar8) {
		param_1[0x4] = 0x3f000000;
	}
	else {
		if ((*param_1 & 0x20) == 0x0) {
			if ((*param_1 & 0x40) == 0x0) {
				fVar9 = 0.50000000;
				if (iVar8 - iVar2 != 0x0) {
					fVar9 = (float)(iVar6 - iVar2) / (float)(iVar8 - iVar2);
				}
				*(float *)(param_1 + 0x4) = fVar9;
			}
			else {
				param_1[0x4] = 0x3f800000;
			}
		}
		else {
			param_1[0x4] = 0x0;
		}
	}
	return;
}



undefined4 FUN_00270d10(float param_1, uint *param_2, int *param_3, int *param_4, long param_5)

{
	bool bVar1;
	int iVar2;
	undefined4 uVar3;
	uint uVar4;
	float fVar5;
	uint local_d0[0x4];
	int local_c0;
	uint local_b0;
	int local_90;
	int local_80;

	uVar3 = 0x1;
	local_c0 = DAT_0030a9a8;
	local_d0[0] = ((*param_3 - param_2[0x5]) + 0x8000 & 0xffff) - 0x8000;
	if (DAT_0030a9a8 < (int)local_d0[0]) {
		if (param_5 != 0x0) {
			param_2[0x6] = local_d0[0];
			goto LAB_00270e9c;
		}
		local_b0 = param_2[0x9];
		param_1 = (float)local_b0 * param_1;
		if ((byte)((uint)param_1 >> 0x17) < 0x9e) {
			uVar4 = (uint)param_1;
		}
		else {
			if ((int)param_1 < 0x0) {
				uVar4 = 0x7fffffff;
			}
			else {
				uVar4 = 0x80000000;
			}
		}
		param_2[0x6] = uVar4;
		if ((*param_2 & 0x404) == 0x400) {
			FUN_0018c050((long)(int)local_d0);
			fVar5 = (float)param_2[0x6] * ABS(param_1);
			if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
				uVar4 = (uint)fVar5;
			}
			else {
				if ((int)fVar5 < 0x0) {
					uVar4 = 0x7fffffff;
				}
				else {
					uVar4 = 0x80000000;
				}
			}
			param_2[0x6] = uVar4;
		}
		bVar1 = (int)local_d0[0] < (int)param_2[0x6];
	}
	else {
		local_90 = -DAT_0030a9a8;
		local_d0[0] = ((*param_4 - param_2[0x5]) + 0x8000 & 0xffff) - 0x8000;
		if (local_90 <= (int)local_d0[0]) {
			param_2[0x6] = 0x0;
			uVar3 = 0x0;
			goto LAB_00270e9c;
		}
		if (param_5 != 0x0) {
			param_2[0x6] = local_d0[0];
			goto LAB_00270e9c;
		}
		local_b0 = -param_2[0x9];
		param_1 = (float)local_b0 * param_1;
		if ((byte)((uint)param_1 >> 0x17) < 0x9e) {
			uVar4 = (uint)param_1;
		}
		else {
			if ((int)param_1 < 0x0) {
				uVar4 = 0x7fffffff;
			}
			else {
				uVar4 = 0x80000000;
			}
		}
		param_2[0x6] = uVar4;
		if ((*param_2 & 0x404) == 0x400) {
			local_80 = local_b0;
			FUN_0018c050((long)(int)local_d0);
			fVar5 = (float)param_2[0x6] * ABS(param_1);
			if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
				uVar4 = (uint)fVar5;
			}
			else {
				if ((int)fVar5 < 0x0) {
					uVar4 = 0x7fffffff;
				}
				else {
					uVar4 = 0x80000000;
				}
			}
			param_2[0x6] = uVar4;
		}
		bVar1 = (int)param_2[0x6] < (int)local_d0[0];
	}
	if (bVar1) {
		param_2[0x6] = local_d0[0];
	}
LAB_00270e9c:
	iVar2 = param_2[0xe] - param_2[0xd];
	fVar5 = 0.50000000;
	if (iVar2 != 0x0) {
		fVar5 = (float)((param_2[0x5] + param_2[0x6]) - param_2[0xd]) / (float)iVar2;
	}
	*(float *)(param_2 + 0x4) = fVar5;
	return uVar3;
}



undefined8 FUN_00270f30(undefined8 param_1, uint *param_2)

{
	uint uVar1;
	uint *puVar2;

	puVar2 = (uint *)param_1;
	puVar2[0x3] = *param_2;
	FUN_0011bf10(90.00000000, (int *)(puVar2 + 0x9), 0x1);
	FUN_0011bf10(90.00000000, (int *)(puVar2 + 0xa), 0x1);
	puVar2[0xd] = *param_2;
	puVar2[0xe] = *param_2;
	puVar2[0xf] = *param_2;
	uVar1 = *param_2;
	*puVar2 = *puVar2 & 0xfffffbff;
	puVar2[0x10] = uVar1;
	FUN_00270fc8(puVar2);
	return param_1;
}



void FUN_00270fc8(uint *param_1)

{
	int iVar1;
	float fVar2;

	param_1[0x5] = param_1[0x3];
	iVar1 = param_1[0xe] - param_1[0xd];
	param_1[0xb] = param_1[0x9];
	param_1[0x6] = 0x0;
	fVar2 = 0.50000000;
	if (iVar1 != 0x0) {
		fVar2 = (float)(param_1[0x3] - param_1[0xd]) / (float)iVar1;
	}
	*(float *)(param_1 + 0x4) = fVar2;
	param_1[0x8] = 0x0;
	*param_1 = *param_1 & 0x1 | ((int)*param_1 >> 0xa & 0x1U) << 0xa;
	param_1[0x11] = param_1[0x5];
	param_1[0x1] = 0x0;
	param_1[0x2] = 0x0;
	return;
}



uint FUN_00271070(float param_1, uint *param_2, int *param_3, long param_4)

{
	uint uVar1;
	uint local_30[0x4];
	uint local_20[0x4];

	if ((*param_2 & 0x8) == 0x0) {
		uVar1 = *param_2;
	}
	else {
		param_1 = (float)*param_3 * param_1;
		if ((byte)((uint)param_1 >> 0x17) < 0x9e) {
			uVar1 = (uint)param_1;
		}
		else {
			if ((int)param_1 < 0x0) {
				uVar1 = 0x7fffffff;
			}
			else {
				uVar1 = 0x80000000;
			}
		}
		param_2[0x6] = uVar1;
		if (param_4 != 0x0) {
			if ((*param_2 & 0x80) == 0x0) {
				local_20[0] = param_2[0xe];
				local_30[0] = param_2[0xd];
			}
			else {
				local_20[0] = param_2[0x10];
				local_30[0] = param_2[0xf];
			}
			FUN_00270bb8(param_2, (int *)local_30, (int *)local_20);
		}
		*param_2 = *param_2 | 0x10;
		uVar1 = *param_2;
	}
	return (int)uVar1 >> 0x4 & 0x1;
}



uint FUN_00271128(uint *param_1, uint param_2, uint *param_3, long param_4, long param_5)

{
	uint uVar1;
	undefined8 uVar2;
	uint uVar3;
	uint uVar4;
	float fVar5;
	float fVar6;
	uint local_90[0x4];
	uint local_80[0x4];
	uint local_70;
	uint local_60[0x4];
	uint local_50[0x4];
	uint local_40;
	uint local_30[0x4];

	uVar1 = *param_1;
	fVar6 = (float)*(int *)(param_2 + 0x8) * DAT_00309b80;
	if ((uVar1 & 0x8) == 0x0) {
	LAB_00271414:
		uVar1 = 0x0;
	}
	else {
		if ((uVar1 & 0x10) != 0x0) {
			*param_1 = uVar1 & 0xfffffff9;
			return 0x0;
		}
		if ((uVar1 & 0x80) == 0x0) {
			if ((uVar1 & 0x100) != 0x0) {
				local_40 = param_1[0xe];
				fVar5 = ((float)local_40 * 0.00009587 * (float)param_1[0xc] +
					(float)param_1[0xd] * 0.00009587 * (1.00000000 - (float)param_1[0xc])) *
					10430.37792969;
				if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
					local_90[0] = (uint)fVar5;
				}
				else {
					if ((int)fVar5 < 0x0) {
						local_90[0] = 0x7fffffff;
					}
					else {
						local_90[0] = 0x80000000;
					}
				}
				local_50[0] = local_90[0];
				local_30[0] = local_90[0];
				uVar1 = FUN_00270d10(fVar6, param_1, (int *)local_50, (int *)local_30, param_5);
				*param_1 = *param_1 & 0xfffffffd | (uVar1 & 0x1) << 0x1 | 0x4;
				return 0x1;
			}
			fVar5 = (float)param_1[0x1];
			uVar3 = (uint)(0.00000000 < fVar5) << 0x1;
			uVar4 = uVar1 & 0xfffffffd | uVar3;
			*param_1 = uVar4;
			if (0.00000000 < fVar5) {
				uVar4 |= 0x4;
				fVar5 = fVar6 * fVar5;
			LAB_00271364:
				*param_1 = uVar4;
			LAB_00271368:
				uVar1 = *param_1;
			}
			else {
				fVar5 = fVar6;
				if ((uVar1 & 0x1) != 0x0) {
					if ((int)param_1[0x7] <= (int)(*(int *)(param_2 + 0x4) - param_1[0x8])) {
						uVar4 = uVar1 & 0xfffffff9 | uVar3 | 0x2;
						goto LAB_00271364;
					}
					goto LAB_00271368;
				}
				uVar1 = *param_1;
			}
			if ((uVar1 & 0x2) == 0x0) {
				if (0.00005000 < ABS((float)param_1[0x2])) {
					fVar5 = (float)param_1[0xa] * (float)param_1[0x2];
					*param_1 = uVar1 & 0xfffffff9;
					if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
						local_90[0] = (uint)fVar5;
					}
					else {
						if ((int)fVar5 < 0x0) {
							local_90[0] = 0x7fffffff;
						}
						else {
							local_90[0] = 0x80000000;
						}
					}
					uVar1 = FUN_00271070(fVar6, param_1, (int *)local_90, param_4);
					return uVar1;
				}
				goto LAB_00271414;
			}
			local_90[0] = *param_3;
			local_80[0] = local_90[0];
			FUN_00270d10(fVar5, param_1, (int *)local_90, (int *)local_80, param_5);
		}
		else {
			local_80[0] = param_1[0x10];
			local_90[0] = param_1[0xf];
			uVar1 = FUN_00270d10(fVar6, param_1, (int *)local_90, (int *)local_80, param_5);
			uVar4 = *param_1 & 0xfffffffd | (uVar1 & 0x1) << 0x1;
			*param_1 = uVar4;
			if ((uVar1 & 0x1) == 0x0) {
				local_60[0] = param_1[0xa];
				uVar2 = FUN_0015de00((float)param_1[0x2], (long)(int)local_60);
				local_70 = *(uint *)uVar2;
				local_60[0] = local_70;
				uVar2 = FUN_0015de00(fVar6, (long)(int)local_60);
				uVar1 = *(uint *)uVar2;
				*param_1 = *param_1 & 0xfffffffb;
				param_1[0x6] = uVar1;
			}
			else {
				*param_1 = uVar4 | 0x4;
			}
		}
		uVar1 = 0x1;
	}
	return uVar1;
}



void FUN_00271430(int param_1, int *param_2, int *param_3, int *param_4)

{
	undefined8 uVar1;
	int iVar2;
	int local_a0;
	int local_60[0x4];
	int local_50;
	int local_40;
	int local_30;
	int local_20;

	local_40 = *(int *)(param_1 + 0x14);
	local_30 = *param_4 - local_40;
	local_50 = *param_3 - local_40;
	local_a0 = (local_30 + 0x8000U & 0xffff) - 0x8000;
	iVar2 = (local_50 + 0x8000U & 0xffff) - 0x8000;
	if (iVar2 < local_a0) {
		local_a0 = iVar2;
	}
	*(undefined4 *)(param_1 + 0x2c) = *(undefined4 *)(param_1 + 0x24);
	if (*param_2 == 0x0) {
		*(int *)(param_1 + 0x24) = local_a0;
	}
	else {
		local_60[0] = local_a0;
		local_20 = local_40;
		uVar1 = FUN_0011bf78((float)*param_2 * DAT_00309b80, (long)(int)local_60);
		*(undefined4 *)(param_1 + 0x24) = *(undefined4 *)uVar1;
	}
	iVar2 = *(int *)(param_1 + 0x24);
	if (iVar2 < 0x0) {
		iVar2 = -iVar2;
	}
	*(int *)(param_1 + 0x24) = iVar2;
	return;
}



uint FUN_00271520(float param_1, uint *param_2, int param_3, long param_4, long param_5)

{
	uint uVar1;
	bool bVar2;
	int iVar3;
	uint uVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;

	uVar1 = *param_2;
	fVar8 = (float)*(int *)(param_3 + 0x8) * DAT_00309b80;
	if ((uVar1 & 0x8) == 0x0) {
		return 0x0;
	}
	if ((uVar1 & 0x10) != 0x0) {
		*param_2 = uVar1 & 0xfffffff9;
		return 0x0;
	}
	if ((uVar1 & 0x80) != 0x0) {
		fVar7 = (float)param_2[0xf] - (float)param_2[0x5];
		if (0.10000000 < fVar7) {
			if (param_5 == 0x0) {
				bVar2 = fVar7 < (float)param_2[0x9] * fVar8;
				*(float *)(param_2 + 0x6) = (float)param_2[0x9] * fVar8;
			LAB_002715f8:
				iVar3 = 0x1;
				if (!bVar2) goto LAB_00271610;
				*(float *)(param_2 + 0x6) = fVar7;
			}
			else {
				*(float *)(param_2 + 0x6) = fVar7;
			}
		}
		else {
			fVar7 = (float)param_2[0x10] - (float)param_2[0x5];
			param_2[0x6] = 0x0;
			if (-0.10000000 <= fVar7) {
				iVar3 = 0x0;
				goto LAB_00271610;
			}
			if (param_5 == 0x0) {
				bVar2 = -(float)param_2[0x9] * fVar8 < fVar7;
				*(float *)(param_2 + 0x6) = -(float)param_2[0x9] * fVar8;
				goto LAB_002715f8;
			}
			*(float *)(param_2 + 0x6) = fVar7;
		}
		iVar3 = 0x1;
	LAB_00271610:
		uVar1 = *param_2;
		uVar4 = uVar1 & 0xfffffffd | iVar3 << 0x1;
		*param_2 = uVar4;
		if (iVar3 == 0x0) {
			*param_2 = uVar1 & 0xfffffff9;
			*(float *)(param_2 + 0x6) = (float)param_2[0xa] * (float)param_2[0x2] * fVar8;
		}
		else {
			*param_2 = uVar4 | 0x4;
		}
		return 0x1;
	}
	if ((uVar1 & 0x100) != 0x0) {
		fVar7 = (float)param_2[0xe] * (float)param_2[0xc] +
			(float)param_2[0xd] * (1.00000000 - (float)param_2[0xc]);
		fVar6 = fVar7 - (float)param_2[0x5];
		if (0.10000000 < fVar7 - (float)param_2[0x5]) {
			if (param_5 == 0x0) {
				bVar2 = fVar6 < (float)param_2[0x9] * fVar8;
				*(float *)(param_2 + 0x6) = (float)param_2[0x9] * fVar8;
			LAB_00271710:
				iVar3 = 0x1;
				if (!bVar2) goto LAB_00271728;
				*(float *)(param_2 + 0x6) = fVar6;
			}
			else {
				*(float *)(param_2 + 0x6) = fVar6;
			}
		}
		else {
			param_2[0x6] = 0x0;
			if (-0.10000000 <= fVar6) {
				iVar3 = 0x0;
				goto LAB_00271728;
			}
			if (param_5 == 0x0) {
				bVar2 = -(float)param_2[0x9] * fVar8 < fVar6;
				*(float *)(param_2 + 0x6) = -(float)param_2[0x9] * fVar8;
				goto LAB_00271710;
			}
			*(float *)(param_2 + 0x6) = fVar6;
		}
		iVar3 = 0x1;
	LAB_00271728:
		*param_2 = *param_2 & 0xfffffffd | iVar3 << 0x1 | 0x4;
		return 0x1;
	}
	fVar7 = (float)param_2[0x1];
	uVar4 = uVar1 & 0xfffffffd | (uint)(0.00000000 < fVar7) << 0x1;
	*param_2 = uVar4;
	if (0.00000000 < fVar7) {
		uVar4 |= 0x4;
		fVar7 = fVar8 * fVar7;
	LAB_002717c8:
		*param_2 = uVar4;
	LAB_002717cc:
		uVar1 = *param_2;
	}
	else {
		fVar7 = fVar8;
		if ((uVar1 & 0x1) != 0x0) {
			if ((int)param_2[0x7] <= (int)(*(int *)(param_3 + 0x4) - param_2[0x8])) {
				uVar4 = uVar1 & 0xfffffff9 | 0x2;
				goto LAB_002717c8;
			}
			goto LAB_002717cc;
		}
		uVar1 = *param_2;
	}
	if ((uVar1 & 0x2) != 0x0) {
		param_1 = param_1 - (float)param_2[0x5];
		if (0.10000000 < param_1) {
			if (param_5 != 0x0) {
				*(float *)(param_2 + 0x6) = param_1;
				return 0x1;
			}
			bVar2 = param_1 < (float)param_2[0x9] * fVar7;
			*(float *)(param_2 + 0x6) = (float)param_2[0x9] * fVar7;
		}
		else {
			param_2[0x6] = 0x0;
			if (-0.10000000 <= param_1) {
				return 0x1;
			}
			if (param_5 != 0x0) {
				*(float *)(param_2 + 0x6) = param_1;
				return 0x1;
			}
			bVar2 = -(float)param_2[0x9] * fVar7 < param_1;
			*(float *)(param_2 + 0x6) = -(float)param_2[0x9] * fVar7;
		}
		if (!bVar2) {
			return 0x1;
		}
		*(float *)(param_2 + 0x6) = param_1;
		return 0x1;
	}
	if (ABS((float)param_2[0x2]) <= 0.00005000) {
		return 0x0;
	}
	*param_2 = uVar1 & 0xfffffff9;
	if ((uVar1 & 0x8) == 0x0) goto LAB_002719f0;
	*(float *)(param_2 + 0x6) = (float)param_2[0xa] * (float)param_2[0x2] * fVar8;
	if (param_4 != 0x0) {
		if ((uVar1 & 0x80) == 0x0) {
			fVar8 = (float)param_2[0xd];
			fVar7 = (float)param_2[0xe];
		}
		else {
			fVar8 = (float)param_2[0xf];
			fVar7 = (float)param_2[0x10];
		}
		fVar6 = (float)param_2[0x5] + (float)param_2[0x6];
		uVar1 = *param_2;
		uVar4 = (uint)(fVar6 <= fVar8) << 0x5;
		*param_2 = uVar1 & 0xffffffdf | uVar4;
		*param_2 = uVar1 & 0xffffff9f | uVar4 | (uint)(fVar7 <= fVar6) << 0x6;
		if (fVar6 <= fVar8) {
			if (fVar8 <= (float)param_2[0x5]) {
				fVar5 = fVar8 - (float)param_2[0x5];
			LAB_00271984:
				*(float *)(param_2 + 0x6) = fVar5;
			}
		}
		else {
			if ((fVar7 <= fVar6) && ((float)param_2[0x5] <= fVar7)) {
				fVar5 = fVar7 - (float)param_2[0x5];
				goto LAB_00271984;
			}
		}
		if (fVar8 == fVar7) {
			param_2[0x4] = 0x3f000000;
		}
		else {
			if ((*param_2 & 0x20) == 0x0) {
				if ((*param_2 & 0x40) == 0x0) {
					*(float *)(param_2 + 0x4) = (fVar6 - fVar8) / (fVar7 - fVar8);
				}
				else {
					param_2[0x4] = 0x3f800000;
				}
			}
			else {
				param_2[0x4] = 0x0;
			}
		}
	}
	*param_2 = *param_2 | 0x10;
LAB_002719f0:
	return (int)*param_2 >> 0x4 & 0x1;
}



undefined8 FUN_00271a10(undefined8 param_1, int param_2)

{
	int iVar1;
	bool bVar2;
	float fVar3;
	Matrix4x4 MStack176;
	undefined4 local_60;
	undefined4 local_5c;
	undefined4 local_58;
	undefined4 local_54;
	float local_50;
	undefined4 uStack76;
	undefined4 uStack72;
	undefined4 uStack68;

	bVar2 = true;
	iVar1 = *(int *)(param_2 + 0x50);
	if (iVar1 == 0x0) {
		InitIdentityMatrix(&MStack176);
	}
	else {
		if (*(char *)(iVar1 + 0x60) == '\0') {
			bVar2 = true;
			Rotate_(&MStack176, (Vector4 *)(iVar1 + 0x10));
		}
		else {
			local_60 = 0x0;
			local_5c = 0x0;
			local_54 = 0x3f800000;
			local_58 = 0x3f800000;
			uStack72 = *(undefined4 *)(iVar1 + 0x58);
			uStack68 = *(undefined4 *)(iVar1 + 0x5c);
			local_50 = (float)*(undefined8 *)(iVar1 + 0x50);
			uStack76 = 0x0;
			fVar3 = FUN_0018b590((float *)&local_50);
			bVar2 = 0.00000000 < fVar3;
			FUN_00185c10((long)(int)&MStack176, (undefined8 *)&local_60, (undefined8 *)&local_50);
		}
	}
	if (bVar2) {
		FUN_0018cfc0((long)(int)&local_60, (float *)&MStack176.zComponents);
		*(undefined4 *)(param_2 + 0x2e8) = local_60;
	}
	else {
		local_60 = *(undefined4 *)(param_2 + 0x2e8);
	}
	*(undefined4 *)param_1 = local_60;
	return param_1;
}



void FUN_00271b28(int param_1, undefined8 *param_2, undefined8 param_3, long param_4)

{
	int iVar1;
	int iVar2;
	undefined8 uVar3;
	Vector4 *pVVar4;
	int iVar5;
	float fVar6;
	float fVar7;
	int iVar8;
	float fVar9;
	int local_f0;
	Matrix4x4 MStack224;
	int local_a0[0x4];
	int local_90[0x4];
	int aiStack128[0xc];

	iVar1 = *(int *)(param_1 + 0xb8);
	iVar2 = *(int *)(param_1 + 0xbc);
	local_f0 = *(int *)(param_1 + 0x108) + *(int *)(param_1 + 0x10c);
	if ((*(ulong *)(param_1 + 0x40) & 0x200000) != 0x0) {
		local_f0 += *(int *)(param_1 + 0x3d0);
	}
	iVar8 = (*(int *)(param_1 + 0x68) + *(int *)(param_1 + 0x6c) + 0x8000U & 0xffff) - 0x8000;
	iVar5 = (local_f0 + 0x8000U & 0xffff) - 0x8000;
	fVar9 = *(float *)(param_1 + 0x158) + *(float *)(param_1 + 0x15c) + *(float *)(param_1 + 0x3b8);
	local_a0[0] = iVar8;
	local_90[0] = iVar5;
	FUN_0011bf10(0.00000000, aiStack128, 0x0);
	FUN_001839b0(&MStack224, local_a0, local_90, aiStack128);
	pVVar4 = GetPositionFromRTS(&MStack224, 0x3);
	uVar3 = *param_2;
	fVar6 = *(float *)(param_2 + 0x1);
	fVar7 = *(float *)((int)param_2 + 0xc);
	pVVar4->x = (float)uVar3;
	pVVar4->y = (float)((ulong)uVar3 >> 0x20);
	pVVar4->z = fVar6;
	pVVar4->w = fVar7;
	((Vector4 *)param_3)->x = 0.00000000;
	((Vector4 *)param_3)->y = 0.00000000;
	((Vector4 *)param_3)->z = -fVar9;
	((Vector4 *)param_3)->w = 1.00000000;
	MultiplyMatrixByVector(&MStack224, (Vector4 *)param_3, (Vector4 *)param_3);
	if ((*(ulong *)(param_1 + 0x40) & 0x2000) != 0x0) {
		((Vector4 *)param_3)->y = *(float *)(param_1 + 0x24);
	}
	if (param_4 != 0x0) {
		*(int *)(param_1 + 0x68) = iVar8;
		*(int *)(param_1 + 0xb8) = (iVar1 + iVar2 + 0x8000U & 0xffff) - 0x8000;
		*(int *)(param_1 + 0x108) = iVar5;
		*(float *)(param_1 + 0x158) = fVar9 - *(float *)(param_1 + 0x3b8);
	}
	return;
}



void FUN_00271d00(int param_1, undefined8 *param_2, float *param_3, long param_4)

{
	undefined8 uVar1;
	Vector4 *pVVar2;
	uint uVar3;
	ulong uVar4;
	int iVar5;
	Matrix4x4 *mat;
	long lVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	undefined4 uVar10;
	float local_200;
	float local_1f0;
	float local_1e0;
	float local_1d0;
	float local_1c0;
	float local_1bc;
	float local_1b8;
	float local_1b4;
	float local_1b0;
	undefined auStack416[0x40];
	int local_160;
	int local_150;
	int local_140;
	float local_130;
	float local_12c;
	float local_128;
	undefined4 local_124;
	float local_120;
	float fStack284;
	float local_118;
	undefined4 uStack276;
	float local_110;
	undefined4 local_10c;
	undefined4 local_108;
	undefined4 local_104;
	Vector4 local_100;
	float local_f0[0x4];
	float local_e0[0x4];
	undefined4 local_d0[0x10];
	float local_90[0x4];
	float local_80;
	int local_70;

	if ((*(ulong *)(param_1 + 0x40) & 0x20000) == 0x0) {
		fVar9 = *(float *)(param_1 + 0x390);
	}
	else {
		fVar9 = *(float *)(param_1 + 0x38c);
	}
	if ((1.00000000 < fVar9 * *(float *)(param_1 + 0x388)) ||
		((*(ulong *)(param_1 + 0x48) & 0x40) != 0x0)) {
		uVar4 = *(ulong *)(param_1 + 0x40);
	}
	else {
		uVar4 = *(ulong *)(param_1 + 0x40);
	}
	if ((uVar4 & 0x4000) == 0x0) {
		fVar9 = 1.00000000;
		if ((uVar4 & 0x2000) == 0x0) {
			local_100.x = *(float *)(param_1 + 0xe8);
			local_70 = param_1 + 0x144;
			local_e0[0] = *(float *)(param_1 + 0x138);
			local_200 = *(float *)(param_1 + 0x68);
			local_1f0 = *(float *)(param_1 + 0xb8);
			local_1e0 = *(float *)(param_1 + 0x108);
			local_110 = (float)((int)local_1f0 - (int)local_100.x);
			local_f0[0] = (float)((int)local_1e0 - (int)local_e0[0]);
			fVar7 = (float)((((int)local_200 - *(int *)(param_1 + 0x98)) + 0x8000U & 0xffff) - 0x8000) *
				1.00000000;
			fVar9 = (float)(((int)local_f0[0] + 0x8000U & 0xffff) - 0x8000) * 1.00000000;
			fVar8 = (float)(((int)local_110 + 0x8000U & 0xffff) - 0x8000) * 1.00000000;
			if ((byte)((uint)fVar7 >> 0x17) < 0x9e) {
				local_160 = (int)fVar7;
			}
			else {
				if ((int)fVar7 < 0x0) {
					local_160 = 0x7fffffff;
				}
				else {
					local_160 = -0x80000000;
				}
			}
			if ((byte)((uint)fVar9 >> 0x17) < 0x9e) {
				local_150 = (int)fVar9;
			}
			else {
				if ((int)fVar9 < 0x0) {
					local_150 = 0x7fffffff;
				}
				else {
					local_150 = -0x80000000;
				}
			}
			if ((byte)((uint)fVar8 >> 0x17) < 0x9e) {
				local_140 = (int)fVar8;
			}
			else {
				if ((int)fVar8 < 0x0) {
					local_140 = 0x7fffffff;
				}
				else {
					local_140 = -0x80000000;
				}
			}
			local_1d0 = (float)((*(int *)(param_1 + 0x98) + local_160 + 0x8000U & 0xffff) - 0x8000);
			local_1c0 = (float)(((int)local_100.x + local_140 + 0x8000U & 0xffff) - 0x8000);
			local_1b0 = (float)(((int)local_e0[0] + local_150 + 0x8000U & 0xffff) - 0x8000);
			fVar9 = *(float *)(param_1 + 0x188) +
				(*(float *)(param_1 + 0x158) - *(float *)(param_1 + 0x188)) * 1.00000000;
			if ((*(char *)(param_1 + 0x31) == '\0') || (param_4 != 0x0)) {
				lVar6 = (long)(int)local_90;
				local_124 = 0x3f800000;
				local_130 = (*param_3 - *(float *)(param_1 + 0x20)) * 1.00000000;
				local_12c = (param_3[0x1] - *(float *)(param_1 + 0x24)) * 1.00000000;
				local_128 = (param_3[0x2] - *(float *)(param_1 + 0x28)) * 1.00000000;
				*(float *)(param_1 + 0x20) = *(float *)(param_1 + 0x20) + local_130;
				*(float *)(param_1 + 0x24) = *(float *)(param_1 + 0x24) + local_12c;
				*(float *)(param_1 + 0x28) = *(float *)(param_1 + 0x28) + local_128;
				uStack276 = *(undefined4 *)((int)param_2 + 0xc);
				local_120 = (float)*param_2 - *(float *)(param_1 + 0x20);
				fStack284 = (float)((ulong)*param_2 >> 0x20) - *(float *)(param_1 + 0x24);
				local_118 = *(float *)(param_2 + 0x1) - *(float *)(param_1 + 0x28);
				fVar9 = SQRT(local_120 * local_120 + fStack284 * fStack284 + local_118 * local_118);
				FUN_0018cfc0(lVar6, &local_120);
				local_80 = (float)-(int)local_90[0];
				local_100.x = local_90[0];
				local_90[0] = local_80;
				FUN_0018c350((long)(int)local_d0, lVar6);
				FUN_0018ec48((long)(int)local_d0, &local_120, &local_120);
				FUN_0018d028(lVar6, (int)&local_120);
				local_1d0 = local_90[0];
				local_1b0 = local_100.x;
				local_110 = local_90[0];
				local_90[0] = local_100.x;
			}
			else {
				uVar10 = *(undefined4 *)(param_1 + 0x24);
				local_130 = local_1d0;
				local_120 = local_1b0;
				FUN_0011bf10(0.00000000, (int *)&local_110, 0x0);
				mat = (Matrix4x4 *)(&local_200 + 0x60);
				FUN_001839b0(mat, &local_130, &local_120, &local_110);
				pVVar2 = GetPositionFromRTS(mat, 0x3);
				uVar1 = *param_2;
				fVar7 = *(float *)(param_2 + 0x1);
				fVar8 = *(float *)((int)param_2 + 0xc);
				pVVar2->x = (float)uVar1;
				pVVar2->y = (float)((ulong)uVar1 >> 0x20);
				pVVar2->z = fVar7;
				pVVar2->w = fVar8;
				*(undefined4 *)(param_1 + 0x20) = 0x0;
				*(undefined4 *)(param_1 + 0x24) = 0x0;
				*(float *)(param_1 + 0x28) = -fVar9;
				*(undefined4 *)(param_1 + 0x2c) = 0x3f800000;
				MultiplyMatrixByVector(mat, (Vector4 *)(param_1 + 0x20), (Vector4 *)(param_1 + 0x20));
				if ((*(ulong *)(param_1 + 0x40) & 0x2000) != 0x0) {
					*(undefined4 *)(param_1 + 0x24) = uVar10;
				}
			}
			FUN_00270398(DAT(0x003bdb30));
			local_130 = 0.00000000;
			local_12c = 0.00000000;
			local_124 = 0x3f800000;
			local_108 = 0x0;
			local_10c = 0x0;
			uStack276 = DAT_003bdb3c;
			local_110 = 0.00000000;
			local_104 = 0x3f800000;
			local_120 = (float)DAT_003bdb30 + 0.00000000;
			fStack284 = (float)((ulong)DAT_003bdb30 >> 0x20) + 0.00000000;
			local_118 = DAT_003bdb38 + fVar9;
			local_128 = fVar9;
			uVar3 = FUN_0018e608(0.00100000, &local_120, &local_130, 0x0);
			if (uVar3 == 0x0) {
				FUN_00187d78(&local_110, (undefined8 *)&local_130, (undefined8 *)&local_120);
				local_d0[0] = *(undefined4 *)(param_1 + 0x3c8);
			}
			else {
				local_d0[0] = *(undefined4 *)(param_1 + 0x3c8);
			}
			local_f0[0] = local_1d0;
			local_e0[0] = local_1b0;
			iVar5 = param_1 + 0x10;
			GetRotationXYZ(&local_100, local_f0, local_e0, local_d0);
			FUN_0018dce8(&local_100, &local_100, &local_110);
			FUN_00187890(*(undefined4 *)(param_1 + 0x394), iVar5, iVar5, &local_100);
			(**(code **)(*(int *)(param_1 + 0x34) + 0x3c))
				(param_1 + *(short *)(*(int *)(param_1 + 0x34) + 0x38), param_1 + 0x20, iVar5);
			*(float *)(param_1 + 0x138) = local_1b0;
			*(float *)(param_1 + 0xe8) = local_1c0;
			*(float *)(param_1 + 0x98) = local_1d0;
			*(float *)(local_70 + 0x44) = fVar9;
		}
		else {
			local_1c0 = 0.00000000;
			local_1bc = 1.00000000;
			local_1b8 = 0.00000000;
			local_1b4 = 1.00000000;
			FUN_00185df8((float *)&local_200, (float *)(param_1 + 0x20), param_2,
				(long)(int)(&local_200 + 0x40));
			FUN_00187090((Vector4 *)(param_1 + 0x10), (TransformedGeometyPoint *)&local_200);
			fVar8 = param_3[0x2];
			fVar7 = param_3[0x1];
			*(float *)(param_1 + 0x20) =
				*(float *)(param_1 + 0x20) + (*param_3 - *(float *)(param_1 + 0x20)) * fVar9;
			*(float *)(param_1 + 0x24) =
				*(float *)(param_1 + 0x24) + (fVar7 - *(float *)(param_1 + 0x24)) * fVar9;
			*(float *)(param_1 + 0x28) =
				*(float *)(param_1 + 0x28) + (fVar8 - *(float *)(param_1 + 0x28)) * fVar9;
		}
	}
	else {
		local_1c0 = 0.00000000;
		local_1bc = 1.00000000;
		local_1b8 = 0.00000000;
		local_1b4 = 1.00000000;
		FUN_00185df8((float *)&local_200, (float *)(param_1 + 0x20), param_2,
			(long)(int)(&local_200 + 0x40));
		FUN_00187090((Vector4 *)(param_1 + 0x10), (TransformedGeometyPoint *)&local_200);
	}
	return;
}



ulong FUN_00272350(int param_1, undefined8 *param_2, float *param_3, int param_4)

{
	bool bVar1;
	int iVar2;
	ulong uVar3;
	ulong uVar4;
	byte bVar5;
	float *pfVar6;
	float *pfVar7;
	float *pfVar8;
	float *pfVar9;
	float *pfVar10;
	float *pfVar11;
	uint uVar12;
	Vector4 *vecTarget;
	Vector4 *vecTarget_00;
	Vector4 *vecTarget_01;
	Vector4 *vecTarget_02;
	ulong uVar13;
	uint uVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	float fVar19;
	Vector4 local_140;
	float local_130[0x4];
	float local_120[0x4];
	Matrix4x4 local_110;
	Matrix4x4 local_d0;
	float local_90;
	float fStack140;
	float local_88;
	float local_84;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 uStack116;
	int local_70;
	int local_6c;

	uVar14 = 0x0;
	uVar13 = 0x0;
	local_140.w = *(float *)((int)param_2 + 0xc);
	local_6c = 0x0;
	local_140.x = (float)*param_2 - *param_3;
	local_140.y = (float)((ulong)*param_2 >> 0x20) - param_3[0x1];
	fVar19 = *(float *)(param_1 + 0x64);
	local_140.z = *(float *)(param_2 + 0x1) - param_3[0x2];
	local_70 = param_4;
	fVar15 = RSQRT(0.00000000, &local_140);
	local_140.x = local_140.x * fVar15;
	local_140.y = local_140.y * fVar15;
	local_140.z = local_140.z * fVar15;
	local_110.xComponents.y = local_140.z * 0.00000000 - local_140.x * 0.00000000;
	local_110.xComponents.z = local_140.x * 1.00000000 - local_140.y * 0.00000000;
	local_84 = 1.00000000;
	local_110.xComponents.x = local_140.y * 0.00000000 - local_140.z * 1.00000000;
	local_110.zComponents.w = local_140.w;
	local_110.xComponents.w = 1.00000000;
	local_d0.yComponents.y =
		local_110.xComponents.z * local_140.x - local_110.xComponents.x * local_140.z;
	local_d0.yComponents.z =
		local_110.xComponents.x * local_140.y - local_110.xComponents.y * local_140.x;
	local_d0.yComponents.x =
		local_110.xComponents.y * local_140.z - local_110.xComponents.z * local_140.y;
	local_110.yComponents.w = 1.00000000;
	local_110.yComponents.x = local_d0.yComponents.x;
	local_110.yComponents.y = local_d0.yComponents.y;
	local_110.yComponents.z = local_d0.yComponents.z;
	local_110.zComponents.x = local_140.x;
	local_110.zComponents.y = local_140.y;
	local_110.zComponents.z = local_140.z;
	local_90 = local_110.xComponents.x;
	fStack140 = local_110.xComponents.y;
	local_88 = local_110.xComponents.z;
	if ((*(ulong *)(param_1 + 0x40) & 0x4) == 0x0) {
		local_110.wComponents.x =
			*(float *)(param_1 + 0x220) +
			(*(float *)(param_1 + 0x230) - *(float *)(param_1 + 0x220)) * fVar19;
		local_110.wComponents.y =
			*(float *)(param_1 + 0x224) +
			(*(float *)(param_1 + 0x234) - *(float *)(param_1 + 0x224)) * fVar19;
		local_110.wComponents.w = 1.00000000;
		local_110.wComponents.z =
			*(float *)(param_1 + 0x228) +
			(*(float *)(param_1 + 0x238) - *(float *)(param_1 + 0x228)) * fVar19;
		FUN_0018ec48((long)(int)&local_110, (undefined4 *)&local_110.wComponents,
			(undefined4 *)&local_110.wComponents);
		iVar2 = *(int *)(param_1 + 0x50);
		local_80 = *(float *)(iVar2 + 0x40);
		local_78 = *(float *)(iVar2 + 0x48);
		uStack116 = *(undefined4 *)(iVar2 + 0x4c);
		fStack124 = *(float *)(iVar2 + 0x44) + 1.00000000;
		local_110.wComponents.x = local_110.wComponents.x + local_80;
		local_110.wComponents.y = local_110.wComponents.y + fStack124;
		local_110.wComponents.z = local_110.wComponents.z + local_78;
	}
	else {
		local_110.wComponents.z = *(float *)(param_2 + 0x1);
		local_110.wComponents.w = *(float *)((int)param_2 + 0xc);
		local_110.wComponents.x = (float)*param_2;
		local_110.wComponents.y = (float)((ulong)*param_2 >> 0x20);
	}
	local_d0.yComponents.w = 1.00000000;
	local_d0.zComponents.x = local_140.x;
	local_d0.zComponents.y = local_140.y;
	local_d0.zComponents.z = local_140.z;
	local_d0.zComponents.w = local_140.w;
	local_d0.xComponents.x = local_90;
	local_d0.xComponents.y = fStack140;
	local_d0.xComponents.z = local_88;
	local_d0.xComponents.w = local_84;
	local_d0.wComponents.x =
		*(float *)(param_1 + 0x240) +
		(*(float *)(param_1 + 0x250) - *(float *)(param_1 + 0x240)) * fVar19;
	local_d0.wComponents.y =
		*(float *)(param_1 + 0x244) +
		(*(float *)(param_1 + 0x254) - *(float *)(param_1 + 0x244)) * fVar19;
	local_d0.wComponents.w = 1.00000000;
	local_d0.wComponents.z =
		*(float *)(param_1 + 0x248) +
		(*(float *)(param_1 + 0x258) - *(float *)(param_1 + 0x248)) * fVar19;
	FUN_0018ec48((long)(int)&local_d0, (undefined4 *)&local_d0.wComponents,
		(undefined4 *)&local_d0.wComponents);
	uVar12 = 0x0;
	pfVar11 = local_120;
	local_d0.wComponents.x = local_d0.wComponents.x + *param_3;
	pfVar10 = (float *)(param_1 + 0x208);
	pfVar9 = (float *)(param_1 + 0x1e8);
	pfVar8 = local_130;
	pfVar7 = (float *)(param_1 + 0x1f8);
	pfVar6 = (float *)(param_1 + 0x1d8);
	local_d0.wComponents.y = local_d0.wComponents.y + param_3[0x1];
	local_d0.wComponents.z = local_d0.wComponents.z + param_3[0x2];
	do {
		fVar17 = *pfVar6;
		uVar12 += 0x1;
		fVar15 = *pfVar7;
		pfVar6 = pfVar6 + 0x1;
		fVar18 = *pfVar9;
		fVar16 = *pfVar10;
		pfVar10 = pfVar10 + 0x1;
		pfVar9 = pfVar9 + 0x1;
		pfVar7 = pfVar7 + 0x1;
		*pfVar8 = fVar15 * fVar19 + fVar17 * (1.00000000 - fVar19);
		pfVar8 = pfVar8 + 0x1;
		*pfVar11 = fVar16 * fVar19 + fVar18 * (1.00000000 - fVar19);
		pfVar11 = pfVar11 + 0x1;
	} while (uVar12 < 0x4);
	if ((*(int *)(param_1 + 0x54) >> 0x3 & 0x1U) == 0x0) {
	LAB_0027292c:
		iVar2 = *(int *)(param_1 + 0xf4);
	}
	else {
		vecTarget_02 = (Vector4 *)(param_1 + 0x260);
		vecTarget = (Vector4 *)(param_1 + 0x270);
		*(undefined4 *)(param_1 + 0x260) = 0x0;
		vecTarget_01 = (Vector4 *)(param_1 + 0x2a0);
		*(undefined4 *)(param_1 + 0x26c) = 0x3f800000;
		vecTarget_00 = (Vector4 *)(param_1 + 0x2b0);
		*(float *)(param_1 + 0x264) = local_130[0];
		*(undefined4 *)(param_1 + 0x268) = 0x0;
		*(undefined4 *)(param_1 + 0x270) = 0x0;
		*(undefined4 *)(param_1 + 0x27c) = 0x3f800000;
		*(undefined4 *)(param_1 + 0x278) = 0x0;
		*(undefined4 *)(param_1 + 0x274) = local_130[1];
		*(undefined4 *)(param_1 + 0x2a0) = 0x0;
		*(undefined4 *)(param_1 + 0x2ac) = 0x3f800000;
		*(undefined4 *)(param_1 + 0x2a8) = 0x0;
		*(float *)(param_1 + 0x2a4) = local_120[0];
		*(undefined4 *)(param_1 + 0x2b0) = 0x0;
		*(undefined4 *)(param_1 + 0x2b8) = 0x0;
		*(undefined4 *)(param_1 + 0x2b4) = local_120[1];
		*(undefined4 *)(param_1 + 0x2bc) = 0x3f800000;
		MultiplyMatrixByVector(&local_110, vecTarget_02, vecTarget_02);
		MultiplyMatrixByVector(&local_110, vecTarget, vecTarget);
		MultiplyMatrixByVector(&local_d0, vecTarget_01, vecTarget_01);
		MultiplyMatrixByVector(&local_d0, vecTarget_00, vecTarget_00);
		if ((*(ulong *)(param_1 + 0x40) & 0x180000000000) == 0x0) {
			iVar2 = FUN_0027c450(param_1, (undefined8 *)vecTarget_01, (undefined8 *)vecTarget_02);
			uVar13 = (ulong)(iVar2 != 0x0);
			uVar3 = *(ulong *)(param_1 + 0x40);
			uVar4 = ((uVar3 >> 0x2b & 0x3) + 0x1 & 0x3) << 0x2b;
			*(ulong *)(param_1 + 0x40) = uVar3 & 0xffffe7ffffffffff | uVar4;
			uVar14 = 0x1;
			if (local_70 != 0x0) {
				*(ulong *)(param_1 + 0x40) = uVar3 & 0xffffe5ffffffffff | uVar4 | uVar13 << 0x29;
			}
		}
		else {
			uVar14 = 0x0;
			uVar13 = 0x0;
			if ((*(ulong *)(param_1 + 0x40) & 0x20000000000) != 0x0) {
				uVar13 = 0x1;
			}
		}
		if (*(float *)(param_1 + 0x274) <= *(float *)(param_1 + 0x3c4)) {
			local_6c = 0x1;
			goto LAB_0027292c;
		}
		if ((uVar14 < 0x4) && ((*(ulong *)(param_1 + 0x40) & 0x180000000000) == 0x80000000000)) {
			iVar2 = FUN_0027c450(param_1, (undefined8 *)vecTarget_00, (undefined8 *)vecTarget);
			if (iVar2 != 0x0) {
				uVar13 |= 0x2;
			}
			uVar4 = *(ulong *)(param_1 + 0x40);
			uVar14 = (int)((uVar14 + 0x1) * 0x1000000) >> 0x18;
			uVar3 = ((uVar4 >> 0x2b & 0x3) + 0x1 & 0x3) << 0x2b;
			*(ulong *)(param_1 + 0x40) = uVar4 & 0xffffe7ffffffffff | uVar3;
			if (local_70 != 0x0) {
				*(ulong *)(param_1 + 0x40) =
					uVar4 & 0xffffe3ffffffffff | uVar3 | (long)(int)((uint)uVar13 >> 0x1) << 0x2a;
			}
			goto LAB_0027292c;
		}
		if ((*(ulong *)(param_1 + 0x40) & 0x40000000000) != 0x0) {
			uVar13 |= 0x2;
			goto LAB_0027292c;
		}
		iVar2 = *(int *)(param_1 + 0xf4);
	}
	if ((iVar2 >> 0x3 & 0x1U) != 0x0) {
		vecTarget_02 = (Vector4 *)(param_1 + 0x280);
		vecTarget = (Vector4 *)(param_1 + 0x290);
		*(undefined4 *)(param_1 + 0x280) = local_130[2];
		vecTarget_01 = (Vector4 *)(param_1 + 0x2c0);
		*(undefined4 *)(param_1 + 0x28c) = 0x3f800000;
		vecTarget_00 = (Vector4 *)(param_1 + 0x2d0);
		*(undefined4 *)(param_1 + 0x284) = 0x0;
		*(undefined4 *)(param_1 + 0x288) = 0x0;
		*(undefined4 *)(param_1 + 0x290) = local_130[3];
		*(undefined4 *)(param_1 + 0x29c) = 0x3f800000;
		*(undefined4 *)(param_1 + 0x294) = 0x0;
		*(undefined4 *)(param_1 + 0x298) = 0x0;
		*(undefined4 *)(param_1 + 0x2c0) = local_120[2];
		*(undefined4 *)(param_1 + 0x2c8) = 0xbed70a3d;
		*(undefined4 *)(param_1 + 0x2cc) = 0x3f800000;
		*(undefined4 *)(param_1 + 0x2c4) = 0x0;
		*(undefined4 *)(param_1 + 0x2d0) = local_120[3];
		*(undefined4 *)(param_1 + 0x2d4) = 0x0;
		*(undefined4 *)(param_1 + 0x2d8) = 0xbed70a3d;
		*(undefined4 *)(param_1 + 0x2dc) = 0x3f800000;
		MultiplyMatrixByVector(&local_110, vecTarget_02, vecTarget_02);
		MultiplyMatrixByVector(&local_110, vecTarget, vecTarget);
		MultiplyMatrixByVector(&local_d0, vecTarget_01, vecTarget_01);
		MultiplyMatrixByVector(&local_d0, vecTarget_00, vecTarget_00);
		uVar3 = *(ulong *)(param_1 + 0x40);
		if (uVar14 < 0x4) {
			if ((uVar3 & 0x180000000000) != 0x100000000000) {
				uVar3 = *(ulong *)(param_1 + 0x40);
				goto LAB_00272ab0;
			}
			iVar2 = FUN_0027c450(param_1, (undefined8 *)vecTarget_01, (undefined8 *)vecTarget_02);
			if (iVar2 != 0x0) {
				uVar13 |= 0x4;
			}
			uVar4 = *(ulong *)(param_1 + 0x40);
			uVar14 = (int)((uVar14 + 0x1) * 0x1000000) >> 0x18;
			uVar3 = ((uVar4 >> 0x2b & 0x3) + 0x1 & 0x3) << 0x2b;
			*(ulong *)(param_1 + 0x40) = uVar4 & 0xffffe7ffffffffff | uVar3;
			if (local_70 != 0x0) {
				*(ulong *)(param_1 + 0x40) =
					uVar4 & 0xffffe77fffffffff | uVar3 | (long)(int)((uint)uVar13 >> 0x2) << 0x27;
			}
		}
		else {
		LAB_00272ab0:
			if ((uVar3 & 0x8000000000) != 0x0) {
				uVar13 |= 0x4;
			}
		}
		if ((uVar14 < 0x4) && ((*(ulong *)(param_1 + 0x40) & 0x180000000000) == 0x180000000000)) {
			iVar2 = FUN_0027c450(param_1, (undefined8 *)vecTarget_00, (undefined8 *)vecTarget);
			if (iVar2 != 0x0) {
				uVar13 |= 0x8;
			}
			uVar3 = *(ulong *)(param_1 + 0x40);
			*(ulong *)(param_1 + 0x40) = uVar3 & 0xffffe7ffffffffff;
			if (local_70 != 0x0) {
				*(ulong *)(param_1 + 0x40) =
					uVar3 & 0xffffe6ffffffffff | (long)(int)((uint)uVar13 >> 0x3) << 0x28;
			}
		}
		else {
			if ((*(ulong *)(param_1 + 0x40) & 0x10000000000) != 0x0) {
				uVar13 |= 0x8;
			}
		}
	}
	uVar3 = uVar13 & 0x3;
	if ((*(int *)(param_1 + 0x144) >> 0x3 & 0x1U) != 0x0) {
		bVar1 = (uVar13 & 0xc) != 0xc;
		if ((bVar1) || (uVar3 != 0x0)) {
			if (uVar3 != 0x3) {
				if (bVar1) {
					uVar4 = *(ulong *)(param_1 + 0x40);
					goto LAB_00272bbc;
				}
				uVar13 |= 0x20;
			}
			else {
				uVar13 |= 0x20;
			}
		LAB_00272bb8:
			uVar4 = *(ulong *)(param_1 + 0x40);
		}
		else {
			if (local_6c == 0x0) {
				uVar13 |= 0x22;
				goto LAB_00272bb8;
			}
			uVar4 = *(ulong *)(param_1 + 0x40);
		}
	LAB_00272bbc:
		if ((uVar4 & 0x8) == 0x0) {
			bVar5 = *(byte *)(param_1 + 0x1d4);
			goto LAB_00272c04;
		}
		if (uVar13 == 0x0) {
			bVar5 = *(byte *)(param_1 + 0x1d4);
			goto LAB_00272c04;
		}
		if (uVar3 == 0x3) {
			bVar5 = *(byte *)(param_1 + 0x1d4);
			goto LAB_00272c04;
		}
		if (!bVar1) {
			bVar5 = *(byte *)(param_1 + 0x1d4);
			goto LAB_00272c04;
		}
		uVar13 |= 0x40;
	}
	bVar5 = *(byte *)(param_1 + 0x1d4);
LAB_00272c04:
	*(byte *)(param_1 + 0x1d4) = (byte)uVar13 | bVar5;
	return uVar13;
}



ulong FUN_00272c48(int param_1, undefined8 *param_2, int *param_3, int *param_4, undefined4 *param_5,
	int param_6)

{
	ulong uVar1;
	float afStack128[0x10];

	if (((*(uint *)(param_1 + 0x44) & 0xff ^ 0x1) & 0x1) == 0x0) {
		uVar1 = 0x0;
		*param_3 = 0x0;
		*param_4 = 0x0;
		*param_5 = 0x0;
	}
	else {
		FUN_00271b28(param_1, param_2, (long)(int)afStack128, 0x0);
		uVar1 = FUN_00272350(param_1, param_2, afStack128, param_6);
		if ((uVar1 & 0x4) == 0x0) {
			if ((uVar1 & 0x8) == 0x0) {
				*param_4 = 0x0;
			}
			else {
				*param_4 = *(int *)(param_1 + 0x1d0);
			}
		}
		else {
			if ((uVar1 & 0x8) == 0x0) {
				*param_4 = -*(int *)(param_1 + 0x1d0);
			}
			else {
				*param_4 = 0x0;
			}
		}
		if ((uVar1 & 0x1) == 0x0) {
			if ((uVar1 & 0x2) == 0x0) {
				*param_3 = 0x0;
			}
			else {
				*param_3 = *(int *)(param_1 + 0x1cc);
			}
		}
		else {
			if ((uVar1 & 0x2) == 0x0) {
				*param_3 = -*(int *)(param_1 + 0x1cc);
			}
			else {
				*param_3 = 0x0;
			}
		}
		*param_5 = 0x0;
		if ((uVar1 & 0x40) != 0x0) {
			*param_5 = 0xc1a00000;
		}
	}
	return uVar1;
}



ulong FUN_00272d98(int param_1, int param_2, undefined8 *param_3)

{
	uint uVar1;
	ulong uVar2;
	uint uVar3;
	uint *puVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	int local_70[0x4];
	int local_60[0x4];
	int local_50[0x4];
	float local_40[0x4];

	uVar2 = FUN_00272c48(param_1, param_3, local_70, local_60, local_40, 0x1);
	fVar8 = (float)*(int *)(param_2 + 0x8) * DAT_00309b80;
	if ((uVar2 & 0xc) != 0x0) {
		if (*(int *)(param_1 + 0x10c) != 0x0) {
			local_60[0] = 0x0;
		}
		local_50[0] = local_60[0];
		FUN_00271070(fVar8, (uint *)(param_1 + 0xf4), local_50, 0x0);
	}
	if ((uVar2 & 0x3) != 0x0) {
		if (*(int *)(param_1 + 0x6c) != 0x0) {
			local_70[0] = 0x0;
		}
		local_50[0] = local_70[0];
		FUN_00271070(fVar8, (uint *)(param_1 + 0x54), local_50, 0x0);
	}
	puVar4 = (uint *)(param_1 + 0x144);
	if ((uVar2 & 0x40) == 0x0) {
		if ((uVar2 & 0x30) == 0x0) {
			return uVar2;
		}
		if (0.00005000 < ABS(*(float *)(param_1 + 0x15c))) {
			local_40[0] = 0.00000000;
		}
		if ((*(uint *)(param_1 + 0x144) & 0x8) == 0x0) {
			return uVar2;
		}
		*(float *)(param_1 + 0x15c) = local_40[0] * fVar8;
		*(uint *)(param_1 + 0x144) = *(uint *)(param_1 + 0x144) | 0x10;
		return uVar2;
	}
	if ((*(uint *)(param_1 + 0x144) & 0x8) == 0x0) {
		return uVar2;
	}
	fVar5 = *(float *)(param_1 + 0x178);
	fVar7 = *(float *)(param_1 + 0x17c);
	fVar6 = *(float *)(param_1 + 0x158) + local_40[0] * fVar8;
	*(float *)(param_1 + 0x15c) = local_40[0] * fVar8;
	uVar1 = *(uint *)(param_1 + 0x144);
	uVar3 = (uint)(fVar6 <= fVar5) << 0x5;
	*(uint *)(param_1 + 0x144) = uVar1 & 0xffffffdf | uVar3;
	*(uint *)(param_1 + 0x144) = uVar1 & 0xffffff9f | uVar3 | (uint)(fVar7 <= fVar6) << 0x6;
	if (fVar6 <= fVar5) {
		if (*(float *)(param_1 + 0x158) < fVar5) goto LAB_00272f1c;
		fVar8 = fVar5 - *(float *)(param_1 + 0x158);
	}
	else {
		if ((fVar7 > fVar6) || (fVar7 < *(float *)(param_1 + 0x158))) goto LAB_00272f1c;
		fVar8 = fVar7 - *(float *)(param_1 + 0x158);
	}
	*(float *)(param_1 + 0x15c) = fVar8;
LAB_00272f1c:
	if (fVar5 == fVar7) {
		*(undefined4 *)(param_1 + 0x154) = 0x3f000000;
	}
	else {
		if ((*puVar4 & 0x20) == 0x0) {
			if ((*puVar4 & 0x40) == 0x0) {
				*(float *)(param_1 + 0x154) = (fVar6 - fVar5) / (fVar7 - fVar5);
			}
			else {
				*(undefined4 *)(param_1 + 0x154) = 0x3f800000;
			}
		}
		else {
			*(undefined4 *)(param_1 + 0x154) = 0x0;
		}
	}
	*puVar4 = *puVar4 | 0x10;
	return uVar2;
}



ulong FUN_00273010(int param_1, uint param_2)

{
	bool bVar1;
	uint uVar2;
	ulong uVar3;
	uint uVar4;
	uint *puVar5;
	ulong uVar6;
	long lVar7;
	int iVar8;
	int iVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float local_100;
	float fStack252;
	float local_f8;
	undefined4 uStack244;
	float local_f0[0x4];
	float local_e0[0x4];
	undefined auStack208[0x40];
	float local_90;
	float fStack140;
	float local_88;
	undefined4 uStack132;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;
	float local_70[0x4];
	float local_60[0x4];
	int local_50[0x4];

	*(uint *)(param_1 + 0x144) = *(uint *)(param_1 + 0x144) & 0xfffffeff;
	if ((*(ulong *)(param_1 + 0x40) & 0x1) == 0x0) {
		if (((*(ulong *)(param_1 + 0x48) & 0x200) != 0x0) &&
			(*(int *)(param_1 + 0x1c4) <= *(int *)(param_2 + 0x4) - *(int *)(param_1 + 0x1c0))) {
			FUN_0027c608(param_1);
		}
		FUN_0027c5d8(param_1);
		FUN_0011bf10(0.00000000, (int *)&local_100, 0x1);
		if ((*(ulong *)(param_1 + 0x40) & 0x100) != 0x0) {
			local_f0[0] = *(float *)(param_1 + 0x8c);
			local_100 = DAT_0030a9d8;
			if (((int)local_f0[0] < (int)DAT_0030a9d8) ||
				(local_f0[0] = *(float *)(param_1 + 0x88), (int)DAT_0030a9d8 < (int)local_f0[0])) {
				local_100 = local_f0[0];
			}
		}
		FUN_00271a10((long)(int)local_f0, param_1);
		local_e0[0] = local_100;
		uVar2 = FUN_00271128((uint *)(param_1 + 0x54), param_2, (uint *)local_e0, 0x1,
			*(ulong *)(param_1 + 0x48) >> 0x6 & 0x1);
		local_e0[0] = local_f0[0];
		uVar4 = FUN_00271128((uint *)(param_1 + 0xf4), param_2, (uint *)local_e0, 0x0,
			*(ulong *)(param_1 + 0x48) >> 0x6 & 0x1);
		uVar6 = (ulong)(uVar2 != 0x0 || uVar4 != 0x0);
		if ((*(ulong *)(param_1 + 0x40) & 0x2) != 0x0) {
			*(uint *)(param_1 + 0x144) = *(uint *)(param_1 + 0x144) | 0x100;
			*(undefined4 *)(param_1 + 0x174) = *(undefined4 *)(param_1 + 0x64);
		}
		uVar2 = FUN_00271520(10.00000000, (uint *)(param_1 + 0x144), param_2, 0x1,
			*(ulong *)(param_1 + 0x48) >> 0x6 & 0x1);
		uVar3 = (ulong)(uVar2 != 0x0);
	}
	else {
		iVar8 = *(int *)(param_1 + 0x50);
		uVar6 = *(ulong *)(param_1 + 0x48);
		local_100 = *(float *)(iVar8 + 0x20);
		fStack252 = *(float *)(iVar8 + 0x24);
		local_f8 = *(float *)(iVar8 + 0x28);
		uStack244 = *(undefined4 *)(iVar8 + 0x2c);
		fVar12 = (float)*(int *)(param_2 + 0x8) * DAT_00309b80;
		if ((uVar6 & 0x2) == 0x0) {
			fVar12 = 1.00000000;
			goto LAB_002731c8;
		}
		iVar8 = *(int *)(param_1 + 0x1c4);
		local_50[0] = *(int *)(param_2 + 0x4) - *(int *)(param_1 + 0x1c0);
		if (local_50[0] < iVar8) {
			uVar3 = uVar6 >> 0x2 & 0x7;
			if (uVar3 == 0x0) {
				if ((uVar6 & 0x800) != 0x0) {
					if ((uVar6 & 0x40) == 0x0) {
						fVar13 = (float)iVar8 * DAT_00309b80;
						fVar12 = FUN_0025a160(local_50);
						fVar12 = (fVar12 / fVar13) * DAT_00309b7c;
						if ((byte)((uint)fVar12 >> 0x17) < 0x9e) {
							iVar8 = (int)fVar12;
						}
						else {
							if ((int)fVar12 < 0x0) {
								iVar8 = 0x7fffffff;
							}
							else {
								iVar8 = -0x80000000;
							}
						}
						fVar12 = (float)iVar8 * DAT_00309b80;
					}
					else {
						fVar12 = 1.00000000;
						*(undefined4 *)(param_1 + 0x1b0) = *(undefined4 *)(param_1 + 0x1a0);
						*(undefined4 *)(param_1 + 0x1b4) = *(undefined4 *)(param_1 + 0x1a4);
						*(undefined4 *)(param_1 + 0x1b8) = *(undefined4 *)(param_1 + 0x1a8);
						*(undefined4 *)(param_1 + 0x1bc) = *(undefined4 *)(param_1 + 0x1ac);
					}
					goto LAB_002731c8;
				}
				fVar12 = fVar12 / ((float)(iVar8 - local_50[0]) * DAT_00309b80);
				uVar6 = *(ulong *)(param_1 + 0x48);
			}
			else {
				if (uVar3 == 0x2) {
					fVar12 = ((float)local_50[0] * DAT_00309b80) / ((float)iVar8 * DAT_00309b80);
					fVar12 = fVar12 * fVar12 * fVar12;
				LAB_002731c8:
					uVar6 = *(ulong *)(param_1 + 0x48);
				}
				else {
					uVar6 = *(ulong *)(param_1 + 0x48);
				}
			}
		}
		else {
			fVar12 = 1.00000000;
			FUN_0027c608(param_1);
			uVar6 = *(ulong *)(param_1 + 0x48);
		}
		if ((uVar6 & 0x800) == 0x0) {
			fVar13 = *(float *)(param_1 + 0x1a0);
			fVar10 = *(float *)(param_1 + 0x1a4);
			fVar11 = *(float *)(param_1 + 0x1a8);
		}
		else {
			fStack124 = *(float *)(param_1 + 0x1a4) - *(float *)(param_1 + 0x1b4);
			local_78 = *(float *)(param_1 + 0x1a8) - *(float *)(param_1 + 0x1b8);
			local_80 = *(float *)(param_1 + 0x1a0) - *(float *)(param_1 + 0x1b0);
			local_74 = 0x3f800000;
			uStack132 = 0x3f800000;
			local_90 = local_80 * fVar12 + *(float *)(param_1 + 0x1b0);
			fStack140 = fStack124 * fVar12 + *(float *)(param_1 + 0x1b4);
			local_88 = local_78 * fVar12 + *(float *)(param_1 + 0x1b8);
			fVar13 = local_90;
			fVar10 = fStack140;
			fVar11 = local_88;
		}
		local_f8 = local_f8 - fVar11;
		fStack252 = fStack252 - fVar10;
		local_100 = local_100 - fVar13;
		lVar7 = (long)(int)&local_90;
		fVar13 = SQRT(local_100 * local_100 + fStack252 * fStack252 + local_f8 * local_f8);
		FUN_0018cfc0(lVar7, &local_100);
		local_80 = (float)-(int)local_90;
		local_e0[0] = local_90;
		local_90 = local_80;
		FUN_0018c350((long)(int)auStack208, lVar7);
		FUN_0018ec48((long)(int)auStack208, &local_100, &local_100);
		FUN_0018d028(lVar7, (int)&local_100);
		local_f0[0] = local_90;
		if ((*(ulong *)(param_1 + 0x48) & 0x40) != 0x0) {
			uVar6 = 0x1;
			*(float *)(param_1 + 0x68) = local_90;
			*(float *)(param_1 + 0x108) = local_e0[0];
			*(float *)(param_1 + 0x158) = fVar13;
			local_90 = local_e0[0];
			local_80 = local_e0[0];
			goto LAB_002736d8;
		}
		uVar6 = 0x0;
		if ((*(ulong *)(param_1 + 0x48) & 0x800) != 0x0) {
			*(float *)(param_1 + 0x68) = local_90;
			*(float *)(param_1 + 0x108) = local_e0[0];
			local_90 = local_e0[0];
			local_80 = local_e0[0];
			*(float *)(param_1 + 0x158) = fVar13;
			FUN_0011bf10(0.00000000, (int *)(param_1 + 0x6c), 0x0);
			FUN_0011bf10(0.00000000, (int *)(param_1 + 0x10c), 0x0);
			*(undefined4 *)(param_1 + 0x15c) = 0x0;
			goto LAB_002736d8;
		}
		if ((*(uint *)(param_1 + 0x54) & 0x8) != 0x0) {
			local_60[0] = local_90;
			local_70[0] = local_90;
			fVar10 = (float)((((int)local_90 - *(int *)(param_1 + 0x68)) - 0x8000U & 0xffff) - 0x8000) *
				fVar12;
			if ((byte)((uint)fVar10 >> 0x17) < 0x9e) {
				iVar8 = (int)fVar10;
			}
			else {
				if ((int)fVar10 < 0x0) {
					iVar8 = 0x7fffffff;
				}
				else {
					iVar8 = -0x80000000;
				}
			}
			*(int *)(param_1 + 0x6c) = iVar8;
			FUN_00270bb8((uint *)(param_1 + 0x54), (int *)local_70, (int *)local_60);
			*(uint *)(param_1 + 0x54) = *(uint *)(param_1 + 0x54) | 0x10;
		}
		iVar8 = *(int *)(param_1 + 0x54);
		local_90 = local_e0[0];
		if ((*(uint *)(param_1 + 0xf4) & 0x8) != 0x0) {
			local_70[0] = local_e0[0];
			local_80 = local_e0[0];
			fVar10 = (float)((((int)local_e0[0] - *(int *)(param_1 + 0x108)) - 0x8000U & 0xffff) - 0x8000)
				* fVar12;
			if ((byte)((uint)fVar10 >> 0x17) < 0x9e) {
				iVar9 = (int)fVar10;
			}
			else {
				if ((int)fVar10 < 0x0) {
					iVar9 = 0x7fffffff;
				}
				else {
					iVar9 = -0x80000000;
				}
			}
			*(int *)(param_1 + 0x10c) = iVar9;
			FUN_00270bb8((uint *)(param_1 + 0xf4), (int *)&local_80, (int *)local_70);
			*(uint *)(param_1 + 0xf4) = *(uint *)(param_1 + 0xf4) | 0x10;
		}
		puVar5 = (uint *)(param_1 + 0x144);
		uVar6 = (long)(iVar8 >> 0x4) & 0x1U | (long)(*(int *)(param_1 + 0xf4) >> 0x4) & 0x1U;
		if ((*(uint *)(param_1 + 0x144) & 0x8) != 0x0) {
			fVar12 = (fVar13 - *(float *)(param_1 + 0x158)) * fVar12;
			fVar10 = *(float *)(param_1 + 0x158) + fVar12;
			*(float *)(param_1 + 0x15c) = fVar12;
			uVar2 = *(uint *)(param_1 + 0x144);
			uVar4 = (uint)(fVar10 <= fVar13) << 0x5;
			*(uint *)(param_1 + 0x144) = uVar2 & 0xffffffdf | uVar4;
			*(uint *)(param_1 + 0x144) = uVar2 & 0xffffff9f | uVar4 | (uint)(fVar13 <= fVar10) << 0x6;
			if (fVar10 <= fVar13) {
				fVar12 = *(float *)(param_1 + 0x158);
				bVar1 = fVar13 <= fVar12;
			code_r0x00273544:
				uVar2 = *puVar5;
				if (bVar1) {
					*(float *)(param_1 + 0x15c) = fVar13 - fVar12;
					uVar2 = *puVar5;
				}
			}
			else {
				if (fVar13 <= fVar10) {
					fVar12 = *(float *)(param_1 + 0x158);
					bVar1 = fVar12 <= fVar13;
					goto code_r0x00273544;
				}
				uVar2 = *puVar5;
			}
			*(undefined4 *)(param_1 + 0x154) = 0x3f000000;
			*puVar5 = uVar2 | 0x10;
		}
		uVar3 = (long)((int)*puVar5 >> 0x4) & 0x1;
	}
	uVar6 |= uVar3;
LAB_002736d8:
	local_100 = *(float *)(param_1 + 0xd8);
	uVar2 = FUN_00271128((uint *)(param_1 + 0xa4), param_2, (uint *)&local_100, 0x1,
		*(ulong *)(param_1 + 0x48) >> 0x6 & 0x1);
	return uVar6 | uVar2 != 0x0;
}



undefined8 FUN_00273738(float param_1, undefined8 param_2, uint *param_3)

{
	bool bVar1;
	int iVar2;
	undefined4 *puVar3;
	uint local_70[0x4];

	puVar3 = (undefined4 *)param_2;
	*(undefined *)(puVar3 + 0xc) = 0x1;
	puVar3[0xd] = 0x305240;
	*puVar3 = 0x0;
	puVar3[0x1] = DAT_0030a7d0;
	puVar3[0x6] = 0x0;
	puVar3[0x5] = 0x0;
	puVar3[0x4] = 0x0;
	puVar3[0x7] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar3 + 0x8), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar3[0xb] = 0x3f800000;
	puVar3[0x13] = 0x0;
	puVar3[0xd] = 0x304da8;
	puVar3[0x14] = 0x0;
	local_70[0] = *param_3;
	FUN_00270f30((long)(int)(puVar3 + 0x15), local_70);
	local_70[0] = DAT_0030a7d0;
	FUN_00270f30((long)(int)(puVar3 + 0x29), local_70);
	FUN_0011bf10(0.00000000, (int *)local_70, 0x0);
	FUN_00270f30((long)(int)(puVar3 + 0x3d), local_70);
	*(float *)(puVar3 + 0x54) = param_1;
	puVar3[0x5b] = 0x40a00000;
	puVar3[0x5a] = 0x40a00000;
	*(float *)(puVar3 + 0x5e) = param_1;
	*(float *)(puVar3 + 0x5f) = param_1;
	*(float *)(puVar3 + 0x60) = param_1;
	*(float *)(puVar3 + 0x61) = param_1;
	puVar3[0x63] = 0x0;
	FUN_0027c2b0(puVar3 + 0x51);
	puVar3[0x72] = 0x3f800000;
	FUN_0011bf10(180.00000000, puVar3 + 0x73, 0x1);
	FUN_0011bf10(180.00000000, puVar3 + 0x74, 0x1);
	iVar2 = 0x2;
	do {
		bVar1 = iVar2 != -0x1;
		iVar2 += -0x1;
	} while (bVar1);
	iVar2 = 0x2;
	do {
		bVar1 = iVar2 != -0x1;
		iVar2 += -0x1;
	} while (bVar1);
	FUN_00279488((long)(int)(puVar3 + 0xbc));
	puVar3[0xe2] = 0x0;
	puVar3[0xe5] = 0x3f800000;
	puVar3[0xe6] = 0x3f800000;
	puVar3[0xe0] = 0x0;
	puVar3[0xe4] = 0x40c00000;
	*(undefined *)(puVar3 + 0xe1) = 0x3c;
	FUN_0011bf10((float)puVar3[0xe2], puVar3 + 0xf2, 0x0);
	*(undefined *)(puVar3 + 0xf3) = 0x0;
	puVar3[0x29] = puVar3[0x29] | 0x1;
	*(ulong *)(puVar3 + 0x10) = *(ulong *)(puVar3 + 0x10) & 0xfffffffdfffffffd | 0x400000000000;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar3 + 0x88), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar3[0x8b] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar3 + 0x8c), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar3[0x8f] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar3 + 0x90), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar3[0x93] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar3 + 0x94), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar3[0x97] = 0x3f800000;
	puVar3[0x78] = 0x3f800000;
	puVar3[0x76] = 0x3f800000;
	puVar3[0x7c] = 0x3f800000;
	puVar3[0x7a] = 0x3f800000;
	puVar3[0x80] = 0x3f800000;
	puVar3[0x7e] = 0x3f800000;
	puVar3[0x84] = 0x3f800000;
	puVar3[0x82] = 0x3f800000;
	puVar3[0x83] = 0xbf800000;
	puVar3[0x79] = 0xbf800000;
	puVar3[0x77] = 0xbf800000;
	puVar3[0x7d] = 0xbf800000;
	puVar3[0x7b] = 0xbf800000;
	puVar3[0x81] = 0xbf800000;
	puVar3[0x7f] = 0xbf800000;
	puVar3[0x85] = 0xbf800000;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar3 + 0x68), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar3[0x6b] = 0x3f800000;
	local_70[0] = *param_3;
	FUN_0027c560(param_1, (int)puVar3, local_70);
	return param_2;
}



void FUN_00273a70(int param_1)

{
	int iVar1;
	ulong uVar2;
	ulong uVar3;
	float fVar4;
	Vector4 local_c0;
	undefined8 local_b0;
	undefined4 uStack168;
	undefined4 uStack164;
	float local_a0[0x4];
	float local_90;
	float local_80;
	undefined4 uStack124;
	undefined4 uStack120;
	undefined4 uStack116;
	float local_70;
	undefined4 local_60;
	float fStack92;
	undefined4 uStack88;
	undefined4 uStack84;

	uVar2 = *(ulong *)(param_1 + 0x40);
	uVar3 = (long)(uVar2 << 0x1f) >> 0x20 & 0x1;
	FUN_0027c608(param_1);
	local_a0[0] = DAT_0030a9d8;
	*(float *)(param_1 + 0x60) = DAT_0030a9d8;
	local_90 = local_a0[0];
	FUN_00270fc8((uint *)(param_1 + 0x54));
	FUN_00270fc8((uint *)(param_1 + 0xa4));
	FUN_00271a10((long)(int)local_a0, param_1);
	*(float *)(param_1 + 0x100) = local_a0[0];
	local_80 = local_a0[0];
	local_70 = local_a0[0];
	FUN_00270fc8((uint *)(param_1 + 0xf4));
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x1a0), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x1ac) = 0x3f800000;
	if (uVar3 != 0x0) {
		*(float *)(param_1 + 0x150) =
			*(float *)(param_1 + 0x17c) * *(float *)(param_1 + 0x64) +
			*(float *)(param_1 + 0x178) * (1.00000000 - *(float *)(param_1 + 0x64));
	}
	fVar4 = *(float *)(param_1 + 0x17c) - *(float *)(param_1 + 0x178);
	*(undefined4 *)(param_1 + 0x15c) = 0x0;
	*(float *)(param_1 + 0x158) = *(float *)(param_1 + 0x150);
	if (0.00005000 < ABS(fVar4)) {
		*(float *)(param_1 + 0x154) =
			(*(float *)(param_1 + 0x150) - *(float *)(param_1 + 0x178)) / fVar4;
	}
	else {
		*(undefined4 *)(param_1 + 0x154) = 0x7149f2ca;
	}
	*(uint *)(param_1 + 0x144) = *(uint *)(param_1 + 0x144) & 0x1;
	*(undefined4 *)(param_1 + 0x170) = *(undefined4 *)(param_1 + 0x168);
	*(undefined4 *)(param_1 + 0x188) = *(undefined4 *)(param_1 + 0x158);
	*(undefined4 *)(param_1 + 0x14c) = 0x0;
	*(undefined4 *)(param_1 + 0x18c) = 0x0;
	*(undefined4 *)(param_1 + 0x148) = 0x0;
	*(undefined4 *)(param_1 + 0x40) = 0x0;
	iVar1 = *(int *)(param_1 + 0x50);
	*(undefined2 *)(param_1 + 0x48) = 0x0;
	*(undefined *)(param_1 + 0x1d4) = 0x0;
	*(ulong *)(param_1 + 0x40) =
		*(ulong *)(param_1 + 0x40) & 0xffff9ffbfffffefd | (uVar2 >> 0x2e & 0x1) << 0x2e |
		uVar3 << 0x1 | ((long)(uVar2 << 0x18) >> 0x20 & 0x1U) << 0x8;
	if (iVar1 == 0x0) {
		MovePositionFromPos2ToPos1(&local_c0, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		local_c0.w = 1.00000000;
	}
	else {
		local_c0.z = *(float *)(iVar1 + 0x28);
		local_c0.w = *(float *)(iVar1 + 0x2c);
		local_c0.x = (float)*(undefined8 *)(iVar1 + 0x20);
		local_c0.y = (float)((ulong)*(undefined8 *)(iVar1 + 0x20) >> 0x20);
	}
	FUN_00271b28(param_1, (undefined8 *)&local_c0, (long)(int)&local_b0, 0x0);
	if (*(int *)(param_1 + 0x50) == 0x0) {
		MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x20), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1)
			;
		*(undefined4 *)(param_1 + 0x2c) = 0x3f800000;
	}
	else {
		*(undefined4 *)(param_1 + 0x20) = (int)local_b0;
		*(undefined4 *)(param_1 + 0x24) = (int)((ulong)local_b0 >> 0x20);
		*(undefined4 *)(param_1 + 0x28) = uStack168;
		*(undefined4 *)(param_1 + 0x2c) = uStack164;
	}
	local_80 = *(float *)(param_1 + 0xb8);
	*(float *)(param_1 + 0x4) = local_80;
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xffffffffffffff27;
	*(ulong *)(param_1 + 0x48) = *(ulong *)(param_1 + 0x48) & 0xfffffffffffffeff;
	*(undefined4 *)(param_1 + 0x2ec) = 0x0;
	FUN_002749c8(param_1);
	FUN_0011bf10(0.00000000, (int *)(param_1 + 0x2e0), 0x0);
	FUN_0011bf10(0.00000000, (int *)(param_1 + 0x2e4), 0x0);
	*(undefined4 *)(param_1 + 0x39c) = 0x0;
	*(undefined4 *)(param_1 + 0x3b8) = 0x0;
	*(undefined4 *)(param_1 + 0x3c0) = 0x3ecccccd;
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xffffffc7ffffffff | 0x4000008000;
	*(undefined4 *)(param_1 + 0x3bc) = 0x3ecccccd;
	FUN_0027c658(param_1);
	*(undefined4 *)(param_1 + 0x2f0) = 0x0;
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xfffffffffffff7ff;
	*(ulong *)(param_1 + 0x2f0) = *(ulong *)(param_1 + 0x2f0) & 0xffffffffffffffef | 0x10;
	FUN_002749c8(param_1);
	iVar1 = *(int *)(param_1 + 0x50);
	*(undefined4 *)(param_1 + 0x3f0) = 0x0;
	if (iVar1 != 0x0) {
		local_60 = *(undefined4 *)(iVar1 + 0x40);
		uStack88 = *(undefined4 *)(iVar1 + 0x48);
		uStack84 = *(undefined4 *)(iVar1 + 0x4c);
		fStack92 = *(float *)(iVar1 + 0x44) + 1.00000000;
		iVar1 = FUN_00276fd8(param_1, (long)(param_1 + 0x20));
		if ((iVar1 != 0x0) &&
			(iVar1 = FUN_00276910(param_1, (long)(param_1 + 0x20), (long)(int)&local_60, &local_80, 0x0),
				iVar1 != 0x0)) {
			*(float *)(param_1 + 0x20) = local_80;
			*(undefined4 *)(param_1 + 0x24) = uStack124;
			*(undefined4 *)(param_1 + 0x28) = uStack120;
			*(undefined4 *)(param_1 + 0x2c) = uStack116;
			FUN_00273e98(param_1);
		}
	}
	return;
}



void FUN_00273e98(int param_1)

{
	int iVar1;
	long lVar2;
	undefined auStack192[0x40];
	float local_80;
	float local_7c;
	float local_78;
	undefined4 local_74;
	int local_70[0x4];
	int local_60;
	int local_50;

	lVar2 = (long)(int)local_70;
	iVar1 = *(int *)(param_1 + 0x50);
	local_80 = *(float *)(iVar1 + 0x20) - *(float *)(param_1 + 0x20);
	local_78 = *(float *)(iVar1 + 0x28) - *(float *)(param_1 + 0x28);
	local_7c = *(float *)(iVar1 + 0x24) - *(float *)(param_1 + 0x24);
	local_74 = 0x3f800000;
	*(float *)(param_1 + 0x158) =
		SQRT(local_80 * local_80 + local_7c * local_7c + local_78 * local_78);
	FUN_0018cfc0(lVar2, &local_80);
	iVar1 = local_70[0];
	local_70[0] = -local_70[0];
	local_60 = local_70[0];
	FUN_0018c350((long)(int)auStack192, lVar2);
	FUN_0018ec48((long)(int)auStack192, &local_80, &local_80);
	FUN_0018d028(lVar2, (int)&local_80);
	local_50 = (local_70[0] + 0x8000U & 0xffff) - 0x8000;
	local_70[0] = (iVar1 + 0x8000U & 0xffff) - 0x8000;
	*(int *)(param_1 + 0x68) = local_50;
	*(int *)(param_1 + 0x108) = local_70[0];
	local_60 = local_70[0];
	FUN_0011bf10(0.00000000, (int *)(param_1 + 0x6c), 0x0);
	FUN_0011bf10(0.00000000, (int *)(param_1 + 0x10c), 0x0);
	*(undefined4 *)(param_1 + 0x15c) = 0x0;
	FUN_00271b28(param_1, (undefined8 *)(*(int *)(param_1 + 0x50) + 0x20),
		(long)(int)(float *)(param_1 + 0x20), 0x1);
	FUN_00271d00(param_1, (undefined8 *)(*(int *)(param_1 + 0x50) + 0x20), (float *)(param_1 + 0x20), 0x0
	);
	return;
}



void FUN_00274048(int param_1, uint param_2, undefined4 param_3)

{
	int iVar1;
	int iVar2;
	uint uVar3;
	undefined4 uVar4;
	uint uVar5;
	ulong uVar6;
	uint *puVar7;
	long lVar8;
	ulong uVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float local_160[0x4];
	float local_150[0x4];
	Vector4 local_140;
	undefined8 auStack304[0x2];
	float local_120;
	float fStack284;
	float local_118;
	undefined4 local_114;
	float local_110;
	float fStack268;
	float fStack264;
	undefined4 uStack260;
	int local_100;
	undefined auStack240[0x40];
	float local_b0;
	float local_ac;
	float local_a8;
	undefined4 local_a4;
	int local_a0[0x4];
	int local_90;
	float local_80;
	float local_70[0x4];

	if (*(char *)(param_1 + 0x3cc) != '\0') goto LAB_002747e4;
	*(float *)(param_1 + 0x388) = (float)*(int *)(param_2 + 0x8) * DAT_00309b80;
	if ((*(ulong *)(param_1 + 0x40) & 0x5000) == 0x0) {
		FUN_002757b0(param_1);
		puVar7 = (uint *)(param_1 + 0x144);
		*(uint *)(param_1 + 0x54) = *(uint *)(param_1 + 0x54) & 0xffffffef | 0x8;
		*(uint *)(param_1 + 0xa4) = *(uint *)(param_1 + 0xa4) & 0xffffffef | 0x8;
		*(uint *)(param_1 + 0xf4) = *(uint *)(param_1 + 0xf4) & 0xffffffef | 0x8;
		*(undefined4 *)(param_1 + 0x50) = param_3;
		*(undefined *)(param_1 + 0x1d4) = 0x0;
		*(undefined4 *)(param_1 + 0x6c) = 0x0;
		*(undefined4 *)(param_1 + 0xbc) = 0x0;
		*(undefined4 *)(param_1 + 0x10c) = 0x0;
		*(undefined4 *)(param_1 + 0x15c) = 0x0;
		*(uint *)(param_1 + 0x144) = *(uint *)(param_1 + 0x144) & 0xffffffef | 0x8;
		if ((*(ulong *)(param_1 + 0x48) & 0xc0) == 0xc0) {
			*(ulong *)(param_1 + 0x48) = *(ulong *)(param_1 + 0x48) & 0xffffffffffffffbf;
		}
		uVar6 = *(ulong *)(param_1 + 0x48);
		if ((uVar6 & 0x201) == 0x0) {
		LAB_00274174:
			iVar1 = *(int *)(param_1 + 0x50);
		}
		else {
			if ((uVar6 & 0x2) == 0x0) {
				*(undefined4 *)(param_1 + 0x1c0) = *(undefined4 *)(param_2 + 0x4);
				*(undefined4 *)(param_1 + 0x1b0) = (int)*(undefined8 *)(param_1 + 0x20);
				*(undefined4 *)(param_1 + 0x1b4) = (int)((ulong)*(undefined8 *)(param_1 + 0x20) >> 0x20);
				*(undefined4 *)(param_1 + 0x1b8) = *(undefined4 *)(param_1 + 0x28);
				*(undefined4 *)(param_1 + 0x1bc) = *(undefined4 *)(param_1 + 0x2c);
				*(ulong *)(param_1 + 0x48) = uVar6 & 0xfffffffffffffbff | 0x2;
				goto LAB_00274174;
			}
			iVar1 = *(int *)(param_1 + 0x50);
		}
		if (iVar1 == 0x0) {
			MovePositionFromPos2ToPos1(&local_140, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
			local_140.w = 1.00000000;
		}
		else {
			local_140.z = *(float *)(iVar1 + 0x28);
			local_140.w = *(float *)(iVar1 + 0x2c);
			local_140.x = (float)*(undefined8 *)(iVar1 + 0x20);
			local_140.y = (float)((ulong)*(undefined8 *)(iVar1 + 0x20) >> 0x20);
		}
		uVar6 = *(ulong *)(param_1 + 0x40);
		local_120 = 0.00000000;
		fStack284 = 0.00000000;
		local_118 = 0.00000000;
		uVar9 = 0x0;
		local_114 = 0x3f800000;
		if ((uVar6 & 0x2000000000) != 0x0) {
			iVar1 = *(int *)(param_1 + 0x50);
			local_110 = *(float *)(iVar1 + 0x40);
			fStack264 = *(float *)(iVar1 + 0x48);
			uStack260 = *(undefined4 *)(iVar1 + 0x4c);
			fStack268 = *(float *)(iVar1 + 0x44) + 1.00000000;
			iVar1 = FUN_00276fd8(param_1, (long)(param_1 + 0x20));
			if ((iVar1 != 0x0) &&
				(iVar1 = FUN_00276910(param_1, (long)(param_1 + 0x20),
				(long)(*(int *)(param_1 + 0x50) + 0x20), (float *)&local_120, 0x1),
					iVar1 != 0x0)) {
				uVar9 = 0x1;
				FUN_0027c7b8(param_1);
				*(undefined *)(param_1 + 0x30) = 0x0;
				*(ulong *)(param_1 + 0x48) = *(ulong *)(param_1 + 0x48) & 0xffffffffffffff7f | 0x40;
			}
		}
		if ((((*(ulong *)(param_1 + 0x40) & 0x400000000000) == 0x0) || ((uVar6 & 0x800000000080) == 0x0)
			) || ((*(ulong *)(param_1 + 0x48) & 0x40) != 0x0)) {
			FUN_00273010(param_1, param_2);
		LAB_00274568:
			uVar3 = *(uint *)(param_1 + 0x54);
		}
		else {
			uVar6 = FUN_00272c48(param_1, (undefined8 *)&local_140, (int *)local_160, (int *)local_150,
				local_70, 0x1);
			if (uVar6 != 0x0) {
				fVar13 = (float)*(int *)(param_2 + 0x8) * DAT_00309b80;
				local_110 = local_160[0];
				FUN_00271070(fVar13, (uint *)(param_1 + 0x54), (int *)&local_110, 0x1);
				local_110 = local_150[0];
				FUN_00271070(fVar13, (uint *)(param_1 + 0xf4), (int *)&local_110, 0x0);
				if ((*(uint *)(param_1 + 0x144) & 0x8) != 0x0) {
					*(float *)(param_1 + 0x15c) = local_70[0] * fVar13;
					if ((*(uint *)(param_1 + 0x144) & 0x80) == 0x0) {
						fVar13 = *(float *)(param_1 + 0x178);
						fVar12 = *(float *)(param_1 + 0x17c);
					}
					else {
						fVar13 = *(float *)(param_1 + 0x180);
						fVar12 = *(float *)(param_1 + 0x184);
					}
					fVar11 = *(float *)(param_1 + 0x158) + *(float *)(param_1 + 0x15c);
					uVar3 = *puVar7;
					uVar5 = (uint)(fVar11 <= fVar13) << 0x5;
					*puVar7 = uVar3 & 0xffffffdf | uVar5;
					*puVar7 = uVar3 & 0xffffff9f | uVar5 | (uint)(fVar12 <= fVar11) << 0x6;
					if (fVar11 <= fVar13) {
						if (fVar13 <= *(float *)(param_1 + 0x158)) {
							fVar10 = fVar13 - *(float *)(param_1 + 0x158);
						LAB_002743f0:
							*(float *)(param_1 + 0x15c) = fVar10;
						}
					}
					else {
						if ((fVar12 <= fVar11) && (*(float *)(param_1 + 0x158) <= fVar12)) {
							fVar10 = fVar12 - *(float *)(param_1 + 0x158);
							goto LAB_002743f0;
						}
					}
					if (fVar13 == fVar12) {
						*(undefined4 *)(param_1 + 0x154) = 0x3f000000;
					}
					else {
						if ((*puVar7 & 0x20) == 0x0) {
							if ((*puVar7 & 0x40) == 0x0) {
								*(float *)(param_1 + 0x154) = (fVar11 - fVar13) / (fVar12 - fVar13);
							}
							else {
								*(undefined4 *)(param_1 + 0x154) = 0x3f800000;
							}
						}
						else {
							*(undefined4 *)(param_1 + 0x154) = 0x0;
						}
					}
					*puVar7 = *puVar7 | 0x10;
				}
			}
			*(uint *)(param_1 + 0x54) =
				*(uint *)(param_1 + 0x54) & 0xfffffff7 | (uint)((uVar6 & 0x3) == 0x0) << 0x3;
			*(uint *)(param_1 + 0xf4) =
				*(uint *)(param_1 + 0xf4) & 0xfffffff7 | (uint)((uVar6 & 0xc) == 0x0) << 0x3;
			*(uint *)(param_1 + 0x144) =
				*(uint *)(param_1 + 0x144) & 0xfffffff7 | (uint)((uVar6 & 0x70) == 0x0) << 0x3;
			uVar6 = FUN_00273010(param_1, param_2);
			if (uVar6 == 0x0) goto LAB_00274568;
			FUN_00272d98(param_1, param_2, (undefined8 *)&local_140);
			FUN_00271b28(param_1, (undefined8 *)&local_140, (long)(int)auStack304, 0x0);
			iVar1 = FUN_00275f80(param_1, auStack304, (undefined4 *)(param_1 + 0x20), &local_120);
			local_110 = local_120;
			fStack268 = fStack284;
			fStack264 = local_118;
			uStack260 = local_114;
			iVar2 = FUN_00276358(param_1, &local_120, (float *)&local_140, (long)(int)&local_110);
			uVar9 = (ulong)((uVar9 | iVar1 != 0x0) != 0x0 || iVar2 != 0x0);
			local_120 = local_110;
			fStack284 = fStack268;
			local_118 = fStack264;
			local_114 = uStack260;
			FUN_0027c6c8(param_1, (long)(int)&local_120, (long)(int)&local_140, (long)(int)&local_120, param_2
			);
			uVar3 = *(uint *)(param_1 + 0x54);
		}
		if ((uVar3 & 0x10) == 0x0) {
			if (*(int *)(param_1 + 0x74) == 0x0) {
				uVar4 = *(undefined4 *)(param_2 + 0x4);
				goto LAB_00274588;
			}
			*(undefined4 *)(param_1 + 0x5c) = 0x0;
		}
		else {
			uVar4 = *(undefined4 *)(param_2 + 0x4);
		LAB_00274588:
			*(undefined4 *)(param_1 + 0x74) = uVar4;
			*(undefined4 *)(param_1 + 0x5c) = 0x0;
		}
		*(undefined4 *)(param_1 + 0x58) = 0x0;
		if (((*(uint *)(param_1 + 0xa4) & 0x10) == 0x0) && (*(int *)(param_1 + 0xc4) != 0x0)) {
			*(undefined4 *)(param_1 + 0xac) = 0x0;
		}
		else {
			*(undefined4 *)(param_1 + 0xc4) = *(undefined4 *)(param_2 + 0x4);
			*(undefined4 *)(param_1 + 0xac) = 0x0;
		}
		*(undefined4 *)(param_1 + 0xa8) = 0x0;
		if ((*(uint *)(param_1 + 0xf4) & 0x10) == 0x0) {
			if (*(int *)(param_1 + 0x114) == 0x0) {
				uVar4 = *(undefined4 *)(param_2 + 0x4);
				goto LAB_002745e0;
			}
			*(undefined4 *)(param_1 + 0xfc) = 0x0;
		}
		else {
			uVar4 = *(undefined4 *)(param_2 + 0x4);
		LAB_002745e0:
			*(undefined4 *)(param_1 + 0x114) = uVar4;
			*(undefined4 *)(param_1 + 0xfc) = 0x0;
		}
		*(undefined4 *)(param_1 + 0xf8) = 0x0;
		if ((*(uint *)(param_1 + 0x144) & 0x10) == 0x0) {
			if (*(int *)(param_1 + 0x164) == 0x0) {
				uVar4 = *(undefined4 *)(param_2 + 0x4);
				goto LAB_0027460c;
			}
			*(undefined4 *)(param_1 + 0x148) = 0x0;
		}
		else {
			uVar4 = *(undefined4 *)(param_2 + 0x4);
		LAB_0027460c:
			*(undefined4 *)(param_1 + 0x164) = uVar4;
			*(undefined4 *)(param_1 + 0x148) = 0x0;
		}
		*(undefined4 *)(param_1 + 0x14c) = 0x0;
		if (uVar9 == 0x0) {
			FUN_00271b28(param_1, (undefined8 *)&local_140, (long)(int)auStack304, 0x1);
			FUN_00271d00(param_1, (undefined8 *)&local_140, (float *)auStack304, 0x0);
			uVar6 = *(ulong *)(param_1 + 0x48);
		}
		else {
			iVar1 = *(int *)(param_1 + 0x50);
			lVar8 = (long)(int)local_a0;
			local_b0 = *(float *)(iVar1 + 0x20) - local_120;
			local_a8 = *(float *)(iVar1 + 0x28) - local_118;
			local_ac = *(float *)(iVar1 + 0x24) - fStack284;
			local_a4 = 0x3f800000;
			FUN_0018cfc0(lVar8, &local_b0);
			local_90 = -local_a0[0];
			local_100 = local_a0[0];
			local_a0[0] = local_90;
			FUN_0018c350((long)(int)auStack240, lVar8);
			FUN_0018ec48((long)(int)auStack240, &local_b0, &local_b0);
			FUN_0018d028(lVar8, (int)&local_b0);
			local_110 = (float)((local_a0[0] + 0x8000U & 0xffff) - 0x8000);
			local_100 = (local_100 + 0x8000U & 0xffff) - 0x8000;
			*(float *)(param_1 + 0x68) = local_110;
			*(int *)(param_1 + 0x108) = local_100;
			local_a0[0] = local_100;
			local_90 = local_100;
			local_80 = local_110;
			FUN_0011bf10(0.00000000, (int *)(param_1 + 0x6c), 0x0);
			FUN_0011bf10(0.00000000, (int *)(param_1 + 0x10c), 0x0);
			*(undefined4 *)(param_1 + 0x15c) = 0x0;
			FUN_00271d00(param_1, (undefined8 *)&local_140, (float *)&local_120, uVar9);
			uVar6 = *(ulong *)(param_1 + 0x48);
		}
		local_110 = *(float *)(param_1 + 0xb8);
		*(ulong *)(param_1 + 0x48) = uVar6 | 0x80;
		*(float *)(param_1 + 0x4) = local_110;
		*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xffffffffffff7fff;
	}
	else {
		iVar1 = *(int *)(param_1 + 0x50);
		if (iVar1 == 0x0) {
			MovePositionFromPos2ToPos1(&local_140, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
			local_140.w = 1.00000000;
		}
		else {
			local_140.z = *(float *)(iVar1 + 0x28);
			local_140.w = *(float *)(iVar1 + 0x2c);
			local_140.x = (float)*(undefined8 *)(iVar1 + 0x20);
			local_140.y = (float)((ulong)*(undefined8 *)(iVar1 + 0x20) >> 0x20);
		}
		FUN_00271d00(param_1, (undefined8 *)&local_140, (float *)auStack304, 0x0);
	}
	FUN_00277250(param_1);
LAB_002747e4:
	*(undefined4 *)(param_1 + 0x3e0) = (int)*(undefined8 *)(param_1 + 0x20);
	*(undefined4 *)(param_1 + 0x3e4) = (int)((ulong)*(undefined8 *)(param_1 + 0x20) >> 0x20);
	*(undefined4 *)(param_1 + 0x3e8) = *(undefined4 *)(param_1 + 0x28);
	*(undefined4 *)(param_1 + 0x3ec) = *(undefined4 *)(param_1 + 0x2c);
	return;
}



int FUN_00274820(int param_1, undefined8 param_2, ulong *param_3)

{
	bool bVar1;
	int iVar2;
	uint uVar3;
	long lVar4;
	undefined auStack176[0x40];
	float local_70;
	float local_6c;
	float local_68;
	undefined4 local_64;
	int local_60[0x4];
	int local_50;

	if ((*param_3 >> 0x12 & 0x1) == 0x0) {
		uVar3 = 0x0;
	}
	else {
		FUN_001ea1f0((int)param_3, (undefined8 *)(param_1 + 0x1a0), 0x1);
		bVar1 = (*param_3 >> 0x12 & 0x1) != 0x0;
		if (bVar1) {
			FUN_001f01d0((int)param_3, (float *)(param_1 + 0x10));
			FUN_001ea1f0((int)param_3, (undefined8 *)(param_1 + 0x20), 0x1);
		}
		uVar3 = (uint)bVar1;
		if (bVar1) {
			iVar2 = *(int *)(param_1 + 0x50);
			lVar4 = (long)(int)local_60;
			local_70 = *(float *)(iVar2 + 0x20) - *(float *)(param_1 + 0x20);
			local_68 = *(float *)(iVar2 + 0x28) - *(float *)(param_1 + 0x28);
			local_6c = *(float *)(iVar2 + 0x24) - *(float *)(param_1 + 0x24);
			local_64 = 0x3f800000;
			FUN_0018cfc0(lVar4, &local_70);
			iVar2 = local_60[0];
			local_60[0] = -local_60[0];
			local_50 = local_60[0];
			FUN_0018c350((long)(int)auStack176, lVar4);
			FUN_0018ec48((long)(int)auStack176, &local_70, &local_70);
			FUN_0018d028(lVar4, (int)&local_70);
			*(int *)(param_1 + 0x68) = (local_60[0] + 0x8000U & 0xffff) - 0x8000;
			*(int *)(param_1 + 0x108) = (iVar2 + 0x8000U & 0xffff) - 0x8000;
		}
	}
	return (int)uVar3;
}



void FUN_002749c8(int param_1)

{
	FUN_0027c608(param_1);
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xfffffffeffcc89da | 0x800000000000;
	*(ulong *)(param_1 + 0x48) = *(ulong *)(param_1 + 0x48) & 0xfffffffffffff0bc | 0x80;
	*(uint *)(param_1 + 0x54) = *(uint *)(param_1 + 0x54) & 0xffffff7f;
	*(uint *)(param_1 + 0xa4) = *(uint *)(param_1 + 0xa4) & 0xffffff7f;
	*(uint *)(param_1 + 0x144) = *(uint *)(param_1 + 0x144) & 0xffffff7f;
	*(uint *)(param_1 + 0xf4) = *(uint *)(param_1 + 0xf4) & 0xfffffb7f;
	*(undefined4 *)(param_1 + 0x38c) = 0x40c00000;
	*(undefined4 *)(param_1 + 0x398) = 0x3f800000;
	*(undefined *)(param_1 + 0x31) = 0x0;
	*(undefined *)(param_1 + 0x30) = 0x0;
	return;
}



void FUN_00274b20(undefined4 param_1, int param_2, int param_3, long param_4)

{
	ulong *puVar1;
	bool bVar2;
	int iVar3;
	ulong uVar4;
	ulong uVar5;
	ulong uVar6;
	ulong uVar7;

	if ((param_3 != 0x0) && ((**(ulong **)(param_3 + 0x170) >> 0x22 & 0x1) != 0x0)) {
		*(undefined4 *)(param_2 + 0x2f0) = 0x0;
		*(ulong *)(param_2 + 0x40) = *(ulong *)(param_2 + 0x40) & 0xfffffffffffff7ff;
		*(ulong *)(param_2 + 0x2f0) = *(ulong *)(param_2 + 0x2f0) & 0xffffffffffffffef | 0x10;
		FUN_002749c8(param_2);
	}
	uVar6 = *(ulong *)(param_2 + 0x40);
	if ((uVar6 & 0x800) != 0x0) {
		FUN_00274e08(param_1, param_2, (ulong *)(param_2 + 0x2f0), param_4);
		uVar6 = *(ulong *)(param_2 + 0x40);
		goto LAB_00274dc0;
	}
	if (param_3 == 0x0) {
	LAB_00274c7c:
		iVar3 = *(int *)(param_2 + 0x2ec);
	}
	else {
		bVar2 = false;
		uVar4 = **(ulong **)(param_3 + 0x170) >> 0xb & 0x1;
		uVar5 = uVar4 << 0x5;
		uVar7 = uVar6 & 0xffffffffffffffdf | uVar5;
		*(ulong *)(param_2 + 0x40) = uVar7;
		if (uVar4 == 0x0) {
			if ((uVar6 & 0x80) == 0x0) {
				bVar2 = false;
				if ((uVar6 & 0x88) == 0x8) {
					uVar4 = *(ulong *)(param_2 + 0x48) & 0xfffffffffffffeff;
					uVar5 = uVar7 | 0x80;
					goto LAB_00274c5c;
				}
			}
			else {
				bVar2 = false;
				if ((uVar6 & 0x48) == 0x40) {
					uVar4 = *(ulong *)(param_2 + 0x48) | 0x100;
					uVar5 = uVar6 & 0xffffffffffffff5f | uVar5;
				LAB_00274c5c:
					*(ulong *)(param_2 + 0x40) = uVar5;
					bVar2 = true;
					*(ulong *)(param_2 + 0x48) = uVar4;
				}
			}
		}
		else {
			*(ulong *)(param_2 + 0x40) = uVar6 & 0xffffffffffffff5f | uVar5;
		}
		if (bVar2) {
			FUN_002749c8(param_2);
			goto LAB_00274c7c;
		}
		iVar3 = *(int *)(param_2 + 0x2ec);
	}
	if (param_3 != iVar3) {
		FUN_002749c8(param_2);
		if (param_3 == 0x0) {
			FUN_00275cf0(param_2, *(int *)(param_2 + 0x2ec), 0x1);
		}
		else {
			puVar1 = *(ulong **)(param_3 + 0x170);
			uVar6 = 0x0;
			if ((((*puVar1 >> 0x5 & 0xff ^ 0x1) & 0x1) == 0x0) ||
				((*(ulong *)(param_2 + 0x40) & 0x8000) != 0x0)) {
				uVar6 = 0x1;
				uVar4 = *(ulong *)(param_2 + 0x48);
			}
			else {
				uVar4 = *(ulong *)(param_2 + 0x48);
			}
			*(ulong *)(param_2 + 0x48) = uVar4 & 0xffffffffffffffbf | uVar6 << 0x6;
			if (*(int *)(param_2 + 0x2ec) != 0x0) {
				uVar5 = 0x0;
				if ((**(ulong **)(*(int *)(param_2 + 0x2ec) + 0x170) >> 0x18 & 0x1) != 0x0) {
					uVar5 = *puVar1 >> 0x18 & 0x1;
				}
				*(ulong *)(param_2 + 0x48) = uVar4 & 0xffffffffffffffbf | (uVar6 | uVar5) << 0x6;
			}
			*(ulong *)(param_2 + 0x48) = *(ulong *)(param_2 + 0x48) & 0xffffffffffffff7f;
			iVar3 = *(int *)((int)puVar1 + 0xc);
			if (iVar3 != 0x0) {
				(**(code **)(*(int *)(iVar3 + 0xc) + 0x24))
					(iVar3 + *(short *)(*(int *)(iVar3 + 0xc) + 0x20), param_2 + 0x20,
						*(int *)(param_2 + 0x50) + 0x20);
				iVar3 = (**(code **)(*(int *)(iVar3 + 0xc) + 0x2c))
					(iVar3 + *(short *)(*(int *)(iVar3 + 0xc) + 0x28));
				if (iVar3 == 0x1c0e) {
					*(undefined *)(param_2 + 0x3cc) = 0x1;
				}
			}
		}
	}
	if (param_3 != 0x0) {
		FUN_00274e08(param_1, param_2, *(ulong **)(param_3 + 0x170), param_4);
	}
	uVar6 = *(ulong *)(param_2 + 0x40);
LAB_00274dc0:
	*(int *)(param_2 + 0x2ec) = param_3;
	*(ulong *)(param_2 + 0x40) =
		uVar6 & 0xffffffffffffffef | ((long)(uVar6 << 0x1d) >> 0x20 & 0x1U) << 0x4;
	return;
}



void FUN_00274e08(undefined4 param_1, int param_2, ulong *param_3, long param_4)

{
	bool bVar1;
	int iVar2;
	undefined4 uVar3;
	bool bVar4;
	uint uVar5;
	ulong uVar6;
	ulong uVar7;
	ulong uVar8;
	ulong uVar9;
	ulong uVar10;
	float *pfVar11;
	int iVar12;
	float fVar13;
	int iVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	int local_130[0x4];
	int local_120[0x4];
	int local_110;
	int local_100;
	int local_f0;
	int local_e0;
	int local_d0;
	int local_c0;
	int local_b0;
	int local_a0;
	int local_90;
	int local_80;

	iVar2 = *(int *)((int)param_3 + 0xc);
	iVar14 = *(int *)(param_3 + 0x1);
	if (*(char *)(param_2 + 0x3cc) != '\0') {
		FUN_00277108(param_2, iVar2);
		return;
	}
	bVar1 = (*param_3 >> 0xa & 0x1) == 0x0;
	bVar4 = param_4 == 0x0;
	uVar8 = *(ulong *)(param_2 + 0x40);
	uVar6 = ((long)(uVar8 << 0x14) >> 0x20 & 0x1U | *param_3 >> 0x15 & 0x1) << 0xc;
	uVar9 = uVar8 & 0xffffffffffffefff | uVar6;
	*(ulong *)(param_2 + 0x40) = uVar9;
	uVar10 = ((long)(uVar9 << 0x12) >> 0x20 & 0x1U | *param_3 >> 0x13 & 0x1) << 0xe;
	uVar9 = uVar8 & 0xffffffffffffafff | uVar6 | uVar10;
	*(ulong *)(param_2 + 0x40) = uVar9;
	uVar7 = ((long)(uVar9 << 0x13) >> 0x20 & 0x1U | *param_3 >> 0x14 & 0x1) << 0xd;
	*(ulong *)(param_2 + 0x40) = uVar8 & 0xffffffffffff8fff | uVar6 | uVar10 | uVar7;
	*(ulong *)(param_2 + 0x48) =
		*(ulong *)(param_2 + 0x48) & 0xfffffffffffff7ff | (*param_3 >> 0x1d & 0x1) << 0xb;
	uVar9 = (*param_3 >> 0x1e & 0x1) << 0x14;
	*(ulong *)(param_2 + 0x40) = uVar8 & 0xffffffffffef8fff | uVar6 | uVar10 | uVar7 | uVar9;
	*(ulong *)(param_2 + 0x40) =
		uVar8 & 0xffffffffffcf8fff | uVar6 | uVar10 | uVar7 | uVar9 |
		(*param_3 >> 0x1f & 0x1) << 0x15;
	uVar6 = (*param_3 >> 0x5 & 0xff ^ 0x1) & 0x1;
	if (((*(int *)(param_2 + 0x2ec) != 0x0) && ((*param_3 >> 0x18 & 0x1) != 0x0)) &&
		((**(ulong **)(*(int *)(param_2 + 0x2ec) + 0x170) >> 0x18 & 0x1) != 0x0)) {
		uVar6 = 0x0;
	}
	uVar7 = *(ulong *)(param_2 + 0x48) & 0x100;
	uVar9 = 0x1;
	if (uVar7 == 0x0) {
		uVar9 = uVar6;
	}
	if (uVar9 == 0x0) {
	LAB_0027502c:
		local_130[0] = *(int *)(param_2 + 0x108);
	}
	else {
		if ((*(ulong *)(param_2 + 0x48) & 0x1) == 0x0) {
			fVar18 = 2.00000000;
			if (uVar7 == 0x0) {
				fVar18 = *(float *)(param_3 + 0x2);
			}
			fVar18 = fVar18 * DAT_00309b7c;
			if ((byte)((uint)fVar18 >> 0x17) < 0x9e) {
				iVar12 = (int)fVar18;
			}
			else {
				if ((int)fVar18 < 0x0) {
					iVar12 = 0x7fffffff;
				}
				else {
					iVar12 = -0x80000000;
				}
			}
			*(int *)(param_2 + 0x1c4) = iVar12;
			goto LAB_0027502c;
		}
		local_130[0] = *(int *)(param_2 + 0x108);
	}
	uVar6 = FUN_00279788((int)param_3, local_130);
	pfVar11 = (float *)param_4;
	if ((*param_3 >> 0x7 & 0x1) == 0x0) {
		*(uint *)(param_2 + 0xa4) = *(uint *)(param_2 + 0xa4) & 0xffffff7f;
	}
	else {
		local_130[0] = *(int *)(param_3 + 0x9);
		local_120[0] = *(int *)((int)param_3 + 0x4c);
		if (bVar1 || bVar4) {
			if (uVar9 == 0x0) {
				uVar5 = *(uint *)(param_2 + 0xa4);
			}
			else {
				if ((*(ulong *)(param_2 + 0x48) & 0x600) == 0x0) {
					FUN_00271430(param_2 + 0xa4, (int *)(param_2 + 0x1c4), local_130, local_120);
					uVar5 = *(uint *)(param_2 + 0xa4);
				}
				else {
					uVar5 = *(uint *)(param_2 + 0xa4);
				}
			}
			*(uint *)(param_2 + 0xa4) = uVar5 | 0x80;
			*(int *)(param_2 + 0xe0) = local_130[0];
			*(int *)(param_2 + 0xe4) = local_120[0];
			local_110 = local_130[0];
			local_100 = local_120[0];
			local_c0 = local_120[0];
		}
		else {
			fVar18 = *pfVar11;
			*(uint *)(param_2 + 0xa4) = *(uint *)(param_2 + 0xa4) | 0x80;
			fVar18 = ((float)local_120[0] * 0.00009587 * fVar18 +
				(float)local_130[0] * 0.00009587 * (1.00000000 - fVar18)) * 10430.37792969;
			if ((byte)((uint)fVar18 >> 0x17) < 0x9e) {
				local_110 = (int)fVar18;
			}
			else {
				if ((int)fVar18 < 0x0) {
					local_110 = 0x7fffffff;
				}
				else {
					local_110 = -0x80000000;
				}
			}
			*(int *)(param_2 + 0xe4) = local_110;
			*(int *)(param_2 + 0xe0) = local_110;
			local_100 = local_110;
			local_f0 = local_120[0];
			local_e0 = local_110;
			local_d0 = local_110;
		}
	}
	fVar18 = DAT_00309b80;
	if ((*param_3 >> 0x3 & 0x1) == 0x0) {
		*(uint *)(param_2 + 0x144) = *(uint *)(param_2 + 0x144) & 0xffffff7f;
	}
	else {
		if (uVar6 == 0x0) {
			fVar17 = *(float *)(param_3 + 0xc);
		LAB_002751a0:
			fVar16 = *(float *)((int)param_3 + 0x64);
		}
		else {
			if ((*param_3 >> 0x12 & 0x1) == 0x0) {
				fVar17 = *(float *)(param_3 + 0xc);
				goto LAB_002751a0;
			}
			fVar16 = *(float *)((int)param_3 + 0x7c);
			fVar17 = fVar16;
		}
		if (bVar1 || bVar4) {
			if (uVar9 == 0x0) {
				uVar5 = *(uint *)(param_2 + 0x144);
			}
			else {
				if ((*(ulong *)(param_2 + 0x48) & 0x600) == 0x0) {
					fVar13 = fVar17 - *(float *)(param_2 + 0x158);
					fVar15 = fVar16 - *(float *)(param_2 + 0x158);
					if (fVar15 <= fVar13) {
						fVar13 = fVar15;
					}
					*(undefined4 *)(param_2 + 0x170) = *(undefined4 *)(param_2 + 0x168);
					*(float *)(param_2 + 0x168) = ABS(fVar13 / ((float)*(int *)(param_2 + 0x1c4) * fVar18));
					uVar5 = *(uint *)(param_2 + 0x144);
				}
				else {
					uVar5 = *(uint *)(param_2 + 0x144);
				}
			}
			*(uint *)(param_2 + 0x144) = uVar5 | 0x80;
			*(float *)(param_2 + 0x184) = fVar16;
			*(float *)(param_2 + 0x180) = fVar17;
		}
		else {
			fVar18 = *pfVar11;
			*(uint *)(param_2 + 0x144) = *(uint *)(param_2 + 0x144) | 0x80;
			fVar18 = fVar16 * fVar18 + fVar17 * (1.00000000 - fVar18);
			*(float *)(param_2 + 0x184) = fVar18;
			*(float *)(param_2 + 0x180) = fVar18;
		}
	}
	uVar10 = *(ulong *)(param_2 + 0x40);
	uVar7 = (*param_3 >> 0x16 & 0x1 ^ 0x1) << 0x10;
	*(ulong *)(param_2 + 0x40) = uVar10 & 0xfffffffffffeffff | uVar7;
	uVar7 = uVar10 & 0xfffffffefffeffff | uVar7;
	uVar8 = (*param_3 >> 0x17 & 0x1) << 0x20;
	*(ulong *)(param_2 + 0x40) = uVar7 | uVar8;
	if ((uVar10 & 0x80 | uVar8) == 0x100000080) {
		*(ulong *)(param_2 + 0x40) = uVar7 | (*param_3 >> 0x21 & 0x1 ^ 0x1) << 0x20;
	}
	if ((*(ulong *)(param_2 + 0x40) & 0x80) != 0x0) goto LAB_00275724;
	*(ulong *)(param_2 + 0x40) =
		*(ulong *)(param_2 + 0x40) & 0xffff7ffffffffffb | (*param_3 >> 0x4 & 0x1) << 0x2f |
		(ulong)(iVar14 != 0x0) << 0x2;
	if (iVar2 != 0x0) {
		if ((*(byte *)param_3 & 0x1) == 0x0) {
			if (param_4 == 0x0) {
				uVar7 = *(ulong *)(param_2 + 0x48);
			}
			else {
				iVar12 = *(int *)(iVar2 + 0xc);
				if (iVar14 == 0x0) {
					(**(code **)(iVar12 + 0x14))
						(iVar2 + *(short *)(iVar12 + 0x10), pfVar11 + 0x8, param_4, param_2 + 0x1a0);
					uVar7 = *(ulong *)(param_2 + 0x48);
				}
				else {
					(**(code **)(iVar12 + 0x14))
						(iVar2 + *(short *)(iVar12 + 0x10), pfVar11 + 0x10, param_4, param_2 + 0x1a0);
					uVar7 = *(ulong *)(param_2 + 0x48);
				}
			}
		}
		else {
			(**(code **)(*(int *)(iVar2 + 0xc) + 0x1c))
				(param_1, iVar2 + *(short *)(*(int *)(iVar2 + 0xc) + 0x18), param_2 + 0x1a0);
			uVar7 = *(ulong *)(param_2 + 0x48);
		}
		*(ulong *)(param_2 + 0x48) = uVar7 & 0xfffffffffffffeff;
	}
	if ((*param_3 >> 0x2 & 0x1) == 0x0) {
		*(uint *)(param_2 + 0x54) = *(uint *)(param_2 + 0x54) & 0xffffff7f;
	}
	else {
		if (uVar6 == 0x0) {
			local_110 = *(int *)((int)param_3 + 0x54);
		LAB_00275438:
			local_130[0] = *(int *)(param_3 + 0xa);
		}
		else {
			if ((*param_3 >> 0x11 & 0x1) == 0x0) {
				local_110 = *(int *)((int)param_3 + 0x54);
				goto LAB_00275438;
			}
			local_130[0] = *(int *)(param_3 + 0xf);
			local_110 = local_130[0];
		}
		if (bVar1 || bVar4) {
			local_120[0] = local_110;
			if (uVar9 == 0x0) {
				uVar5 = *(uint *)(param_2 + 0x54);
			}
			else {
				if ((*(ulong *)(param_2 + 0x48) & 0x600) == 0x0) {
					FUN_00271430(param_2 + 0x54, (int *)(param_2 + 0x1c4), local_130, local_120);
					uVar5 = *(uint *)(param_2 + 0x54);
				}
				else {
					uVar5 = *(uint *)(param_2 + 0x54);
				}
			}
			*(uint *)(param_2 + 0x54) = uVar5 | 0x80;
			*(int *)(param_2 + 0x90) = local_130[0];
			*(int *)(param_2 + 0x94) = local_120[0];
			local_100 = local_120[0];
			local_f0 = local_120[0];
		}
		else {
			fVar18 = *pfVar11;
			local_a0 = local_110;
			*(uint *)(param_2 + 0x54) = *(uint *)(param_2 + 0x54) | 0x80;
			fVar18 = ((float)local_110 * 0.00009587 * fVar18 +
				(float)local_130[0] * 0.00009587 * (1.00000000 - fVar18)) * 10430.37792969;
			if ((byte)((uint)fVar18 >> 0x17) < 0x9e) {
				local_b0 = (int)fVar18;
			}
			else {
				if ((int)fVar18 < 0x0) {
					local_b0 = 0x7fffffff;
				}
				else {
					local_b0 = -0x80000000;
				}
			}
			*(int *)(param_2 + 0x94) = local_b0;
			*(int *)(param_2 + 0x90) = local_b0;
			local_90 = local_b0;
			local_80 = local_b0;
		}
	}
	if ((*param_3 >> 0x6 & 0x1) == 0x0) {
		*(uint *)(param_2 + 0xf4) = *(uint *)(param_2 + 0xf4) & 0xffffff7f;
	}
	else {
		if (uVar6 == 0x0) {
			local_110 = *(int *)((int)param_3 + 0x5c);
		LAB_0027558c:
			local_130[0] = *(int *)(param_3 + 0xb);
		}
		else {
			if ((*param_3 >> 0x10 & 0x1) == 0x0) {
				local_110 = *(int *)((int)param_3 + 0x5c);
				goto LAB_0027558c;
			}
			local_130[0] = *(int *)((int)param_3 + 0x74);
			local_110 = local_130[0];
		}
		if (bVar1 || bVar4) {
			local_120[0] = local_110;
			if (uVar9 == 0x0) {
				uVar5 = *(uint *)(param_2 + 0xf4);
			}
			else {
				if ((*(ulong *)(param_2 + 0x48) & 0x600) == 0x0) {
					FUN_00271430(param_2 + 0xf4, (int *)(param_2 + 0x1c4), local_130, local_120);
					uVar5 = *(uint *)(param_2 + 0xf4);
				}
				else {
					uVar5 = *(uint *)(param_2 + 0xf4);
				}
			}
			*(uint *)(param_2 + 0xf4) = uVar5 | 0x80;
			*(int *)(param_2 + 0x130) = local_130[0];
			*(int *)(param_2 + 0x134) = local_120[0];
			if (local_130[0] == local_120[0]) {
				*(undefined *)(param_2 + 0x31) = 0x1;
			}
		}
		else {
			fVar18 = *pfVar11;
			*(uint *)(param_2 + 0xf4) = *(uint *)(param_2 + 0xf4) | 0x80;
			fVar18 = ((float)local_110 * 0.00009587 * fVar18 +
				(float)local_130[0] * 0.00009587 * (1.00000000 - fVar18)) * 10430.37792969;
			if ((byte)((uint)fVar18 >> 0x17) < 0x9e) {
				iVar14 = (int)fVar18;
			}
			else {
				if ((int)fVar18 < 0x0) {
					iVar14 = 0x7fffffff;
				}
				else {
					iVar14 = -0x80000000;
				}
			}
			*(int *)(param_2 + 0x134) = iVar14;
			*(int *)(param_2 + 0x130) = iVar14;
		}
	}
	if ((*param_3 >> 0xf & 0x1) != 0x0) {
		uVar3 = *(undefined4 *)(param_3 + 0xe);
		*(uint *)(param_2 + 0xf4) = *(uint *)(param_2 + 0xf4) | 0x400;
		*(undefined4 *)(param_2 + 0x118) = uVar3;
		*(ulong *)(param_2 + 0x40) = *(ulong *)(param_2 + 0x40) | 0x400;
	}
	if ((*param_3 >> 0xc & 0x1) != 0x0) {
		*(undefined4 *)(param_2 + 0x38c) = *(undefined4 *)(param_3 + 0xd);
		*(ulong *)(param_2 + 0x40) = *(ulong *)(param_2 + 0x40) | 0x20000;
	}
	if (iVar2 == 0x0) {
		if (*(char *)(param_2 + 0x31) == '\0') goto LAB_00275724;
		uVar6 = *(ulong *)(param_2 + 0x40);
	}
	else {
		uVar6 = *(ulong *)(param_2 + 0x40);
	}
	*(ulong *)(param_2 + 0x40) = uVar6 | 0x100000;
LAB_00275724:
	if ((iVar2 != 0x0) && ((*(ulong *)(param_2 + 0x40) & 0x80) == 0x0)) {
		*(ulong *)(param_2 + 0x40) = *(ulong *)(param_2 + 0x40) | 0x1;
		*(ulong *)(param_2 + 0x48) = *(ulong *)(param_2 + 0x48) & 0xfffffffffffffffe | uVar9;
	}
	if ((uVar9 != 0x0) && ((*(ulong *)(param_2 + 0x48) & 0x600) == 0x0)) {
		*(ulong *)(param_2 + 0x48) = *(ulong *)(param_2 + 0x48) | 0x200;
	}
	return;
}



ulong FUN_002757b0(int param_1)

{
	int iVar1;
	ulong uVar2;
	float fVar3;
	float fVar4;
	undefined4 local_100[0x4];
	Matrix4x4 MStack240;
	Matrix4x4 MStack176;
	undefined4 local_70;
	float fStack108;
	undefined4 local_68;
	undefined4 local_64;
	float local_60;
	float fStack92;
	undefined4 uStack88;
	undefined4 uStack84;
	undefined4 local_50[0x4];

	fVar3 = 0.00000000;
	uVar2 = *(ulong *)(param_1 + 0x40) & 0x98000;
	fVar4 = 0.00000000;
	if (uVar2 == 0x0) {
		local_70 = 0x0;
		fStack108 = 0.00000000;
		local_64 = 0x3f800000;
		local_68 = 0x3f800000;
		local_60 = 0.00000000;
		fStack92 = 0.00000000;
		uStack88 = 0x3f800000;
		uStack84 = 0x3f800000;
		Rotate_(&MStack240, (Vector4 *)(*(int *)(param_1 + 0x50) + 0x10));
		Rotate_(&MStack176, (Vector4 *)(param_1 + 0x10));
		FUN_0018ec48((long)(int)&MStack240, &local_60, &local_60);
		fVar4 = (float)FUN_0018ec48((long)(int)&MStack176, &local_70, &local_70);
		fStack108 = fVar3;
		fStack92 = fVar3;
		FUN_0018e560((long)(int)local_50, (undefined8 *)&local_70, &local_60);
		local_100[0] = local_50[0];
		FUN_0018c078((long)(int)local_100);
		fVar3 = fVar4;
		iVar1 = FUN_0018c050((long)(int)local_100);
		uVar2 = SEXT48(iVar1);
	}
	*(float *)(param_1 + 0x3b0) = fVar4;
	if (fVar4 < -0.10000000) {
		*(float *)(param_1 + 0x3b0) = fVar4 + 0.10000000;
	}
	else {
		*(undefined4 *)(param_1 + 0x3b0) = 0x0;
	}
	*(float *)(param_1 + 0x3b4) = fVar3;
	*(float *)(param_1 + 0x3b0) = *(float *)(param_1 + 0x3b0) * 1.11111116;
	if (0.10000000 < fVar3) {
		*(float *)(param_1 + 0x3b4) = fVar3 - 0.10000000;
	}
	else {
		*(undefined4 *)(param_1 + 0x3b4) = 0x0;
		if (fVar3 < -0.10000000) {
			*(float *)(param_1 + 0x3b4) = fVar3 + 0.10000000;
		}
	}
	*(float *)(param_1 + 0x3b4) = *(float *)(param_1 + 0x3b4) * 1.11111116;
	return uVar2;
}



void FUN_00275978(int param_1, undefined8 param_2, undefined8 param_3)

{
	undefined8 uVar1;
	float *pfVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	Vector4 VStack240;
	int local_e0[0x4];
	float local_d0[0x4];
	float local_c0;
	float local_bc;
	float local_b8;
	float local_b4;
	float local_b0[0x4];
	float local_a0[0x4];
	float local_90[0x4];
	float local_80;
	int local_70[0x4];
	int local_60;

	if ((*(ulong *)(param_1 + 0x40) & 0x100) != 0x0) {
		fVar3 = *(float *)(*(int *)(param_1 + 0x50) + 0x58);
		fVar5 = *(float *)(*(int *)(param_1 + 0x50) + 0x50);
		fVar6 = 0.05000000;
		fVar3 = SQRT(fVar5 * fVar5 + fVar3 * fVar3);
		if (3.00000000 < fVar3) {
			fVar6 = 0.20000000;
		}
		fVar5 = 0.00009587;
		FUN_0011bf10(-*(float *)(param_1 + 0x3b0) * fVar6 -
			(float)*(int *)(param_1 + 0x2e0) * 0.00009587, local_e0, 0x0);
		local_c0 = DAT_0030a9c0;
		uVar1 = FUN_0015de00(*(float *)(param_1 + 0x388), (long)(int)&local_c0);
		fVar6 = 0.12000000;
		fVar4 = (float)local_e0[0] * (float)*(int *)uVar1 * fVar5;
		if ((byte)((uint)fVar4 >> 0x17) < 0x9e) {
			local_e0[0] = (int)fVar4;
		}
		else {
			if ((int)fVar4 < 0x0) {
				local_e0[0] = 0x7fffffff;
			}
			else {
				local_e0[0] = -0x80000000;
			}
		}
		local_d0[0] = (float)(*(int *)(param_1 + 0x2e0) + local_e0[0]);
		*(float *)(param_1 + 0x2e0) = local_d0[0];
		if (3.00000000 < fVar3) {
			fVar6 = 0.25000000;
		}
		local_b0[0] = local_d0[0];
		FUN_0011bf10(*(float *)(param_1 + 0x3b4) * fVar6 - (float)*(int *)(param_1 + 0x2e4) * fVar5,
			(int *)local_d0, 0x0);
		local_a0[0] = DAT_0030a9c0;
		uVar1 = FUN_0015de00(*(float *)(param_1 + 0x388), (long)(int)local_a0);
		fVar6 = (float)(int)local_d0[0] * (float)*(int *)uVar1 * fVar5;
		if ((byte)((uint)fVar6 >> 0x17) < 0x9e) {
			local_d0[0] = (float)(int)fVar6;
		}
		else {
			if ((int)fVar6 < 0x0) {
				local_d0[0] = NAN;
			}
			else {
				local_d0[0] = -0.00000000;
			}
		}
		*(int *)(param_1 + 0x2e4) = *(int *)(param_1 + 0x2e4) + (int)local_d0[0];
		local_c0 = local_d0[0];
		FUN_0011bf10(0.00000000, (int *)&local_c0, 0x0);
		local_b0[0] = *(float *)(param_1 + 0x2e4);
		FUN_0011bf10(0.00000000, local_90, 0x0);
		local_a0[0] = local_90[0];
		local_80 = local_90[0];
		GetRotationXYZ(&VStack240, &local_c0, local_b0, local_a0);
		FUN_0018dce8(&local_c0, &VStack240, param_3);
		pfVar2 = (float *)param_3;
		*pfVar2 = local_c0;
		pfVar2[0x2] = local_b8;
		pfVar2[0x3] = local_b4;
		pfVar2[0x1] = local_bc;
		fVar6 = FUN_0011c028(0.00000000, 0.00000000, pfVar2);
		*pfVar2 = *pfVar2 * fVar6;
		pfVar2[0x1] = pfVar2[0x1] * fVar6;
		pfVar2[0x2] = pfVar2[0x2] * fVar6;
		pfVar2[0x3] = pfVar2[0x3] * fVar6;
		local_b0[0] = *(float *)(param_1 + 0x2e0);
		FUN_0011bf10(0.00000000, (int *)local_a0, 0x0);
		FUN_0011bf10(0.00000000, local_70, 0x0);
		local_90[0] = (float)local_70[0];
		local_60 = local_70[0];
		GetRotationXYZ(&VStack240, local_b0, local_a0, local_90);
		FUN_0018dce8(&local_c0, param_3, &VStack240);
		*pfVar2 = local_c0;
		pfVar2[0x2] = local_b8;
		pfVar2[0x3] = local_b4;
		pfVar2[0x1] = local_bc;
		fVar6 = FUN_0011c028(0.00000000, 0.00000000, pfVar2);
		*pfVar2 = *pfVar2 * fVar6;
		pfVar2[0x1] = pfVar2[0x1] * fVar6;
		pfVar2[0x2] = pfVar2[0x2] * fVar6;
		pfVar2[0x3] = pfVar2[0x3] * fVar6;
	}
	return;
}



void FUN_00275cf0(int param_1, int param_2, long param_3)

{
	ulong *puVar1;
	int iVar2;
	ulong uVar3;
	ulong uVar4;
	float fVar5;
	int iVar6;
	int local_60[0x4];
	int local_50;
	int aiStack64[0x4];

	puVar1 = *(ulong **)(param_2 + 0x170);
	iVar2 = *(int *)((int)puVar1 + 0xc);
	if ((*(ulong *)(param_1 + 0x48) & 0x100) == 0x0) {
		uVar4 = (*puVar1 >> 0x5 & 0xff ^ 0x1) & 0x1;
	}
	else {
		uVar4 = 0x1;
	}
	if (uVar4 == 0x0) {
		uVar3 = *puVar1;
	}
	else {
		if ((*(ulong *)(param_1 + 0x48) & 0x1) == 0x0) {
			fVar5 = 2.00000000;
			if ((*(ulong *)(param_1 + 0x48) & 0x100) == 0x0) {
				fVar5 = *(float *)(puVar1 + 0x2);
			}
			fVar5 = fVar5 * DAT_00309b7c;
			if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
				iVar6 = (int)fVar5;
			}
			else {
				if ((int)fVar5 < 0x0) {
					iVar6 = 0x7fffffff;
				}
				else {
					iVar6 = -0x80000000;
				}
			}
			*(int *)(param_1 + 0x1c4) = iVar6;
			uVar3 = *puVar1;
		}
		else {
			uVar3 = *puVar1;
		}
	}
	if (((uVar3 >> 0x7 & 0x1) != 0x0) && (local_60[0] = DAT_0030a7d0, uVar4 != 0x0)) {
		if ((*(ulong *)(param_1 + 0x48) & 0x600) != 0x0) {
			uVar3 = *puVar1;
			goto LAB_00275dcc;
		}
		FUN_00271430(param_1 + 0xa4, (int *)(param_1 + 0x1c4), local_60, local_60);
	}
	uVar3 = *puVar1;
LAB_00275dcc:
	if (((uVar3 >> 0x2 & 0x1) == 0x0) && (iVar2 == 0x0)) {
		uVar3 = *puVar1;
	}
	else {
		FUN_0011bf10(0.00000000, local_60, 0x1);
		if ((*(ulong *)(param_1 + 0x40) & 0x100) != 0x0) {
			local_60[0] = DAT_0030a9d8;
			local_50 = DAT_0030a9d8;
		}
		if (uVar4 == 0x0) {
			uVar3 = *puVar1;
		}
		else {
			if ((*(ulong *)(param_1 + 0x48) & 0x600) == 0x0) {
				FUN_00271430(param_1 + 0x54, (int *)(param_1 + 0x1c4), local_60, local_60);
				uVar3 = *puVar1;
			}
			else {
				uVar3 = *puVar1;
			}
		}
	}
	fVar5 = DAT_00309b80;
	if (((uVar3 >> 0x3 & 0x1) == 0x0) && (iVar2 == 0x0)) {
		uVar3 = *puVar1;
	}
	else {
		if (uVar4 == 0x0) {
			uVar3 = *puVar1;
		}
		else {
			if ((*(ulong *)(param_1 + 0x48) & 0x600) == 0x0) {
				*(undefined4 *)(param_1 + 0x170) = *(undefined4 *)(param_1 + 0x168);
				*(float *)(param_1 + 0x168) =
					ABS((10.00000000 - *(float *)(param_1 + 0x158)) /
					((float)*(int *)(param_1 + 0x1c4) * fVar5));
				uVar3 = *puVar1;
			}
			else {
				uVar3 = *puVar1;
			}
		}
	}
	if (((((uVar3 >> 0x6 & 0x1) != 0x0) || (iVar2 != 0x0)) && (uVar4 != 0x0)) &&
		((*(ulong *)(param_1 + 0x48) & 0x600) == 0x0)) {
		FUN_0011bf10(10.00000000, local_60, 0x0);
		FUN_0011bf10(10.00000000, aiStack64, 0x0);
		FUN_00271430(param_1 + 0xf4, (int *)(param_1 + 0x1c4), local_60, aiStack64);
	}
	if (((param_3 != 0x0) && (uVar4 != 0x0)) && ((*(ulong *)(param_1 + 0x48) & 0x600) == 0x0)) {
		*(ulong *)(param_1 + 0x48) = *(ulong *)(param_1 + 0x48) | 0x200;
	}
	return;
}



int FUN_00275f80(int param_1, undefined8 *param_2, undefined4 *param_3, undefined8 *param_4)

{
	int iVar1;
	int iVar2;
	ulong uVar3;
	long lVar4;
	ulong uVar5;
	float fVar6;
	float local_1b0;
	float fStack428;
	float local_1a8;
	undefined4 uStack420;
	undefined auStack416[0x40];
	undefined *local_160;
	ushort local_15c;
	undefined2 local_15a;
	undefined4 local_158;
	uint local_154;
	undefined4 local_150;
	undefined4 local_14c;
	undefined4 local_148;
	undefined4 local_144;
	undefined4 local_140;
	float local_130;
	float fStack300;
	float fStack296;
	undefined4 uStack292;
	float local_120;
	float fStack284;
	float fStack280;
	undefined4 uStack276;
	float local_110;
	float fStack268;
	float fStack264;
	undefined4 uStack260;
	float local_100;
	float fStack252;
	float local_f8;
	float local_f4;
	float local_f0;
	float fStack236;
	float local_e8;
	float local_e4;
	float local_e0;
	float fStack220;
	float local_d8;
	float local_d4;
	float local_d0;
	float fStack204;
	float local_c8;
	float local_c4;
	float local_c0;
	float local_bc;
	float local_b8;
	Vector4 local_b0;
	Matrix4x4 local_a0;
	undefined4 local_60;
	int local_5c;
	int local_58;

	local_1a8 = *(float *)(param_2 + 0x1);
	uStack420 = *(undefined4 *)((int)param_2 + 0xc);
	local_58 = 0x0;
	local_1b0 = (float)*param_2;
	fStack428 = (float)((ulong)*param_2 >> 0x20);
	if ((*(ulong *)(param_1 + 0x40) & 0x400000000) == 0x0) {
		*(undefined4 *)(param_1 + 0x3bc) = 0x3ecccccd;
	}
	else {
		fVar6 = *(float *)(param_1 + 0x3bc) + *(float *)(param_1 + 0x388);
		*(float *)(param_1 + 0x3bc) = fVar6;
		if (0.50000000 < fVar6) {
			*(undefined4 *)(param_1 + 0x3bc) = 0x3f000000;
		}
	}
	local_160 = auStack416;
	local_15c = 0x0;
	local_15a = 0x10;
	local_158 = 0x7149f2ca;
	local_14c = 0x1;
	local_154 = local_154 & 0xfffffffe | 0x2;
	local_150 = 0x10;
	local_148 = 0x0;
	local_140 = 0x0;
	local_144 = 0x0;
	FUN_001f0458((int)&local_160, *(ChunkNode **)(param_1 + 0x4c));
	local_60 = 0x0;
	iVar1 = FUN_00282770(*(int *)(*(int *)(param_1 + 0x4c) + 0xa0), param_3, param_2, (int *)&local_160,
		0xffffffff, (long)(int)&local_60, (long)(int)&local_130, 0x0);
	if (iVar1 != 0x0) {
		local_1b0 = local_130;
		fStack428 = fStack300;
		local_1a8 = fStack296;
		uStack420 = uStack292;
	}
	*(float *)param_4 = local_1b0;
	*(float *)((int)param_4 + 0x4) = fStack428;
	*(float *)(param_4 + 0x1) = local_1a8;
	*(undefined4 *)((int)param_4 + 0xc) = uStack420;
	local_f0 = *(float *)(param_1 + 0x3bc);
	local_120 = local_1b0 - local_f0;
	fStack284 = fStack428 - local_f0;
	local_e4 = 1.00000000;
	fStack280 = local_1a8 - local_f0;
	local_f4 = 1.00000000;
	local_110 = local_1b0 + local_f0;
	fStack268 = fStack428 + local_f0;
	local_d4 = 1.00000000;
	fStack264 = local_1a8 + local_f0;
	uStack276 = 0x3f800000;
	local_c4 = 1.00000000;
	uStack260 = 0x3f800000;
	local_100 = local_120;
	fStack252 = fStack284;
	local_f8 = fStack280;
	fStack236 = local_f0;
	local_e8 = local_f0;
	local_e0 = local_110;
	fStack220 = fStack268;
	local_d8 = fStack264;
	local_d0 = local_f0;
	fStack204 = local_f0;
	local_c8 = local_f0;
	FUN_00200088(0.10000000, &local_120);
	FUN_001ed750(*(int *)(*(int *)(param_1 + 0x4c) + 0xa0), (long)(int)&local_120, 0xffffffff,
		(int *)&local_160);
	lVar4 = 0x0;
	if (local_15c != 0x0) {
		do {
			uVar5 = 0x0;
			iVar1 = *(int *)(local_160 + (int)lVar4 * 0x4);
			lVar4 = (long)((int)lVar4 + 0x1);
			while (uVar3 = FUN_001f0c48((ChunkNodeRelated *)(iVar1 + 0x10)), (long)uVar5 < (long)uVar3) {
				FUN_001f0cc8((long)(int)(ChunkNodeRelated *)(iVar1 + 0x10), uVar5, (long)(int)&local_5c,
					(long)(int)&local_100);
				iVar2 = (uint)*(ushort *)(local_5c + 0x16) * 0x90;
				if ((iVar2 != -0x3bdc10) && ((*(ulong *)(DAT(0x003bdc18) + iVar2) >> 0x5 & 0x1) != 0x0)) {
					local_b0.z = *(float *)(param_4 + 0x1);
					local_b0.w = *(float *)((int)param_4 + 0xc);
					local_a0.yComponents.x = local_f0;
					local_a0.yComponents.y = fStack236;
					local_a0.yComponents.z = local_e8;
					local_a0.yComponents.w = local_e4;
					local_a0.zComponents.x = local_e0;
					local_a0.zComponents.y = fStack220;
					local_a0.zComponents.z = local_d8;
					local_a0.zComponents.w = local_d4;
					local_a0.xComponents.x = local_100;
					local_a0.xComponents.y = fStack252;
					local_a0.xComponents.z = local_f8;
					local_a0.xComponents.w = local_f4;
					local_b0.x = (float)*param_4;
					local_b0.y = (float)((ulong)*param_4 >> 0x20);
					local_a0.wComponents.x = local_d0;
					local_a0.wComponents.y = fStack204;
					local_a0.wComponents.z = local_c8;
					local_a0.wComponents.w = local_c4;
					FUN_0018ef98(&local_a0);
					MultiplyMatrixByVector(&local_a0, &local_b0, &local_b0);
					iVar2 = FUN_00201020(*(float *)(param_1 + 0x3bc), (long)local_5c, (float *)&local_b0,
						(long)(int)&local_c0);
					if (iVar2 != 0x0) {
						local_58 = 0x1;
						FUN_0018ec48((long)(int)&local_100, &local_c0, &local_c0);
						*(float *)param_4 = *(float *)param_4 + local_c0;
						*(float *)((int)param_4 + 0x4) = *(float *)((int)param_4 + 0x4) + local_bc;
						*(float *)(param_4 + 0x1) = *(float *)(param_4 + 0x1) + local_b8;
					}
				}
				uVar5 = (long)((int)uVar5 + 0x1) & 0xff;
			}
		} while (lVar4 < (long)(ulong)local_15c);
	}
	if (local_58 == 0x0) {
		uVar5 = *(ulong *)(param_1 + 0x40) & 0xfffffffbffffffff;
	}
	else {
		uVar5 = *(ulong *)(param_1 + 0x40) | 0x400000000;
	}
	*(ulong *)(param_1 + 0x40) = uVar5;
	return local_58;
}



int FUN_00276358(int param_1, undefined8 *param_2, float *param_3, undefined8 param_4)

{
	int iVar1;
	undefined8 uVar2;
	ulong uVar3;
	ulong uVar4;
	undefined8 *puVar5;
	int iVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float local_e0;
	float fStack220;
	float local_d8;
	float fStack212;
	float local_d0;
	float fStack204;
	float local_c8;
	undefined4 local_c4;
	Vector4 local_c0;
	float local_b0;
	float fStack172;
	float local_a8;
	undefined4 local_a4;
	float local_a0;
	float fStack156;
	float local_98;
	undefined4 local_94;
	float local_90;
	float fStack140;
	float local_88;
	undefined4 local_84;
	float local_80;
	float local_7c;
	float local_78;
	undefined4 local_74;
	float local_70;
	float local_6c;
	float local_68;
	undefined auStack96[0x10];

	iVar6 = 0x0;
	local_d8 = *(float *)(param_2 + 0x1);
	fStack212 = *(float *)((int)param_2 + 0xc);
	local_e0 = (float)*param_2;
	fStack220 = (float)((ulong)*param_2 >> 0x20);
	if ((*(ulong *)(param_1 + 0x48) & 0x40) == 0x0) {
		local_d0 = *(float *)(param_1 + 0x20) - *(float *)param_2;
		fStack204 = *(float *)(param_1 + 0x24) - *(float *)((int)param_2 + 0x4);
		local_c8 = *(float *)(param_1 + 0x28) - *(float *)(param_2 + 0x1);
		local_c4 = 0x3f800000;
		iVar1 = FUN_00282730((long)*(int *)(*(int *)(param_1 + 0x4c) + 0xa0),
			(undefined8 *)(param_1 + 0x20), param_2, 0x20, (long)(int)auStack96,
			(long)(int)&local_e0, 0x0);
		if (iVar1 != 0x0) {
			local_c0.x = *(float *)(param_1 + 0x20) - local_e0;
			local_c0.y = *(float *)(param_1 + 0x24) - fStack220;
			local_c0.z = *(float *)(param_1 + 0x28) - local_d8;
			local_c0.w = 1.00000000;
			fVar7 = RSQRT(0.00000000, &local_c0);
			local_c0.x = local_c0.x * fVar7 * 0.01000000;
			local_c0.y = local_c0.y * fVar7 * 0.01000000;
			local_c0.z = local_c0.z * fVar7 * 0.01000000;
			local_e0 = local_e0 + local_c0.x;
			fStack220 = fStack220 + local_c0.y;
			local_d8 = local_d8 + local_c0.z;
		}
	}
	MovePositionFromPos2ToPos1((Vector4 *)param_4, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	((Vector4 *)param_4)->w = 1.00000000;
	((Vector4 *)param_4)->x = local_e0;
	((Vector4 *)param_4)->y = fStack220;
	((Vector4 *)param_4)->z = local_d8;
	((Vector4 *)param_4)->w = fStack212;
	local_a0 = *(float *)(param_1 + 0x3c0);
	local_d0 = local_e0 - local_a0;
	local_94 = 0x3f800000;
	fStack204 = fStack220 - local_a0;
	local_c8 = local_d8 - local_a0;
	local_a4 = 0x3f800000;
	local_c0.x = local_e0 + local_a0;
	local_c0.y = fStack220 + local_a0;
	local_c0.z = local_d8 + local_a0;
	local_84 = 0x3f800000;
	local_74 = 0x3f800000;
	local_c4 = 0x3f800000;
	local_c0.w = 1.00000000;
	local_b0 = local_d0;
	fStack172 = fStack204;
	local_a8 = local_c8;
	fStack156 = local_a0;
	local_98 = local_a0;
	local_90 = local_c0.x;
	fStack140 = local_c0.y;
	local_88 = local_c0.z;
	local_80 = local_a0;
	local_7c = local_a0;
	local_78 = local_a0;
	FUN_00200088(0.10000000, &local_d0);
	FUN_00293048(*(int **)(param_1 + 0x380), &local_d0);
	puVar5 = (undefined8 *)FUN_00293298(*(int *)(param_1 + 0x380));
	if (puVar5 != (undefined8 *)0x0) {
		uVar2 = *puVar5;
		local_a8 = *(float *)(puVar5 + 0x1);
		local_a4 = *(undefined4 *)((int)puVar5 + 0xc);
		while (true) {
			local_b0 = (float)(int)uVar2;
			fStack172 = (float)(int)((ulong)uVar2 >> 0x20);
			local_98 = *(float *)(puVar5 + 0x3);
			local_94 = *(undefined4 *)((int)puVar5 + 0x1c);
			local_a0 = (float)(int)puVar5[0x2];
			fStack156 = (float)(int)((ulong)puVar5[0x2] >> 0x20);
			local_88 = *(float *)(puVar5 + 0x5);
			local_84 = *(undefined4 *)((int)puVar5 + 0x2c);
			local_90 = (float)(int)puVar5[0x4];
			fStack140 = (float)(int)((ulong)puVar5[0x4] >> 0x20);
			local_80 = *(float *)(puVar5 + 0x6);
			iVar1 = FUN_002801d8(*(float *)(param_1 + 0x3c0), (undefined8 *)&local_b0,
				(undefined8 *)(Vector4 *)param_4, (long)(int)&local_70);
			if (iVar1 != 0x0) {
				iVar6 = 0x1;
				local_70 = local_70 - local_e0;
				local_6c = local_6c - fStack220;
				local_68 = local_68 - local_d8;
				((Vector4 *)param_4)->x = ((Vector4 *)param_4)->x + local_70;
				((Vector4 *)param_4)->y = ((Vector4 *)param_4)->y + local_6c;
				((Vector4 *)param_4)->z = ((Vector4 *)param_4)->z + local_68;
			}
			puVar5 = (undefined8 *)FUN_002932c0(*(int *)(param_1 + 0x380));
			if (puVar5 == (undefined8 *)0x0) break;
			uVar2 = *puVar5;
			local_a8 = *(float *)(puVar5 + 0x1);
			local_a4 = *(undefined4 *)((int)puVar5 + 0xc);
		}
	}
	if (iVar6 == 0x0) {
		uVar4 = *(ulong *)(param_1 + 0x40);
		if ((uVar4 & 0x200000000) == 0x0) {
			uVar4 |= 0x4000000000;
		}
		else {
			uVar4 &= 0xffffffbfffffffff;
		}
		*(ulong *)(param_1 + 0x40) = uVar4;
		uVar4 = *(ulong *)(param_1 + 0x40) & 0xffffdffdffffffff;
	}
	else {
		uVar3 = *(ulong *)(param_1 + 0x40);
		uVar4 = uVar3 & 0xffffffbfffffffff;
		*(ulong *)(param_1 + 0x40) = uVar4 | 0x200000000;
		fVar8 = *(float *)param_2 - *param_3;
		fVar11 = *(float *)((int)param_2 + 0x4) - param_3[0x1];
		fVar7 = ((Vector4 *)param_4)->x - *param_3;
		fVar12 = ((Vector4 *)param_4)->y - param_3[0x1];
		fVar10 = *(float *)(param_2 + 0x1) - param_3[0x2];
		fVar9 = ((Vector4 *)param_4)->z - param_3[0x2];
		if ((fVar8 * fVar8 + fVar11 * fVar11 + fVar10 * fVar10) -
			(fVar7 * fVar7 + fVar12 * fVar12 + fVar9 * fVar9) < 0.00005000) {
			uVar4 |= 0x200200000000;
		}
		else {
			uVar4 = uVar3 & 0xffffdfbfffffffff | 0x200000000;
		}
	}
	*(ulong *)(param_1 + 0x40) = uVar4;
	return iVar6;
}



undefined4
FUN_002767d8(int param_1, undefined8 param_2, undefined8 param_3, long param_4, long param_5,
	long param_6)

{
	undefined4 uVar1;
	undefined8 uVar2;
	undefined auStack192[0x40];
	undefined *local_80;
	undefined2 local_7c;
	undefined2 local_7a;
	undefined4 local_78;
	uint local_74;
	undefined4 local_70;
	undefined4 local_6c;
	undefined4 local_68;
	int local_64;
	undefined4 local_60;
	undefined4 local_50;
	undefined auStack76[0xc];

	if (param_5 == 0x0) {
		uVar1 = 0x80;
		if (param_6 == 0x0) {
			uVar1 = 0x20;
		}
		uVar1 = FUN_00282730((long)*(int *)(*(int *)(param_1 + 0x4c) + 0xa0), (undefined8 *)param_2,
			(undefined8 *)param_3, uVar1, (long)(int)auStack76, param_4, 0x0);
	}
	else {
		local_80 = auStack192;
		local_7c = 0x0;
		local_7a = 0x10;
		local_78 = 0x7149f2ca;
		uVar2 = 0x20;
		if (param_6 != 0x0) {
			uVar2 = 0x80;
		}
		local_70 = 0x10;
		local_74 = local_74 & 0xfffffffe | 0x2;
		local_6c = 0x1;
		local_68 = 0x0;
		local_60 = 0x0;
		local_64 = 0x0;
		FUN_001f0458((int)&local_80, *(ChunkNode **)(param_1 + 0x4c));
		if (*(int *)(param_1 + 0x3f0) != 0x0) {
			local_64 = *(int *)(param_1 + 0x3f0);
		}
		local_50 = 0x0;
		uVar1 = FUN_00281c60(*(undefined4 *)(*(int *)(param_1 + 0x4c) + 0xa0), param_2, param_3, uVar2,
			&local_80, 0xffffffffffffffff, &local_50, param_4, 0x0);
	}
	return uVar1;
}



int FUN_00276910(int param_1, undefined8 param_2, undefined8 param_3, float *param_4, long param_5)

{
	int iVar1;
	Vector4 *pVVar2;
	undefined8 uVar3;
	ulong uVar4;
	float fVar5;
	undefined8 *puVar6;
	undefined8 *puVar7;
	int iVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float local_170;
	float local_16c;
	float local_168;
	Vector4 local_160;
	Vector4 local_150;
	float local_140;
	float fStack316;
	float local_138;
	float local_134;
	float local_130;
	float local_120;
	Matrix4x4 MStack272;
	Vector4 local_d0;
	float local_c0;
	float fStack188;
	float local_b8;
	float local_b4;
	float local_b0;
	float fStack172;
	float local_a8;
	float fStack164;
	float local_a0;
	float fStack156;
	float local_98;
	float local_94;
	int local_90[0x8];

	iVar8 = 0x0;
	fVar9 = *(float *)(param_1 + 0x3c0);
	fVar14 = fVar9 + 2.00000000 + 0.10000000;
	fVar9 = fVar9 * fVar9 + 4.00000000;
	iVar1 = FUN_002767d8(param_1, param_3, param_2, (long)(int)&local_170, param_5, 0x0);
	puVar7 = (undefined8 *)param_3;
	if (iVar1 == 0x0) {
		puVar6 = (undefined8 *)param_2;
		uVar3 = *puVar6;
		fVar10 = *(float *)(puVar6 + 0x1);
		fVar5 = *(float *)((int)puVar6 + 0xc);
	LAB_00276b00:
		iVar8 = 0x1;
		*param_4 = (float)uVar3;
		param_4[0x1] = (float)((ulong)uVar3 >> 0x20);
		param_4[0x2] = fVar10;
		param_4[0x3] = fVar5;
	}
	else {
		fVar12 = local_170 - *(float *)puVar7;
		fVar11 = local_16c - *(float *)((int)puVar7 + 0x4);
		fVar5 = 1.00000000;
		fVar10 = local_168 - *(float *)(puVar7 + 0x1);
		fVar10 = fVar12 * fVar12 + fVar11 * fVar11 + fVar10 * fVar10;
		if (4.00000000 < fVar10) {
			local_160.x = local_170 - *(float *)puVar7;
			local_160.y = local_16c - *(float *)((int)puVar7 + 0x4);
			local_160.z = local_168 - *(float *)(puVar7 + 0x1);
			local_160.w = 1.00000000;
			fVar11 = fVar14;
			if (fVar10 <= fVar9) {
				fVar11 = 0.20000000;
			}
			local_150.w = 1.00000000;
			local_150.x = local_160.x;
			local_150.y = local_160.y;
			local_150.z = local_160.z;
			fVar10 = RSQRT(0.00000000, &local_160);
			local_150.x = local_150.x - local_160.x * fVar10 * fVar11;
			local_150.y = local_150.y - local_160.y * fVar10 * fVar11;
			local_150.z = local_150.z - local_160.z * fVar10 * fVar11;
			local_140 = *(float *)puVar7 + local_150.x;
			fStack316 = *(float *)((int)puVar7 + 0x4) + local_150.y;
			fVar10 = *(float *)(puVar7 + 0x1) + local_150.z;
			uVar3 = CONCAT44(fStack316, local_140);
			local_138 = fVar10;
			local_134 = fVar5;
			goto LAB_00276b00;
		}
	}
	if (iVar8 != 0x0) {
		uVar4 = *(ulong *)(param_1 + 0x40);
		goto LAB_00276f28;
	}
	MStack272.wComponents.x = *(float *)(param_1 + 0x108);
	fVar13 = 1.00000000;
	local_160.x = 0.00000000;
	local_130 = (float)(((uint)MStack272.wComponents.x & 0xffff) - 0x8000);
	local_160.y = 0.00000000;
	local_160.z = -10.00000000;
	local_160.w = 1.00000000;
	InitIdentityMatrix((Matrix4x4 *)&local_120);
	local_d0.x = local_130;
	MStack272.wComponents.x = DAT_0030a9d8;
	FUN_00183260((Matrix4x4 *)&local_120, &MStack272.wComponents);
	pVVar2 = GetPositionFromRTS((Matrix4x4 *)&local_120, 0x3);
	uVar3 = *puVar7;
	fVar5 = *(float *)(puVar7 + 0x1);
	fVar10 = *(float *)((int)puVar7 + 0xc);
	pVVar2->x = (float)uVar3;
	pVVar2->y = (float)((ulong)uVar3 >> 0x20);
	pVVar2->z = fVar5;
	pVVar2->w = fVar10;
	MultiplyMatrixByVector((Matrix4x4 *)&local_120, &local_160, &local_150);
	iVar1 = FUN_002767d8(param_1, param_3, (long)(int)&local_150, (long)(int)&local_140, param_5, 0x0);
	fVar5 = local_150.z;
	fVar10 = local_150.w;
	fVar11 = local_150.x;
	fVar12 = local_150.y;
	if (iVar1 == 0x0) {
	LAB_00276d14:
		iVar8 = 0x1;
		*param_4 = fVar11;
		param_4[0x1] = fVar12;
		param_4[0x2] = fVar5;
		param_4[0x3] = fVar10;
	}
	else {
		local_c0 = local_140 - *(float *)puVar7;
		fStack188 = fStack316 - *(float *)((int)puVar7 + 0x4);
		local_b8 = local_138 - *(float *)(puVar7 + 0x1);
		fVar5 = local_c0 * local_c0 + fStack188 * fStack188 + local_b8 * local_b8;
		local_b4 = fVar13;
		if (4.00000000 < fVar5) {
			MStack272.wComponents.x = local_140 - *(float *)puVar7;
			MStack272.wComponents.y = fStack316 - *(float *)((int)puVar7 + 0x4);
			MStack272.wComponents.z = local_138 - *(float *)(puVar7 + 0x1);
			fVar10 = fVar14;
			if (fVar5 <= fVar9) {
				fVar10 = 0.20000000;
			}
			MStack272.wComponents.w = fVar13;
			local_b0 = MStack272.wComponents.x;
			fStack172 = MStack272.wComponents.y;
			local_a8 = MStack272.wComponents.z;
			fStack164 = fVar13;
			fVar5 = RSQRT(0.00000000, &MStack272.wComponents);
			MStack272.wComponents.x = MStack272.wComponents.x * fVar5 * fVar10;
			MStack272.wComponents.y = MStack272.wComponents.y * fVar5 * fVar10;
			MStack272.wComponents.z = MStack272.wComponents.z * fVar5 * fVar10;
			local_b0 = local_b0 - MStack272.wComponents.x;
			fStack172 = fStack172 - MStack272.wComponents.y;
			local_a8 = local_a8 - MStack272.wComponents.z;
			local_a0 = *(float *)puVar7 + local_b0;
			fStack156 = *(float *)((int)puVar7 + 0x4) + fStack172;
			local_98 = *(float *)(puVar7 + 0x1) + local_a8;
			fVar5 = local_98;
			fVar10 = fVar13;
			local_94 = fVar13;
			fVar11 = local_a0;
			fVar12 = fStack156;
			goto LAB_00276d14;
		}
	}
	if (iVar8 != 0x0) {
		uVar4 = *(ulong *)(param_1 + 0x40);
		goto LAB_00276f28;
	}
	local_d0.x = *(float *)(param_1 + 0x108);
	local_120 = *(float *)(param_1 + 0x68);
	local_d0.w = 1.00000000;
	local_130 = (float)(((uint)local_d0.x & 0xffff) - 0x8000);
	local_160.z = -10.00000000;
	local_160.x = 0.00000000;
	local_160.y = 0.00000000;
	local_160.w = 1.00000000;
	InitIdentityMatrix(&MStack272);
	local_90[0] = (int)local_130;
	local_d0.x = local_120;
	FUN_00183260(&MStack272, &local_d0, local_90);
	pVVar2 = GetPositionFromRTS(&MStack272, 0x3);
	uVar3 = *puVar7;
	fVar5 = *(float *)(puVar7 + 0x1);
	fVar10 = *(float *)((int)puVar7 + 0xc);
	pVVar2->x = (float)uVar3;
	pVVar2->y = (float)((ulong)uVar3 >> 0x20);
	pVVar2->z = fVar5;
	pVVar2->w = fVar10;
	MultiplyMatrixByVector(&MStack272, &local_160, &local_150);
	iVar1 = FUN_002767d8(param_1, param_3, (long)(int)&local_150, (long)(int)&local_140, param_5, 0x0);
	if (iVar1 == 0x0) {
	LAB_00276f18:
		iVar8 = 0x1;
		*param_4 = local_150.x;
		param_4[0x1] = local_150.y;
		param_4[0x2] = local_150.z;
		param_4[0x3] = local_150.w;
	}
	else {
		fVar10 = local_140 - *(float *)puVar7;
		fVar5 = fStack316 - *(float *)((int)puVar7 + 0x4);
		fVar11 = local_138 - *(float *)(puVar7 + 0x1);
		fVar5 = fVar10 * fVar10 + fVar5 * fVar5 + fVar11 * fVar11;
		if (4.00000000 < fVar5) {
			local_d0.x = local_140 - *(float *)puVar7;
			local_d0.y = fStack316 - *(float *)((int)puVar7 + 0x4);
			local_d0.z = local_138 - *(float *)(puVar7 + 0x1);
			if (fVar5 <= fVar14) {
				fVar9 = 0.20000000;
			}
			local_c0 = local_d0.x;
			fStack188 = local_d0.y;
			local_b8 = local_d0.z;
			local_b4 = local_d0.w;
			fVar14 = RSQRT(0.00000000, &local_d0);
			local_150.w = local_d0.w;
			local_150.x = *(float *)puVar7 + (local_c0 - local_d0.x * fVar14 * fVar9);
			local_150.y = *(float *)((int)puVar7 + 0x4) + (fStack188 - local_d0.y * fVar14 * fVar9);
			local_150.z = *(float *)(puVar7 + 0x1) + (local_b8 - local_d0.z * fVar14 * fVar9);
			goto LAB_00276f18;
		}
	}
	if (iVar8 == 0x0) {
		return 0x0;
	}
	uVar4 = *(ulong *)(param_1 + 0x40);
LAB_00276f28:
	*(ulong *)(param_1 + 0x40) = uVar4 & 0xfffefffcfffdffff | 0x4000000000;
	return iVar8;
}



int FUN_00276fd8(int param_1, long param_2)

{
	bool bVar1;
	int iVar2;
	uint uVar3;
	ulong uVar4;
	undefined4 local_30;
	float fStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined auStack32[0x10];

	uVar4 = *(ulong *)(param_1 + 0x40);
	uVar3 = 0x0;
	if ((uVar4 & 0x100000) == 0x0) {
		if ((uVar4 & 0x200000000000) == 0x0) {
			bVar1 = (uVar4 & 0x600000000) != 0x0;
			uVar3 = (uint)bVar1;
			if (!bVar1) {
				iVar2 = *(int *)(param_1 + 0x50);
				local_30 = *(undefined4 *)(iVar2 + 0x40);
				uStack40 = *(undefined4 *)(iVar2 + 0x48);
				uStack36 = *(undefined4 *)(iVar2 + 0x4c);
				fStack44 = *(float *)(iVar2 + 0x44) + 1.00000000;
				uVar3 = FUN_002767d8(param_1, (long)(int)&local_30, param_2, (long)(int)auStack32,
					(ulong)((*(ulong *)(param_1 + 0x40) & 0x400000000) != 0x0), 0x1);
			}
		}
		else {
			uVar3 = 0x1;
		}
	}
	return (int)uVar3;
}



ulong FUN_00277108(int param_1, int param_2)

{
	uint uVar1;
	ulong uVar2;
	float local_50;
	float local_4c;
	float local_48;
	undefined4 auStack64[0x4];
	float local_30;
	float local_2c;
	float local_28;
	undefined4 local_24;

	if (*(char *)(param_2 + 0x24) == '\0') {
		uVar1 = FUN_0027dc00(param_2, DAT_00309acc + 0x8, (float *)(param_1 + 0x20),
			(undefined4 *)(param_1 + 0x10));
		uVar2 = SEXT48((int)uVar1);
	}
	else {
		uVar1 = FUN_0027dc00(param_2, DAT_00309acc + 0x8, &local_50, auStack64);
		if (uVar1 == 0x0) {
			local_30 = (local_50 - *(float *)(param_1 + 0x20)) * 0.05000000;
			local_2c = (local_4c - *(float *)(param_1 + 0x24)) * 0.05000000;
			local_28 = (local_48 - *(float *)(param_1 + 0x28)) * 0.05000000;
			local_24 = 0x3f800000;
			*(float *)(param_1 + 0x20) = *(float *)(param_1 + 0x20) + local_30;
			*(float *)(param_1 + 0x24) = *(float *)(param_1 + 0x24) + local_2c;
			*(float *)(param_1 + 0x28) = *(float *)(param_1 + 0x28) + local_28;
			uVar2 = FUN_00187890(0x3d4ccccd, param_1 + 0x10, param_1 + 0x10, auStack64);
		}
		else {
			*(undefined *)(param_2 + 0x24) = 0x0;
			*(undefined *)(param_2 + 0x25) = 0x1;
			*(undefined *)(param_1 + 0x3cc) = 0x0;
			uVar2 = *(ulong *)(param_1 + 0x48) | 0x40;
			*(ulong *)(param_1 + 0x48) = uVar2;
		}
	}
	return uVar2;
}



void FUN_00277250(int param_1)

{
	int iVar1;
	ulong uVar2;
	float fVar3;

	iVar1 = *(int *)(param_1 + 0x50);
	fVar3 = ABS(*(float *)(iVar1 + 0x50) * *(float *)(iVar1 + 0x50) +
		*(float *)(iVar1 + 0x54) * *(float *)(iVar1 + 0x54) +
		*(float *)(iVar1 + 0x58) * *(float *)(iVar1 + 0x58));
	uVar2 = *(ulong *)(param_1 + 0x40);
	if ((fVar3 <= 0.00010000) && ((uVar2 & 0x28) != 0x8)) {
		if ((fVar3 <= 0.00010000) && ((uVar2 & 0x200000080) == 0x200000000)) {
			*(undefined4 *)(param_1 + 0x38c) = 0x0;
			*(ulong *)(param_1 + 0x40) = uVar2 & 0xffffffbfffffffff | 0x1000100020000;
		}
		return;
	}
	*(ulong *)(param_1 + 0x40) = uVar2 & 0xfffefffefffdffff | 0x4000000000;
	return;
}



void FUN_00277398(float param_1, int param_2, undefined4 *param_3, undefined4 *param_4)

{
	float fVar1;
	float fVar2;
	undefined4 uVar3;
	float fVar4;
	undefined4 uVar5;
	float fVar6;

	fVar6 = *(float *)(param_2 + 0x8c);
	fVar1 = (float)param_3[0x1];
	if (fVar6 < *(float *)(param_2 + 0x88)) {
		fVar1 = fVar1 - *(float *)(param_2 + 0xa4);
		fVar2 = param_1 * 5.00000000 + fVar6;
		if (((fVar1 <= fVar6) ||
			(*(float *)(param_2 + 0x8c) = fVar1, *(float *)(param_2 + 0xa4) <= 0.00005000)) &&
			(*(float *)(param_2 + 0x8c) = *(float *)(param_2 + 0x88), fVar2 < *(float *)(param_2 + 0x88))
			) {
			*(float *)(param_2 + 0x8c) = fVar2;
		}
	}
	else {
		fVar2 = fVar1 + 0.10000000;
		fVar4 = *(float *)(param_2 + 0xa4);
		if (fVar2 < *(float *)(param_2 + 0x88)) {
			*(float *)(param_2 + 0x8c) = fVar4;
		}
		else {
			if (fVar6 < fVar2 - fVar4) {
				*(float *)(param_2 + 0x8c) = fVar2 - fVar4;
				if (fVar4 < 0.00005000) {
					*(float *)(param_2 + 0x8c) = fVar1;
				}
			}
			else {
				uVar5 = *(undefined4 *)(param_2 + 0x8c);
				if (fVar6 <= fVar2) goto LAB_00277494;
				*(float *)(param_2 + 0x8c) = fVar2;
			}
		}
	}
	uVar5 = *(undefined4 *)(param_2 + 0x8c);
LAB_00277494:
	uVar3 = param_3[0x2];
	*param_4 = *param_3;
	param_4[0x3] = 0x3f800000;
	param_4[0x1] = uVar5;
	param_4[0x2] = uVar3;
	return;
}



// WARNING: Removing unreachable block (ram,0x002775a8)

void FUN_002774b8(float *param_1, int param_2, float *param_3)

{
	byte bVar1;
	TransformedGeometyPoint *pTVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	int iVar7;
	ulong uVar8;
	float local_50;
	float local_4c;
	float local_48;

	if (param_1[0x1f] != 0.00000000) {
		if ((*(ulong *)(param_1 + 0x1c) & 0x10) == 0x0) {
			fVar3 = *(float *)(param_2 + 0x30);
			fVar4 = *(float *)(param_2 + 0x34);
			fVar5 = *(float *)(param_2 + 0x38);
			fVar6 = *(float *)(param_2 + 0x3c);
			goto LAB_002776d0;
		}
		bVar1 = *(byte *)((int)param_1[0x1f] + 0x19);
		uVar8 = 0x0;
		if (bVar1 != 0x0) {
			local_50 = 0.00000000;
			local_4c = 0.00000000;
			local_48 = 0.00000000;
			if (bVar1 != 0x0) {
				do {
					iVar7 = (int)uVar8;
					uVar8 = SEXT48(iVar7 + 0x1);
					pTVar2 = *(TransformedGeometyPoint **)
						(*(int *)((int)param_1[0x1f] + iVar7 * 0x4 + 0xe4) + 0x8);
					RotateAndTranslate_(pTVar2);
					local_50 = local_50 + (pTVar2->transformMatrix).wComponents.x;
					local_4c = local_4c + (pTVar2->transformMatrix).wComponents.y;
					local_48 = local_48 + (pTVar2->transformMatrix).wComponents.z;
				} while (uVar8 < bVar1);
			}
			fVar3 = 1.00000000 / (float)(uint)bVar1;
			fVar5 = param_1[0x20];
			fVar4 = param_1[0x21];
			local_50 = (local_50 * fVar3 - *(float *)(param_2 + 0x30)) * fVar5;
			local_4c = (local_4c * fVar3 - *(float *)(param_2 + 0x34)) * fVar5;
			local_48 = (local_48 * fVar3 - *(float *)(param_2 + 0x38)) * fVar5;
			fVar3 = SQRT(local_50 * local_50 + local_4c * local_4c + local_48 * local_48);
			*param_1 = fVar3;
			if (fVar4 < fVar3) {
				fVar4 = fVar4 / fVar3;
				*param_1 = 1.00000000;
				local_48 = local_48 * fVar4;
				local_50 = local_50 * fVar4;
				local_4c = local_4c * fVar4;
			}
			else {
				*param_1 = fVar3 / fVar4;
			}
			fVar3 = *(float *)(param_2 + 0x34);
			fVar4 = *(float *)(param_2 + 0x38);
			fVar5 = *(float *)(param_2 + 0x3c);
			*param_3 = *(float *)(param_2 + 0x30);
			param_3[0x1] = fVar3;
			param_3[0x2] = fVar4;
			param_3[0x3] = fVar5;
			*param_3 = *param_3 + local_50;
			param_3[0x1] = param_3[0x1] + local_4c;
			param_3[0x2] = param_3[0x2] + local_48;
			return;
		}
	}
	fVar3 = *(float *)(param_2 + 0x30);
	fVar4 = *(float *)(param_2 + 0x34);
	fVar5 = *(float *)(param_2 + 0x38);
	fVar6 = *(float *)(param_2 + 0x3c);
LAB_002776d0:
	*param_3 = fVar3;
	param_3[0x1] = fVar4;
	param_3[0x2] = fVar5;
	param_3[0x3] = fVar6;
	return;
}



undefined8 FUN_00277700(undefined8 param_1)

{
	float *pfVar1;

	pfVar1 = (float *)param_1;
	*(undefined *)((int)pfVar1 + 0x61) = 0x1;
	pfVar1[0x19] = 0.00000000;
	*pfVar1 = 0.00000000;
	*(undefined *)(pfVar1 + 0x18) = 0x0;
	pfVar1[0x6] = 0.00000000;
	pfVar1[0x5] = 0.00000000;
	pfVar1[0x4] = 0.00000000;
	pfVar1[0x7] = 1.00000000;
	MovePositionFromPos2ToPos1((Vector4 *)(pfVar1 + 0x8), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pfVar1[0xb] = 1.00000000;
	pfVar1[0x1d] = 0.00000000;
	pfVar1[0x19] = 0.00000000;
	FUN_00279488((long)(int)(pfVar1 + 0x60));
	MovePositionFromPos2ToPos1((Vector4 *)(pfVar1 + 0x3c), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pfVar1[0x3f] = 1.00000000;
	MovePositionFromPos2ToPos1((Vector4 *)(pfVar1 + 0x40), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pfVar1[0x43] = 1.00000000;
	MovePositionFromPos2ToPos1((Vector4 *)(pfVar1 + 0x4c), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pfVar1[0x4f] = 1.00000000;
	MovePositionFromPos2ToPos1((Vector4 *)(pfVar1 + 0x50), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pfVar1[0x53] = 1.00000000;
	*(undefined *)(pfVar1 + 0x18) = 0x0;
	FUN_00277828(pfVar1);
	return param_1;
}



void FUN_00277828(float *param_1)

{
	int *piVar1;
	TransformedGeometyPoint *pTVar2;
	int iVar3;
	float *pfVar4;
	float local_50;
	float fStack76;
	float local_48;
	float fStack68;

	param_1[0x1c] = 0.00000000;
	param_1[0x28] = param_1[0x3c];
	param_1[0x29] = param_1[0x3d];
	param_1[0x2a] = param_1[0x3e];
	param_1[0x2b] = param_1[0x3f];
	param_1[0x1e] = 0.00000000;
	param_1[0x1f] = 0.00000000;
	param_1[0x24] = 0.50000000;
	param_1[0x28] = param_1[0x28] + param_1[0x40];
	param_1[0x29] = param_1[0x29] + param_1[0x41];
	param_1[0x2a] = param_1[0x2a] + param_1[0x42];
	param_1[0x28] = param_1[0x28] * 0.50000000;
	param_1[0x29] = param_1[0x29] * 0.50000000;
	param_1[0x2a] = param_1[0x2a] * 0.50000000;
	piVar1 = (int *)param_1[0x1d];
	iVar3 = 0x0;
	if (piVar1 != (int *)0x0) {
		iVar3 = *piVar1;
	}
	if (iVar3 == 0x0) {
		param_1[0x6] = 0.00000000;
		param_1[0x5] = 0.00000000;
		param_1[0x4] = 0.00000000;
		param_1[0x7] = 1.00000000;
		MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x8), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		param_1[0xb] = 1.00000000;
		MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x2c), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1)
			;
		param_1[0x2f] = 1.00000000;
		*param_1 = 0.00000000;
		param_1[0x23] = 0.00000000;
	}
	else {
		if (piVar1 == (int *)0x0) {
			iVar3 = 0x0;
		}
		else {
			iVar3 = *piVar1;
		}
		pTVar2 = *(TransformedGeometyPoint **)(iVar3 + 0x8);
		pfVar4 = param_1 + 0x2c;
		RotateAndTranslate_(pTVar2);
		FUN_002774b8(param_1, (int)pTVar2, param_1 + 0x8);
		FUN_00187090((Vector4 *)(param_1 + 0x4), pTVar2);
		param_1[0x10] = param_1[0x8];
		param_1[0x11] = param_1[0x9];
		param_1[0x12] = param_1[0xa];
		param_1[0x13] = param_1[0xb];
		param_1[0xc] = param_1[0x4];
		param_1[0xd] = param_1[0x5];
		param_1[0xe] = param_1[0x6];
		param_1[0xf] = param_1[0x7];
		param_1[0x23] = (pTVar2->transformMatrix).wComponents.y;
		FUN_00277398(0.00000000, (int)param_1, param_1 + 0x8, pfVar4);
		if ((*(ulong *)(param_1 + 0x1c) & 0x40000) == 0x0) {
			if ((*(ulong *)(param_1 + 0x1c) & 0x90000) == 0x80000) {
				local_50 = param_1[0x28];
				fStack76 = param_1[0x29];
				local_48 = param_1[0x2a];
				fStack68 = param_1[0x2b];
			}
			else {
				FUN_00187528((float *)(Vector4 *)(param_1 + 0x4), param_1 + 0x28, &local_50, 0x0);
			}
		}
		else {
			local_50 = param_1[0x28];
			fStack76 = param_1[0x29];
			local_48 = param_1[0x2a];
			fStack68 = param_1[0x2b];
		}
		*pfVar4 = *pfVar4 + local_50;
		param_1[0x2d] = param_1[0x2d] + fStack76;
		param_1[0x2e] = param_1[0x2e] + local_48;
	}
	param_1[0x5c] = 0.00000000;
	param_1[0x22] = param_1[0x23];
	*(ulong *)(param_1 + 0x1c) = *(ulong *)(param_1 + 0x1c) & 0xfffffffffffffdff;
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x54), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	param_1[0x57] = 1.00000000;
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x58), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	param_1[0x5b] = 1.00000000;
	*(ulong *)(param_1 + 0x1c) = *(ulong *)(param_1 + 0x1c) | 0x4000;
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x30), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	param_1[0x33] = 1.00000000;
	FUN_0027c980((int)param_1);
	param_1[0x60] = 0.00000000;
	*(ulong *)(param_1 + 0x1c) = *(ulong *)(param_1 + 0x1c) & 0xffffffffffefffff;
	*(ulong *)(param_1 + 0x60) = *(ulong *)(param_1 + 0x60) & 0xffffffffffffffef | 0x10;
	FUN_0027c980((int)param_1);
	return;
}



ulong FUN_00277b10(float *param_1, float *param_2)

{
	TransformedGeometyPoint *pTVar1;
	bool bVar2;
	byte bVar3;
	Vector4 *pVVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	int iVar9;
	float fVar10;
	float fVar11;
	float fVar13;
	ulong uVar12;
	float fVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	ulong uVar18;
	float fVar19;
	float local_60;
	float fStack92;
	float local_58;
	undefined4 local_54;
	float local_50;
	float local_4c;
	float local_48;
	undefined4 local_44;

	iVar9 = 0x0;
	if ((int *)param_1[0x1d] != (int *)0x0) {
		iVar9 = *(int *)param_1[0x1d];
	}
	if (iVar9 == 0x0) {
		param_1[0x6] = 0.00000000;
		param_1[0x5] = 0.00000000;
		param_1[0x4] = 0.00000000;
		param_1[0x7] = 1.00000000;
		MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x8), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		param_1[0xb] = 1.00000000;
		pVVar4 = MovePositionFromPos2ToPos1
		((Vector4 *)(param_1 + 0x2c), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		param_1[0x2f] = 1.00000000;
		*param_1 = 0.00000000;
		return (long)(int)pVVar4;
	}
	fVar10 = param_1[0x8];
	fVar13 = param_1[0x9];
	fVar15 = param_1[0xa];
	fVar19 = (float)(int)param_2[0x2] * DAT_00309b80;
	if ((*(ulong *)(param_1 + 0x1c) & 0xa000) == 0xa000) {
		*(undefined *)((int)param_1 + 0x61) = 0x1;
		*(ulong *)(param_1 + 0x1c) = *(ulong *)(param_1 + 0x1c) & 0xffffffffffffdfff;
	}
	if ((TransformedGeometyPoint *)param_1[0x1e] == (TransformedGeometyPoint *)0x0) {
		if ((int *)param_1[0x1d] == (int *)0x0) {
			iVar9 = 0x0;
		}
		else {
			iVar9 = *(int *)param_1[0x1d];
		}
		pTVar1 = *(TransformedGeometyPoint **)(iVar9 + 0x8);
		RotateAndTranslate_(pTVar1);
		FUN_002774b8(param_1, (int)pTVar1, param_1 + 0x10);
		FUN_00187090((Vector4 *)(param_1 + 0xc), pTVar1);
	}
	else {
		FUN_00187090((Vector4 *)(param_1 + 0xc), (TransformedGeometyPoint *)param_1[0x1e]);
		fVar8 = param_1[0x1e];
		fVar5 = *(float *)((int)fVar8 + 0x30);
		fVar6 = *(float *)((int)fVar8 + 0x34);
		fVar7 = *(float *)((int)fVar8 + 0x38);
		fVar8 = *(float *)((int)fVar8 + 0x3c);
		*param_1 = 0.00000000;
		param_1[0x10] = fVar5;
		param_1[0x11] = fVar6;
		param_1[0x12] = fVar7;
		param_1[0x13] = fVar8;
	}
	param_1[0x4] = param_1[0xc];
	param_1[0x5] = param_1[0xd];
	param_1[0x6] = param_1[0xe];
	param_1[0x7] = param_1[0xf];
	uVar18 = *(ulong *)(param_1 + 0x1c);
	param_1[0x8] = param_1[0x10];
	param_1[0x9] = param_1[0x11];
	param_1[0xa] = param_1[0x12];
	param_1[0xb] = param_1[0x13];
	if ((uVar18 & 0x11006) != 0x2) goto LAB_00277eac;
	param_1[0x34] = param_2[0x1];
	*(ulong *)(param_1 + 0x1c) = uVar18 | 0x4;
	if (((uVar18 & 0x20000) == 0x0) &&
		((param_1[0x30] - fVar10) * (param_1[0x30] - fVar10) +
		(param_1[0x31] - fVar13) * (param_1[0x31] - fVar13) +
			(param_1[0x32] - fVar15) * (param_1[0x32] - fVar15) < 15.00000000)) {
		*(ulong *)(param_1 + 0x1c) = uVar18 & 0xfffffffffffffffb;
	}
	if ((*(ulong *)(param_1 + 0x1c) & 0x8) == 0x0) {
		bVar3 = 0x0;
		if (param_1[0x54] == param_1[0x3c]) {
			bVar2 = true;
			if (param_1[0x55] == param_1[0x3d]) {
				bVar3 = 0x1;
				goto LAB_00277e30;
			}
		}
		else {
		LAB_00277e30:
			bVar2 = (bool)(bVar3 ^ 0x1);
		}
		if (bVar2) {
		LAB_00277e94:
			uVar18 = *(ulong *)(param_1 + 0x1c);
			uVar12 = 0x1000;
		}
		else {
			bVar3 = 0x0;
			if (param_1[0x58] == param_1[0x40]) {
				bVar2 = true;
				if (param_1[0x59] == param_1[0x41]) {
					bVar3 = 0x1;
					goto LAB_00277e88;
				}
			}
			else {
			LAB_00277e88:
				bVar2 = (bool)(bVar3 ^ 0x1);
			}
			if (bVar2) goto LAB_00277e94;
			uVar18 = *(ulong *)(param_1 + 0x1c);
		LAB_00277ea0:
			uVar12 = 0x10000;
		}
	}
	else {
		bVar3 = 0x0;
		if (param_1[0x54] == param_1[0x44]) {
			bVar2 = true;
			if (param_1[0x55] == param_1[0x45]) {
				bVar3 = 0x1;
				goto LAB_00277d70;
			}
		}
		else {
		LAB_00277d70:
			bVar2 = (bool)(bVar3 ^ 0x1);
		}
		if (!bVar2) {
			bVar3 = 0x0;
			if (param_1[0x58] == param_1[0x48]) {
				bVar2 = true;
				if (param_1[0x59] == param_1[0x49]) {
					bVar3 = 0x1;
					goto LAB_00277dc8;
				}
			}
			else {
			LAB_00277dc8:
				bVar2 = (bool)(bVar3 ^ 0x1);
			}
			if (!bVar2) {
				uVar18 = *(ulong *)(param_1 + 0x1c);
				goto LAB_00277ea0;
			}
		}
		uVar18 = *(ulong *)(param_1 + 0x1c);
		uVar12 = 0x1000;
	}
	*(ulong *)(param_1 + 0x1c) = uVar18 | uVar12;
LAB_00277eac:
	if ((*(ulong *)(param_1 + 0x1c) & 0x8) == 0x0) {
		fVar8 = param_1[0x3c];
		fVar5 = param_1[0x3d];
		fVar6 = param_1[0x3e];
		fVar7 = param_1[0x3f];
		fVar11 = param_1[0x40];
		fVar14 = param_1[0x41];
		fVar16 = param_1[0x42];
		fVar17 = param_1[0x43];
	}
	else {
		fVar8 = param_1[0x44];
		fVar5 = param_1[0x45];
		fVar6 = param_1[0x46];
		fVar7 = param_1[0x47];
		fVar11 = param_1[0x48];
		fVar14 = param_1[0x49];
		fVar16 = param_1[0x4a];
		fVar17 = param_1[0x4b];
	}
	param_1[0x54] = fVar8;
	param_1[0x55] = fVar5;
	param_1[0x56] = fVar6;
	param_1[0x57] = fVar7;
	param_1[0x58] = fVar11;
	param_1[0x59] = fVar14;
	param_1[0x5a] = fVar16;
	param_1[0x5b] = fVar17;
	if ((*(ulong *)(param_1 + 0x1c) & 0x1000) == 0x0) {
		fVar8 = param_1[0x54];
	}
	else {
		if ((int)param_2[0x1] - (int)param_1[0x34] < (int)param_1[0x35]) {
			local_58 = ((float)((int)param_2[0x1] - (int)param_1[0x34]) * DAT_00309b80) /
				((float)(int)param_1[0x35] * DAT_00309b80);
			param_1[0x54] = (param_1[0x54] - param_1[0x4c]) * local_58;
			param_1[0x55] = (param_1[0x55] - param_1[0x4d]) * local_58;
			param_1[0x56] = (param_1[0x56] - param_1[0x4e]) * local_58;
			param_1[0x57] = 1.00000000;
			param_1[0x54] = param_1[0x54] + param_1[0x4c];
			param_1[0x55] = param_1[0x55] + param_1[0x4d];
			param_1[0x56] = param_1[0x56] + param_1[0x4e];
			local_50 = param_1[0x58] - param_1[0x50];
			local_4c = param_1[0x59] - param_1[0x51];
			local_48 = param_1[0x5a] - param_1[0x52];
			local_44 = 0x3f800000;
			local_60 = local_50 * local_58;
			fStack92 = local_4c * local_58;
			local_58 = local_48 * local_58;
			local_54 = 0x3f800000;
			param_1[0x58] = local_60;
			param_1[0x59] = fStack92;
			param_1[0x5a] = local_58;
			param_1[0x5b] = 1.00000000;
			param_1[0x58] = param_1[0x58] + param_1[0x50];
			param_1[0x59] = param_1[0x59] + param_1[0x51];
			param_1[0x5a] = param_1[0x5a] + param_1[0x52];
		}
		else {
			*(ulong *)(param_1 + 0x1c) = *(ulong *)(param_1 + 0x1c) & 0xffffffffffffefff | 0x10000;
		}
		fVar8 = param_1[0x54];
	}
	fVar5 = param_1[0x24];
	param_1[0x28] = fVar8 + (param_1[0x58] - fVar8) * fVar5;
	param_1[0x29] = param_1[0x55] + (param_1[0x59] - param_1[0x55]) * fVar5;
	param_1[0x2b] = 1.00000000;
	param_1[0x2a] = param_1[0x56] + (param_1[0x5a] - param_1[0x56]) * fVar5;
	if ((*(ulong *)(param_1 + 0x1c) & 0x20) == 0x0) {
		FUN_00277398(fVar19, (int)param_1, param_1 + 0x8, param_1 + 0x2c);
		uVar18 = *(ulong *)(param_1 + 0x1c);
	}
	else {
		param_1[0x2c] = param_1[0x8];
		param_1[0x2d] = param_1[0x9];
		param_1[0x2e] = param_1[0xa];
		param_1[0x2f] = param_1[0xb];
		uVar18 = *(ulong *)(param_1 + 0x1c);
	}
	if ((uVar18 & 0x40000) == 0x0) {
		if ((uVar18 & 0x90000) == 0x80000) {
			local_60 = param_1[0x28];
			fStack92 = param_1[0x29];
			local_58 = param_1[0x2a];
		}
		else {
			FUN_00187528(param_1 + 0x4, param_1 + 0x28, &local_60, 0x0);
		}
	}
	else {
		local_60 = param_1[0x28];
		fStack92 = param_1[0x29];
		local_58 = param_1[0x2a];
	}
	param_1[0x2c] = param_1[0x2c] + local_60;
	param_1[0x2d] = param_1[0x2d] + fStack92;
	param_1[0x2e] = param_1[0x2e] + local_58;
	if ((*(ulong *)(param_1 + 0x1c) & 0x200) == 0x0) {
		uVar18 = *(ulong *)(param_1 + 0x1c);
	}
	else {
		param_1[0x30] = param_1[0x2c];
		param_1[0x31] = param_1[0x2d];
		param_1[0x32] = param_1[0x2e];
		param_1[0x33] = param_1[0x2f];
		uVar18 = *(ulong *)(param_1 + 0x1c);
	}
	if ((uVar18 & 0x4) == 0x0) {
		if ((uVar18 & 0x1) == 0x0) {
			fVar10 = param_1[0x2c];
			fVar13 = param_1[0x2d];
			fVar15 = param_1[0x2e];
			fVar19 = param_1[0x2f];
		}
		else {
			fVar10 = param_1[0x30];
			fVar13 = param_1[0x31];
			fVar15 = param_1[0x32];
			fVar19 = param_1[0x33];
		}
		param_1[0x8] = fVar10;
		param_1[0x9] = fVar13;
		param_1[0xa] = fVar15;
		param_1[0xb] = fVar19;
	}
	else {
		if ((int)param_2[0x1] - (int)param_1[0x34] < (int)param_1[0x35]) {
			fVar19 = ((float)((int)param_2[0x1] - (int)param_1[0x34]) * DAT_00309b80) /
				((float)(int)param_1[0x35] * DAT_00309b80);
			if ((uVar18 & 0x1c0) == 0x80) {
				fVar19 = fVar19 * fVar19 * fVar19;
			}
			param_1[0x8] = param_1[0x2c];
			param_1[0x9] = param_1[0x2d];
			param_1[0xa] = param_1[0x2e];
			param_1[0xb] = param_1[0x2f];
			param_1[0x8] = fVar10 + (param_1[0x30] - fVar10) * fVar19;
			param_1[0x9] = fVar13 + (param_1[0x31] - fVar13) * fVar19;
			param_1[0xb] = 1.00000000;
			param_1[0xa] = fVar15 + (param_1[0x32] - fVar15) * fVar19;
		}
		else {
			param_1[0x8] = param_1[0x30];
			param_1[0x9] = param_1[0x31];
			param_1[0xa] = param_1[0x32];
			param_1[0xb] = param_1[0x33];
			if (param_1[0x1f] == 0.00000000) {
				param_1[0x2c] = param_1[0x30];
				param_1[0x2d] = param_1[0x31];
				param_1[0x2e] = param_1[0x32];
				param_1[0x2f] = param_1[0x33];
			}
		}
	}
	uVar18 = *(ulong *)(param_1 + 0x1c);
	*(ulong *)(param_1 + 0x1c) = uVar18 | 0x8000;
	return uVar18 | 0x8000;
}



// WARNING: Removing unreachable block (ram,0x00278428)

float FUN_002782e0(undefined8 param_1, int param_2)

{
	undefined4 uVar1;
	ulong uVar2;
	ulong *puVar3;
	ulong uVar4;
	long lVar5;
	ulong uVar6;
	int iVar7;
	int iVar8;
	float in_f0;
	float fVar9;

	fVar9 = 0.00000000;
	iVar7 = (int)param_1;
	if ((param_2 != 0x0) && ((**(ulong **)(param_2 + 0x170) >> 0x22 & 0x1) != 0x0)) {
		*(undefined4 *)(iVar7 + 0x180) = 0x0;
		*(ulong *)(iVar7 + 0x70) = *(ulong *)(iVar7 + 0x70) & 0xffffffffffefffff;
		*(ulong *)(iVar7 + 0x180) = *(ulong *)(iVar7 + 0x180) & 0xffffffffffffffef | 0x10;
		in_f0 = (float)FUN_0027c980(iVar7);
	}
	uVar4 = *(ulong *)(iVar7 + 0x70);
	if ((uVar4 & 0x100000) != 0x0) {
		FUN_002785c0(param_1, (ulong *)(iVar7 + 0x180));
		uVar4 = *(ulong *)(iVar7 + 0x70);
		goto LAB_0027858c;
	}
	iVar8 = *(int *)(iVar7 + 0x170);
	if (iVar8 != param_2) {
		*(undefined *)(iVar7 + 0x61) = 0x1;
		*(ulong *)(iVar7 + 0x70) = uVar4 & 0xfffffffffff9cde0 | 0x18000;
		if (iVar8 == 0x0) {
			puVar3 = *(ulong **)(param_2 + 0x170);
		LAB_002784c4:
			lVar5 = 0x0;
			uVar4 = *(ulong *)(iVar7 + 0x70);
			if ((((*puVar3 >> 0x5 & 0xff ^ 0x1) & 0x1) == 0x0) || ((uVar4 & 0x4000) != 0x0)) {
				lVar5 = 0x1;
			}
			uVar6 = uVar4 & 0xffffffffffff5fff | lVar5 << 0xd;
			*(ulong *)(iVar7 + 0x70) = uVar6;
			*(byte *)(iVar7 + 0x61) = ((byte)(uVar6 >> 0xd) ^ 0x1) & 0x1;
			if (*(int *)(iVar7 + 0x170) == 0x0) {
				*(ulong *)(iVar7 + 0x70) = uVar4 & 0xfffffffffff75fff | lVar5 << 0xd;
				goto LAB_00278570;
			}
			uVar4 = **(ulong **)(*(int *)(iVar7 + 0x170) + 0x170);
		}
		else {
			if (param_2 != 0x0) {
				puVar3 = *(ulong **)(param_2 + 0x170);
				goto LAB_002784c4;
			}
			puVar3 = *(ulong **)(iVar8 + 0x170);
			uVar6 = (*puVar3 >> 0x5 & 0xff ^ 0x1) & 0x1;
			*(ulong *)(iVar7 + 0x70) = uVar4 & 0xfffffffffff9cde0 | 0x18200;
			if (uVar6 != 0x0) {
				in_f0 = *(float *)(puVar3 + 0x2) * DAT_00309b7c;
				*(undefined4 *)(iVar7 + 0xe0) = (int)*(undefined8 *)(iVar7 + 0x20);
				*(undefined4 *)(iVar7 + 0xe4) = (int)((ulong)*(undefined8 *)(iVar7 + 0x20) >> 0x20);
				*(undefined4 *)(iVar7 + 0xe8) = *(undefined4 *)(iVar7 + 0x28);
				*(undefined4 *)(iVar7 + 0xec) = *(undefined4 *)(iVar7 + 0x2c);
				if ((byte)((uint)in_f0 >> 0x17) < 0x9e) {
					iVar8 = (int)in_f0;
				}
				else {
					if ((int)in_f0 < 0x0) {
						iVar8 = 0x7fffffff;
					}
					else {
						iVar8 = -0x80000000;
					}
				}
				*(int *)(iVar7 + 0xd4) = iVar8;
				uVar2 = *puVar3;
				*(undefined4 *)(iVar7 + 0x130) = (int)*(undefined8 *)(iVar7 + 0x150);
				*(undefined4 *)(iVar7 + 0x134) = (int)((ulong)*(undefined8 *)(iVar7 + 0x150) >> 0x20);
				*(undefined4 *)(iVar7 + 0x138) = *(undefined4 *)(iVar7 + 0x158);
				*(undefined4 *)(iVar7 + 0x13c) = *(undefined4 *)(iVar7 + 0x15c);
				*(undefined4 *)(iVar7 + 0x140) = (int)*(undefined8 *)(iVar7 + 0x160);
				*(undefined4 *)(iVar7 + 0x144) = (int)((ulong)*(undefined8 *)(iVar7 + 0x160) >> 0x20);
				*(undefined4 *)(iVar7 + 0x148) = *(undefined4 *)(iVar7 + 0x168);
				*(undefined4 *)(iVar7 + 0x14c) = *(undefined4 *)(iVar7 + 0x16c);
				*(ulong *)(iVar7 + 0x70) =
					(uVar4 & 0xfffffffffffdcde0 | 0x18000) & 0xfffffffffffaffff | 0x200 |
					(uVar2 >> 0x19 & 0x1) << 0x11;
			}
			uVar6 = *(ulong *)(iVar7 + 0x70) & 0xfffffffffffffffd | 0x1 | uVar6 << 0x1;
			*(ulong *)(iVar7 + 0x70) = uVar6;
			uVar4 = *puVar3;
		}
		*(ulong *)(iVar7 + 0x70) = uVar6 & 0xfffffffffff7ffff | (uVar4 >> 0x1c & 0x1) << 0x13;
	}
LAB_00278570:
	if (param_2 == 0x0) {
		uVar4 = *(ulong *)(iVar7 + 0x70);
	}
	else {
		FUN_002785c0(param_1, *(ulong **)(param_2 + 0x170));
		uVar4 = *(ulong *)(iVar7 + 0x70);
		fVar9 = in_f0;
	}
LAB_0027858c:
	uVar1 = *(undefined4 *)(iVar7 + 0x7c);
	*(int *)(iVar7 + 0x7c) = param_2;
	*(ulong *)(iVar7 + 0x70) = uVar4 & 0xffffffffffffbfff;
	*(undefined4 *)(iVar7 + 0x170) = uVar1;
	return fVar9;
}



undefined4 FUN_002785c0(undefined8 param_1, ulong *param_2)

{
	ulong uVar1;
	ulong uVar2;
	undefined4 uVar3;
	undefined4 uVar4;
	undefined4 uVar5;
	ulong uVar6;
	int iVar7;
	int iVar8;
	float fVar9;

	iVar7 = (int)param_1;
	uVar6 = *(ulong *)(iVar7 + 0x70);
	iVar8 = *(int *)(param_2 + 0x1);
	uVar1 = (*param_2 >> 0x8 & 0x1) << 0x3;
	*(ulong *)(iVar7 + 0x70) = uVar6 & 0xfffffffffffffff7 | uVar1;
	uVar2 = (*param_2 >> 0x9 & 0x1) << 0x4;
	*(ulong *)(iVar7 + 0x70) = uVar6 & 0xffffffffffffffe7 | uVar1 | uVar2;
	uVar1 = uVar6 & 0xfffffffffffbffe7 | uVar1 | uVar2 | (*param_2 >> 0x1c & 0x1) << 0x12;
	*(ulong *)(iVar7 + 0x70) = uVar1;
	uVar2 = (*param_2 >> 0x5 & 0xff ^ 0x1) & 0x1;
	if (iVar8 == 0x0) {
		*(ulong *)(iVar7 + 0x70) = uVar1 | 0x200;
	}
	else {
		(**(code **)(*(int *)(iVar8 + 0xc) + 0x14))
			(iVar8 + *(short *)(*(int *)(iVar8 + 0xc) + 0x10), iVar7 + 0xb0, param_1, iVar7 + 0xc0);
	}
	if ((*(ulong *)(iVar7 + 0x70) & 0x8) != 0x0) {
		uVar3 = *(undefined4 *)((int)param_2 + 0x24);
		uVar4 = *(undefined4 *)(param_2 + 0x5);
		uVar5 = *(undefined4 *)((int)param_2 + 0x2c);
		*(undefined4 *)(iVar7 + 0x110) = *(undefined4 *)(param_2 + 0x4);
		*(undefined4 *)(iVar7 + 0x114) = uVar3;
		*(undefined4 *)(iVar7 + 0x118) = uVar4;
		*(undefined4 *)(iVar7 + 0x11c) = uVar5;
		uVar3 = *(undefined4 *)((int)param_2 + 0x34);
		uVar4 = *(undefined4 *)(param_2 + 0x7);
		uVar5 = *(undefined4 *)((int)param_2 + 0x3c);
		*(undefined4 *)(iVar7 + 0x120) = *(undefined4 *)(param_2 + 0x6);
		*(undefined4 *)(iVar7 + 0x124) = uVar3;
		*(undefined4 *)(iVar7 + 0x128) = uVar4;
		*(undefined4 *)(iVar7 + 0x12c) = uVar5;
	}
	if (uVar2 == 0x0) {
		uVar1 = *(ulong *)(iVar7 + 0x70);
	}
	else {
		if ((*(ulong *)(iVar7 + 0x70) & 0x2) == 0x0) {
			fVar9 = *(float *)(param_2 + 0x2) * DAT_00309b7c;
			*(undefined4 *)(iVar7 + 0xe0) = (int)*(undefined8 *)(iVar7 + 0x20);
			*(undefined4 *)(iVar7 + 0xe4) = (int)((ulong)*(undefined8 *)(iVar7 + 0x20) >> 0x20);
			*(undefined4 *)(iVar7 + 0xe8) = *(undefined4 *)(iVar7 + 0x28);
			*(undefined4 *)(iVar7 + 0xec) = *(undefined4 *)(iVar7 + 0x2c);
			if ((byte)((uint)fVar9 >> 0x17) < 0x9e) {
				iVar8 = (int)fVar9;
			}
			else {
				if ((int)fVar9 < 0x0) {
					iVar8 = 0x7fffffff;
				}
				else {
					iVar8 = -0x80000000;
				}
			}
			*(int *)(iVar7 + 0xd4) = iVar8;
			uVar1 = *param_2;
			*(undefined4 *)(iVar7 + 0x130) = (int)*(undefined8 *)(iVar7 + 0x150);
			*(undefined4 *)(iVar7 + 0x134) = (int)((ulong)*(undefined8 *)(iVar7 + 0x150) >> 0x20);
			*(undefined4 *)(iVar7 + 0x138) = *(undefined4 *)(iVar7 + 0x158);
			*(undefined4 *)(iVar7 + 0x13c) = *(undefined4 *)(iVar7 + 0x15c);
			*(undefined4 *)(iVar7 + 0x140) = (int)*(undefined8 *)(iVar7 + 0x160);
			*(undefined4 *)(iVar7 + 0x144) = (int)((ulong)*(undefined8 *)(iVar7 + 0x160) >> 0x20);
			*(undefined4 *)(iVar7 + 0x148) = *(undefined4 *)(iVar7 + 0x168);
			*(undefined4 *)(iVar7 + 0x14c) = *(undefined4 *)(iVar7 + 0x16c);
			*(ulong *)(iVar7 + 0x70) =
				*(ulong *)(iVar7 + 0x70) & 0xfffffffffffcffff | (uVar1 >> 0x19 & 0x1) << 0x11;
			uVar1 = *(ulong *)(iVar7 + 0x70);
		}
		else {
			uVar1 = *(ulong *)(iVar7 + 0x70);
		}
	}
	uVar2 = uVar1 & 0xfffffffffffffffd | 0x1 | uVar2 << 0x1;
	*(ulong *)(iVar7 + 0x70) = uVar2;
	if ((uVar1 & 0x10) != 0x0) {
		*(undefined4 *)(iVar7 + 0x80) = *(undefined4 *)((int)param_2 + 0x44);
		*(undefined4 *)(iVar7 + 0x84) = *(undefined4 *)(param_2 + 0x8);
	}
	return (int)uVar2;
}



undefined8 FUN_00278798(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	*(undefined *)(puVar1 + 0xc) = 0x1;
	puVar1[0xd] = 0x305240;
	*puVar1 = 0x0;
	puVar1[0x1] = DAT_0030a7d0;
	puVar1[0x6] = 0x0;
	puVar1[0x5] = 0x0;
	puVar1[0x4] = 0x0;
	puVar1[0x7] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar1 + 0x8), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar1[0xb] = 0x3f800000;
	puVar1[0xd] = 0x304d68;
	FUN_00278840(puVar1);
	return param_1;
}



void FUN_00278840(undefined4 *param_1)

{
	undefined4 uVar1;

	*(ulong *)(param_1 + 0x10) = *(ulong *)(param_1 + 0x10) & 0xffffffffffffffe0;
	param_1[0x6] = 0x0;
	param_1[0x5] = 0x0;
	param_1[0x4] = 0x0;
	param_1[0x7] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x8), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	param_1[0xb] = 0x3f800000;
	param_1[0x5] = 0x0;
	param_1[0x7] = 0x0;
	param_1[0x6] = 0x0;
	param_1[0x4] = 0x0;
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x14), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	param_1[0x17] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x18), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	param_1[0x1b] = 0x3f800000;
	param_1[0x1c] = 0x0;
	param_1[0x1d] = 0x0;
	param_1[0x20] = 0x0;
	*(ulong *)(param_1 + 0x10) = *(ulong *)(param_1 + 0x10) & 0xffffffffffffffdf;
	param_1[0x1e] = 0x0;
	*param_1 = 0x0;
	param_1[0x11] = 0x0;
	uVar1 = DAT_0030a7d0;
	param_1[0x22] = 0x0;
	param_1[0x1] = uVar1;
	return;
}



void FUN_00278960(undefined8 param_1, int param_2, int param_3)

{
	bool bVar1;
	byte bVar2;
	undefined4 uVar3;
	undefined8 uVar4;
	undefined4 uVar5;
	long lVar6;
	int iVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float local_c0;
	float fStack188;
	float local_b8;
	undefined4 uStack180;
	float local_b0;
	float fStack172;
	float local_a8;
	undefined4 local_a4;
	float local_a0;
	float local_9c;
	float local_98;
	undefined4 local_94;
	float local_90;
	float local_8c;
	float local_88;
	undefined4 local_84;
	float local_80[0x4];
	float local_70;
	Vector4 local_60;

	iVar7 = (int)param_1;
	local_c0 = *(float *)(param_3 + 0x20);
	fStack188 = *(float *)(param_3 + 0x24);
	local_b8 = *(float *)(param_3 + 0x28);
	uStack180 = *(undefined4 *)(param_3 + 0x2c);
	bVar2 = 0x0;
	if (*(float *)(iVar7 + 0x20) == *(float *)(iVar7 + 0x60)) {
		bVar1 = true;
		if (*(float *)(iVar7 + 0x24) == *(float *)(iVar7 + 0x64)) {
			bVar2 = 0x1;
			goto LAB_002789dc;
		}
	}
	else {
	LAB_002789dc:
		bVar1 = (bool)(bVar2 ^ 0x1);
	}
	if (!bVar1) goto LAB_00278d70;
	if (*(int *)(iVar7 + 0x7c) < 0x1) {
		local_b0 = *(float *)(iVar7 + 0x74);
		*(float *)(iVar7 + 0x4) = local_b0;
		uVar3 = (undefined4)*(undefined8 *)(iVar7 + 0x60);
		*(undefined4 *)(iVar7 + 0x20) = uVar3;
		uVar5 = (undefined4)((ulong)*(undefined8 *)(iVar7 + 0x60) >> 0x20);
		*(undefined4 *)(iVar7 + 0x24) = uVar5;
		*(undefined4 *)(iVar7 + 0x28) = *(undefined4 *)(iVar7 + 0x68);
		*(undefined4 *)(iVar7 + 0x2c) = *(undefined4 *)(iVar7 + 0x6c);
		*(undefined4 *)(iVar7 + 0x50) = uVar3;
		*(undefined4 *)(iVar7 + 0x54) = uVar5;
		*(undefined4 *)(iVar7 + 0x58) = *(undefined4 *)(iVar7 + 0x68);
		*(undefined4 *)(iVar7 + 0x5c) = *(undefined4 *)(iVar7 + 0x6c);
		*(float *)(iVar7 + 0x70) = local_b0;
		local_a0 = local_b0;
		goto LAB_00278d70;
	}
	fVar9 = FUN_00278da8(iVar7, param_2);
	if (fVar9 <= 1.00000000) {
		lVar6 = (long)*(int *)(iVar7 + 0x88);
		if (lVar6 == 0x0) {
			*(float *)(iVar7 + 0x20) =
				*(float *)(iVar7 + 0x50) + (*(float *)(iVar7 + 0x60) - *(float *)(iVar7 + 0x50)) * fVar9;
			*(float *)(iVar7 + 0x24) =
				*(float *)(iVar7 + 0x54) + (*(float *)(iVar7 + 0x64) - *(float *)(iVar7 + 0x54)) * fVar9;
			*(undefined4 *)(iVar7 + 0x2c) = 0x3f800000;
			*(float *)(iVar7 + 0x28) =
				*(float *)(iVar7 + 0x58) + (*(float *)(iVar7 + 0x68) - *(float *)(iVar7 + 0x58)) * fVar9;
		LAB_00278b10:
			local_90 = *(float *)(iVar7 + 0x70);
		}
		else {
			if (0.00010000 < fVar9) {
				FUN_00189440(fVar9, lVar6, &local_b0);
				*(float *)(iVar7 + 0x20) = *(float *)(iVar7 + 0x20) + local_b0;
				*(float *)(iVar7 + 0x24) = *(float *)(iVar7 + 0x24) + fStack172;
				*(float *)(iVar7 + 0x28) = *(float *)(iVar7 + 0x28) + local_a8;
				*(float *)(iVar7 + 0x20) = *(float *)(iVar7 + 0x20) * 0.50000000;
				*(float *)(iVar7 + 0x24) = *(float *)(iVar7 + 0x24) * 0.50000000;
				*(float *)(iVar7 + 0x28) = *(float *)(iVar7 + 0x28) * 0.50000000;
				goto LAB_00278b10;
			}
			FUN_00189440(fVar9, lVar6, (float *)(iVar7 + 0x20));
			local_90 = *(float *)(iVar7 + 0x70);
		}
		local_a0 = (float)(*(int *)(iVar7 + 0x74) - (int)local_90);
		local_80[0] = local_90;
		local_70 = local_90;
		uVar4 = FUN_0015ddd0(fVar9 * (float)(int)local_a0 * 0.00009587, (long)(int)local_80);
		local_b0 = *(float *)uVar4;
		*(float *)(iVar7 + 0x4) = local_b0;
		if ((*(ulong *)(iVar7 + 0x40) & 0x20) != 0x0) {
			fVar10 = *(float *)(iVar7 + 0x50) - local_c0;
			fVar8 = *(float *)(iVar7 + 0x54) - fStack188;
			fVar11 = *(float *)(iVar7 + 0x58) - local_b8;
			local_94 = 0x3f800000;
			local_b0 = *(float *)(iVar7 + 0x60) - local_c0;
			fStack172 = *(float *)(iVar7 + 0x64) - fStack188;
			local_a8 = *(float *)(iVar7 + 0x68) - local_b8;
			local_a4 = 0x3f800000;
			local_60.x = *(float *)(iVar7 + 0x20) - local_c0;
			local_60.y = *(float *)(iVar7 + 0x24) - fStack188;
			local_60.z = *(float *)(iVar7 + 0x28) - local_b8;
			local_98 = (1.00000000 - fVar9) * SQRT(fVar10 * fVar10 + fVar8 * fVar8 + fVar11 * fVar11) +
				fVar9 * SQRT(local_b0 * local_b0 + fStack172 * fStack172 + local_a8 * local_a8);
			local_60.w = 1.00000000;
			local_88 = RSQRT(0.00000000, &local_60);
			local_90 = local_60.x * local_88;
			local_8c = local_60.y * local_88;
			local_88 = local_60.z * local_88;
			local_a0 = local_90 * local_98;
			local_9c = local_8c * local_98;
			local_98 = local_88 * local_98;
			local_b0 = local_c0 + local_a0;
			fStack172 = fStack188 + local_9c;
			local_a8 = local_b8 + local_98;
			*(float *)(iVar7 + 0x20) = local_b0;
			*(float *)(iVar7 + 0x24) = fStack172;
			*(float *)(iVar7 + 0x28) = local_a8;
			*(undefined4 *)(iVar7 + 0x2c) = local_94;
			local_a4 = local_94;
			local_84 = local_94;
		}
	}
	*(undefined4 *)(iVar7 + 0x7c) = 0x0;
LAB_00278d70:
	FUN_0027cac0(param_1, (undefined8 *)&local_c0, (long)(iVar7 + 0x10), (float *)(iVar7 + 0x20));
	return;
}



float FUN_00278da8(int param_1, int param_2)

{
	ulong uVar1;
	int iVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	int local_50;
	int local_4c[0x3];

	fVar4 = 1.00000000;
	local_50 = *(int *)(param_2 + 0x4);
	if (*(int *)(param_1 + 0x78) == 0x0) {
		*(int *)(param_1 + 0x78) = local_50;
		*(undefined4 *)(param_1 + 0x50) = *(undefined4 *)(param_1 + 0x20);
		*(undefined4 *)(param_1 + 0x54) = *(undefined4 *)(param_1 + 0x24);
		*(undefined4 *)(param_1 + 0x58) = *(undefined4 *)(param_1 + 0x28);
		*(undefined4 *)(param_1 + 0x5c) = *(undefined4 *)(param_1 + 0x2c);
		*(undefined4 *)(param_1 + 0x70) = *(undefined4 *)(param_1 + 0x4);
	}
	fVar3 = (float)*(int *)(param_1 + 0x78) * DAT_00309b80 * DAT_00309b7c;
	if ((byte)((uint)fVar3 >> 0x17) < 0x9e) {
		iVar2 = (int)fVar3;
	}
	else {
		if ((int)fVar3 < 0x0) {
			iVar2 = 0x7fffffff;
		}
		else {
			iVar2 = -0x80000000;
		}
	}
	if (*(int *)(param_1 + 0x7c) < local_50 - iVar2) goto LAB_00278ffc;
	if ((*(ulong *)(param_1 + 0x40) & 0x1) == 0x0) {
		if ((*(ulong *)(param_1 + 0x40) & 0x2) == 0x0) {
			fVar4 = FUN_00279040(param_1, &local_50);
			goto LAB_00278ffc;
		}
		if (*(int *)(param_1 + 0x80) == 0x0) {
			*(int *)(param_1 + 0x80) = local_50;
		}
		fVar3 = FUN_00279118(param_1, &local_50);
		fVar4 = (float)*(int *)(param_1 + 0x84) * DAT_00309b80 * DAT_00309b7c;
		fVar5 = (float)*(int *)(param_1 + 0x7c) * DAT_00309b80;
		if ((byte)((uint)fVar4 >> 0x17) < 0x9e) {
			local_4c[0] = (int)fVar4;
		}
		else {
			if ((int)fVar4 < 0x0) {
				local_4c[0] = 0x7fffffff;
			}
			else {
				local_4c[0] = -0x80000000;
			}
		}
		local_4c[0] = *(int *)(param_1 + 0x7c) - local_4c[0];
		fVar4 = FUN_0025a160(local_4c);
		fVar6 = (float)*(int *)(param_1 + 0x7c) * DAT_00309b80;
		fVar4 = (fVar4 / fVar5) * DAT_00309b7c;
		if ((byte)((uint)fVar4 >> 0x17) < 0x9e) {
			iVar2 = (int)fVar4;
		}
		else {
			if ((int)fVar4 < 0x0) {
				iVar2 = 0x7fffffff;
			}
			else {
				iVar2 = -0x80000000;
			}
		}
		fVar4 = (float)iVar2 * DAT_00309b80;
		fVar5 = FUN_0025a160((int *)(param_1 + 0x84));
		fVar5 = (fVar5 / fVar6) * DAT_00309b7c;
		if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
			iVar2 = (int)fVar5;
		}
		else {
			if ((int)fVar5 < 0x0) {
				iVar2 = 0x7fffffff;
			}
			else {
				iVar2 = -0x80000000;
			}
		}
		fVar4 = fVar4 + fVar3 * (float)iVar2 * DAT_00309b80;
		if (fVar3 != 1.00000000) goto LAB_00278ffc;
		uVar1 = *(ulong *)(param_1 + 0x40);
		iVar2 = -0x3;
	}
	else {
		if (*(int *)(param_1 + 0x80) == 0x0) {
			*(int *)(param_1 + 0x80) = local_50;
		}
		fVar3 = FUN_00279118(param_1, &local_50);
		fVar5 = (float)*(int *)(param_1 + 0x7c) * DAT_00309b80;
		fVar4 = FUN_0025a160((int *)(param_1 + 0x84));
		fVar4 = (fVar4 / fVar5) * DAT_00309b7c;
		if ((byte)((uint)fVar4 >> 0x17) < 0x9e) {
			iVar2 = (int)fVar4;
		}
		else {
			if ((int)fVar4 < 0x0) {
				iVar2 = 0x7fffffff;
			}
			else {
				iVar2 = -0x80000000;
			}
		}
		fVar4 = fVar3 * (float)iVar2 * DAT_00309b80;
		if (fVar3 != 1.00000000) goto LAB_00278ffc;
		uVar1 = *(ulong *)(param_1 + 0x40);
		iVar2 = -0x2;
	}
	*(undefined4 *)(param_1 + 0x80) = 0x0;
	*(ulong *)(param_1 + 0x40) = uVar1 & (long)iVar2;
LAB_00278ffc:
	*(undefined4 *)(param_1 + 0x78) = 0x0;
	return fVar4;
}



float FUN_00279040(int param_1, int *param_2)

{
	int iVar1;
	float fVar2;
	float fVar3;
	int local_30[0x4];

	fVar3 = (float)*(int *)(param_1 + 0x7c) * DAT_00309b80;
	fVar2 = (float)*(int *)(param_1 + 0x78) * DAT_00309b80 * DAT_00309b7c;
	if ((byte)((uint)fVar2 >> 0x17) < 0x9e) {
		local_30[0] = (int)fVar2;
	}
	else {
		if ((int)fVar2 < 0x0) {
			local_30[0] = 0x7fffffff;
		}
		else {
			local_30[0] = -0x80000000;
		}
	}
	local_30[0] = *param_2 - local_30[0];
	fVar2 = FUN_0025a160(local_30);
	fVar2 = (fVar2 / fVar3) * DAT_00309b7c;
	if ((byte)((uint)fVar2 >> 0x17) < 0x9e) {
		iVar1 = (int)fVar2;
	}
	else {
		if ((int)fVar2 < 0x0) {
			iVar1 = 0x7fffffff;
		}
		else {
			iVar1 = -0x80000000;
		}
	}
	fVar2 = (float)iVar1 * DAT_00309b80;
	if (((*(long *)(param_1 + 0x40) << 0x1e) >> 0x20 & 0x7U) == 0x2) {
		fVar3 = fVar2 * fVar2 * fVar2;
		fVar2 = fVar2 * fVar2 * 3.00000000 - (fVar3 + fVar3);
	}
	return fVar2;
}



float FUN_00279118(int param_1, int *param_2)

{
	int iVar1;
	float fVar2;
	float fVar3;
	int local_30[0x4];

	fVar3 = (float)*(int *)(param_1 + 0x84) * DAT_00309b80;
	fVar2 = (float)*(int *)(param_1 + 0x80) * DAT_00309b80 * DAT_00309b7c;
	if ((byte)((uint)fVar2 >> 0x17) < 0x9e) {
		local_30[0] = (int)fVar2;
	}
	else {
		if ((int)fVar2 < 0x0) {
			local_30[0] = 0x7fffffff;
		}
		else {
			local_30[0] = -0x80000000;
		}
	}
	local_30[0] = *param_2 - local_30[0];
	fVar2 = FUN_0025a160(local_30);
	fVar2 = (fVar2 / fVar3) * DAT_00309b7c;
	if ((byte)((uint)fVar2 >> 0x17) < 0x9e) {
		iVar1 = (int)fVar2;
	}
	else {
		if ((int)fVar2 < 0x0) {
			iVar1 = 0x7fffffff;
		}
		else {
			iVar1 = -0x80000000;
		}
	}
	fVar2 = (float)iVar1 * DAT_00309b80;
	if ((((long)(*(ulong *)(param_1 + 0x40) << 0x1e) >> 0x20 & 0x7U) == 0x2) &&
		(fVar3 = fVar2 * fVar2 * fVar2, fVar2 = fVar2 * fVar2 * 3.00000000 - (fVar3 + fVar3),
		(*(ulong *)(param_1 + 0x40) & 0x2) != 0x0)) {
		fVar2 = 1.00000000 - fVar2;
	}
	return fVar2;
}



void FUN_00279208(int param_1, int param_2)

{
	int iVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	long lVar4;
	float fVar5;
	float local_40;
	float local_3c;
	float local_38;

	fVar5 = FUN_002793b0(param_1, param_2);
	if (fVar5 < 1.00000000) {
		lVar4 = (long)*(int *)(param_1 + 0xa8);
		if (lVar4 == 0x0) {
			*(float *)(param_1 + 0x20) =
				*(float *)(param_1 + 0x80) +
				(*(float *)(param_1 + 0x90) - *(float *)(param_1 + 0x80)) * fVar5;
			*(float *)(param_1 + 0x24) =
				*(float *)(param_1 + 0x84) +
				(*(float *)(param_1 + 0x94) - *(float *)(param_1 + 0x84)) * fVar5;
			*(undefined4 *)(param_1 + 0x2c) = 0x3f800000;
			*(float *)(param_1 + 0x28) =
				*(float *)(param_1 + 0x88) +
				(*(float *)(param_1 + 0x98) - *(float *)(param_1 + 0x88)) * fVar5;
		}
		else {
			if (fVar5 <= 0.00010000) {
				FUN_00189440(0.00000000, lVar4, (float *)(param_1 + 0x20));
				iVar1 = *(int *)(param_1 + 0xa8);
			}
			else {
				FUN_00189440(fVar5, lVar4, &local_40);
				*(float *)(param_1 + 0x20) = *(float *)(param_1 + 0x20) + local_40;
				*(float *)(param_1 + 0x24) = *(float *)(param_1 + 0x24) + local_3c;
				*(float *)(param_1 + 0x28) = *(float *)(param_1 + 0x28) + local_38;
				*(float *)(param_1 + 0x20) = *(float *)(param_1 + 0x20) * 0.50000000;
				*(float *)(param_1 + 0x24) = *(float *)(param_1 + 0x24) * 0.50000000;
				*(float *)(param_1 + 0x28) = *(float *)(param_1 + 0x28) * 0.50000000;
				iVar1 = *(int *)(param_1 + 0xa8);
			}
			FUN_00189550(fVar5, (long)iVar1, &local_40);
			*(float *)(param_1 + 0x20) = *(float *)(param_1 + 0x20) + local_40;
			*(float *)(param_1 + 0x24) = *(float *)(param_1 + 0x24) + local_3c;
			*(float *)(param_1 + 0x28) = *(float *)(param_1 + 0x28) + local_38;
		}
	}
	else {
		uVar2 = (undefined4)*(undefined8 *)(param_1 + 0x90);
		*(undefined4 *)(param_1 + 0x20) = uVar2;
		uVar3 = (undefined4)((ulong)*(undefined8 *)(param_1 + 0x90) >> 0x20);
		*(undefined4 *)(param_1 + 0x24) = uVar3;
		*(undefined4 *)(param_1 + 0x28) = *(undefined4 *)(param_1 + 0x98);
		*(undefined4 *)(param_1 + 0x2c) = *(undefined4 *)(param_1 + 0x9c);
		*(undefined4 *)(param_1 + 0x80) = uVar2;
		*(undefined4 *)(param_1 + 0x84) = uVar3;
		*(undefined4 *)(param_1 + 0x88) = *(undefined4 *)(param_1 + 0x98);
		*(undefined4 *)(param_1 + 0x8c) = *(undefined4 *)(param_1 + 0x9c);
	}
	return;
}



float FUN_002793b0(int param_1, int param_2)

{
	int iVar1;
	undefined4 uVar2;
	int iVar3;
	ulong uVar4;
	float fVar5;
	float fVar6;

	fVar6 = 1.00000000;
	iVar1 = *(int *)(param_1 + 0xa4);
	if (0x0 < iVar1) {
		uVar4 = *(ulong *)(param_1 + 0x70);
		if ((uVar4 & 0x1) == 0x0) {
			uVar2 = *(undefined4 *)(param_2 + 0x4);
			fVar6 = 0.00000000;
			*(ulong *)(param_1 + 0x70) = uVar4 | 0x1;
			*(undefined4 *)(param_1 + 0xa0) = uVar2;
		}
		else {
			iVar3 = *(int *)(param_2 + 0x4) - *(int *)(param_1 + 0xa0);
			if (iVar3 < iVar1) {
				fVar6 = ((float)iVar3 * DAT_00309b80) / ((float)iVar1 * DAT_00309b80);
				if (((long)(uVar4 << 0x1f) >> 0x20 & 0x7U) == 0x2) {
					fVar5 = fVar6 * fVar6 * fVar6;
					fVar6 = fVar6 * fVar6 * 3.00000000 - (fVar5 + fVar5);
				}
			}
			else {
				fVar6 = 1.00000000;
				*(undefined4 *)(param_1 + 0xa4) = 0x0;
				*(ulong *)(param_1 + 0x70) = uVar4 & 0xfffffffffffffffe;
			}
		}
	}
	return fVar6;
}



undefined8 FUN_00279488(undefined8 param_1)

{
	ulong *puVar1;

	puVar1 = (ulong *)param_1;
	*(undefined4 *)puVar1 = 0x0;
	*(undefined2 *)((int)puVar1 + 0x4) = 0x0;
	*(undefined4 *)(puVar1 + 0x2) = 0x3f800000;
	*(undefined4 *)(puVar1 + 0x1) = 0x0;
	*(undefined4 *)((int)puVar1 + 0xc) = 0x0;
	*puVar1 = *puVar1 & 0xffffffffffffffef | 0x10;
	*(undefined *)(puVar1 + 0x10) = 0x0;
	return param_1;
}



void FUN_002794c8(undefined8 param_1, undefined8 param_2)

{
	PublicObjectBuilder *pPVar1;
	void *pvVar2;
	BinaryReader *binReader;
	int iVar3;
	int local_30;
	int local_2c;

	if (G_ObjectBuilder_ == (PublicObjectBuilder *)0x0) {
		pPVar1 = (PublicObjectBuilder *)MemoryAllocate(0x10);
		G_ObjectBuilder_ = FUN_00101408(pPVar1);
	}
	pPVar1 = G_ObjectBuilder_;
	binReader = (BinaryReader *)param_2;
	(**(code **)(binReader->methods + 0x8c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x88), param_1);
	iVar3 = (int)param_1;
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), iVar3 + 0x4);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), iVar3 + 0x10);
	(**(code **)(binReader->methods + 0x14))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x10), iVar3 + 0x20, 0x10
			, 0x1);
	(**(code **)(binReader->methods + 0x14))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x10), iVar3 + 0x30, 0x10
			, 0x1);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), iVar3 + 0x40);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), iVar3 + 0x44);
	FUN_0018c190((int *)(iVar3 + 0x48), binReader);
	FUN_0018c190((int *)(iVar3 + 0x4c), binReader);
	FUN_0018c190((int *)(iVar3 + 0x50), binReader);
	FUN_0018c190((int *)(iVar3 + 0x54), binReader);
	FUN_0018c190((int *)(iVar3 + 0x58), binReader);
	FUN_0018c190((int *)(iVar3 + 0x5c), binReader);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), iVar3 + 0x60);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), iVar3 + 0x64);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), iVar3 + 0x68);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), iVar3 + 0x6c);
	FUN_0018c190((int *)(iVar3 + 0x70), binReader);
	FUN_0018c190((int *)(iVar3 + 0x74), binReader);
	FUN_0018c190((int *)(iVar3 + 0x78), binReader);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), iVar3 + 0x7c);
	(**(code **)(binReader->methods + 0x8c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x88), &local_30);
	(**(code **)(binReader->methods + 0x8c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x88),
		(uint)&local_30 | 0x4);
	(**(code **)(binReader->methods + 0x74))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x70), iVar3 + 0x80);
	if (local_30 == 0x3) {
		*(undefined4 *)(iVar3 + 0x8) = 0x0;
	}
	else {
		pvVar2 = FUN_002b4468(pPVar1, local_30, -0x1);
		*(void **)(iVar3 + 0x8) = pvVar2;
		(**(code **)(*(int *)((int)pvVar2 + 0xc) + 0x34))
			((int)pvVar2 + (int)*(short *)(*(int *)((int)pvVar2 + 0xc) + 0x30), param_2);
	}
	if (local_2c == 0x3) {
		*(undefined4 *)(iVar3 + 0xc) = 0x0;
	}
	else {
		pvVar2 = FUN_002b4468(pPVar1, local_2c, -0x1);
		*(void **)(iVar3 + 0xc) = pvVar2;
		(**(code **)(*(int *)((int)pvVar2 + 0xc) + 0x34))
			((int)pvVar2 + (int)*(short *)(*(int *)((int)pvVar2 + 0xc) + 0x30), param_2);
	}
	return;
}



ulong FUN_00279788(int param_1, int *param_2)

{
	int iVar1;
	int iVar2;

	iVar2 = (*param_2 + 0x8000U & 0xffff) - 0x8000;
	iVar1 = ((iVar2 - *(int *)(param_1 + 0x58)) + 0x8000U & 0xffff) - 0x8000;
	iVar2 = ((iVar2 - *(int *)(param_1 + 0x74)) + 0x8000U & 0xffff) - 0x8000;
	if (iVar2 < 0x0) {
		iVar2 = -iVar2;
	}
	if (iVar1 < 0x0) {
		iVar1 = -iVar1;
	}
	return (ulong)(iVar1 < iVar2) ^ 0x1;
}



void FUN_00279990(undefined8 param_1, int *param_2)

{
	int iVar1;

	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1);
	iVar1 = (int)param_1;
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x4);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x8);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar1 + 0x10, 0x40, 0x1);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar1 + 0x50, 0x40, 0x1);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar1 + 0x90, 0x10, 0x1);
	(**(code **)(*param_2 + 0xb4))((int)param_2 + (int)*(short *)(*param_2 + 0xb0), iVar1 + 0xa0);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0xa4);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0xa8);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0xac);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0xb0);
	(**(code **)(*param_2 + 0xb4))((int)param_2 + (int)*(short *)(*param_2 + 0xb0), iVar1 + 0xd0);
	return;
}



void FUN_00279af8(float param_1, int param_2, undefined8 *param_3)

{
	undefined8 uVar1;
	bool bVar2;
	undefined4 uVar3;
	undefined4 uVar4;
	float fVar5;
	float fVar6;
	int iVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	int local_e0[0x4];
	Matrix4x4 MStack208;
	float local_90;
	undefined4 uStack140;
	undefined4 local_88;
	undefined4 uStack132;
	float local_80[0x4];
	int aiStack112[0x4];

	if ((*(float *)(param_2 + 0xb0) < -0.00005000) ||
		(bVar2 = false, 0.00005000 < *(float *)(param_2 + 0xb0))) {
		bVar2 = true;
	}
	if (bVar2) {
		fVar5 = *(float *)param_3;
		fVar6 = *(float *)(param_2 + 0xc8);
		fVar9 = *(float *)(param_2 + 0xc0);
		fVar8 = *(float *)(param_3 + 0x1);
		fVar10 = *(float *)(param_2 + 0xb0);
		FUN_0018bec8((fVar5 * fVar9 + fVar8 * fVar6) /
			(SQRT(fVar5 * fVar5 + fVar8 * fVar8) * SQRT(fVar9 * fVar9 + fVar6 * fVar6)),
			(long)(int)local_e0);
		fVar5 = (fVar10 / param_1) * 10430.37792969;
		if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
			iVar7 = (int)fVar5;
		}
		else {
			if ((int)fVar5 < 0x0) {
				iVar7 = 0x7fffffff;
			}
			else {
				iVar7 = -0x80000000;
			}
		}
		if (iVar7 < local_e0[0]) {
			param_1 = *(float *)(param_2 + 0xb0) / param_1;
			InitIdentityMatrix(&MStack208);
			FUN_0011bf10(param_1, aiStack112, 0x0);
			FUN_0018c350(&MStack208, aiStack112);
			FUN_0018c650((float *)&MStack208, (float *)(param_2 + 0xc0), &local_90);
			InitIdentityMatrix(&MStack208);
			FUN_0011bf10(-param_1, aiStack112, 0x0);
			FUN_0018c350(&MStack208, aiStack112);
			FUN_0018c650((float *)&MStack208, (float *)(param_2 + 0xc0), local_80);
			*(float *)param_3 = local_90;
			*(undefined4 *)((int)param_3 + 0x4) = uStack140;
			*(undefined4 *)(param_3 + 0x1) = local_88;
			*(undefined4 *)((int)param_3 + 0xc) = uStack132;
		}
	}
	uVar1 = *param_3;
	uVar3 = *(undefined4 *)(param_3 + 0x1);
	uVar4 = *(undefined4 *)((int)param_3 + 0xc);
	*(undefined4 *)(param_2 + 0xc0) = (int)uVar1;
	*(undefined4 *)(param_2 + 0xc4) = (int)((ulong)uVar1 >> 0x20);
	*(undefined4 *)(param_2 + 0xc8) = uVar3;
	*(undefined4 *)(param_2 + 0xcc) = uVar4;
	return;
}



void FUN_00279d78(float param_1, int param_2, undefined8 *param_3, undefined8 *param_4)

{
	int iVar1;
	int *piVar2;
	float fVar3;
	float fVar4;
	undefined4 auStack128[0x4];
	float local_70;
	undefined4 uStack108;
	undefined4 uStack104;
	undefined4 uStack100;
	undefined4 local_60;
	undefined4 uStack92;
	undefined4 uStack88;
	undefined4 uStack84;
	float local_50;
	uint local_4c;
	float local_48;
	uint local_44;

	iVar1 = FUN_0018b580(param_1 * (float)**(int **)(param_2 + 0x10));
	iVar1 += -0x1;
	if (iVar1 < **(int **)(param_2 + 0x10)) {
		FUN_0018f060((int)*(int **)(param_2 + 0x10), auStack128, iVar1);
		local_50 = 0.00000000;
		local_4c = 0x0;
		FUN_0027d1c0(param_2, iVar1 * 0x2, &local_50, &local_4c, 0x1);
		local_48 = 0.00000000;
		local_44 = 0x0;
		FUN_0027d1c0(param_2, iVar1 * 0x2, &local_48, &local_44, 0x0);
		if ((int)local_44 < 0x0) {
			fVar3 = (float)(local_44 & 0x1 | local_44 >> 0x1);
			fVar3 = fVar3 + fVar3;
			piVar2 = *(int **)(param_2 + 0x10);
		}
		else {
			fVar3 = (float)local_44;
			piVar2 = *(int **)(param_2 + 0x10);
		}
		if ((int)local_4c < 0x0) {
			fVar4 = (float)(local_4c & 0x1 | local_4c >> 0x1);
			fVar4 = fVar4 + fVar4;
		}
		else {
			fVar4 = (float)local_4c;
		}
		uStack88 = *(undefined4 *)(param_3 + 0x1);
		uStack84 = *(undefined4 *)((int)param_3 + 0xc);
		uStack104 = *(undefined4 *)(param_4 + 0x1);
		uStack100 = *(undefined4 *)((int)param_4 + 0xc);
		local_60 = (undefined4)*param_3;
		uStack92 = (undefined4)((ulong)*param_3 >> 0x20);
		local_70 = (float)*param_4;
		uStack108 = (undefined4)((ulong)*param_4 >> 0x20);
		FUN_0018d0d8((local_48 - local_50) *
			(0.00000000 /
			(fVar3 / (float)(**(int **)(param_2 + 0x10) * 0x2 + 0x2) -
				fVar4 / (float)(*piVar2 * 0x2 + 0x2))) + local_50, &local_70, (float *)param_4);
	}
	return;
}



float FUN_00279f80(float param_1, int param_2)

{
	int iVar1;
	int *piVar2;
	float fVar3;
	float fVar4;
	undefined4 auStack96[0x4];
	float local_50;
	uint local_4c;
	float local_48;
	uint local_44;

	if ((*(uint *)(param_2 + 0x14) & 0x1) == 0x0) {
		local_48 = 0.00000000;
		iVar1 = FUN_0018b580(param_1 * (float)**(int **)(param_2 + 0x10));
		iVar1 += -0x1;
		if (iVar1 < **(int **)(param_2 + 0x10)) {
			FUN_0018f060((int)*(int **)(param_2 + 0x10), auStack96, iVar1);
			local_4c = 0x0;
			local_50 = local_48;
			FUN_0027d1f8(param_2, iVar1 * 0x2, &local_50, &local_4c, 0x1);
			local_44 = 0x0;
			FUN_0027d1f8(param_2, iVar1 * 0x2, &local_48, &local_44, 0x0);
			if ((int)local_44 < 0x0) {
				fVar3 = (float)(local_44 & 0x1 | local_44 >> 0x1);
				fVar3 = fVar3 + fVar3;
				piVar2 = *(int **)(param_2 + 0x10);
			}
			else {
				fVar3 = (float)local_44;
				piVar2 = *(int **)(param_2 + 0x10);
			}
			if ((int)local_4c < 0x0) {
				fVar4 = (float)(local_4c & 0x1 | local_4c >> 0x1);
				fVar4 = fVar4 + fVar4;
			}
			else {
				fVar4 = (float)local_4c;
			}
			local_48 = (local_48 - local_50) *
				(0.00000000 /
				(fVar3 / (float)(**(int **)(param_2 + 0x10) * 0x2 + 0x2) -
					fVar4 / (float)(*piVar2 * 0x2 + 0x2))) + local_50;
		}
	}
	else {
		local_48 = *(float *)(param_2 + 0x8);
	}
	return local_48;
}



void FUN_0027a178(undefined8 param_1, undefined8 param_2)

{
	void *pvVar1;
	int *piVar2;
	int iVar3;

	piVar2 = (int *)param_2;
	(**(code **)(*piVar2 + 0x8c))((int)piVar2 + (int)*(short *)(*piVar2 + 0x88), param_1);
	iVar3 = (int)param_1;
	(**(code **)(*piVar2 + 0xbc))((int)piVar2 + (int)*(short *)(*piVar2 + 0xb8), iVar3 + 0x4);
	(**(code **)(*piVar2 + 0xbc))((int)piVar2 + (int)*(short *)(*piVar2 + 0xb8), iVar3 + 0x8);
	pvVar1 = MemoryAllocate(0x50);
	*(undefined4 *)((int)pvVar1 + 0x48) = 0xffffffff;
	*(undefined4 *)((int)pvVar1 + 0x10) = 0x2f5c58;
	*(undefined4 *)((int)pvVar1 + 0x4) = 0x0;
	*(undefined4 *)((int)pvVar1 + 0x14) = 0x0;
	*(void **)(iVar3 + 0x10) = pvVar1;
	(**(code **)(*(int *)((int)pvVar1 + 0x10) + 0x14))
		((int)pvVar1 + (int)*(short *)(*(int *)((int)pvVar1 + 0x10) + 0x10), param_2);
	(**(code **)(*piVar2 + 0x7c))((int)piVar2 + (int)*(short *)(*piVar2 + 0x78), iVar3 + 0x14);
	return;
}



void FUN_0027a248(float param_1, int param_2, undefined8 *param_3)

{
	undefined8 uVar1;
	int iVar2;
	Vector4 *pVVar3;
	float fVar4;
	float fVar5;
	Vector4 VStack160;
	Matrix4x4 MStack144;
	Vector4 local_50;
	float local_40[0x4];

	fVar5 = 1.00000000;
	if (param_1 + *(float *)(param_2 + 0x8) /
		*(float *)(*(int *)(param_2 + 0x20) * 0x4 + *(int *)(param_2 + 0x34) + -0x4) <=
		1.00000000) {
		fVar5 = 0.00000000;
	}
	iVar2 = FUN_0018f0e8(fVar5 * (float)*(int *)(param_2 + 0x20) * *(float *)(param_2 + 0x28),
		(int *)(param_2 + 0x20), local_40);
	FUN_0018a7a8(local_40[0], (int)(int *)(param_2 + 0x20), (float *)param_3, iVar2);
	FUN_0027a390(fVar5, (undefined4 *)&VStack160, (uint *)(param_2 + 0x10));
	InitIdentityMatrix(&MStack144);
	Rotate_(&MStack144, &VStack160);
	pVVar3 = GetPositionFromRTS(&MStack144, 0x3);
	uVar1 = *param_3;
	fVar5 = *(float *)(param_3 + 0x1);
	fVar4 = *(float *)((int)param_3 + 0xc);
	pVVar3->x = (float)uVar1;
	pVVar3->y = (float)((ulong)uVar1 >> 0x20);
	pVVar3->z = fVar5;
	pVVar3->w = fVar4;
	local_50.x = 0.00000000;
	local_50.y = 0.00000000;
	local_50.z = 5.00000000;
	local_50.w = 1.00000000;
	MultiplyMatrixByVector(&MStack144, &local_50, &local_50);
	*(float *)param_3 = local_50.x;
	*(float *)((int)param_3 + 0x4) = local_50.y;
	*(float *)(param_3 + 0x1) = local_50.z;
	*(float *)((int)param_3 + 0xc) = local_50.w;
	return;
}



undefined4 * FUN_0027a390(float param_1, undefined4 *param_2, uint *param_3)

{
	int iVar1;
	undefined4 *puVar2;
	int iVar3;
	undefined4 *puVar4;
	int iVar5;
	float fVar6;
	float fVar7;
	float local_80[0x4];
	undefined4 local_70;
	undefined4 local_6c;
	undefined4 local_68;
	undefined4 local_64;
	undefined4 local_60;
	undefined4 local_5c;
	undefined4 local_58;
	undefined4 local_54;
	undefined4 local_50;
	undefined4 local_4c;
	undefined4 local_48;
	undefined4 local_44;

	if (1.00000000 <= param_1) {
		puVar2 = (undefined4 *)*param_3;
		*param_2 = *puVar2;
		param_2[0x1] = puVar2[0x1];
		param_2[0x2] = puVar2[0x2];
		param_2[0x3] = puVar2[0x3];
	}
	else {
		iVar3 = (uint)*(ushort *)(param_3 + 0x1) - 0x1;
		do {
			iVar1 = iVar3 * 0x20;
			iVar5 = -0x1;
			if (iVar3 == 0x0) break;
			iVar3 += -0x1;
		} while ((param_1 < *(float *)(iVar1 + *param_3 + 0x10)) ||
			(iVar5 = iVar3, *(float *)(iVar3 * 0x20 + *param_3 + 0x10) < param_1));
		iVar3 = (iVar5 + -0x1) * 0x20;
		fVar6 = *(float *)(iVar5 * 0x20 + *param_3 + 0x10);
		fVar7 = (param_1 - fVar6) * (1.00000000 / (*(float *)(iVar3 + *param_3 + 0x10) - fVar6));
		fVar6 = fVar7;
		if (*(char *)(param_3 + 0x3) != '\0') {
			fVar6 = 0.89999998;
			local_80[0] = 0.89999998;
			FUN_0027e148(fVar7, local_80);
		}
		puVar4 = (undefined4 *)(iVar5 * 0x20 + *param_3);
		local_60 = *puVar4;
		puVar2 = (undefined4 *)(iVar3 + *param_3);
		local_5c = puVar4[0x1];
		local_58 = puVar4[0x2];
		local_54 = puVar4[0x3];
		local_50 = *puVar2;
		local_4c = puVar2[0x1];
		local_48 = puVar2[0x2];
		local_44 = puVar2[0x3];
		FUN_00187890(fVar6, &local_70, &local_60, &local_50);
		*param_2 = local_70;
		param_2[0x1] = local_6c;
		param_2[0x2] = local_68;
		param_2[0x3] = local_64;
	}
	return param_2;
}



float FUN_0027a770(int param_1, undefined8 param_2, int param_3, float *param_4)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	Vector4 local_40;

	local_40.x = *(float *)(param_3 + 0x40) - *(float *)(param_1 + 0x30);
	local_40.y = *(float *)(param_1 + 0x34) - *(float *)(param_1 + 0x34);
	local_40.z = *(float *)(param_3 + 0x48) - *(float *)(param_1 + 0x38);
	local_40.w = 1.00000000;
	fVar5 = SQRT(local_40.x * local_40.x + local_40.y * local_40.y + local_40.z * local_40.z);
	fVar6 = *(float *)(param_1 + 0x10) + fVar5;
	if (fVar5 < *(float *)(param_1 + 0x14)) {
		fVar6 = fVar6 + *(float *)(param_1 + 0x14);
	}
	fVar1 = RSQRT(0.00000000, &local_40);
	fVar4 = *(float *)(param_1 + 0x24);
	fVar3 = local_40.x * fVar1 * fVar6 + *(float *)(param_1 + 0x30);
	fVar2 = *(float *)(param_1 + 0x38);
	if (fVar5 < fVar4) {
		fVar5 = *(float *)(param_1 + 0x18);
	}
	else {
		if (*(float *)(param_1 + 0x20) < fVar5) {
			fVar5 = *(float *)(param_1 + 0x1c);
		}
		else {
			fVar5 = (*(float *)(param_1 + 0x1c) - *(float *)(param_1 + 0x18)) *
				((fVar5 - fVar4) / (*(float *)(param_1 + 0x20) - fVar4)) + *(float *)(param_1 + 0x18);
		}
	}
	fVar4 = *(float *)(param_3 + 0x44);
	*param_4 = fVar3;
	param_4[0x1] = fVar4 + fVar5;
	param_4[0x2] = local_40.z * fVar1 * fVar6 + fVar2;
	param_4[0x3] = local_40.w;
	return fVar3;
}



// WARNING: Type propagation algorithm not settling

void FUN_0027aa80(int **param_1, long param_2)

{
	uint uVar1;
	int **ppiVar2;
	void *pvVar3;
	astruct_21 **ppaVar4;
	undefined8 uVar5;
	int iVar6;
	int *piVar7;
	int iVar8;
	ulong uVar9;
	astruct_21 *paVar10;
	long lVar11;
	astruct_22 local_60;

	lVar11 = 0x0;
	if (param_1[0x5d] == (int *)0x0) {
		piVar7 = *param_1;
		if (piVar7 == (int *)0x0) {
			local_60.field_0x0 = (astruct_21 *)0x0;
		}
		else {
			if (piVar7[0x2c] == 0x0) {
				ppiVar2 = (int **)MemoryAllocate(0x8);
				*ppiVar2 = piVar7;
				ppiVar2[0x1] = (int *)((uint)ppiVar2[0x1] & 0xfe000000);
				*(int ***)(piVar7 + 0x2c) = ppiVar2;
				iVar8 = piVar7[0x2c];
			}
			else {
				iVar8 = piVar7[0x2c];
			}
			*(uint *)(iVar8 + 0x4) =
				*(uint *)(iVar8 + 0x4) & 0xff000000 |
				(*(uint *)(iVar8 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
			local_60.field_0x0 = (astruct_21 *)piVar7[0x2c];
		}
		pvVar3 = MemoryAllocate(0x18);
		uVar5 = FUN_0027e298((long)(int)pvVar3, (int **)&local_60, param_1[0x8], param_1);
		param_1[0x5d] = (int *)uVar5;
	}
	paVar10 = (astruct_21 *)param_1[0x5d];
	if (paVar10 == (astruct_21 *)0x0) {
		local_60.field_0x0 = (astruct_21 *)0x0;
	}
	else {
		if (paVar10->field_0x0 == (astruct_22 *)0x0) {
			ppaVar4 = (astruct_21 **)MemoryAllocate(0x8);
			*ppaVar4 = paVar10;
			ppaVar4[0x1] = (astruct_21 *)((uint)ppaVar4[0x1] & 0xfe000000 | 0x1000000);
			*(astruct_21 ***)&paVar10->field_0x0 = ppaVar4;
			piVar7 = (int *)paVar10->field_0x0;
		}
		else {
			piVar7 = (int *)paVar10->field_0x0;
		}
		piVar7[0x1] = piVar7[0x1] & 0xff000000U | (piVar7[0x1] & 0xffffffU) + 0x1 & 0xffffff;
		local_60.field_0x0 = (astruct_21 *)paVar10->field_0x0;
	}
	FUN_001981c0((char)param_2, &local_60);
	uVar9 = 0x0;
	if (*(char *)((int)param_1 + 0x19) != '\0') {
		do {
			if (lVar11 == 0x0) {
				iVar8 = (int)param_2;
				if (param_2 == 0x0) {
					local_60.field_0x0 = (astruct_21 *)0x0;
				}
				else {
					if (*(int *)(iVar8 + 0xb0) == 0x0) {
						piVar7 = (int *)MemoryAllocate(0x8);
						uVar1 = piVar7[0x1];
						*(int **)(iVar8 + 0xb0) = piVar7;
						*piVar7 = iVar8;
						piVar7[0x1] = uVar1 & 0xfe000000;
						iVar6 = *(int *)(iVar8 + 0xb0);
					}
					else {
						iVar6 = *(int *)(iVar8 + 0xb0);
					}
					*(uint *)(iVar6 + 0x4) =
						*(uint *)(iVar6 + 0x4) & 0xff000000 |
						(*(uint *)(iVar6 + 0x4) & 0xffffff) + 0x1 & 0xffffff;
					local_60.field_0x0 = *(astruct_21 **)(iVar8 + 0xb0);
				}
				pvVar3 = MemoryAllocate(0x18);
				lVar11 = FUN_0027e298((long)(int)pvVar3, (int **)&local_60, param_1[0x8], param_1);
				if (lVar11 != 0x0) {
					iVar8 = *(int *)lVar11;
					goto LAB_0027aca8;
				}
				local_60.field_0x0 = (astruct_21 *)0x0;
			}
			else {
				iVar8 = *(int *)lVar11;
			LAB_0027aca8:
				paVar10 = (astruct_21 *)lVar11;
				if (iVar8 == 0x0) {
					ppaVar4 = (astruct_21 **)MemoryAllocate(0x8);
					*ppaVar4 = paVar10;
					ppaVar4[0x1] = (astruct_21 *)((uint)ppaVar4[0x1] & 0xfe000000 | 0x1000000);
					*(astruct_21 ***)&paVar10->field_0x0 = ppaVar4;
					piVar7 = (int *)paVar10->field_0x0;
				}
				else {
					piVar7 = (int *)paVar10->field_0x0;
				}
				piVar7[0x1] = piVar7[0x1] & 0xff000000U | (piVar7[0x1] & 0xffffffU) + 0x1 & 0xffffff;
				local_60.field_0x0 = (astruct_21 *)paVar10->field_0x0;
			}
			iVar8 = (int)uVar9;
			uVar9 = SEXT48(iVar8 + 0x1);
			FUN_001981c0((char)param_1[iVar8 + 0x39], &local_60);
		} while (uVar9 < *(byte *)((int)param_1 + 0x19));
	}
	return;
}



undefined8 FUN_0027ad50(undefined8 param_1)

{
	void *memory;
	undefined4 uVar1;

	memory = (void *)param_1;
	*(undefined4 *)((int)memory + 0x4) = 0x0;
	*(undefined4 *)((int)memory + 0x8) = 0x0;
	*(undefined4 *)((int)memory + 0xc) = 0x0;
	*(undefined4 *)((int)memory + 0x10) = 0x0;
	*(undefined4 *)((int)memory + 0x14) = 0x0;
	*(undefined4 *)((int)memory + 0x30) = 0x305148;
	FillMemory(memory, 0x0, 0x4);
	*(undefined4 *)((int)memory + 0xc0) = 0x304ca0;
	*(undefined4 *)((int)memory + 0x30) = 0x304c30;
	*(undefined4 *)((int)memory + 0xe0) = 0x40a00000;
	*(undefined4 *)((int)memory + 0xe4) = 0x40a00000;
	*(undefined4 *)((int)memory + 0xc4) = 0x0;
	uVar1 = 0x3f800000;
	*(ulong *)((int)memory + 0xc0) =
		*(ulong *)((int)memory + 0xc0) & 0xffffff00ffffffff | 0x1100000000;
	MovePositionFromPos2ToPos1
	((Vector4 *)((int)memory + 0xd0), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)((int)memory + 0xdc) = uVar1;
	*(undefined4 *)((int)memory + 0xf0) = 0x304ca0;
	*(undefined4 *)((int)memory + 0x114) = 0x40a00000;
	*(undefined4 *)((int)memory + 0x110) = 0x40a00000;
	*(undefined4 *)((int)memory + 0xf4) = 0x0;
	*(ulong *)((int)memory + 0xf0) =
		*(ulong *)((int)memory + 0xf0) & 0xffffff00ffffffff | 0x1100000000;
	MovePositionFromPos2ToPos1
	((Vector4 *)((int)memory + 0x100), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)((int)memory + 0x10c) = uVar1;
	*(undefined4 *)((int)memory + 0x184) = 0x305208;
	*(undefined4 *)((int)memory + 0x120) = 0x0;
	*(undefined *)((int)memory + 0x181) = 0x1;
	*(undefined *)((int)memory + 0x180) = 0x0;
	*(undefined4 *)((int)memory + 0x138) = 0x0;
	*(undefined4 *)((int)memory + 0x134) = 0x0;
	*(undefined4 *)((int)memory + 0x130) = 0x0;
	*(undefined4 *)((int)memory + 0x13c) = uVar1;
	MovePositionFromPos2ToPos1
	((Vector4 *)((int)memory + 0x140), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)((int)memory + 0x14c) = uVar1;
	*(undefined4 *)((int)memory + 0x184) = 0x304d30;
	FUN_0027cc28((undefined4 *)((int)memory + 0x120));
	FUN_00278798((long)((int)memory + 0x1d0));
	*(ulong *)((int)memory + 0x40) = *(ulong *)((int)memory + 0x40) & 0xfffffffffffffffc | 0x4;
	FUN_0027e608((int)memory);
	FUN_0027e778((int)memory);
	return param_1;
}



void FUN_0027af78(int param_1)

{
	int iVar1;
	TransformedGeometyPoint *pTVar2;
	undefined4 uVar4;
	undefined8 uVar3;
	undefined4 uVar5;
	float fVar6;
	undefined4 uVar7;
	float fVar8;
	float fVar9;
	Vector4 local_80;
	Vector4 local_70;
	Vector4 local_60;
	undefined4 local_50;
	undefined4 local_4c;
	undefined4 local_48;
	undefined4 local_44;

	if ((*(ulong *)(param_1 + 0x40) & 0x30) == 0x0) {
		return;
	}
	if (*(int *)(param_1 + 0x44) == 0x0) {
		if (((*(ulong *)(param_1 + 0x40) & 0x40) == 0x0) || (*(int *)(param_1 + 0x48) == 0x0))
			goto LAB_0027b148;
		iVar1 = *(int *)(*(int *)(param_1 + 0x48) + 0x8);
		if ((*(ulong *)(iVar1 + 0x60) & 0x4) != 0x0) {
			*(undefined4 *)(iVar1 + 0x40) = *(undefined4 *)(iVar1 + 0x30);
			*(undefined4 *)(iVar1 + 0x4c) = *(undefined4 *)(iVar1 + 0x3c);
			*(undefined4 *)(iVar1 + 0x44) = *(undefined4 *)(iVar1 + 0x34);
			*(undefined4 *)(iVar1 + 0x48) = *(undefined4 *)(iVar1 + 0x38);
			*(ulong *)(iVar1 + 0x60) = *(ulong *)(iVar1 + 0x60) & 0xfffffffffffffffa;
		}
		uVar3 = *(undefined8 *)(iVar1 + 0x40);
		fVar6 = *(float *)(iVar1 + 0x48);
		uVar4 = *(undefined4 *)(iVar1 + 0x4c);
	}
	else {
		iVar1 = *(int *)(*(int *)(param_1 + 0x44) + 0x8);
		if ((*(ulong *)(iVar1 + 0x60) & 0x4) != 0x0) {
			*(undefined4 *)(iVar1 + 0x40) = *(undefined4 *)(iVar1 + 0x30);
			*(undefined4 *)(iVar1 + 0x4c) = *(undefined4 *)(iVar1 + 0x3c);
			*(undefined4 *)(iVar1 + 0x44) = *(undefined4 *)(iVar1 + 0x34);
			*(undefined4 *)(iVar1 + 0x48) = *(undefined4 *)(iVar1 + 0x38);
			*(ulong *)(iVar1 + 0x60) = *(ulong *)(iVar1 + 0x60) & 0xfffffffffffffffa;
		}
		uVar4 = *(undefined4 *)(iVar1 + 0x44);
		uVar5 = *(undefined4 *)(iVar1 + 0x48);
		uVar7 = *(undefined4 *)(iVar1 + 0x4c);
		*(undefined4 *)(param_1 + 0x50) = *(undefined4 *)(iVar1 + 0x40);
		*(undefined4 *)(param_1 + 0x54) = uVar4;
		*(undefined4 *)(param_1 + 0x58) = uVar5;
		*(undefined4 *)(param_1 + 0x5c) = uVar7;
		if (*(int *)(param_1 + 0x48) == 0x0) {
			if ((*(ulong *)(param_1 + 0x40) & 0x80) != 0x0) goto LAB_0027b148;
			pTVar2 = *(TransformedGeometyPoint **)(*(int *)(param_1 + 0x44) + 0x8);
			RotateAndTranslate_(pTVar2);
			local_70.x = *(float *)(param_1 + 0x50) + (pTVar2->transformMatrix).zComponents.x;
			local_70.y = *(float *)(param_1 + 0x54) + (pTVar2->transformMatrix).zComponents.y;
			fVar6 = *(float *)(param_1 + 0x58) + (pTVar2->transformMatrix).zComponents.z;
			local_70.w = 1.00000000;
			uVar3 = CONCAT44(local_70.y, local_70.x);
			uVar4 = 0x3f800000;
			local_70.z = fVar6;
		}
		else {
			iVar1 = *(int *)(*(int *)(param_1 + 0x48) + 0x8);
			if ((*(ulong *)(iVar1 + 0x60) & 0x4) != 0x0) {
				*(undefined4 *)(iVar1 + 0x40) = *(undefined4 *)(iVar1 + 0x30);
				*(undefined4 *)(iVar1 + 0x4c) = *(undefined4 *)(iVar1 + 0x3c);
				*(undefined4 *)(iVar1 + 0x44) = *(undefined4 *)(iVar1 + 0x34);
				*(undefined4 *)(iVar1 + 0x48) = *(undefined4 *)(iVar1 + 0x38);
				*(ulong *)(iVar1 + 0x60) = *(ulong *)(iVar1 + 0x60) & 0xfffffffffffffffa;
			}
			uVar3 = *(undefined8 *)(iVar1 + 0x40);
			fVar6 = *(float *)(iVar1 + 0x48);
			uVar4 = *(undefined4 *)(iVar1 + 0x4c);
		}
	}
	*(undefined4 *)(param_1 + 0x60) = (int)uVar3;
	*(undefined4 *)(param_1 + 0x64) = (int)((ulong)uVar3 >> 0x20);
	*(float *)(param_1 + 0x68) = fVar6;
	*(undefined4 *)(param_1 + 0x6c) = uVar4;
LAB_0027b148:
	local_80.z = *(float *)(param_1 + 0x68) - *(float *)(param_1 + 0x58);
	local_80.y = *(float *)(param_1 + 0x64) - *(float *)(param_1 + 0x54);
	local_80.x = *(float *)(param_1 + 0x60) - *(float *)(param_1 + 0x50);
	local_80.w = 1.00000000;
	fVar6 = RSQRT(0.00000000, &local_80);
	local_80.x = local_80.x * fVar6;
	local_80.y = local_80.y * fVar6;
	local_70.x = 0.00000000;
	local_80.z = local_80.z * fVar6;
	local_70.y = 1.00000000;
	local_70.z = 0.00000000;
	local_70.w = 1.00000000;
	local_60.w = local_80.w;
	local_60.z = local_80.x * 1.00000000 - local_80.y * 0.00000000;
	local_60.y = local_80.z * 0.00000000 - local_80.x * 0.00000000;
	local_60.x = local_80.y * 0.00000000 - local_80.z * 1.00000000;
	fVar6 = RSQRT(0.00000000, &local_60);
	local_60.x = local_60.x * fVar6;
	local_60.y = local_60.y * fVar6;
	local_60.z = local_60.z * fVar6;
	if ((*(ulong *)(param_1 + 0x40) & 0x100) == 0x0) {
		MovePositionFromPos2ToPos1(&local_70, &local_60);
		fVar9 = local_70.y * local_80.x;
		fVar8 = local_70.z * local_80.y;
		fVar6 = local_70.y * local_80.z;
		local_70.y = local_70.z * local_80.x - local_70.x * local_80.z;
		local_70.z = local_70.x * local_80.y - fVar9;
		local_70.x = fVar6 - fVar8;
		fVar6 = RSQRT(0.00000000, &local_70);
		local_70.x = local_70.x * fVar6;
		local_70.y = local_70.y * fVar6;
		local_70.z = local_70.z * fVar6;
	}
	local_60.w = 0.00000000;
	local_70.w = 0.00000000;
	local_80.w = 0.00000000;
	local_50 = 0x0;
	local_4c = 0x0;
	local_48 = 0x0;
	local_44 = 0x3f800000;
	FUN_0018c1e8((undefined4 *)(param_1 + 0x70), (undefined4 *)&local_60, (undefined4 *)&local_70,
		(undefined4 *)&local_80, &local_50);
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xffffffffffffffdf;
	return;
}



void FUN_0027b358(long param_1, long param_2)

{
	if ((param_2 == 0xffff) && (param_1 != 0x0)) {
		FUN_0026fd60(0x3bdb30);
		FUN_0011bf10(0.78539819, (int *)0x30a9a0, 0x0);
		FUN_0011bf10(0.10000000, DAT(0x0030a9a8), 0x1);
		FUN_0011bf10(135.00000000, (int *)0x30a9b0, 0x1);
		FUN_0011bf10(-135.00000000, (int *)0x30a9b8, 0x1);
		FUN_0011bf10(90.00000000, DAT(0x0030a9c0), 0x1);
		FUN_0011bf10(10.00000000, (int *)0x30a9c8, 0x1);
		FUN_0011bf10(0.00000000, (int *)0x30a9d0, 0x1);
		FUN_0011bf10(15.00000000, DAT(0x0030a9d8), 0x1);
		FUN_0011bf10(720.00000000, (int *)0x30a9e0, 0x1);
		FUN_0011bf10(90.00000000, (int *)0x30a9e8, 0x1);
		FUN_0011bf10(5.00000000, (int *)0x30a9f0, 0x1);
		FUN_0011bf10(360.00000000, (int *)0x30a9f8, 0x1);
		FUN_0011bf10(90.00000000, (int *)0x30aa00, 0x1);
		FUN_0011bf10(5.00000000, (int *)0x30aa08, 0x1);
		FUN_0011bf10(720.00000000, (int *)0x30aa10, 0x1);
		FUN_0011bf10(180.00000000, (int *)0x30aa18, 0x1);
		FUN_0011bf10(180.00000000, (int *)0x30aa20, 0x1);
		FUN_0011bf10(180.00000000, (int *)0x30aa28, 0x1);
		FUN_0011bf10(60.00000000, (int *)0x30aa30, 0x1);
		FUN_0011bf10(120.00000000, (int *)0x30aa38, 0x1);
		FUN_0011bf10(-45.00000000, (int *)0x30aa40, 0x1);
		FUN_0011bf10(75.00000000, (int *)0x30aa48, 0x1);
		FUN_0011bf10(7.00000000, (int *)0x30aa50, 0x1);
		DAT_003bdc0c = 0x3f800000;
		DAT_003bdc00 = 0x0;
		DAT_003bdc04 = 0x0;
		DAT_003bdc08 = 0xbf800000;
		FUN_0011bf10(180.00000000, (int *)0x30aa58, 0x1);
		FUN_0011bf10(90.00000000, (int *)0x30aa60, 0x1);
	}
	return;
}



void FUN_0027b640(undefined8 param_1, int param_2)

{
	MultiplyMatrices((Matrix4x4 *)param_1 + 0x1, (Matrix4x4 *)param_1, (Matrix4x4 *)param_1 + 0x2);
	MultiplyMatrices((Matrix4x4 *)param_1, (Matrix4x4 *)(param_2 + 0x20), (Matrix4x4 *)param_1 + 0x4);
	MultiplyMatrices((Matrix4x4 *)param_1 + 0x2, (Matrix4x4 *)(param_2 + 0x20),
		(Matrix4x4 *)param_1 + 0x3);
	return;
}



void FUN_0027b6c0(int param_1, int param_2)

{
	Matrix4x4 MStack96;

	DAT_003bdbc0._0_4_ = *(undefined4 *)(param_1 + 0xc0);
	DAT_003bdbc0._4_4_ = *(undefined4 *)(param_1 + 0xc4);
	DAT_003bdbc8 = *(undefined4 *)(param_1 + 0xc8);
	DAT_003bdbcc = *(undefined4 *)(param_1 + 0xcc);
	DAT_003bdbd0._0_4_ = *(undefined4 *)(param_1 + 0xd0);
	DAT_003bdbd0._4_4_ = *(undefined4 *)(param_1 + 0xd4);
	DAT_003bdbd8 = *(undefined4 *)(param_1 + 0xd8);
	DAT_003bdbdc = *(undefined4 *)(param_1 + 0xdc);
	DAT_003bdbe0._0_4_ = *(undefined4 *)(param_1 + 0xe0);
	DAT_003bdbe0._4_4_ = *(undefined4 *)(param_1 + 0xe4);
	DAT_003bdbe8 = *(undefined4 *)(param_1 + 0xe8);
	DAT_003bdbec = *(undefined4 *)(param_1 + 0xec);
	DAT_003bdbf0._0_4_ = *(undefined4 *)(param_1 + 0xf0);
	DAT_003bdbf0._4_4_ = *(undefined4 *)(param_1 + 0xf4);
	DAT_003bdbf8 = *(undefined4 *)(param_1 + 0xf8);
	DAT_003bdbfc = *(undefined4 *)(param_1 + 0xfc);
	FUN_001a2578(param_2, (long)(int)&MStack96);
	MultiplyMatrices((Matrix4x4 *)(param_1 + 0x80), &MStack96, (Matrix4x4 *)(param_1 + 0xc0));
	return;
}



void FUN_0027b730(int param_1)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;

	uVar3 = DAT_003bdbcc;
	uVar2 = DAT_003bdbc8;
	uVar1 = DAT_003bdbc0._4_4_;
	*(undefined4 *)(param_1 + 0xc0) = (undefined4)DAT_003bdbc0;
	*(undefined4 *)(param_1 + 0xc4) = uVar1;
	*(undefined4 *)(param_1 + 0xc8) = uVar2;
	*(undefined4 *)(param_1 + 0xcc) = uVar3;
	uVar3 = DAT_003bdbdc;
	uVar2 = DAT_003bdbd8;
	uVar1 = DAT_003bdbd0._4_4_;
	*(undefined4 *)(param_1 + 0xd0) = (undefined4)DAT_003bdbd0;
	*(undefined4 *)(param_1 + 0xd4) = uVar1;
	*(undefined4 *)(param_1 + 0xd8) = uVar2;
	*(undefined4 *)(param_1 + 0xdc) = uVar3;
	uVar3 = DAT_003bdbec;
	uVar2 = DAT_003bdbe8;
	uVar1 = DAT_003bdbe0._4_4_;
	*(undefined4 *)(param_1 + 0xe0) = (undefined4)DAT_003bdbe0;
	*(undefined4 *)(param_1 + 0xe4) = uVar1;
	*(undefined4 *)(param_1 + 0xe8) = uVar2;
	*(undefined4 *)(param_1 + 0xec) = uVar3;
	uVar3 = DAT_003bdbfc;
	uVar2 = DAT_003bdbf8;
	uVar1 = DAT_003bdbf0._4_4_;
	*(undefined4 *)(param_1 + 0xf0) = (undefined4)DAT_003bdbf0;
	*(undefined4 *)(param_1 + 0xf4) = uVar1;
	*(undefined4 *)(param_1 + 0xf8) = uVar2;
	*(undefined4 *)(param_1 + 0xfc) = uVar3;
	return;
}



void FUN_0027b768(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x64) = 0x305208;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



undefined4 FUN_0027b798(int param_1, undefined8 param_2, int param_3)

{
	FUN_001f01d0(param_3, (float *)(param_1 + 0x10));
	FUN_001ea1f0(param_3, (undefined8 *)(param_1 + 0x20), 0x1);
	return 0x1;
}



void FUN_0027b830(ulong *param_1)

{
	int *piVar1;

	if ((*param_1 & 0x4) == 0x0) {
		*(undefined4 *)(param_1 + 0x1) = 0x0;
	}
	else {
		piVar1 = *(int **)(param_1 + 0x1);
		if (piVar1 != (int *)0x0) {
			(**(code **)(*piVar1 + 0xc))((int)piVar1 + (int)*(short *)(*piVar1 + 0x8), 0x3);
		}
		*(undefined4 *)(param_1 + 0x1) = 0x0;
	}
	return;
}



void FUN_0027b888(ulong *param_1)

{
	int *piVar1;

	if ((*param_1 & 0x8) == 0x0) {
		*(undefined4 *)((int)param_1 + 0xc) = 0x0;
	}
	else {
		piVar1 = *(int **)((int)param_1 + 0xc);
		if (piVar1 != (int *)0x0) {
			(**(code **)(*piVar1 + 0xc))((int)piVar1 + (int)*(short *)(*piVar1 + 0x8), 0x3);
		}
		*(undefined4 *)((int)param_1 + 0xc) = 0x0;
	}
	return;
}



void FUN_0027b8e0(ulong *param_1)

{
	int iVar1;

	if ((*param_1 & 0x10) == 0x0) {
		*(undefined4 *)(param_1 + 0x2) = 0x0;
	}
	else {
		iVar1 = *(int *)(param_1 + 0x2);
		if (iVar1 != 0x0) {
			(**(code **)(*(int *)(iVar1 + 0x64) + 0xc))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0x64) + 0x8), 0x3);
		}
		*(undefined4 *)(param_1 + 0x2) = 0x0;
	}
	return;
}



undefined8 FUN_0027b948(undefined8 param_1)

{
	void *memory;

	memory = (void *)param_1;
	*(undefined4 *)((int)memory + 0x4) = 0x0;
	*(undefined4 *)((int)memory + 0x8) = 0x0;
	*(undefined4 *)((int)memory + 0xc) = 0x0;
	*(undefined4 *)((int)memory + 0x10) = 0x0;
	*(undefined4 *)((int)memory + 0x14) = 0x0;
	*(undefined4 *)((int)memory + 0x30) = 0x305148;
	FillMemory(memory, 0x0, 0x4);
	return param_1;
}



void FUN_0027b9a0(undefined4 *param_1, ulong param_2)

{
	*param_1 = 0x2f03e8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(param_1);
	}
	return;
}



void FUN_0027ba60(ulong param_1, ulong param_2)

{
	int iVar1;

	*(undefined4 *)((int)param_1 + 0xc) = 0x304fa8;
	iVar1 = *(int *)((int)param_1 + 0x10);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x10) + 0xc))
			(iVar1 + *(short *)(*(int *)(iVar1 + 0x10) + 0x8), 0x3);
	}
	FUN_0027cdc8(param_1, param_2);
	return;
}



void FUN_0027bc48(ulong param_1, ulong param_2)

{
	int iVar1;
	int iVar2;
	int iVar3;

	iVar3 = (int)param_1;
	*(undefined4 *)(iVar3 + 0xc) = 0x304e68;
	iVar1 = *(int *)(iVar3 + 0x10);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x10) + 0xc))
			(iVar1 + *(short *)(*(int *)(iVar1 + 0x10) + 0x8), 0x3);
	}
	iVar1 = *(int *)(iVar3 + 0x14);
	if (iVar1 != 0x0) {
		iVar2 = iVar1 + *(int *)(iVar1 + -0x10) * 0x20;
		while (iVar1 != iVar2) {
			iVar2 += -0x20;
		}
		MemoryDeallocate_((void *)(iVar1 + -0x10));
	}
	*(undefined2 *)(iVar3 + 0x1a) = 0x0;
	*(undefined4 *)(iVar3 + 0x14) = 0x0;
	*(undefined2 *)(iVar3 + 0x18) = 0x0;
	FUN_0027cdc8(param_1, param_2);
	return;
}



// WARNING: Could not reconcile some variable overlaps

void FUN_0027bd48(float param_1)

{
	ulong uVar1;
	int iVar2;
	undefined8 local_20[0x2];

	param_1 = param_1 * 1024.00000000;
	if ((byte)((uint)param_1 >> 0x17) < 0x9e) {
		iVar2 = (int)param_1;
	}
	else {
		if ((int)param_1 < 0x0) {
			iVar2 = 0x7fffffff;
		}
		else {
			iVar2 = -0x80000000;
		}
	}
	uVar1 = (long)iVar2;
	if (0xff < (long)iVar2) {
		uVar1 = 0xff;
	}
	if ((long)uVar1 < 0x14) {
		uVar1 = 0x14;
	}
	local_20[0]._0_4_ = (uint)local_20[0] & 0xffff8000 | 0x21 | (uint)((uVar1 & 0xff) << 0x7);
	local_20[0] = CONCAT44(0x3ecccccd, (uint)local_20[0]);
	FUN_002b3f50((uint *)local_20);
	return;
}



void FUN_0027be10(undefined4 *param_1, undefined4 *param_2)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;

	uVar1 = param_1[0x1];
	uVar2 = param_1[0x2];
	uVar3 = param_1[0x3];
	*param_2 = *param_1;
	param_2[0x1] = uVar1;
	param_2[0x2] = uVar2;
	param_2[0x3] = uVar3;
	return;
}



undefined8 FUN_0027be38(undefined8 param_1)

{
	int iVar1;
	GameNode *pGVar2;

	pGVar2 = (GameNode *)param_1;
	InitGameNode(pGVar2);
	pGVar2[0x1].methods = (undefined *)0x0;
	pGVar2[0x2].ChunkNode = (ChunkNode *)0x0;
	pGVar2->methods = DAT(0x00305280);
	pGVar2[0x1].ChunkNode = (ChunkNode *)0x1;
	FUN_0011bf10(0.78539819, (int *)&pGVar2[0x1].field_0x4, 0x0);
	iVar1 = DAT_0030aaf0;
	pGVar2[0x1].prevNode = (GameNode *)0x3dcccccd;
	pGVar2[0x1].nextNode = (GameNode *)0x44bb8000;
	if (iVar1 == 0x3) {
		pGVar2[0x1].field_0x8 = 0x3f800000;
	}
	else {
		pGVar2[0x1].field_0x8 = 0x3f75c28f;
	}
	*(undefined4 *)&pGVar2[0x2].field_0x4 = 0x0;
	pGVar2[0x2].field_0x8 = 0x0;
	return param_1;
}



void FUN_0027bef0(ulong param_1, ulong param_2)

{
	undefined *puVar1;
	ChunkNode *pCVar2;
	int iVar3;
	GameNode *pGVar4;

	pGVar4 = (GameNode *)param_1;
	pGVar4->methods = DAT(0x00305280);
	if (((uint)pGVar4[0x1].ChunkNode & 0x2) != 0x0) {
		puVar1 = pGVar4[0x1].methods;
		if (puVar1 != (undefined *)0x0) {
			(**(code **)(*(int *)(puVar1 + 0x30) + 0xc))
				(puVar1 + *(short *)(*(int *)(puVar1 + 0x30) + 0x8), 0x3);
		}
		pGVar4[0x1].ChunkNode = (ChunkNode *)((uint)pGVar4[0x1].ChunkNode & 0xfffffffd);
	}
	pGVar4[0x1].methods = (undefined *)0x0;
	if (((uint)pGVar4[0x1].ChunkNode & 0x4) != 0x0) {
		pCVar2 = pGVar4[0x2].ChunkNode;
		if (pCVar2 != (ChunkNode *)0x0) {
			iVar3 = *(int *)&(pCVar2->chunkNodeRelData_).field_0x20;
			(**(code **)(iVar3 + 0xc))((int)&pCVar2->field_0x0 + (int)*(short *)(iVar3 + 0x8), 0x3);
		}
		pGVar4[0x1].ChunkNode = (ChunkNode *)((uint)pGVar4[0x1].ChunkNode & 0xfffffffb);
	}
	pGVar4[0x2].ChunkNode = (ChunkNode *)0x0;
	DestroyNode_(pGVar4, param_2);
	return;
}



ulong FUN_0027bfb8(int param_1, undefined8 param_2, undefined8 param_3)

{
	int iVar1;
	long lVar2;
	ulong uVar3;

	if ((*(ulong *)param_3 >> 0x12 & 0x1) == 0x0) {
		uVar3 = 0x0;
	}
	else {
		iVar1 = *(int *)(param_1 + 0x2c);
		uVar3 = 0x1;
		if (iVar1 != 0x0) {
			lVar2 = (**(code **)(*(int *)(iVar1 + 0x30) + 0x24))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0x30) + 0x20));
			uVar3 = (ulong)(lVar2 != 0x0);
		}
		iVar1 = *(int *)(param_1 + 0x30);
		if (iVar1 != 0x0) {
			lVar2 = (**(code **)(*(int *)(iVar1 + 0x30) + 0x24))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0x30) + 0x20), param_2, param_3);
			uVar3 &= lVar2 != 0x0;
		}
	}
	return uVar3;
}



void FUN_0027c068(undefined4 *param_1, int param_2)

{
	int iVar1;
	undefined4 uVar2;

	iVar1 = param_1[0xb];
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0x30) + 0x14))
			(iVar1 + *(short *)(*(int *)(iVar1 + 0x30) + 0x10), *param_1);
	}
	iVar1 = param_1[0xc];
	if (iVar1 == 0x0) {
		uVar2 = *(undefined4 *)(param_2 + 0x4);
	}
	else {
		(**(code **)(*(int *)(iVar1 + 0x30) + 0x14))
			(iVar1 + *(short *)(*(int *)(iVar1 + 0x30) + 0x10), *param_1);
		uVar2 = *(undefined4 *)(param_2 + 0x4);
	}
	param_1[0x2] = uVar2;
	return;
}



undefined4 FUN_0027c0e0(undefined4 *param_1, int param_2, long param_3)

{
	int iVar1;
	uint uVar2;

	iVar1 = param_1[0xb];
	if (iVar1 != param_2) {
		if ((param_1[0x6] & 0x2) == 0x0) {
			uVar2 = param_1[0x6];
		}
		else {
			if (iVar1 != 0x0) {
				(**(code **)(*(int *)(iVar1 + 0x30) + 0xc))
					(iVar1 + *(short *)(*(int *)(iVar1 + 0x30) + 0x8), 0x3);
			}
			param_1[0x6] = param_1[0x6] & 0xfffffffd;
			uVar2 = param_1[0x6];
		}
		param_1[0xb] = param_2;
		param_1[0x6] = uVar2 & 0xfffffffd;
	}
	if ((param_1[0x6] & 0x4) == 0x0) {
		uVar2 = param_1[0x6];
	}
	else {
		iVar1 = param_1[0xc];
		if (iVar1 != 0x0) {
			(**(code **)(*(int *)(iVar1 + 0x30) + 0xc))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0x30) + 0x8), 0x3);
		}
		param_1[0x6] = param_1[0x6] & 0xfffffffb;
		uVar2 = param_1[0x6];
	}
	param_1[0xd] = 0x0;
	param_1[0xc] = 0x0;
	param_1[0x6] = uVar2 & 0xfffffffb;
	if (param_3 != 0x0) {
		iVar1 = param_1[0xb];
		if (iVar1 == 0x0) {
			return param_1[0xb];
		}
		(**(code **)(*(int *)(iVar1 + 0x30) + 0x14))
			(iVar1 + *(short *)(*(int *)(iVar1 + 0x30) + 0x10), *param_1);
	}
	return param_1[0xb];
}



uint FUN_0027c240(int param_1, undefined8 param_2, ulong *param_3)

{
	bool bVar1;

	bVar1 = (*param_3 >> 0x12 & 0x1) != 0x0;
	if (bVar1) {
		FUN_001f01d0((int)param_3, (float *)(param_1 + 0x10));
		FUN_001ea1f0((int)param_3, (undefined8 *)(param_1 + 0x20), 0x1);
	}
	return (uint)bVar1;
}



void FUN_0027c2b0(uint *param_1)

{
	float fVar1;

	fVar1 = (float)param_1[0xe] - (float)param_1[0xd];
	param_1[0x6] = 0x0;
	param_1[0x5] = param_1[0x3];
	if (0.00005000 < ABS(fVar1)) {
		*(float *)(param_1 + 0x4) = ((float)param_1[0x3] - (float)param_1[0xd]) / fVar1;
	}
	else {
		param_1[0x4] = 0x7149f2ca;
	}
	param_1[0xb] = param_1[0x9];
	*param_1 = *param_1 & 0x1;
	param_1[0x11] = param_1[0x5];
	param_1[0x2] = 0x0;
	param_1[0x12] = 0x0;
	param_1[0x1] = 0x0;
	return;
}



undefined4 FUN_0027c450(int param_1, undefined8 *param_2, undefined8 *param_3)

{
	undefined4 uVar1;

	uVar1 = FUN_00282730((long)*(int *)(*(int *)(param_1 + 0x4c) + 0xa0), param_2, param_3, 0x20, 0x0, 0x0,
		0x0);
	return uVar1;
}



void FUN_0027c480(ulong param_1, ulong param_2)

{
	void *address;

	address = (void *)param_1;
	*(undefined4 *)((int)address + 0x34) = 0x304da8;
	if ((long)*(int *)((int)address + 0x380) != 0x0) {
		FUN_00292f70((long)*(int *)((int)address + 0x380), 0x3);
	}
	FUN_0027ce70((long)((int)address + 0x2f0), 0x2);
	*(undefined4 *)((int)address + 0x34) = 0x305240;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



void FUN_0027c4f0(int param_1, undefined4 param_2, undefined4 param_3)

{
	void *pvVar1;
	undefined8 uVar2;

	*(undefined4 *)(param_1 + 0x50) = param_3;
	*(undefined4 *)(param_1 + 0x4c) = param_2;
	if ((long)*(int *)(param_1 + 0x380) != 0x0) {
		FUN_00292f70((long)*(int *)(param_1 + 0x380), 0x3);
	}
	*(undefined4 *)(param_1 + 0x380) = 0x0;
	pvVar1 = MemoryAllocate(0x50);
	uVar2 = FUN_00292f28((long)(int)pvVar1, param_2, 0x20);
	*(undefined4 *)(param_1 + 0x380) = (int)uVar2;
	FUN_00273a70(param_1);
	return;
}



void FUN_0027c560(float param_1, int param_2, undefined4 *param_3)

{
	*(float *)(param_2 + 0x17c) = param_1;
	*(float *)(param_2 + 0x178) = param_1;
	*(float *)(param_2 + 0x150) = (param_1 + param_1) * 0.50000000;
	*(undefined4 *)(param_2 + 0x60) = *param_3;
	FUN_00273a70(param_2);
	return;
}



void FUN_0027c5b8(int param_1, ulong param_2)

{
	*(ulong *)(param_1 + 0x40) =
		*(ulong *)(param_1 + 0x40) & 0xfffffffffffffeff | (param_2 & 0x1) << 0x8;
	return;
}



void FUN_0027c5d8(int param_1)

{
	*(float *)(param_1 + 0x3b8) =
		*(float *)(param_1 + 0x3b8) +
		(ABS(*(float *)(param_1 + 0x3b0) + *(float *)(param_1 + 0x3b0)) - *(float *)(param_1 + 0x3b8)
			) * 0.05000000;
	return;
}



void FUN_0027c608(int param_1)

{
	*(undefined4 *)(param_1 + 0xc8) = *(undefined4 *)(param_1 + 0xd0);
	*(ulong *)(param_1 + 0x48) = *(ulong *)(param_1 + 0x48) & 0xfffffffffffffdff | 0x400;
	*(undefined4 *)(param_1 + 0x168) = *(undefined4 *)(param_1 + 0x170);
	*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0x120);
	*(undefined4 *)(param_1 + 0x78) = *(undefined4 *)(param_1 + 0x80);
	return;
}



void FUN_0027c658(int param_1)

{
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xffffe07fffffffff;
	return;
}



void FUN_0027c6c8(int param_1, long param_2, undefined8 param_3, undefined8 param_4, int param_5)

{
	undefined4 uVar1;
	int iVar2;
	ulong uVar3;
	ulong uVar4;
	float fVar5;
	int iVar6;

	iVar2 = FUN_00276fd8(param_1, param_2);
	if (iVar2 == 0x0) {
		FUN_0027c7b8(param_1);
	}
	else {
		if ((*(ulong *)(param_1 + 0x40) & 0x1000000000) == 0x0) {
			uVar1 = *(undefined4 *)(param_5 + 0x4);
			*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) | 0x1000000000;
			*(undefined4 *)(param_1 + 0x39c) = uVar1;
		}
		fVar5 = DAT_00309b7c * 0.69999999;
		iVar2 = *(int *)(param_5 + 0x4) - *(int *)(param_1 + 0x39c);
		if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
			iVar6 = (int)fVar5;
		}
		else {
			if ((int)fVar5 < 0x0) {
				iVar6 = 0x7fffffff;
			}
			else {
				iVar6 = -0x80000000;
			}
		}
		if (iVar6 < iVar2) {
			uVar4 = 0x2000000000;
			uVar3 = *(ulong *)(param_1 + 0x40);
		}
		else {
			fVar5 = DAT_00309b7c * 0.20000000;
			if ((byte)((uint)fVar5 >> 0x17) < 0x9e) {
				iVar6 = (int)fVar5;
			}
			else {
				if ((int)fVar5 < 0x0) {
					iVar6 = 0x7fffffff;
				}
				else {
					iVar6 = -0x80000000;
				}
			}
			if (iVar2 <= iVar6) {
				return;
			}
			uVar3 = *(ulong *)(param_1 + 0x40);
			uVar4 = 0x800000000;
		}
		*(ulong *)(param_1 + 0x40) = uVar3 | uVar4;
	}
	return;
}



void FUN_0027c7b8(int param_1)

{
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xffffffc7ffffffff;
	return;
}



void FUN_0027c800(int param_1)

{
	*(undefined4 *)(param_1 + 0x394) = 0x3f800000;
	return;
}



void FUN_0027c810(int param_1)

{
	*(undefined4 *)(param_1 + 0x390) = 0x40c00000;
	return;
}



void FUN_0027c830(ulong param_1, ulong param_2)

{
	void *address;

	address = (void *)param_1;
	*(undefined4 *)((int)address + 0x64) = 0x304df0;
	FUN_0027ce70((long)((int)address + 0x180), 0x2);
	FUN_0011c088((ChunkNodeUnkBitfield **)((int)address + 0x74));
	*(undefined4 *)((int)address + 0x64) = 0x305208;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



uint FUN_0027c898(int param_1, undefined8 param_2, ulong *param_3)

{
	bool bVar1;
	undefined4 local_40;
	undefined4 local_3c;
	undefined4 local_38;
	undefined4 local_34;
	undefined4 local_30;
	undefined4 local_2c;
	undefined4 local_28;
	undefined4 local_24;

	bVar1 = (*param_3 >> 0x12 & 0x1) != 0x0;
	if (bVar1) {
		local_3c = *(undefined4 *)(param_1 + 0x88);
		local_2c = *(undefined4 *)(param_1 + 0x8c);
		local_40 = 0x0;
		local_38 = 0x0;
		local_34 = 0x3f800000;
		local_30 = 0x0;
		local_28 = 0x0;
		local_24 = 0x3f800000;
		FUN_001ea1f0((int)param_3, (undefined8 *)&local_40, 0x1);
		FUN_001ea1f0((int)param_3, (undefined8 *)&local_30, 0x1);
		*(undefined4 *)(param_1 + 0x88) = local_3c;
		*(undefined4 *)(param_1 + 0x8c) = local_2c;
		FUN_001ea1f0((int)param_3, (undefined8 *)(param_1 + 0xc0), 0x1);
		FUN_001f01d0((int)param_3, (float *)(param_1 + 0x10));
		FUN_001ea1f0((int)param_3, (undefined8 *)(param_1 + 0x20), 0x1);
	}
	return (uint)bVar1;
}



void FUN_0027c980(int param_1)

{
	*(undefined *)(param_1 + 0x61) = 0x1;
	*(ulong *)(param_1 + 0x70) = *(ulong *)(param_1 + 0x70) & 0xfffffffffff9cde0 | 0x18000;
	return;
}



void FUN_0027ca00(int param_1)

{
	*(ulong *)(param_1 + 0x70) = *(ulong *)(param_1 + 0x70) & 0xfffffffffffffff7;
	return;
}



void FUN_0027ca18(int param_1, undefined4 *param_2, undefined4 *param_3)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	undefined4 uVar4;

	uVar1 = param_2[0x1];
	uVar2 = param_2[0x2];
	uVar3 = param_2[0x3];
	*(undefined4 *)(param_1 + 0x110) = *param_2;
	*(undefined4 *)(param_1 + 0x114) = uVar1;
	*(undefined4 *)(param_1 + 0x118) = uVar2;
	*(undefined4 *)(param_1 + 0x11c) = uVar3;
	uVar1 = *param_3;
	uVar2 = param_3[0x1];
	uVar3 = param_3[0x2];
	uVar4 = param_3[0x3];
	*(ulong *)(param_1 + 0x70) = *(ulong *)(param_1 + 0x70) | 0x8;
	*(undefined4 *)(param_1 + 0x120) = uVar1;
	*(undefined4 *)(param_1 + 0x124) = uVar2;
	*(undefined4 *)(param_1 + 0x128) = uVar3;
	*(undefined4 *)(param_1 + 0x12c) = uVar4;
	return;
}



void FUN_0027ca40(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x34) = 0x305240;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_0027ca70(undefined4 *param_1)

{
	FUN_00278840(param_1);
	return;
}



void FUN_0027cac0(undefined8 param_1, undefined8 *param_2, undefined8 param_3, float *param_4)

{
	Matrix4x4 MStack128;
	float local_40;
	float local_3c;
	float local_38;
	float local_34;

	local_40 = 0.00000000;
	local_3c = 1.00000000;
	local_38 = 0.00000000;
	local_34 = 1.00000000;
	Rotate_(&MStack128, (Vector4 *)param_3);
	FUN_00185df8((float *)&MStack128, param_4, param_2, (long)(int)&local_40);
	FUN_00187090((Vector4 *)param_3, (TransformedGeometyPoint *)&MStack128);
	return;
}



void FUN_0027cb48(int param_1)

{
	undefined4 uVar1;

	*(undefined4 *)(param_1 + 0x78) = 0x0;
	*(undefined4 *)(param_1 + 0x7c) = 0x0;
	uVar1 = *(undefined4 *)(param_1 + 0x5c);
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x50), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x5c) = uVar1;
	*(undefined4 *)(param_1 + 0x4) = *(undefined4 *)(param_1 + 0x74);
	*(undefined4 *)(param_1 + 0x60) = *(undefined4 *)(param_1 + 0x20);
	*(undefined4 *)(param_1 + 0x64) = *(undefined4 *)(param_1 + 0x24);
	*(undefined4 *)(param_1 + 0x68) = *(undefined4 *)(param_1 + 0x28);
	*(undefined4 *)(param_1 + 0x6c) = *(undefined4 *)(param_1 + 0x2c);
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xffffffffffffffc0;
	return;
}



Vector4 * FUN_0027cc28(undefined4 *param_1)

{
	Vector4 *pVVar1;

	*(ulong *)(param_1 + 0x1c) = *(ulong *)(param_1 + 0x1c) & 0xfffffffffffffff0;
	param_1[0x6] = 0x0;
	param_1[0x5] = 0x0;
	param_1[0x4] = 0x0;
	param_1[0x7] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x8), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	param_1[0xb] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x20), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	param_1[0x23] = 0x3f800000;
	pVVar1 = MovePositionFromPos2ToPos1
	((Vector4 *)(param_1 + 0x24), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	param_1[0x27] = 0x3f800000;
	param_1[0x2a] = 0x0;
	*param_1 = 0x0;
	return pVVar1;
}



void FUN_0027ccf0(int param_1)

{
	*(undefined4 *)(param_1 + 0xa4) = 0x0;
	*(undefined4 *)(param_1 + 0x90) = *(undefined4 *)(param_1 + 0x20);
	*(undefined4 *)(param_1 + 0x94) = *(undefined4 *)(param_1 + 0x24);
	*(undefined4 *)(param_1 + 0x98) = *(undefined4 *)(param_1 + 0x28);
	*(undefined4 *)(param_1 + 0x9c) = *(undefined4 *)(param_1 + 0x2c);
	*(ulong *)(param_1 + 0x70) = *(ulong *)(param_1 + 0x70) & 0xfffffffffffffff0;
	*(undefined4 *)(param_1 + 0xa0) = 0x0;
	*(undefined4 *)(param_1 + 0x80) = *(undefined4 *)(param_1 + 0x20);
	*(undefined4 *)(param_1 + 0x84) = *(undefined4 *)(param_1 + 0x24);
	*(undefined4 *)(param_1 + 0x88) = *(undefined4 *)(param_1 + 0x28);
	*(undefined4 *)(param_1 + 0x8c) = *(undefined4 *)(param_1 + 0x2c);
	return;
}



void FUN_0027cd20(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0x34) = 0x305240;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



undefined8 FUN_0027cda8(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	*puVar1 = 0x1;
	puVar1[0x3] = 0x3050e8;
	puVar1[0x2] = 0x0;
	return param_1;
}



void FUN_0027cdc8(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0xc) = 0x3050e8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_0027cdf8(undefined8 param_1, int *param_2)

{
	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), (int)param_1 + 0x4)
		;
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), (int)param_1 + 0x8)
		;
	return;
}



void FUN_0027ce70(ulong param_1, ulong param_2)

{
	int iVar1;
	void *address;

	address = (void *)param_1;
	iVar1 = *(int *)((int)address + 0x8);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0xc) + 0xc))(iVar1 + *(short *)(*(int *)(iVar1 + 0xc) + 0x8), 0x3);
	}
	iVar1 = *(int *)((int)address + 0xc);
	if (iVar1 != 0x0) {
		(**(code **)(*(int *)(iVar1 + 0xc) + 0xc))(iVar1 + *(short *)(*(int *)(iVar1 + 0xc) + 0x8), 0x3);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



float FUN_0027cfe8(int param_1, undefined8 *param_2, undefined8 param_3, undefined8 param_4)

{
	float fVar1;
	float fVar2;
	float fVar3;
	undefined auStack96[0x28];
	undefined4 local_38;

	local_38 = 0xffffffff;
	FUN_0018af78((long)*(int *)(param_1 + 0x10), param_2, (int)auStack96);
	fVar1 = FUN_0018f300(*(int **)(param_1 + 0x10), (int)auStack96);
	(**(code **)(*(int *)(param_1 + 0xc) + 0x1c))
		(fVar1, param_1 + *(short *)(*(int *)(param_1 + 0xc) + 0x18), param_4);
	fVar2 = FUN_00279f80(fVar1, param_1);
	fVar3 = 1.00000000;
	if (fVar1 + fVar2 / *(float *)(**(int **)(param_1 + 0x10) * 0x4 + (*(int **)(param_1 + 0x10))[0x5]
		+ -0x4) <= 1.00000000) {
		fVar3 = 0.00000000;
	}
	FUN_00279d78(fVar3, param_1, param_2, (undefined8 *)param_4);
	return fVar1;
}



void FUN_0027d0e8(float param_1, int param_2, float *param_3)

{
	int *piVar1;
	int iVar2;
	float fVar3;
	float fVar4;
	float local_40[0x4];

	fVar3 = FUN_00279f80(param_1, param_2);
	fVar4 = 1.00000000;
	if (param_1 + fVar3 / *(float *)(**(int **)(param_2 + 0x10) * 0x4 +
		(*(int **)(param_2 + 0x10))[0x5] + -0x4) <= 1.00000000) {
		fVar4 = 0.00000000;
	}
	piVar1 = *(int **)(param_2 + 0x10);
	iVar2 = FUN_0018f0e8(fVar4 * (float)*piVar1 * (float)piVar1[0x2], piVar1, local_40);
	FUN_0018a7a8(local_40[0], (int)piVar1, param_3, iVar2);
	return;
}



void FUN_0027d1c0(int param_1, uint param_2, float *param_3, uint *param_4, long param_5)

{
	float fVar1;
	undefined4 local_20[0x4];

	local_20[0] = 0x0;
	FUN_0027d230(param_1, param_2, local_20, param_4, param_5);
	fVar1 = FUN_0027d960((byte *)local_20);
	*param_3 = fVar1;
	return;
}



void FUN_0027d1f8(int param_1, uint param_2, float *param_3, uint *param_4, long param_5)

{
	float fVar1;
	uint local_20[0x4];

	local_20[0] = 0x0;
	FUN_0027d230(param_1, param_2, local_20, param_4, param_5);
	fVar1 = FUN_0027d9b8(local_20);
	*param_3 = fVar1;
	return;
}



void FUN_0027d230(int param_1, uint param_2, undefined4 *param_3, uint *param_4, long param_5)

{
	int iVar1;
	int iVar2;
	uint uVar3;
	int iVar4;

	iVar1 = **(int **)(param_1 + 0x10);
	uVar3 = param_2 + 0x2;
	if (param_5 != 0x0) {
		uVar3 = param_2;
	}
	iVar2 = (*(int **)(param_1 + 0x10))[0x1];
	iVar4 = 0x2;
	if (param_5 != 0x0) {
		iVar4 = -0x2;
	}
	while (true) {
		if (iVar1 * 0x2 + 0x2U <= uVar3) {
			return;
		}
		*param_3 = *(undefined4 *)(uVar3 * 0x10 + iVar2 + 0xc);
		if ((*(byte *)((int)param_3 + 0x3) & 0x1) == 0x0) break;
		uVar3 += iVar4;
	}
	*param_4 = uVar3;
	return;
}



float FUN_0027d298(int param_1, undefined8 *param_2, undefined8 param_3, undefined8 param_4)

{
	float fVar1;
	undefined auStack96[0x28];
	undefined4 local_38;

	local_38 = 0xffffffff;
	FUN_0018af78((long)(int)(int *)(param_1 + 0x20), param_2, (int)auStack96);
	fVar1 = FUN_0018f300((int *)(param_1 + 0x20), (int)auStack96);
	(**(code **)(*(int *)(param_1 + 0xc) + 0x1c))
		(fVar1, param_1 + *(short *)(*(int *)(param_1 + 0xc) + 0x18), param_4);
	return fVar1 + *(float *)(param_1 + 0x8) /
		*(float *)(*(int *)(param_1 + 0x20) * 0x4 + *(int *)(param_1 + 0x34) + -0x4);
}



undefined8 FUN_0027d348(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	*puVar1 = 0x1;
	puVar1[0x3] = 0x3050a8;
	puVar1[0x2] = 0x0;
	return param_1;
}



void FUN_0027d368(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0xc) = 0x3050e8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



float FUN_0027d398(int param_1, float *param_2, undefined8 param_3, undefined8 param_4)

{
	float fVar1;

	fVar1 = FUN_001849f0((float *)(param_1 + 0x10), param_2);
	(**(code **)(*(int *)(param_1 + 0xc) + 0x1c))
		(fVar1, param_1 + *(short *)(*(int *)(param_1 + 0xc) + 0x18), param_4);
	return fVar1;
}



void FUN_0027d3f8(float param_1, int param_2, float *param_3)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;

	fVar4 = 1.00000000;
	fVar2 = *(float *)(param_2 + 0x10) - *(float *)(param_2 + 0x20);
	fVar3 = *(float *)(param_2 + 0x14) - *(float *)(param_2 + 0x24);
	fVar1 = *(float *)(param_2 + 0x18) - *(float *)(param_2 + 0x28);
	if (param_1 + *(float *)(param_2 + 0x8) / SQRT(fVar2 * fVar2 + fVar3 * fVar3 + fVar1 * fVar1) <=
		1.00000000) {
		fVar4 = 0.00000000;
	}
	FUN_0018d0d8(fVar4, (float *)(param_2 + 0x10), param_3);
	return;
}



void FUN_0027d4b0(undefined8 param_1, int *param_2)

{
	int iVar1;

	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1);
	iVar1 = (int)param_1;
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x4);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x8);
	FUN_0018d268((long)(iVar1 + 0x10), param_2);
	return;
}



undefined8 FUN_0027d530(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	*puVar1 = 0x1;
	puVar1[0x3] = 0x305028;
	puVar1[0x2] = 0x0;
	return param_1;
}



void FUN_0027d550(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)(void *)param_1 + 0xc) = 0x3050e8;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_0027d5a8(undefined8 param_1, int *param_2)

{
	int iVar1;

	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1);
	iVar1 = (int)param_1;
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x4);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x8);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar1 + 0x10, 0x10, 0x1);
	return;
}



undefined8 FUN_0027d640(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	*puVar1 = 0x1;
	puVar1[0x3] = 0x305068;
	puVar1[0x2] = 0x0;
	puVar1[0x6] = 0x2f5c28;
	puVar1[0x7] = 0x0;
	puVar1[0x5] = 0x0;
	puVar1[0x16] = 0xffffffff;
	return param_1;
}



float FUN_0027d6e8(int param_1, undefined8 *param_2, undefined8 param_3, undefined8 param_4)

{
	float fVar1;
	undefined auStack96[0x28];
	undefined4 local_38;

	local_38 = 0xffffffff;
	FUN_001892b8((long)(param_1 + 0x10), param_2, (int)auStack96);
	fVar1 = FUN_0018e890((long)(param_1 + 0x10), (int)auStack96);
	(**(code **)(*(int *)(param_1 + 0xc) + 0x1c))
		(fVar1, param_1 + *(short *)(*(int *)(param_1 + 0xc) + 0x18), param_4);
	return fVar1;
}



void FUN_0027d770(float param_1, int param_2, float *param_3)

{
	float fVar1;

	fVar1 = 1.00000000;
	if (param_1 + *(float *)(param_2 + 0x8) /
		*(float *)((*(int *)(param_2 + 0x10) + -0x3) * 0x4 + *(int *)(param_2 + 0x1c) + -0x4
			) <= 1.00000000) {
		fVar1 = 0.00000000;
	}
	FUN_00189440(fVar1, (long)(param_2 + 0x10), param_3);
	return;
}



void FUN_0027d7f0(undefined8 param_1, undefined8 param_2)

{
	int *piVar1;
	int iVar2;

	piVar1 = (int *)param_2;
	(**(code **)(*piVar1 + 0x8c))((int)piVar1 + (int)*(short *)(*piVar1 + 0x88), param_1);
	iVar2 = (int)param_1;
	(**(code **)(*piVar1 + 0xbc))((int)piVar1 + (int)*(short *)(*piVar1 + 0xb8), iVar2 + 0x4);
	(**(code **)(*piVar1 + 0xbc))((int)piVar1 + (int)*(short *)(*piVar1 + 0xb8), iVar2 + 0x8);
	(**(code **)(*(int *)(iVar2 + 0x18) + 0x1c))
		(iVar2 + 0x10 + (int)*(short *)(*(int *)(iVar2 + 0x18) + 0x18), param_2);
	return;
}



void FUN_0027d890(undefined8 param_1, int *param_2)

{
	int iVar1;
	byte local_30[0x10];

	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1);
	iVar1 = (int)param_1;
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x4);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x8);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar1 + 0x10, 0x10, 0x1);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x20);
	(**(code **)(*param_2 + 0x74))((int)param_2 + (int)*(short *)(*param_2 + 0x70), local_30);
	*(uint *)(iVar1 + 0x24) = (uint)local_30[0];
	return;
}



// WARNING: Removing unreachable block (ram,0x0027d980)

float FUN_0027d960(byte *param_1)

{
	return (float)(uint)*param_1 * 0.03906250 + -5.00000000;
}



// WARNING: Removing unreachable block (ram,0x0027d9e0)

float FUN_0027d9b8(uint *param_1)

{
	return (float)(*param_1 >> 0x8 & 0xffff) * 0.00152588 + -50.00000000;
}



void FUN_0027da28(undefined8 param_1, int *param_2)

{
	(**(code **)(*param_2 + 0x14))((int)param_2 + (int)*(short *)(*param_2 + 0x10), param_1, 0x4, 0x1);
	return;
}



float FUN_0027da60(int param_1, undefined8 param_2, int param_3, float *param_4)

{
	float fVar1;
	float fVar2;
	float fVar3;

	fVar2 = *(float *)(param_3 + 0x40) - *(float *)(param_1 + 0x10);
	fVar1 = *(float *)(param_3 + 0x48) - *(float *)(param_1 + 0x18);
	fVar1 = SQRT(fVar2 * fVar2 + fVar1 * fVar1);
	fVar2 = *(float *)(param_1 + 0x30);
	if (*(float *)(param_1 + 0x34) < fVar1) {
		fVar3 = 1.00000000;
	}
	else {
		fVar3 = 0.00000000;
		if (fVar2 <= fVar1) {
			fVar3 = (fVar1 - fVar2) / (*(float *)(param_1 + 0x34) - fVar2) + fVar2;
		}
	}
	FUN_0018d0d8(fVar3, (float *)(param_1 + 0x10), param_4);
	return fVar3;
}



void FUN_0027db18(float param_1, int param_2, float *param_3)

{
	FUN_0018d0d8(param_1, (float *)(param_2 + 0x10), param_3);
	return;
}



void FUN_0027db38(undefined8 param_1, int *param_2)

{
	int iVar1;

	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), param_1);
	iVar1 = (int)param_1;
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x4);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x8);
	FUN_0018d268((long)(iVar1 + 0x10), param_2);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x30);
	(**(code **)(*param_2 + 0xbc))((int)param_2 + (int)*(short *)(*param_2 + 0xb8), iVar1 + 0x34);
	return;
}



uint FUN_0027dc00(int param_1, int param_2, float *param_3, undefined4 *param_4)

{
	int *piVar1;
	int iVar2;
	float fVar3;
	float fVar4;
	undefined4 local_50;
	undefined4 local_4c;
	undefined4 local_48;
	undefined4 local_44;
	float local_40[0x4];

	if (*(char *)(param_1 + 0x24) == '\0') {
		*(undefined *)(param_1 + 0x24) = 0x1;
		*(undefined4 *)(param_1 + 0x28) = 0x0;
		*(float *)(param_1 + 0x2c) =
			20.00000000 /
			*(float *)(**(int **)(param_1 + 0x10) * 0x4 + (*(int **)(param_1 + 0x10))[0x5] + -0x4);
	}
	fVar4 = *(float *)(param_1 + 0x28);
	if (fVar4 < 1.00000000) {
		piVar1 = *(int **)(param_1 + 0x10);
		fVar3 = fVar4 + *(float *)(param_1 + 0x2c) * (float)*(int *)(param_2 + 0x8) * DAT_00309b80;
		*(float *)(param_1 + 0x28) = fVar3;
		iVar2 = FUN_0018f0e8(fVar3 * (float)*piVar1 * (float)piVar1[0x2], piVar1, local_40);
		FUN_0018a7a8(local_40[0], (int)piVar1, param_3, iVar2);
		FUN_0027a390(*(float *)(param_1 + 0x28), &local_50, (uint *)(param_1 + 0x14));
		*param_4 = local_50;
		param_4[0x3] = local_44;
		param_4[0x1] = local_4c;
		param_4[0x2] = local_48;
	}
	return (uint)(fVar4 >= 1.00000000);
}



void FUN_0027ddb8(int param_1, int *param_2)

{
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), param_1 + 0x10, 0x50, 0x1);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), param_1 + 0x60, 0x50, 0x1);
	return;
}



undefined8 FUN_0027de68(undefined8 param_1)

{
	ulong *puVar1;

	puVar1 = (ulong *)param_1;
	*(undefined4 *)((int)puVar1 + 0x4) = 0x0;
	*(undefined4 *)puVar1 = 0x304ca0;
	*(undefined4 *)((int)puVar1 + 0x24) = 0x40a00000;
	*(undefined4 *)(puVar1 + 0x4) = 0x40a00000;
	*puVar1 = *puVar1 & 0xffffff00ffffffff | 0x1100000000;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar1 + 0x2), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)((int)puVar1 + 0x1c) = 0x3f800000;
	return param_1;
}



void FUN_0027df20(ulong param_1, ulong param_2)

{
	*(undefined4 *)param_1 = 0x305310;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((undefined4 *)param_1);
	}
	return;
}



void FUN_0027df50(int param_1, undefined8 param_2, undefined4 *param_3)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;

	uVar1 = param_3[0x1];
	uVar2 = param_3[0x2];
	uVar3 = param_3[0x3];
	*(undefined4 *)(param_1 + 0x10) = *param_3;
	*(undefined4 *)(param_1 + 0x14) = uVar1;
	*(undefined4 *)(param_1 + 0x18) = uVar2;
	*(undefined4 *)(param_1 + 0x1c) = uVar3;
	return;
}



uint FUN_0027e100(int param_1, undefined8 param_2, ulong *param_3)

{
	bool bVar1;

	bVar1 = (*param_3 >> 0x12 & 0x1) != 0x0;
	if (bVar1) {
		FUN_001ea1f0((int)param_3, (undefined8 *)(param_1 + 0x10), 0x1);
	}
	return (uint)bVar1;
}



undefined4 FUN_0027e148(float param_1, float *param_2)

{
	undefined4 uVar1;
	int aiStack80[0x4];
	int aiStack64[0x4];

	FUN_0011bf10(*param_2 * 1.57079637, aiStack80, 0x0);
	FUN_0018c050((long)(int)aiStack80);
	FUN_0011bf10((param_1 - 0.50000000) * *param_2 * 3.14159274, aiStack64, 0x0);
	uVar1 = FUN_0018c050((long)(int)aiStack64);
	return uVar1;
}



void FUN_0027e218(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)param_1 + 0x50) = 0x304c78;
	FUN_0026ee58(param_1, param_2);
	return;
}



void FUN_0027e240(undefined8 param_1, undefined8 param_2)

{
	void *pvVar1;

	FUN_0026eb88(param_1, (int *)param_2);
	pvVar1 = MemoryAllocate(0x90);
	FUN_002794c8((long)(int)pvVar1, param_2);
	*(void **)((int)param_1 + 0x60) = pvVar1;
	return;
}



undefined8 FUN_0027e298(undefined8 param_1, int **param_2, undefined4 param_3, undefined4 param_4)

{
	undefined4 *puVar1;
	ChunkNodeUnkBitfield *local_40[0x4];
	ChunkNodeUnkBitfield *local_30[0x4];

	local_40[0] = (ChunkNodeUnkBitfield *)*param_2;
	if (local_40[0] != (ChunkNodeUnkBitfield *)0x0) {
		local_40[0]->unkBitfield =
			local_40[0]->unkBitfield & 0xff000000 |
			(local_40[0]->unkBitfield & 0xffffff) + 0x1 & 0xffffff;
	}
	if (local_40[0] != (ChunkNodeUnkBitfield *)0x0) {
		local_40[0]->unkBitfield =
			local_40[0]->unkBitfield & 0xff000000 |
			(local_40[0]->unkBitfield & 0xffffff) + 0x1 & 0xffffff;
	}
	puVar1 = (undefined4 *)param_1;
	*(undefined2 *)(puVar1 + 0x1) = 0x900;
	puVar1[0x4] = 0x2f0340;
	puVar1[0x2] = param_3;
	*puVar1 = 0x0;
	*(undefined2 *)((int)puVar1 + 0x6) = 0x0;
	*(ChunkNodeUnkBitfield **)(puVar1 + 0x3) = local_40[0];
	if (local_40[0] != (ChunkNodeUnkBitfield *)0x0) {
		local_40[0]->unkBitfield =
			local_40[0]->unkBitfield & 0xff000000 |
			(local_40[0]->unkBitfield & 0xffffff) + 0x1 & 0xffffff;
	}
	local_30[0] = local_40[0];
	FUN_0011c088(local_30);
	puVar1[0x4] = 0x3052f8;
	FUN_0011c088(local_40);
	puVar1[0x5] = param_4;
	puVar1[0x4] = 0x3052e0;
	FUN_0011c088((ChunkNodeUnkBitfield **)param_2);
	return param_1;
}



undefined8 FUN_0027e3e8(undefined8 param_1, long param_2, ulong *param_3)

{
	undefined4 uVar1;
	int iVar2;

	FUN_001f6028(param_1, param_2, param_3);
	iVar2 = (int)param_1;
	*(undefined4 *)(iVar2 + 0x14) = 0x305178;
	uVar1 = *(undefined4 *)(param_3 + 0xc);
	*(ulong *)(iVar2 + 0x18) = *(ulong *)(iVar2 + 0x18) | 0x40000;
	*(undefined4 *)(iVar2 + 0x170) = uVar1;
	return param_1;
}



void FUN_0027e440(ulong param_1, ulong param_2)

{
	void *address;
	int iVar1;

	address = *(void **)((int)param_1 + 0x170);
	*(undefined4 *)((int)param_1 + 0x14) = 0x305178;
	if (address != (void *)0x0) {
		iVar1 = *(int *)((int)address + 0x8);
		if (iVar1 != 0x0) {
			(**(code **)(*(int *)(iVar1 + 0xc) + 0xc))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0xc) + 0x8), 0x3);
		}
		iVar1 = *(int *)((int)address + 0xc);
		if (iVar1 != 0x0) {
			(**(code **)(*(int *)(iVar1 + 0xc) + 0xc))
				(iVar1 + *(short *)(*(int *)(iVar1 + 0xc) + 0x8), 0x3);
		}
		MemoryDeallocate2_(address);
	}
	FUN_001f60d0(param_1, param_2);
	return;
}



void FUN_0027e508(int param_1)

{
	undefined4 uVar1;

	uVar1 = *(undefined4 *)(param_1 + 0x5c);
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x50), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x5c) = uVar1;
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xffffffffffffffbf;
	return;
}



void FUN_0027e568(int param_1)

{
	undefined4 uVar1;

	uVar1 = *(undefined4 *)(param_1 + 0x6c);
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x60), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x6c) = uVar1;
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xffffffffffffff7f;
	return;
}



Vector4 * FUN_0027e608(int param_1)

{
	Vector4 *pVVar1;
	undefined4 uVar2;

	*(undefined4 *)(param_1 + 0x48) = 0x0;
	*(ulong *)(param_1 + 0x40) = *(ulong *)(param_1 + 0x40) & 0xffffffffffffff37 | 0x130;
	*(undefined4 *)(param_1 + 0x44) = 0x0;
	uVar2 = *(undefined4 *)(param_1 + 0x5c);
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x50), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x5c) = uVar2;
	uVar2 = *(undefined4 *)(param_1 + 0x6c);
	pVVar1 = MovePositionFromPos2ToPos1
	((Vector4 *)(param_1 + 0x60), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x6c) = uVar2;
	*(undefined4 *)(param_1 + 0xb8) = 0x0;
	*(undefined4 *)(param_1 + 0xb4) = 0x0;
	return pVVar1;
}



void FUN_0027e6c8(ulong param_1, ulong param_2)

{
	int iVar1;

	iVar1 = (int)param_1;
	*(undefined4 *)(iVar1 + 0x30) = 0x304c30;
	*(undefined4 *)(iVar1 + 0x204) = 0x305240;
	*(undefined4 *)(iVar1 + 0x184) = 0x305208;
	*(undefined4 *)(iVar1 + 0xc0) = 0x305310;
	*(undefined4 *)(iVar1 + 0xf0) = 0x305310;
	FUN_0026f228(param_1, param_2);
	return;
}



void FUN_0027e718(int param_1)

{
	*(undefined4 *)(param_1 + 0x114) = 0x40c00000;
	*(ulong *)(param_1 + 0xc0) = *(ulong *)(param_1 + 0xc0) & 0xffffff0fffffffff | 0x3000000000;
	*(ulong *)(param_1 + 0xf0) = *(ulong *)(param_1 + 0xf0) & 0xffffff0fffffffff | 0x1000000000;
	*(undefined4 *)(param_1 + 0xe4) = 0x40c00000;
	return;
}



void FUN_0027e778(int param_1)

{
	*(int *)(param_1 + 0x10) = param_1 + 0x120;
	*(int *)(param_1 + 0xc) = param_1 + 0xf0;
	*(int *)(param_1 + 0x14) = param_1 + 0x1d0;
	*(int *)(param_1 + 0x8) = param_1 + 0xc0;
	return;
}



undefined8 FUN_0027e7a0(undefined8 param_1)

{
	void *memory;

	memory = (void *)param_1;
	*(undefined4 *)((int)memory + 0x4) = 0x0;
	*(undefined4 *)((int)memory + 0x8) = 0x0;
	*(undefined4 *)((int)memory + 0xc) = 0x0;
	*(undefined4 *)((int)memory + 0x10) = 0x0;
	*(undefined4 *)((int)memory + 0x14) = 0x0;
	*(undefined4 *)((int)memory + 0x30) = 0x305148;
	FillMemory(memory, 0x0, 0x4);
	*(undefined4 *)((int)memory + 0x30) = 0x304be8;
	*(undefined4 *)((int)memory + 0x74) = 0x305240;
	*(undefined4 *)((int)memory + 0x40) = 0x0;
	*(undefined *)((int)memory + 0x70) = 0x1;
	*(undefined4 *)((int)memory + 0x44) = DAT_0030a7d0;
	*(undefined4 *)((int)memory + 0x58) = 0x0;
	*(undefined4 *)((int)memory + 0x54) = 0x0;
	*(undefined4 *)((int)memory + 0x50) = 0x0;
	*(undefined4 *)((int)memory + 0x5c) = 0x3f800000;
	MovePositionFromPos2ToPos1
	((Vector4 *)((int)memory + 0x60), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)((int)memory + 0x6c) = 0x3f800000;
	*(undefined4 *)((int)memory + 0x74) = 0x304cf0;
	FUN_0027e8e8((int)memory);
	return param_1;
}



void FUN_0027e888(ulong param_1, ulong param_2)

{
	*(undefined4 *)((int)param_1 + 0x30) = 0x304be8;
	*(undefined4 *)((int)param_1 + 0x74) = 0x305240;
	FUN_0026f228(param_1, param_2);
	return;
}



void FUN_0027e8b8(int param_1)

{
	(**(code **)(*(int *)(param_1 + 0x30) + 0x3c))
		(param_1 + *(short *)(*(int *)(param_1 + 0x30) + 0x38));
	return;
}



void FUN_0027e8e8(int param_1)

{
	*(int *)(param_1 + 0x14) = param_1 + 0x40;
	return;
}



void FUN_0027e998(ulong param_1, ulong param_2)

{
	undefined4 *address;

	address = (undefined4 *)param_1;
	address[0x4] = 0x2f0340;
	FUN_0011c088((ChunkNodeUnkBitfield **)(address + 0x3));
	if ((undefined4 *)*address != (undefined4 *)0x0) {
		*(undefined4 *)*address = 0x0;
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



undefined8 FUN_0027ea20(undefined8 param_1)

{
	uint *puVar1;

	puVar1 = (uint *)param_1;
	*(undefined2 *)puVar1 = 0x0;
	puVar1[0x1] = 0xffffffff;
	puVar1[0x6] = 0x3f800000;
	*puVar1 = *puVar1 & 0xfffcffff;
	puVar1[0x7] = 0x3f800000;
	puVar1[0x9] = 0x3f000000;
	puVar1[0x3] = 0x3f000000;
	puVar1[0x4] = 0x3f000000;
	puVar1[0x5] = 0x3f000000;
	puVar1[0x8] = 0x3f000000;
	puVar1[0xc] = 0x0;
	puVar1[0xf] = 0x3f800000;
	puVar1[0xd] = 0x0;
	puVar1[0xe] = 0x0;
	FUN_0011c1e8((Vector4 *)(puVar1 + 0x10));
	*(undefined2 *)((int)puVar1 + 0x72) = 0xffff;
	puVar1[0x21] = 0xbf800000;
	puVar1[0x1d] = 0xbf800000;
	puVar1[0x1e] = 0xbf800000;
	puVar1[0x1f] = 0xbf800000;
	puVar1[0x20] = 0xbf800000;
	*(undefined2 *)((int)puVar1 + 0x62) = 0xffff;
	*(undefined2 *)(puVar1 + 0x19) = 0xffff;
	*(undefined2 *)(puVar1 + 0x1a) = 0xffff;
	*(undefined2 *)((int)puVar1 + 0x6a) = 0xffff;
	*(undefined2 *)(puVar1 + 0x1b) = 0xffff;
	*(undefined2 *)((int)puVar1 + 0x6e) = 0xffff;
	*(undefined2 *)(puVar1 + 0x1c) = 0xffff;
	puVar1[0x14] = 0x0;
	*(undefined *)(puVar1 + 0x15) = 0x0;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar1 + 0x10), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar1[0x2] = 0x0;
	*(ulong *)(puVar1 + 0x2) = *(ulong *)(puVar1 + 0x2) & 0xfffffffffffffff0 | 0xff000;
	return param_1;
}



void FUN_0027eb40(float param_1, int param_2, float *param_3, undefined8 *param_4, undefined8 *param_5)

{
	float fVar1;
	float fVar2;
	float fVar3;
	Vector4 local_a0;
	float local_90;
	float fStack140;
	float local_88;
	undefined4 uStack132;
	Vector4 local_80;
	Vector4 local_70;
	float local_60;
	float fStack92;
	float local_58;
	undefined4 local_54;
	float local_50;
	float local_4c;
	float local_48;
	undefined4 local_44;

	local_88 = *(float *)(param_4 + 0x1);
	uStack132 = *(undefined4 *)((int)param_4 + 0xc);
	local_90 = (float)*param_4;
	fStack140 = (float)((ulong)*param_4 >> 0x20);
	MovePositionFromPos2ToPos1(&local_80, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	fVar2 = 1.00000000;
	local_80.w = 1.00000000;
	if (0.00000000 < *(float *)(param_2 + 0x20)) {
		local_70.z = *(float *)(param_5 + 0x1);
		local_70.w = *(float *)((int)param_5 + 0xc);
		local_70.x = (float)*param_5;
		if (*(float *)((int)param_5 + 0x4) < *(float *)(param_2 + 0x24)) {
			local_70.y = 0.00000000;
			fVar1 = RSQRT(0.00000000, &local_70);
			fVar3 = SQRT(*(float *)param_5 * *(float *)param_5 +
				*(float *)(param_5 + 0x1) * *(float *)(param_5 + 0x1));
			fVar3 = fVar3 + fVar3;
			if (fVar3 <= 1.00000000) {
				fVar2 = fVar3;
			}
			local_4c = *(float *)(param_2 + 0x20);
			local_44 = 0x3f800000;
			local_50 = local_70.x * fVar1 * local_4c;
			local_48 = local_70.z * fVar1 * local_4c;
			local_4c = local_70.y * fVar1 * local_4c;
			local_80.x = local_50 * fVar2;
			local_80.y = local_4c * fVar2;
			local_80.z = local_48 * fVar2;
		}
	}
	local_80.w = 1.00000000;
	fVar3 = *param_3 + local_80.x * param_1;
	fVar2 = param_3[0x2] + local_80.z * param_1;
	local_60 = local_90 - fVar3;
	*param_3 = fVar3;
	local_58 = local_88 - fVar2;
	param_3[0x2] = fVar2;
	fStack92 = fStack140 - param_3[0x1];
	local_54 = 0x3f800000;
	local_a0.x = local_60 + *(float *)(param_2 + 0x30);
	local_70.y = fStack92 + *(float *)(param_2 + 0x34);
	local_70.w = 1.00000000;
	local_a0.z = local_58 + *(float *)(param_2 + 0x38);
	param_1 = *(float *)(param_2 + 0xc) * param_1;
	local_a0.w = 1.00000000;
	local_a0.y = 0.00000000;
	fVar2 = SQRT(local_a0.x * local_a0.x + local_a0.z * local_a0.z);
	if (fVar2 != 0.00000000) {
		local_70.x = local_a0.x;
		local_70.z = local_a0.z;
		fVar3 = RSQRT(0.00000000, &local_a0);
		if (fVar2 <= param_1) {
			param_1 = fVar2;
		}
		*param_3 = *param_3 + local_a0.x * fVar3 * param_1;
		param_3[0x2] = param_3[0x2] + local_a0.z * fVar3 * param_1;
	}
	param_3[0x1] = fStack140;
	return;
}



void FUN_0027ee28(int param_1, BinaryReader *binReader)

{
	undefined auStack48[0x10];

	*(undefined4 *)(param_1 + 0x1c) = 0x3f800000;
	*(undefined4 *)(param_1 + 0x18) = 0x3f800000;
	(**(code **)(binReader->methods + 0x8c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x88), param_1 + 0x8);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), param_1 + 0x60);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), param_1 + 0x68);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), param_1 + 0x6a);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), param_1 + 0x6e);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), param_1 + 0x70);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), param_1 + 0x62);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), param_1 + 0x64);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), param_1 + 0x72);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), param_1 + 0x6c);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), param_1 + 0x66);
	(**(code **)(binReader->methods + 0x7c))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x78), auStack48);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), param_1 + 0x74);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), param_1 + 0x78);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), param_1 + 0x7c);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), param_1 + 0x80);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), param_1 + 0x84);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), param_1 + 0xc);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), param_1 + 0x10);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), param_1 + 0x14);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), param_1 + 0x20);
	(**(code **)(binReader->methods + 0xbc))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0xb8), param_1 + 0x24);
	(**(code **)(binReader->methods + 0x14))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x10), param_1 + 0x30,
			0x10, 0x1);
	(**(code **)(binReader->methods + 0x14))
		((int)&binReader->methods + (int)*(short *)(binReader->methods + 0x10), param_1 + 0x40,
			0x20, 0x1);
	return;
}



void FUN_0027f0c0(ulong param_1, ulong param_2)

{
	int *piVar1;
	void *address;

	address = (void *)param_1;
	if (-0x1 < *(int *)((int)address + 0x14)) {
		piVar1 = (int *)GetDataAt_0x31B4B8();
		FUN_00205c18(piVar1, (int *)((int)address + 0x14));
	}
	if (-0x1 < *(int *)((int)address + 0x18)) {
		piVar1 = (int *)GetDataAt_0x31B4B8();
		FUN_00205c18(piVar1, (int *)((int)address + 0x18));
	}
	if (-0x1 < *(int *)((int)address + 0x1c)) {
		piVar1 = (int *)GetDataAt_0x31B4B8();
		FUN_00205c18(piVar1, (int *)((int)address + 0x1c));
	}
	if (-0x1 < *(int *)((int)address + 0x20)) {
		piVar1 = (int *)GetDataAt_0x31B4B8();
		FUN_00205c18(piVar1, (int *)((int)address + 0x20));
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(address);
	}
	return;
}



void FUN_0027f190(uint sectionSize, long param_2, int itemsAmount, uint param_4)

{
	uint uVar1;
	uint uVar2;
	undefined4 uVar3;
	ulong *puVar4;
	GameReadersStorage *pGVar5;
	SubItemsReader *secReader;
	ulong in_v0;
	ulong uVar6;
	ulong in_v1;
	ulong uVar7;
	int iVar8;
	int iVar9;
	int iVar10;

	pGVar5 = G_GameReadersStorages[0];
	uVar1 = param_4 + 0x7 & 0x7;
	uVar2 = param_4 & 0x7;
	uVar6 = (*(long *)((param_4 + 0x7) - uVar1) << (0x7 - uVar1) * 0x8 |
		in_v0 & 0xffffffffffffffffU >> (uVar1 + 0x1) * 0x8) & -0x1 << (0x8 - uVar2) * 0x8 |
		*(ulong *)(param_4 - uVar2) >> uVar2 * 0x8;
	uVar1 = param_4 + 0xf & 0x7;
	uVar2 = param_4 + 0x8 & 0x7;
	uVar7 = (*(long *)((param_4 + 0xf) - uVar1) << (0x7 - uVar1) * 0x8 |
		in_v1 & 0xffffffffffffffffU >> (uVar1 + 0x1) * 0x8) & -0x1 << (0x8 - uVar2) * 0x8 |
		*(ulong *)((param_4 + 0x8) - uVar2) >> uVar2 * 0x8;
	uVar3 = *(undefined4 *)(param_4 + 0x10);
	uVar1 = sectionSize + 0x7 & 0x7;
	puVar4 = (ulong *)((sectionSize + 0x7) - uVar1);
	*puVar4 = *puVar4 & -0x1 << (uVar1 + 0x1) * 0x8 | uVar6 >> (0x7 - uVar1) * 0x8;
	uVar1 = sectionSize & 0x7;
	*(ulong *)(sectionSize - uVar1) =
		uVar6 << uVar1 * 0x8 |
		*(ulong *)(sectionSize - uVar1) & 0xffffffffffffffffU >> (0x8 - uVar1) * 0x8;
	uVar1 = sectionSize + 0xf & 0x7;
	puVar4 = (ulong *)((sectionSize + 0xf) - uVar1);
	*puVar4 = *puVar4 & -0x1 << (uVar1 + 0x1) * 0x8 | uVar7 >> (0x7 - uVar1) * 0x8;
	uVar1 = sectionSize + 0x8 & 0x7;
	puVar4 = (ulong *)((sectionSize + 0x8) - uVar1);
	*puVar4 = uVar7 << uVar1 * 0x8 | *puVar4 & 0xffffffffffffffffU >> (0x8 - uVar1) * 0x8;
	*(undefined4 *)(sectionSize + 0x10) = uVar3;
	uVar6 = 0x5;
	if (param_2 == 0x0) {
		uVar6 = 0x1;
	}
	iVar8 = *(int *)(sectionSize + 0x4) * 0x20;
	secReader = (SubItemsReader *)MemoryAllocate(0x30);
	iVar9 = itemsAmount + 0x14 + iVar8;
	secReader = FUN_002ac588(secReader, sectionSize + 0x14, 0x1, itemsAmount + 0x14, iVar8);
	FUN_002b7188(pGVar5, (GenericSectionReader *)secReader, false);
	iVar8 = *(int *)(sectionSize + 0x8) * 0x8;
	secReader = (SubItemsReader *)MemoryAllocate(0x30);
	iVar10 = iVar9 + iVar8;
	secReader = FUN_002ac588(secReader, sectionSize + 0x18, 0x1, iVar9, iVar8);
	FUN_002b7188(pGVar5, (GenericSectionReader *)secReader, false);
	iVar9 = *(int *)(sectionSize + 0xc) * 0x8;
	secReader = (SubItemsReader *)MemoryAllocate(0x30);
	secReader = FUN_002ac588(secReader, sectionSize + 0x1c, 0x1, iVar10, iVar9);
	FUN_002b7188(pGVar5, (GenericSectionReader *)secReader, false);
	iVar8 = *(int *)(sectionSize + 0x10);
	secReader = (SubItemsReader *)MemoryAllocate(0x30);
	secReader = FUN_002ac588(secReader, sectionSize + 0x20, uVar6, iVar10 + iVar9, iVar8 << 0x4);
	FUN_002b7188(pGVar5, (GenericSectionReader *)secReader, false);
	*(undefined *)(sectionSize + 0x24) = 0x1;
	return;
}



void FUN_0027f310(undefined8 param_1, undefined8 param_2)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;

	iRam0030a20c = 0x0;
	puVar3 = GetDataAt_0x31B4B8();
	iVar4 = FUN_00205cb8((int)puVar3, (int *)((int)param_1 + 0x14));
	uVar1 = *(uint *)(iVar4 + 0xc);
	iVar2 = *(int *)(iVar4 + 0x1c);
	if ((int)uVar1 < 0x0) {
		if (iRam0030a20c < 0x100) {
			iVar2 = iRam0030a20c + 0x100;
			iRam0030a20c += 0x1;
			G_AddonToAddonArray[iVar2] = (RecursiveAddonToScript *)~uVar1;
		}
	}
	else {
		iVar5 = FUN_001f8db0((float *)param_2, (float *)(uVar1 * 0x20 + iVar4));
		if (iVar5 != 0x0) {
			FUN_00282408(param_1, uVar1, (long)iVar4, param_2);
		}
		iVar5 = FUN_001f8db0((float *)param_2, (float *)(iVar2 * 0x20 + iVar4));
		if (iVar5 != 0x0) {
			FUN_00282408(param_1, iVar2, (long)iVar4, param_2);
		}
	}
	return;
}



int FUN_0027f3f8(undefined8 param_1, undefined8 param_2, uint param_3, int param_4, int param_5)

{
	undefined *puVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	ulong uVar5;
	ulong *puVar6;
	int iVar7;
	int iVar8;
	undefined4 *puVar9;
	int *piVar10;
	float afStack144[0x8];
	uint local_70;
	int local_6c;
	int local_68;
	int local_64;
	int local_60;
	RecursiveAddonToScript **local_5c;

	iVar7 = 0x0;
	local_60 = 0x0;
	local_70 = param_3;
	local_6c = param_4;
	local_68 = param_5;
	puVar1 = GetDataAt_0x31B4B8();
	iVar3 = (int)param_1;
	local_64 = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x18));
	puVar1 = GetDataAt_0x31B4B8();
	iVar2 = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x20));
	puVar1 = GetDataAt_0x31B4B8();
	iVar3 = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x1c));
	FUN_0027f310(param_1, param_2);
	if (0x0 < iRam0030a20c) {
		local_5c = G_AddonToAddonArray + 0x100;
		do {
			piVar10 = (int *)(local_64 + (int)*local_5c * 0x8);
			iVar8 = 0x0;
			if (0x0 < *piVar10) {
				puVar9 = (undefined4 *)(iVar7 * 0x40 + local_6c);
				iVar4 = piVar10[0x1];
				while (true) {
					puVar6 = (ulong *)(iVar3 + (iVar4 + iVar8) * 0x8);
					puVar1 = FUN_00282658(puVar6);
					if ((*(uint *)(puVar1 + 0x8) & local_70) != 0x0) {
						FUN_001fff90();
						iVar4 = FUN_001f8db0(afStack144, (float *)param_2);
						if (iVar4 != 0x0) {
							uVar5 = *puVar6;
							iVar4 = FUN_00280e20((long)(int)(iVar2 + ((uint)uVar5 & 0x3ffff) * 0x10),
								(long)(int)(iVar2 + ((uint)(uVar5 >> 0x12) & 0x3ffff) * 0x10),
								(long)(int)(iVar2 + ((uint)(uVar5 >> 0x24) & 0x3ffff) * 0x10),
								(float *)param_2);
							if (iVar4 != 0x0) {
								FUN_00281128(puVar9, puVar6, iVar2);
								iVar7 += 0x1;
								puVar9 = puVar9 + 0x10;
								if (iVar7 == local_68) {
									return iVar7;
								}
							}
						}
					}
					iVar8 += 0x1;
					if (*piVar10 <= iVar8) break;
					iVar4 = piVar10[0x1];
				}
			}
			local_60 += 0x1;
			local_5c = local_5c + 0x1;
		} while (local_60 < iRam0030a20c);
	}
	return iVar7;
}



int FUN_0027f648(undefined8 param_1, undefined8 param_2, uint param_3, int param_4, int param_5)

{
	float *pfVar1;
	undefined *puVar2;
	int iVar3;
	int iVar4;
	long lVar5;
	ulong uVar6;
	float *pfVar7;
	float *pfVar8;
	float *pfVar9;
	float *pfVar10;
	int iVar11;
	ulong *puVar12;
	float fVar13;
	float afStack224[0x8];
	float local_c0;
	float local_bc;
	float local_b8;
	float local_b4;
	float local_b0;
	float local_ac;
	float local_a8;
	float local_a0;
	float local_9c;
	float local_98;
	uint local_90;
	int local_8c;
	int local_88;
	int local_84;
	int local_80;
	int local_7c;
	int *local_78;
	int local_74;
	float *local_70;
	float *local_6c;

	local_7c = 0x0;
	local_90 = param_3;
	local_8c = param_4;
	local_88 = param_5;
	puVar2 = GetDataAt_0x31B4B8();
	iVar4 = (int)param_1;
	local_84 = FUN_00205cb8((int)puVar2, (int *)(iVar4 + 0x18));
	puVar2 = GetDataAt_0x31B4B8();
	iVar3 = FUN_00205cb8((int)puVar2, (int *)(iVar4 + 0x20));
	puVar2 = GetDataAt_0x31B4B8();
	local_80 = FUN_00205cb8((int)puVar2, (int *)(iVar4 + 0x1c));
	FUN_0027f310(param_1, param_2);
	iVar11 = 0x0;
	iVar4 = 0x0;
	if (0x0 < iRam0030a20c) {
		do {
			iVar11 = iVar4;
			local_74 = 0x0;
			local_78 = (int *)(local_84 + (int)G_AddonToAddonArray[local_7c + 0x100] * 0x8);
			local_70 = &local_b0;
			if (0x0 < *local_78) {
				local_6c = &local_a0;
				fVar13 = 0.00000000;
				do {
					puVar12 = (ulong *)(local_80 + (local_78[0x1] + local_74) * 0x8);
					puVar2 = FUN_00282658(puVar12);
					if ((*(uint *)(puVar2 + 0x8) & local_90) != 0x0) {
						FUN_001fff90();
						pfVar7 = (float *)param_2;
						iVar4 = FUN_001f8db0(afStack224, pfVar7);
						if (iVar4 != 0x0) {
							uVar6 = *puVar12;
							pfVar8 = (float *)(iVar3 + ((uint)(uVar6 >> 0x24) & 0x3ffff) * 0x10);
							pfVar9 = (float *)(iVar3 + ((uint)uVar6 & 0x3ffff) * 0x10);
							pfVar10 = (float *)(iVar3 + ((uint)(uVar6 >> 0x12) & 0x3ffff) * 0x10);
							FUN_0018d830(&local_c0, pfVar9, pfVar10, pfVar8);
							iVar4 = FUN_001f8f98(pfVar7, &local_c0);
							pfVar1 = local_6c;
							if (iVar4 != 0x0) {
								local_b0 = local_c0;
								local_ac = local_bc;
								local_a8 = local_b8;
								local_70[0x3] = 1.00000000;
								local_a0 = *pfVar9 + local_c0;
								local_9c = pfVar9[0x1] + local_bc;
								local_98 = pfVar9[0x2] + local_b8;
								local_6c[0x3] = 1.00000000;
								lVar5 = FUN_0018d830(&local_c0, pfVar9, pfVar10);
								if (lVar5 != 0x0) {
									if (fVar13 < local_c0 * *pfVar8 + local_bc * pfVar8[0x1] + local_b8 * pfVar8[0x2]
										+ local_b4) {
										local_c0 = -local_c0;
										local_bc = -local_bc;
										local_b8 = -local_b8;
										local_b4 = -local_b4;
									}
									iVar4 = FUN_001f9060(pfVar7, &local_c0);
									if (iVar4 != 0x0) goto LAB_0027fae0;
								}
								local_98 = pfVar10[0x2];
								local_a0 = *pfVar10 + local_b0;
								local_9c = pfVar10[0x1] + local_ac;
								pfVar1[0x3] = 1.00000000;
								local_98 = local_98 + local_a8;
								lVar5 = FUN_0018d830(&local_c0, pfVar10, pfVar8, pfVar1);
								if (lVar5 != 0x0) {
									if (fVar13 < local_c0 * *pfVar9 + local_bc * pfVar9[0x1] + local_b8 * pfVar9[0x2]
										+ local_b4) {
										local_c0 = -local_c0;
										local_bc = -local_bc;
										local_b8 = -local_b8;
										local_b4 = -local_b4;
									}
									iVar4 = FUN_001f9060(pfVar7, &local_c0);
									if (iVar4 != 0x0) goto LAB_0027fae0;
								}
								local_98 = pfVar8[0x2];
								local_a0 = *pfVar8 + local_b0;
								local_9c = pfVar8[0x1] + local_ac;
								pfVar1[0x3] = 1.00000000;
								local_98 = local_98 + local_a8;
								lVar5 = FUN_0018d830(&local_c0, pfVar8, pfVar9, pfVar1);
								if (lVar5 != 0x0) {
									if (fVar13 < local_c0 * *pfVar10 + local_bc * pfVar10[0x1] +
										local_b8 * pfVar10[0x2] + local_b4) {
										local_c0 = -local_c0;
										local_bc = -local_bc;
										local_b8 = -local_b8;
										local_b4 = -local_b4;
									}
									iVar4 = FUN_001f9060(pfVar7, &local_c0);
									if (iVar4 != 0x0) goto LAB_0027fae0;
								}
								iVar4 = iVar11 * 0x4;
								iVar11 += 0x1;
								*(ulong **)(iVar4 + local_8c) = puVar12;
								if (iVar11 == local_88) {
									return iVar11;
								}
							}
						}
					}
				LAB_0027fae0:
					local_74 += 0x1;
				} while (local_74 < *local_78);
			}
			local_7c += 0x1;
			iVar4 = iVar11;
		} while (local_7c < iRam0030a20c);
	}
	return iVar11;
}



void FUN_0027fb58(undefined8 param_1, int param_2, undefined8 param_3, undefined8 param_4)

{
	uint param_2_00;
	undefined4 *puVar1;
	undefined *puVar2;
	int iVar3;
	int param_2_01;
	ulong *puVar4;
	int *piVar5;
	float *pfVar6;
	int *piVar7;
	float fVar8;
	undefined local_b0;
	undefined7 uStack175;
	undefined4 uStack168;
	undefined4 uStack164;
	undefined8 local_a0;
	undefined4 uStack152;
	undefined4 uStack148;
	undefined8 local_90;
	undefined4 uStack136;
	undefined4 uStack132;
	undefined2 local_80;
	undefined2 local_7e;
	undefined8 local_70;
	undefined4 uStack104;
	undefined4 uStack100;
	float afStack96[0x4];

	piVar5 = (int *)param_3;
	param_2_01 = piVar5[0x1] + param_2 * 0x20;
	param_2_00 = *(uint *)(param_2_01 + 0xc);
	param_2_01 = *(int *)(param_2_01 + 0x1c);
	if ((int)param_2_00 < 0x0) {
		piVar7 = (int *)(piVar5[0x2] + ~param_2_00 * 0x8);
		param_2_01 = 0x0;
		if (0x0 < *piVar7) {
			iVar3 = piVar7[0x1];
			do {
				puVar4 = (ulong *)(piVar5[0x3] + (iVar3 + param_2_01) * 0x8);
				puVar2 = FUN_00282658(puVar4);
				if ((*(uint *)(puVar2 + 0x8) & piVar5[0x6]) == 0x0) {
				LAB_0027fc88:
					iVar3 = *piVar7;
				}
				else {
					FUN_00281128((undefined4 *)&local_b0, puVar4, *piVar5);
					fVar8 = FUN_00280c28((long)(int)&local_b0, (long)piVar5[0x4], (long)piVar5[0x5],
						(float *)&local_70);
					iVar3 = *piVar7;
					if (fVar8 < 1000000015047466219876688855040.00000000) {
						pfVar6 = (float *)param_4;
						iVar3 = *piVar7;
						if (fVar8 < *pfVar6) {
							puVar1 = (undefined4 *)pfVar6[0x1];
							*pfVar6 = fVar8;
							if (puVar1 != (undefined4 *)0x0) {
								*puVar1 = (int)local_70;
								puVar1[0x1] = (int)((ulong)local_70 >> 0x20);
								puVar1[0x2] = uStack104;
								puVar1[0x3] = uStack100;
							}
							puVar1 = (undefined4 *)pfVar6[0x2];
							if (puVar1 != (undefined4 *)0x0) {
								*puVar1 = (int)CONCAT71(uStack175, local_b0);
								puVar1[0x1] = (int)((uint7)uStack175 >> 0x18);
								puVar1[0x2] = uStack168;
								puVar1[0x3] = uStack164;
								puVar1[0x4] = (int)local_a0;
								puVar1[0x5] = (int)((ulong)local_a0 >> 0x20);
								puVar1[0x6] = uStack152;
								puVar1[0x7] = uStack148;
								puVar1[0x8] = (int)local_90;
								puVar1[0x9] = (int)((ulong)local_90 >> 0x20);
								puVar1[0xa] = uStack136;
								puVar1[0xb] = uStack132;
								*(undefined2 *)(puVar1 + 0xc) = local_80;
								*(undefined2 *)((int)puVar1 + 0x32) = local_7e;
							}
							goto LAB_0027fc88;
						}
					}
				}
				param_2_01 += 0x1;
				if (iVar3 <= param_2_01) {
					return;
				}
				iVar3 = piVar7[0x1];
			} while (true);
		}
	}
	else {
		iVar3 = FUN_001f9c10((float *)(param_2_00 * 0x20 + piVar5[0x1]), (undefined8 *)piVar5[0x4],
			(undefined8 *)piVar5[0x5], (float *)&local_b0, afStack96);
		if (iVar3 != 0x0) {
			FUN_0027fb58(param_1, param_2_00, param_3, param_4);
		}
		iVar3 = FUN_001f9c10((float *)(param_2_01 * 0x20 + piVar5[0x1]), (undefined8 *)piVar5[0x4],
			(undefined8 *)piVar5[0x5], (float *)&local_b0, afStack96);
		if (iVar3 != 0x0) {
			FUN_0027fb58(param_1, param_2_01, param_3, param_4);
		}
	}
	return;
}



undefined4
FUN_0027fd40(undefined8 param_1, undefined8 *param_2, undefined8 *param_3, undefined4 param_4,
	long param_5, long param_6, long param_7)

{
	undefined *puVar1;
	undefined4 uVar2;
	int iVar3;
	undefined4 local_f0;
	undefined4 local_ec;
	undefined4 local_e8;
	undefined4 local_e4;
	undefined8 *local_e0;
	undefined8 *local_dc;
	undefined4 local_d8;
	float local_d0;
	undefined4 *local_cc;
	undefined4 local_c8;
	undefined8 local_c0;
	undefined4 uStack184;
	float local_b4;
	undefined4 local_b0;
	undefined4 uStack172;
	undefined4 uStack168;
	undefined4 uStack164;
	undefined4 local_a0;
	undefined4 uStack156;
	undefined4 uStack152;
	undefined4 uStack148;
	undefined4 local_90;
	undefined4 local_8c;
	undefined4 local_88;
	undefined4 local_84;
	undefined4 local_80;
	undefined4 local_70;

	iVar3 = (int)param_1;
	local_cc = (undefined4 *)param_6;
	local_70 = param_4;
	if (param_7 == 0x0) {
		puVar1 = GetDataAt_0x31B4B8();
		local_90 = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x20));
		puVar1 = GetDataAt_0x31B4B8();
		local_8c = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x14));
		puVar1 = GetDataAt_0x31B4B8();
		local_88 = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x18));
		puVar1 = GetDataAt_0x31B4B8();
		local_84 = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x1c));
		uStack168 = *(undefined4 *)(param_2 + 0x1);
		uStack164 = *(undefined4 *)((int)param_2 + 0xc);
		uStack152 = *(undefined4 *)(param_3 + 0x1);
		uStack148 = *(undefined4 *)((int)param_3 + 0xc);
		local_b0 = (undefined4)*param_2;
		uStack172 = (undefined4)((ulong)*param_2 >> 0x20);
		local_a0 = (undefined4)*param_3;
		uStack156 = (undefined4)((ulong)*param_3 >> 0x20);
		local_b4 = 1000000015047466219876688855040.00000000;
		local_80 = local_70;
		FUN_0027ff80(param_1, 0x0, &local_c0);
		uVar2 = 0x0;
		if (local_b4 < 1000000015047466219876688855040.00000000) {
			uVar2 = 0x1;
			if (param_6 != 0x0) {
				*local_cc = (int)local_c0;
				local_cc[0x1] = (int)((ulong)local_c0 >> 0x20);
				local_cc[0x2] = uStack184;
				*(float *)(local_cc + 0x3) = local_b4;
				local_cc[0x3] = 0x3f800000;
			}
			if (param_5 != 0x0) {
				*(float *)param_5 = local_b4;
			}
		}
	}
	else {
		puVar1 = GetDataAt_0x31B4B8();
		local_f0 = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x20));
		puVar1 = GetDataAt_0x31B4B8();
		local_ec = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x14));
		puVar1 = GetDataAt_0x31B4B8();
		local_e8 = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x18));
		puVar1 = GetDataAt_0x31B4B8();
		local_e4 = FUN_00205cb8((int)puVar1, (int *)(iVar3 + 0x1c));
		local_d8 = local_70;
		local_c8 = (undefined4)param_7;
		local_d0 = 1000000015047466219876688855040.00000000;
		local_e0 = param_2;
		local_dc = param_3;
		FUN_0027fb58(param_1, 0x0, (long)(int)&local_f0, (long)(int)&local_d0);
		if (param_5 != 0x0) {
			*(float *)param_5 = local_d0;
		}
		uVar2 = 0x1;
		if (1000000015047466219876688855040.00000000 <= local_d0) {
			uVar2 = 0x0;
		}
	}
	return uVar2;
}



void FUN_0027ff80(undefined8 param_1, int param_2, undefined8 param_3)

{
	uint uVar1;
	undefined *puVar2;
	undefined4 extraout_v0_hi;
	int iVar3;
	int iVar4;
	ulong uVar5;
	undefined4 *puVar6;
	int *piVar7;
	bool bVar8;
	undefined4 in_vf31x;
	undefined4 extraout_vf31x;
	undefined4 extraout_vf31x_00;
	undefined4 extraout_vf31x_01;
	undefined4 extraout_vf31x_02;
	undefined4 extraout_vf31x_03;
	undefined4 in_vf31y;
	undefined4 extraout_vf31y;
	undefined4 extraout_vf31y_00;
	undefined4 extraout_vf31y_01;
	undefined4 extraout_vf31y_02;
	undefined4 extraout_vf31y_03;
	undefined4 in_vf31z;
	undefined4 extraout_vf31z;
	undefined4 extraout_vf31z_00;
	undefined4 extraout_vf31z_01;
	undefined4 extraout_vf31z_02;
	undefined4 extraout_vf31z_03;
	undefined4 in_vf31w;
	undefined4 extraout_vf31w;
	undefined4 extraout_vf31w_00;
	undefined4 extraout_vf31w_01;
	undefined4 extraout_vf31w_02;
	undefined4 extraout_vf31w_03;
	undefined4 in_vucr2;
	undefined4 local_90[0x10];
	ulong local_50[0x2];

	puVar6 = (undefined4 *)param_3;
	iVar3 = puVar6[0xd] + param_2 * 0x20;
	uVar1 = *(uint *)(iVar3 + 0xc);
	iVar3 = *(int *)(iVar3 + 0x1c);
	if ((int)uVar1 < 0x0) {
		iVar3 = (int)puVar6[0xe] >> 0x1f;
		piVar7 = (int *)(puVar6[0xe] + ~uVar1 * 0x8);
		iVar4 = *piVar7 + -0x1;
		bVar8 = false;
		if (-0x1 < iVar4) {
			uVar5 = SEXT48((int)local_50);
			do {
				FUN_00282628(uVar5);
				iVar3 = piVar7[0x1] + iVar4;
				iVar4 += -0x1;
				local_50[0] = *(ulong *)(puVar6[0xf] + iVar3 * 0x8);
				puVar2 = FUN_00282658(local_50);
				iVar3 = (int)(*(uint *)(puVar2 + 0x8) & puVar6[0x10]) >> 0x1f;
				if ((*(uint *)(puVar2 + 0x8) & puVar6[0x10]) != 0x0) {
					bVar8 = true;
					FUN_00281128(local_90, local_50, puVar6[0xc]);
					FUN_00282630(uVar5, 0x2);
					in_vf31x = extraout_vf31x_03;
					in_vf31y = extraout_vf31y_03;
					in_vf31z = extraout_vf31z_03;
					in_vf31w = extraout_vf31w_03;
					break;
				}
				FUN_00282630(uVar5, 0x2);
				in_vf31x = extraout_vf31x;
				in_vf31y = extraout_vf31y;
				in_vf31z = extraout_vf31z;
				in_vf31w = extraout_vf31w;
			} while (-0x1 < iVar4);
		}
		if (bVar8) {
			uVar5 = SEXT48((int)local_50);
			while (-0x1 < iVar4) {
				FUN_00282628(uVar5);
				iVar3 = piVar7[0x1] + iVar4;
				iVar4 += -0x1;
				local_50[0] = *(ulong *)(puVar6[0xf] + iVar3 * 0x8);
				puVar2 = FUN_00282658(local_50);
				iVar3 = (int)(*(uint *)(puVar2 + 0x8) & puVar6[0x10]) >> 0x1f;
				if ((*(uint *)(puVar2 + 0x8) & puVar6[0x10]) == 0x0) {
					FUN_00282630(uVar5, 0x2);
					in_vf31x = extraout_vf31x_00;
					in_vf31y = extraout_vf31y_00;
					in_vf31z = extraout_vf31z_00;
					in_vf31w = extraout_vf31w_00;
				}
				else {
					FUN_00281128(local_90, local_50, puVar6[0xc]);
					if (CONCAT44(extraout_v0_hi, in_vucr2) == 0x900) {
						*puVar6 = extraout_vf31x_01;
						puVar6[0x1] = extraout_vf31y_01;
						puVar6[0x2] = extraout_vf31z_01;
						puVar6[0x3] = extraout_vf31w_01;
					}
					FUN_00282630(uVar5, 0x2);
					in_vf31x = extraout_vf31x_02;
					in_vf31y = extraout_vf31y_02;
					in_vf31z = extraout_vf31z_02;
					in_vf31w = extraout_vf31w_02;
				}
			}
			if (CONCAT44(iVar3, in_vucr2) == 0x900) {
				*puVar6 = in_vf31x;
				puVar6[0x1] = in_vf31y;
				puVar6[0x2] = in_vf31z;
				puVar6[0x3] = in_vf31w;
			}
		}
	}
	else {
		iVar4 = FUN_001f97e8((float *)(uVar1 * 0x20 + puVar6[0xd]), (float *)(puVar6 + 0x4),
			(undefined8 *)(puVar6 + 0x8));
		if (iVar4 != 0x0) {
			FUN_0027ff80(param_1, uVar1, param_3);
		}
		iVar4 = FUN_001f97e8((float *)(iVar3 * 0x20 + puVar6[0xd]), (float *)(puVar6 + 0x4),
			(undefined8 *)(puVar6 + 0x8));
		if (iVar4 != 0x0) {
			FUN_0027ff80(param_1, iVar3, param_3);
		}
	}
	return;
}



undefined4 FUN_002801d8(float param_1, undefined8 *param_2, undefined8 *param_3, long param_4)

{
	bool bVar1;
	undefined8 uVar2;
	int iVar3;
	undefined4 uVar4;
	float *pfVar5;
	int iVar6;
	undefined8 *puVar7;
	Vector4 *pVVar8;
	int iVar9;
	Vector4 *pVVar10;
	undefined8 *puVar11;
	float *pfVar12;
	float *pfVar13;
	float fVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	float fVar19;
	Vector4 local_160;
	float local_150;
	float fStack332;
	float local_148;
	undefined4 uStack324;
	float local_140;
	float fStack316;
	float fStack312;
	undefined4 uStack308;
	float local_130[0x4];
	float local_120;
	float local_11c;
	float local_118;
	float local_114;
	float local_110;
	float local_10c;
	float local_108;
	float local_104;
	float local_100;
	float local_fc;
	float local_f8;
	undefined4 local_f4;
	float afStack240[0x8];
	float local_d0;
	float fStack204;
	float local_c8;
	undefined4 uStack196;
	float local_c0;
	float fStack188;
	float local_b8;
	undefined4 uStack180;
	Vector4 local_b0;
	Vector4 local_a0;
	float local_90;
	float fStack140;
	float local_88;
	undefined4 local_84;
	float local_80;
	float local_7c;
	float local_78;
	undefined4 local_74;

	pVVar8 = &local_160;
	pVVar10 = &local_160;
	iVar3 = 0x1;
	do {
		bVar1 = iVar3 != -0x1;
		iVar3 += -0x1;
	} while (bVar1);
	puVar11 = param_2 + 0x2;
	puVar7 = param_2 + 0x4;
	FUN_001fff90();
	uStack196 = *(undefined4 *)((int)param_3 + 0xc);
	local_d0 = (float)*param_3;
	fStack188 = (float)((ulong)*param_3 >> 0x20);
	local_c0 = local_d0 + param_1;
	local_d0 = local_d0 - param_1;
	fStack204 = fStack188 - param_1;
	local_c8 = *(float *)(param_3 + 0x1) - param_1;
	fStack188 = fStack188 + param_1;
	local_b8 = *(float *)(param_3 + 0x1) + param_1;
	uStack180 = uStack196;
	iVar3 = FUN_001f8db0(afStack240, &local_d0);
	if (iVar3 == 0x0) {
	LAB_00280a68:
		uVar4 = 0x0;
	}
	else {
		FUN_0018d830(&local_110, param_2, puVar11, puVar7);
		fVar14 = local_110 * *(float *)param_3 + local_10c * *(float *)((int)param_3 + 0x4) +
			local_108 * *(float *)(param_3 + 0x1) + local_104;
		uVar4 = 0x0;
		if ((fVar14 <= param_1) && (fVar15 = -param_1, fVar15 <= fVar14)) {
			local_100 = local_110;
			local_fc = local_10c;
			local_f8 = local_108;
			local_f4 = 0x3f800000;
			FUN_001867e0(&local_120, (float *)param_2, puVar11, &local_100);
			local_130[0] = local_120 * *(float *)param_3 + local_11c * *(float *)((int)param_3 + 0x4) +
				local_118 * *(float *)(param_3 + 0x1) + local_114;
			FUN_001867e0(&local_120, (float *)puVar11, puVar7, &local_100);
			local_130[1] = local_120 * *(float *)param_3 + local_11c * *(float *)((int)param_3 + 0x4) +
				local_118 * *(float *)(param_3 + 0x1) + local_114;
			FUN_001867e0(&local_120, (float *)puVar7, param_2, &local_100);
			fVar18 = *(float *)param_3;
			fVar14 = *(float *)((int)param_3 + 0x4);
			fVar19 = *(float *)(param_3 + 0x1);
			local_130[2] = local_120 * fVar18 + local_11c * fVar14 + local_118 * fVar19 + local_114;
			pfVar13 = (float *)param_4;
			if ((0.00100000 <= local_130[0]) ||
				((0.00100000 <= local_130[1] || (0.00100000 <= local_130[2])))) {
				pfVar12 = local_130;
				iVar3 = 0x0;
				pfVar5 = pfVar12;
				do {
					iVar3 += 0x1;
					if (param_1 < *pfVar5) goto LAB_00280a68;
					pfVar5 = pfVar5 + 0x1;
				} while (iVar3 < 0x3);
				fVar14 = param_1 * param_1;
				local_160.x = *(float *)(param_2 + 0x2) - *(float *)param_2;
				iVar3 = 0x2;
				local_160.y = *(float *)((int)param_2 + 0x14) - *(float *)((int)param_2 + 0x4);
				local_160.z = *(float *)(param_2 + 0x3) - *(float *)(param_2 + 0x1);
				local_148 = *(float *)(param_2 + 0x5) - *(float *)(param_2 + 0x3);
				fStack312 = *(float *)(param_2 + 0x1) - *(float *)(param_2 + 0x5);
				local_150 = *(float *)(param_2 + 0x4) - *(float *)(param_2 + 0x2);
				fStack332 = *(float *)((int)param_2 + 0x24) - *(float *)((int)param_2 + 0x14);
				local_140 = *(float *)param_2 - *(float *)(param_2 + 0x4);
				fStack316 = *(float *)((int)param_2 + 0x4) - *(float *)((int)param_2 + 0x24);
				local_160.w = 1.00000000;
				uStack324 = 0x3f800000;
				local_b0.w = 1.00000000;
				uStack308 = 0x3f800000;
				local_b0.x = local_140;
				local_b0.y = fStack316;
				local_b0.z = fStack312;
				do {
					iVar3 += -0x1;
					fVar18 = RSQRT(0.00000000, pVVar8);
					pVVar8->x = pVVar8->x * fVar18;
					pVVar8->y = pVVar8->y * fVar18;
					pVVar8->z = pVVar8->z * fVar18;
					pVVar8 = pVVar8 + 0x1;
				} while (-0x1 < iVar3);
				iVar3 = 0x0;
				puVar11 = param_2;
				do {
					if (0.00000000 < *pfVar12) {
						FUN_0018d908((float *)&local_b0, (float *)pVVar10, (float *)puVar11);
						if (iVar3 == 0x0) {
							iVar6 = 0x1;
						}
						else {
							iVar6 = 0x2;
							if (iVar3 != 0x1) {
								iVar6 = 0x0;
							}
						}
						FUN_0018d908((float *)&local_a0, (float *)pVVar10, (float *)(param_2 + iVar6 * 0x2));
						if ((0.00000000 <
							local_b0.x * *(float *)param_3 + local_b0.y * *(float *)((int)param_3 + 0x4) +
							local_b0.z * *(float *)(param_3 + 0x1) + local_b0.w) &&
							(local_a0.x * *(float *)param_3 + local_a0.y * *(float *)((int)param_3 + 0x4) +
								local_a0.z * *(float *)(param_3 + 0x1) + local_a0.w < 0.00000000)) break;
					}
					iVar3 += 0x1;
					puVar11 = puVar11 + 0x2;
					pVVar10 = (Vector4 *)((float *)pVVar10 + 0x4);
					pfVar12 = pfVar12 + 0x1;
				} while (iVar3 < 0x3);
				if (iVar3 == 0x3) {
					iVar3 = -0x1;
					fVar18 = 1000000015047466219876688855040.00000000;
					iVar6 = 0x0;
					puVar11 = param_2;
					do {
						fVar16 = *(float *)puVar11 - *(float *)param_3;
						fVar17 = *(float *)((int)puVar11 + 0x4) - *(float *)((int)param_3 + 0x4);
						fVar19 = *(float *)(puVar11 + 0x1) - *(float *)(param_3 + 0x1);
						fVar19 = fVar16 * fVar16 + fVar17 * fVar17 + fVar19 * fVar19;
						iVar9 = iVar6 + 0x1;
						if (fVar19 < fVar18) {
							fVar18 = fVar19;
							iVar3 = iVar9;
							iVar9 = iVar6 + 0x2;
						}
						puVar11 = puVar11 + 0x2;
						iVar6 = iVar9;
					} while (iVar9 < 0x3);
					param_2 = param_2 + iVar3 * 0x2;
					local_b0.y = *(float *)((int)param_2 + 0x4) - *(float *)((int)param_3 + 0x4);
					local_b0.z = *(float *)(param_2 + 0x1) - *(float *)(param_3 + 0x1);
					local_b0.x = *(float *)param_2 - *(float *)param_3;
					local_a0.w = 1.00000000;
					local_b0.w = 1.00000000;
					if (fVar14 <= local_b0.x * local_b0.x + local_b0.y * local_b0.y + local_b0.z * local_b0.z)
					{
						return 0x0;
					}
					if (param_4 == 0x0) {
						return 0x1;
					}
					local_a0.x = local_b0.x;
					local_a0.y = local_b0.y;
					local_a0.z = local_b0.z;
					fVar19 = RSQRT(0.00000000, &local_b0);
					uVar2 = *param_2;
					fVar14 = *(float *)(param_2 + 0x1);
					fVar18 = *(float *)((int)param_2 + 0xc);
					*pfVar13 = (float)uVar2;
					pfVar13[0x1] = (float)((ulong)uVar2 >> 0x20);
					pfVar13[0x2] = fVar14;
					pfVar13[0x3] = fVar18;
					fVar14 = pfVar13[0x1] + local_b0.y * fVar19 * fVar15;
					*pfVar13 = *pfVar13 + local_b0.x * fVar19 * fVar15;
					fVar15 = pfVar13[0x2] + local_b0.z * fVar19 * fVar15;
				}
				else {
					param_2 = param_2 + iVar3 * 0x2;
					local_b0.y = *(float *)((int)param_2 + 0x4) - *(float *)((int)param_3 + 0x4);
					local_b0.x = *(float *)param_2 - *(float *)param_3;
					local_b0.z = *(float *)(param_2 + 0x1) - *(float *)(param_3 + 0x1);
					local_b0.w = 1.00000000;
					local_74 = 0x3f800000;
					local_80 = local_b0.x * (&local_160)[iVar3].x + local_b0.y * (&local_160)[iVar3].y +
						local_b0.z * (&local_160)[iVar3].z;
					local_78 = (&local_160)[iVar3].z * local_80;
					local_7c = (&local_160)[iVar3].y * local_80;
					local_80 = (&local_160)[iVar3].x * local_80;
					local_a0.z = local_b0.z - local_78;
					local_a0.y = local_b0.y - local_7c;
					local_a0.x = local_b0.x - local_80;
					local_84 = 0x3f800000;
					local_a0.w = 1.00000000;
					fVar15 = local_a0.x * local_a0.x + local_a0.y * local_a0.y + local_a0.z * local_a0.z;
					if (fVar14 <= fVar15) {
						return 0x0;
					}
					if (param_4 == 0x0) {
						return 0x1;
					}
					local_90 = local_a0.x;
					fStack140 = local_a0.y;
					local_88 = local_a0.z;
					fVar18 = RSQRT(0.00000000, &local_a0);
					param_1 = SQRT(fVar15) - param_1;
					uVar2 = *param_3;
					fVar14 = *(float *)(param_3 + 0x1);
					fVar15 = *(float *)((int)param_3 + 0xc);
					*pfVar13 = (float)uVar2;
					pfVar13[0x1] = (float)((ulong)uVar2 >> 0x20);
					pfVar13[0x2] = fVar14;
					pfVar13[0x3] = fVar15;
					fVar14 = pfVar13[0x1] + local_a0.y * fVar18 * param_1;
					fVar15 = pfVar13[0x2] + local_a0.z * fVar18 * param_1;
					*pfVar13 = *pfVar13 + local_a0.x * fVar18 * param_1;
				}
				pfVar13[0x1] = fVar14;
				pfVar13[0x2] = fVar15;
			}
			else {
				if (param_4 != 0x0) {
					uVar2 = *param_3;
					fVar15 = *(float *)(param_3 + 0x1);
					fVar16 = *(float *)((int)param_3 + 0xc);
					*pfVar13 = (float)uVar2;
					pfVar13[0x1] = (float)((ulong)uVar2 >> 0x20);
					pfVar13[0x2] = fVar15;
					pfVar13[0x3] = fVar16;
					param_1 = local_110 * fVar18 + local_10c * fVar14 + local_108 * fVar19 + local_104 +
						param_1;
					pfVar13[0x2] = pfVar13[0x2] - local_f8 * param_1;
					pfVar13[0x1] = pfVar13[0x1] - local_fc * param_1;
					*pfVar13 = *pfVar13 - local_100 * param_1;
				}
			}
			uVar4 = 0x1;
		}
	}
	return uVar4;
}



undefined4
FUN_00280ab0(float param_1, float param_2, float param_3, undefined8 *param_4, undefined8 param_5,
	long param_6)

{
	int iVar1;
	undefined4 uVar2;
	Vector4 *vecTarget;
	undefined4 local_110;
	undefined4 uStack268;
	undefined4 uStack264;
	undefined4 uStack260;
	undefined4 local_100;
	undefined4 uStack252;
	undefined4 uStack248;
	undefined4 uStack244;
	undefined4 local_f0;
	undefined4 uStack236;
	undefined4 uStack232;
	undefined4 uStack228;
	undefined2 local_e0;
	undefined2 local_de;
	Matrix4x4 local_d0;
	Matrix4x4 local_90;

	local_d0.xComponents.z = (((Matrix4x4 *)param_5)->xComponents).z;
	local_d0.xComponents.w = (((Matrix4x4 *)param_5)->xComponents).w;
	local_d0.yComponents.x = (((Matrix4x4 *)param_5)->yComponents).x;
	local_d0.yComponents.y = (((Matrix4x4 *)param_5)->yComponents).y;
	local_d0.yComponents.z = (((Matrix4x4 *)param_5)->yComponents).z;
	local_d0.yComponents.w = (((Matrix4x4 *)param_5)->yComponents).w;
	local_d0.zComponents.x = (((Matrix4x4 *)param_5)->zComponents).x;
	local_d0.zComponents.y = (((Matrix4x4 *)param_5)->zComponents).y;
	local_d0.zComponents.z = (((Matrix4x4 *)param_5)->zComponents).z;
	local_d0.zComponents.w = (((Matrix4x4 *)param_5)->zComponents).w;
	local_d0.wComponents.z = (((Matrix4x4 *)param_5)->wComponents).z;
	local_d0.wComponents.w = (((Matrix4x4 *)param_5)->wComponents).w;
	local_d0.xComponents.x = (float)*(undefined8 *)&((Matrix4x4 *)param_5)->xComponents;
	local_d0.xComponents.y =
		(float)((ulong)*(undefined8 *)&((Matrix4x4 *)param_5)->xComponents >> 0x20);
	local_d0.wComponents.x = (float)*(undefined8 *)&((Matrix4x4 *)param_5)->wComponents;
	local_d0.wComponents.y =
		(float)((ulong)*(undefined8 *)&((Matrix4x4 *)param_5)->wComponents >> 0x20);
	FUN_0018ef98(&local_d0);
	uStack264 = *(undefined4 *)(param_4 + 0x1);
	uStack260 = *(undefined4 *)((int)param_4 + 0xc);
	local_de = *(undefined2 *)((int)param_4 + 0x32);
	local_100 = *(undefined4 *)(param_4 + 0x2);
	uStack252 = *(undefined4 *)((int)param_4 + 0x14);
	uStack248 = *(undefined4 *)(param_4 + 0x3);
	uStack244 = *(undefined4 *)((int)param_4 + 0x1c);
	local_f0 = *(undefined4 *)(param_4 + 0x4);
	uStack236 = *(undefined4 *)((int)param_4 + 0x24);
	uStack232 = *(undefined4 *)(param_4 + 0x5);
	uStack228 = *(undefined4 *)((int)param_4 + 0x2c);
	local_e0 = *(undefined2 *)(param_4 + 0x6);
	local_110 = (undefined4)*param_4;
	uStack268 = (undefined4)((ulong)*param_4 >> 0x20);
	FUN_002826a8((long)(int)&local_110, (long)(int)&local_d0);
	InitIdentityMatrix(&local_90);
	local_90.xComponents.x = 1.00000000 / param_1;
	local_90.yComponents.y = 1.00000000 / param_2;
	local_90.zComponents.z = 1.00000000 / param_3;
	FUN_002826a8((long)(int)&local_110, (long)(int)&local_90);
	iVar1 = FUN_002801d8(1.00000000, &local_110, (undefined8 *)&GlobalQuaternion_x0_y0_z0_w1, param_6);
	uVar2 = 0x0;
	if (iVar1 != 0x0) {
		if (param_6 != 0x0) {
			vecTarget = (Vector4 *)param_6;
			vecTarget->x = vecTarget->x * param_1;
			vecTarget->y = vecTarget->y * param_2;
			vecTarget->z = vecTarget->z * param_3;
			MultiplyMatrixByVector((Matrix4x4 *)param_5, vecTarget, vecTarget);
		}
		uVar2 = 0x1;
	}
	return uVar2;
}



float FUN_00280c28(undefined8 param_1, undefined8 param_2, undefined8 param_3, float *param_4)

{
	bool bVar1;
	float fVar2;
	float local_60;
	float local_5c;
	float local_58;
	float local_54;
	float local_50;
	float local_4c;

	FUN_00293340(param_2, param_3, param_1, &local_60);
	bVar1 = false;
	if (((((local_60 * local_5c <= -0.00010000) &&
		((FUN_002933e4(&local_60), local_60 <= 0.00010000 || (bVar1 = false, local_5c <= 0.00010000)
			))) && ((-0.00010000 <= local_60 || (bVar1 = false, -0.00010000 <= local_5c)))) &&
			((((local_58 <= 0.00010000 || (bVar1 = false, local_54 <= 0.00010000)) &&
		((-0.00010000 <= local_58 || (bVar1 = false, -0.00010000 <= local_54)))) &&
				((local_50 <= 0.00010000 || (bVar1 = false, local_4c <= 0.00010000)))))) &&
				((-0.00010000 <= local_50 || (bVar1 = false, -0.00010000 <= local_4c)))) {
		bVar1 = true;
	}
	if (bVar1) {
		FUN_0018d830(&local_60, param_1, (int)param_1 + 0x10, (int)param_1 + 0x20);
		fVar2 = FUN_001fcb08(&local_60, (float *)param_2, (float *)param_3, param_4);
	}
	else {
		fVar2 = 1000000015047466219876688855040.00000000;
	}
	return fVar2;
}



undefined4 FUN_00280e20(undefined8 param_1, undefined8 param_2, undefined8 param_3, float *param_4)

{
	int iVar1;
	undefined4 uVar2;
	long lVar3;
	float *pfVar4;
	float *pfVar5;
	float *pfVar6;
	float local_60;
	float local_5c;
	float local_58;
	float local_54;
	float local_50;
	float local_4c;
	float local_48;
	undefined4 local_44;
	float local_40;
	float local_3c;
	float local_38;
	undefined4 local_34;

	FUN_0018d830(&local_60, param_1, param_2, param_3);
	iVar1 = FUN_001f8f98(param_4, &local_60);
	pfVar5 = (float *)param_3;
	pfVar6 = (float *)param_2;
	if (iVar1 == 0x0) {
	LAB_0028102c:
		uVar2 = 0x0;
	}
	else {
		local_50 = local_60;
		local_4c = local_5c;
		local_48 = local_58;
		pfVar4 = (float *)param_1;
		local_40 = *pfVar4 + local_60;
		local_3c = pfVar4[0x1] + local_5c;
		local_38 = pfVar4[0x2] + local_58;
		local_44 = 0x3f800000;
		local_34 = 0x3f800000;
		lVar3 = FUN_0018d830(&local_60, param_1, param_2, &local_40);
		if (lVar3 != 0x0) {
			if (0.00000000 <
				local_60 * *pfVar5 + local_5c * pfVar5[0x1] + local_58 * pfVar5[0x2] + local_54) {
				local_60 = -local_60;
				local_5c = -local_5c;
				local_58 = -local_58;
				local_54 = -local_54;
			}
			iVar1 = FUN_001f9060(param_4, &local_60);
			if (iVar1 != 0x0) {
				return 0x0;
			}
		}
		local_40 = *pfVar6 + local_50;
		local_3c = pfVar6[0x1] + local_4c;
		local_38 = pfVar6[0x2] + local_48;
		local_34 = 0x3f800000;
		lVar3 = FUN_0018d830(&local_60, param_2, param_3, &local_40);
		if (lVar3 == 0x0) {
			local_40 = *pfVar5;
		}
		else {
			if (0.00000000 <
				local_60 * *pfVar4 + local_5c * pfVar4[0x1] + local_58 * pfVar4[0x2] + local_54) {
				local_60 = -local_60;
				local_5c = -local_5c;
				local_58 = -local_58;
				local_54 = -local_54;
			}
			iVar1 = FUN_001f9060(param_4, &local_60);
			if (iVar1 != 0x0) goto LAB_0028102c;
			local_40 = *pfVar5;
		}
		local_40 = local_40 + local_50;
		local_3c = pfVar5[0x1] + local_4c;
		local_38 = pfVar5[0x2] + local_48;
		local_34 = 0x3f800000;
		lVar3 = FUN_0018d830(&local_60, param_3, param_1, &local_40);
		if (lVar3 != 0x0) {
			if (0.00000000 <
				local_60 * *pfVar6 + local_5c * pfVar6[0x1] + local_58 * pfVar6[0x2] + local_54) {
				local_60 = -local_60;
				local_5c = -local_5c;
				local_58 = -local_58;
				local_54 = -local_54;
			}
			iVar1 = FUN_001f9060(param_4, &local_60);
			if (iVar1 != 0x0) {
				return 0x0;
			}
		}
		uVar2 = 0x1;
	}
	return uVar2;
}



void FUN_00281128(undefined4 *param_1, ulong *param_2, int param_3)

{
	undefined4 *puVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	undefined4 uVar4;

	puVar1 = (undefined4 *)(((uint)*param_2 & 0x3ffff) * 0x10 + param_3);
	uVar2 = puVar1[0x1];
	uVar3 = puVar1[0x2];
	uVar4 = puVar1[0x3];
	*param_1 = *puVar1;
	param_1[0x1] = uVar2;
	param_1[0x2] = uVar3;
	param_1[0x3] = uVar4;
	puVar1 = (undefined4 *)(((uint)(*param_2 >> 0x12) & 0x3ffff) * 0x10 + param_3);
	uVar2 = puVar1[0x1];
	uVar3 = puVar1[0x2];
	uVar4 = puVar1[0x3];
	param_1[0x4] = *puVar1;
	param_1[0x5] = uVar2;
	param_1[0x6] = uVar3;
	param_1[0x7] = uVar4;
	puVar1 = (undefined4 *)(((uint)(*param_2 >> 0x24) & 0x3ffff) * 0x10 + param_3);
	uVar2 = puVar1[0x1];
	uVar3 = puVar1[0x2];
	uVar4 = puVar1[0x3];
	param_1[0x8] = *puVar1;
	param_1[0x9] = uVar2;
	param_1[0xa] = uVar3;
	param_1[0xb] = uVar4;
	*(ushort *)(param_1 + 0xc) = (ushort)(*param_2 >> 0x36);
	return;
}



int FUN_002811b0(long param_1, undefined8 *param_2, undefined8 param_3, undefined4 param_4, long param_5
	, uint param_6)

{
	bool bVar1;
	int iVar2;
	float *unaff_s0_lo;
	int *piVar3;
	float fVar4;
	float local_a0;
	float fStack156;
	float local_98;
	undefined4 uStack148;
	float local_90;
	float fStack140;
	float fStack136;
	float fStack132;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;
	undefined4 local_70;
	undefined4 uStack108;
	undefined4 uStack104;
	undefined4 uStack100;
	float local_60;
	float fStack92;
	float fStack88;
	undefined4 uStack84;

	bVar1 = false;
	if ((ABS(((Vector4 *)param_3)->x) <= 0.00005000) &&
		(bVar1 = false, ABS(((Vector4 *)param_3)->y) <= 0.00005000)) {
		bVar1 = true;
	}
	piVar3 = (int *)param_5;
	if (bVar1) {
		MovePositionFromPos2ToPos1((Vector4 *)param_3, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		((Vector4 *)param_3)->w = 1.00000000;
		if (param_5 != 0x0) {
			*(undefined2 *)(piVar3 + 0x1) = 0x0;
			piVar3[0x2] = 0x7149f2ca;
			piVar3[0x3] = piVar3[0x3] & 0xfffffffe;
			piVar3[0x8] = 0x0;
		}
		iVar2 = 0x0;
	}
	else {
		uStack148 = *(undefined4 *)((int)param_2 + 0xc);
		local_a0 = (float)*param_2 + ((Vector4 *)param_3)->x;
		fStack156 = (float)((ulong)*param_2 >> 0x20) + ((Vector4 *)param_3)->y;
		local_98 = *(float *)(param_2 + 0x1) + ((Vector4 *)param_3)->z;
		iVar2 = FUN_00282730(param_1, param_2, (undefined8 *)&local_a0, param_4, 0x0, (long)(int)&local_90,
			0x0);
		if (iVar2 != 0x0) {
			((Vector4 *)param_3)->x = local_90;
			((Vector4 *)param_3)->y = fStack140;
			((Vector4 *)param_3)->z = fStack136;
			((Vector4 *)param_3)->w = fStack132;
			((Vector4 *)param_3)->x = ((Vector4 *)param_3)->x - *(float *)param_2;
			((Vector4 *)param_3)->y = ((Vector4 *)param_3)->y - *(float *)((int)param_2 + 0x4);
			((Vector4 *)param_3)->z = ((Vector4 *)param_3)->z - *(float *)(param_2 + 0x1);
		}
		bVar1 = false;
		if ((ABS(((Vector4 *)param_3)->x) <= 0.00005000) &&
			(bVar1 = false, ABS(((Vector4 *)param_3)->y) <= 0.00005000)) {
			bVar1 = true;
		}
		if (bVar1) {
			MovePositionFromPos2ToPos1((Vector4 *)param_3, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
			((Vector4 *)param_3)->w = 1.00000000;
			if (param_5 != 0x0) {
				*(undefined2 *)(piVar3 + 0x1) = 0x0;
				piVar3[0x2] = 0x7149f2ca;
				piVar3[0x3] = piVar3[0x3] & 0xfffffffe;
				piVar3[0x8] = 0x0;
			}
		}
		else {
			if (param_5 != 0x0) {
				local_80 = *(float *)param_2 + ((Vector4 *)param_3)->x;
				fStack124 = *(float *)((int)param_2 + 0x4) + ((Vector4 *)param_3)->y;
				local_78 = *(float *)(param_2 + 0x1) + ((Vector4 *)param_3)->z;
				local_74 = 0x3f800000;
				uStack104 = *(undefined4 *)(param_2 + 0x1);
				uStack100 = *(undefined4 *)((int)param_2 + 0xc);
				local_70 = (undefined4)*param_2;
				uStack108 = (undefined4)((ulong)*param_2 >> 0x20);
				uStack84 = 0x3f800000;
				local_60 = local_80;
				fStack92 = fStack124;
				fStack88 = local_78;
				fVar4 = FUN_001f1ed0((int)param_1, (long)(int)&local_70, param_6, piVar3, 0x0);
				if ((0.00000000 <= fVar4) && (fVar4 <= 1.00000000)) {
					iVar2 = 0x1;
					*unaff_s0_lo = *unaff_s0_lo * fVar4;
					unaff_s0_lo[0x1] = unaff_s0_lo[0x1] * fVar4;
					unaff_s0_lo[0x2] = unaff_s0_lo[0x2] * fVar4;
				}
			}
		}
	}
	return iVar2;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

ulong FUN_002814b8(long param_1, ushort *param_2, float *param_3, undefined8 param_4, uint param_5,
	int *param_6, int param_7, float *param_8, int param_9, int *param_10, float *param_11)

{
	float *pfVar1;
	int iVar2;
	ulong uVar3;
	float *pfVar4;
	undefined8 unaff_s0;
	undefined8 unaff_s1;
	undefined8 unaff_s2;
	undefined8 unaff_s3;
	undefined8 unaff_s4;
	int iVar5;
	undefined8 unaff_s5;
	undefined8 unaff_s6;
	undefined8 unaff_s7;
	int iVar6;
	undefined8 unaff_s8;
	undefined8 unaff_retaddr;
	float fVar7;
	undefined4 local_e0;
	undefined4 local_dc;
	undefined4 local_d8;
	undefined4 local_d4;
	float local_d0;
	float local_cc;
	float local_c8;
	uint local_c0;
	int local_bc;
	int *local_b8;
	int local_b4;
	undefined4 local_b0;
	undefined4 uStack172;
	undefined4 local_a0;
	undefined4 uStack156;
	undefined4 local_90;
	undefined4 uStack140;
	undefined4 local_80;
	undefined4 uStack124;
	undefined4 local_70;
	undefined4 uStack108;
	undefined4 local_60;
	undefined4 uStack92;
	undefined4 local_50;
	undefined4 uStack76;
	undefined4 local_40;
	undefined4 uStack60;
	undefined4 local_30;
	undefined4 uStack44;
	undefined4 local_20;
	undefined4 uStack28;

	local_b0 = (undefined4)unaff_s0;
	uStack172 = (undefined4)((ulong)unaff_s0 >> 0x20);
	local_a0 = (undefined4)unaff_s1;
	uStack156 = (undefined4)((ulong)unaff_s1 >> 0x20);
	local_90 = (undefined4)unaff_s2;
	uStack140 = (undefined4)((ulong)unaff_s2 >> 0x20);
	local_70 = (undefined4)unaff_s4;
	uStack108 = (undefined4)((ulong)unaff_s4 >> 0x20);
	local_50 = (undefined4)unaff_s6;
	uStack76 = (undefined4)((ulong)unaff_s6 >> 0x20);
	local_40 = (undefined4)unaff_s7;
	uStack60 = (undefined4)((ulong)unaff_s7 >> 0x20);
	local_80 = (undefined4)unaff_s3;
	uStack124 = (undefined4)((ulong)unaff_s3 >> 0x20);
	local_60 = (undefined4)unaff_s5;
	uStack92 = (undefined4)((ulong)unaff_s5 >> 0x20);
	local_30 = (undefined4)unaff_s8;
	uStack44 = (undefined4)((ulong)unaff_s8 >> 0x20);
	local_20 = (undefined4)unaff_retaddr;
	uStack28 = (undefined4)((ulong)unaff_retaddr >> 0x20);
	if (param_1 == 0x0) {
		uVar3 = 0x0;
	}
	else {
		iVar6 = 0x0;
		local_c0 = param_5;
		local_b8 = param_6;
		local_b4 = param_7;
		pfVar1 = (float *)FUN_00288818();
		local_d4 = 0x3f800000;
		local_d8 = 0x3851b717;
		local_e0 = 0x3851b717;
		local_dc = 0x3851b717;
		if (param_10 != (int *)0x0) {
			*param_10 = 0x0;
		}
		if (param_11 != (float *)0x0) {
			MovePositionFromPos2ToPos1((Vector4 *)param_11, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
			param_11[0x3] = 1.00000000;
		}
		iVar5 = 0x0;
		FUN_00284978(pfVar1, param_1, param_3, (undefined8 *)&local_e0, param_2);
		FUN_00284f40((int)pfVar1, (int)param_1, param_3, (int)&local_e0, &local_c0, local_b8, local_b4, param_2
		);
		if (0x0 < (int)pfVar1[0x488]) {
			pfVar4 = pfVar1 + 0x8;
			do {
				if (((uint)pfVar4[0x4] & 0x800) == 0x0) {
					local_bc = -0x1;
					iVar2 = FUN_00288200(0.00000000, (int *)pfVar4, param_3, &local_bc);
					if (iVar2 == 0x0) {
						fVar7 = pfVar1[0x488];
					}
					else {
						if (param_11 != (float *)0x0) {
							FUN_002881e0((int *)pfVar4, param_3, (long)(int)&local_d0);
							*param_11 = *param_11 + local_d0;
							param_11[0x1] = param_11[0x1] + local_cc;
							param_11[0x2] = param_11[0x2] + local_c8;
						}
						iVar6 += 0x1;
						if (((uint)pfVar4[0x4] & 0x1) != 0x0) {
							if (param_8 == (float *)0x0) {
								fVar7 = pfVar1[0x488];
								goto LAB_00281668;
							}
							*param_8 = pfVar4[0x2];
							iVar2 = *param_10;
							*param_10 = iVar2 + 0x1;
							param_8 = param_8 + 0x1;
							if (iVar2 + 0x1 == param_9) break;
						}
						fVar7 = pfVar1[0x488];
					}
				}
				else {
					fVar7 = pfVar1[0x488];
				}
			LAB_00281668:
				iVar5 += 0x1;
				pfVar4 = pfVar4 + 0x14;
			} while (iVar5 < (int)fVar7);
		}
		FUN_002888b0();
		uVar3 = (ulong)(iVar6 != 0x0);
		if (param_11 != (float *)0x0) {
			fVar7 = RSQRT(0.00000000, (Vector4 *)param_11);
			*param_11 = *param_11 * fVar7;
			param_11[0x1] = param_11[0x1] * fVar7;
			param_11[0x2] = param_11[0x2] * fVar7;
			uVar3 = (ulong)(iVar6 != 0x0);
		}
	}
	return uVar3;
}



undefined8
FUN_002816f8(float param_1, long param_2, ushort *param_3, undefined8 *param_4, undefined8 param_5,
	uint param_6, float *param_7, int *param_8, int param_9)

{
	float *pfVar1;
	int iVar2;
	undefined8 uVar3;
	float fVar4;
	float fStack192;
	float local_bc;
	float local_ac;
	float local_a0;
	float fStack156;
	float fStack152;
	float fStack148;
	float local_90;
	float fStack140;
	float fStack136;
	float fStack132;
	undefined4 local_80;
	undefined4 local_7c;
	undefined4 local_78;
	undefined4 local_74;
	uint local_70;
	float *local_6c;

	if (param_2 == 0x0) {
		return 0x0;
	}
	local_70 = param_6;
	local_6c = param_7;
	FUN_00200998(param_3, &fStack192);
	local_80 = 0x3851b717;
	uVar3 = *param_4;
	fStack152 = *(float *)(param_4 + 0x1);
	fStack148 = *(float *)((int)param_4 + 0xc);
	fVar4 = (local_ac - local_bc) * 0.50000000;
	local_78 = 0x3851b717;
	local_74 = 0x3f800000;
	local_7c = 0x3851b717;
	local_a0 = (float)uVar3;
	fStack156 = (float)((ulong)uVar3 >> 0x20);
	do {
		local_90 = (float)uVar3;
		fStack140 = (float)((ulong)uVar3 >> 0x20) - fVar4;
		fStack136 = fStack152;
		fStack132 = fStack148;
		pfVar1 = (float *)FUN_00288818();
		FUN_00284978(pfVar1, param_2, &local_90, (undefined8 *)&local_80, param_3);
		FUN_00284f40((int)pfVar1, (int)param_2, &local_90, (int)&local_80, &local_70, param_8, param_9, param_3
		);
		iVar2 = FUN_00284560(0.00000000, (int)pfVar1, &local_90, 0x800);
		if (iVar2 == 0x0) {
			local_a0 = local_90;
			fStack156 = fStack140;
			fStack152 = fStack136;
			fStack148 = fStack132;
			if (param_1 < *(float *)((int)param_4 + 0x4) - fStack140) {
				FUN_002888b0();
				return 0x0;
			}
		}
		else {
			fVar4 = fVar4 * 0.50000000;
			if (fVar4 < 0.00200000) {
				*local_6c = local_a0;
				local_6c[0x1] = fStack156;
				local_6c[0x2] = fStack152;
				local_6c[0x3] = fStack148;
				FUN_002888b0();
				return 0x1;
			}
		}
		FUN_002888b0();
		uVar3 = CONCAT44(fStack156, local_a0);
	} while (true);
}



undefined4
FUN_002818e8(int param_1, int param_2, undefined8 param_3, undefined8 param_4, int *param_5, uint param_6
	, long param_7, long param_8, int param_9)

{
	bool bVar1;
	uint uVar2;
	float *pfVar3;
	undefined8 unaff_s0;
	undefined8 *puVar4;
	undefined8 unaff_s1;
	float *pfVar5;
	undefined8 unaff_s2;
	undefined8 unaff_s3;
	undefined8 unaff_s4;
	undefined8 unaff_s5;
	long lVar6;
	undefined8 unaff_s6;
	float *pfVar7;
	undefined8 unaff_s7;
	undefined8 unaff_retaddr;
	float fVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float in_f21;
	float local_150;
	float fStack332;
	float local_148;
	undefined4 uStack324;
	float local_140;
	float fStack316;
	float local_138;
	float local_134;
	float local_130;
	float fStack300;
	float local_128;
	undefined4 local_124;
	float local_120;
	float local_11c;
	float local_118;
	undefined4 local_114;
	undefined4 local_110;
	undefined4 uStack268;
	undefined4 local_108;
	undefined4 local_104;
	float local_100;
	float fStack252;
	float fStack248;
	undefined4 uStack244;
	float local_c0[0x4];
	float *local_b0;
	undefined4 uStack172;
	undefined4 local_a0;
	undefined4 uStack156;
	undefined4 local_90;
	undefined4 uStack140;
	undefined4 local_80;
	undefined4 uStack124;
	undefined4 local_70;
	undefined4 uStack108;
	undefined4 local_60;
	undefined4 uStack92;
	undefined4 local_50;
	undefined4 uStack76;
	undefined4 local_40;
	undefined4 uStack60;
	undefined4 local_30;
	undefined4 uStack44;

	local_70 = (undefined4)unaff_s4;
	uStack108 = (undefined4)((ulong)unaff_s4 >> 0x20);
	local_60 = (undefined4)unaff_s5;
	uStack92 = (undefined4)((ulong)unaff_s5 >> 0x20);
	local_b0 = (float *)unaff_s0;
	uStack172 = (undefined4)((ulong)unaff_s0 >> 0x20);
	local_a0 = (undefined4)unaff_s1;
	uStack156 = (undefined4)((ulong)unaff_s1 >> 0x20);
	local_80 = (undefined4)unaff_s3;
	uStack124 = (undefined4)((ulong)unaff_s3 >> 0x20);
	local_50 = (undefined4)unaff_s6;
	uStack76 = (undefined4)((ulong)unaff_s6 >> 0x20);
	local_40 = (undefined4)unaff_s7;
	uStack60 = (undefined4)((ulong)unaff_s7 >> 0x20);
	lVar6 = (long)param_9;
	local_90 = (undefined4)unaff_s2;
	uStack140 = (undefined4)((ulong)unaff_s2 >> 0x20);
	local_30 = (undefined4)unaff_retaddr;
	uStack44 = (undefined4)((ulong)unaff_retaddr >> 0x20);
	uVar2 = FUN_00293140(param_2, param_3, param_4, (long)(int)local_c0, param_8, lVar6);
	pfVar3 = (float *)param_4;
	puVar4 = (undefined8 *)param_3;
	pfVar7 = (float *)param_8;
	pfVar5 = (float *)param_7;
	if (uVar2 == 0x0) {
		local_148 = *(float *)(puVar4 + 0x1);
		uStack324 = *(undefined4 *)((int)puVar4 + 0xc);
		local_140 = *pfVar3;
		fStack316 = pfVar3[0x1];
		local_138 = pfVar3[0x2];
		local_134 = pfVar3[0x3];
		local_150 = (float)*puVar4;
		fStack332 = (float)(int)((ulong)*puVar4 >> 0x20);
		fVar9 = FUN_001f1ed0(param_1, (long)(int)&local_150, param_6, param_5, lVar6);
		if (fVar9 < 0.00000000) {
			return 0x0;
		}
		if (1.00000000 < fVar9) {
			return 0x0;
		}
		if (param_7 != 0x0) {
			*pfVar5 = fVar9;
		}
		if (param_8 == 0x0) {
			return 0x1;
		}
		fVar10 = 1.00000000 - fVar9;
		fVar11 = local_b0[0x2];
		fVar12 = local_b0[0x1];
		fVar13 = *(float *)((int)puVar4 + 0x4);
		fVar8 = *(float *)(puVar4 + 0x1);
		*pfVar7 = *(float *)puVar4 * fVar10 + *local_b0 * fVar9;
		pfVar7[0x1] = fVar13 * fVar10 + fVar12 * fVar9;
		pfVar7[0x2] = fVar8 * fVar10 + fVar11 * fVar9;
		pfVar7[0x3] = 1.00000000;
	}
	else {
		if (0.00000000 < local_c0[0]) {
			local_118 = 1.00000000 - local_c0[0];
			local_120 = *pfVar3 * local_118;
			local_11c = pfVar3[0x1] * local_118;
			fStack300 = *(float *)((int)puVar4 + 0x4) * local_c0[0];
			local_134 = 1.00000000;
			local_118 = pfVar3[0x2] * local_118;
			local_130 = *(float *)puVar4 * local_c0[0];
			local_128 = *(float *)(puVar4 + 0x1) * local_c0[0];
			local_150 = local_130 + local_120;
			fStack332 = fStack300 + local_11c;
			local_148 = local_128 + local_118;
			local_108 = *(undefined4 *)(puVar4 + 0x1);
			local_104 = *(undefined4 *)((int)puVar4 + 0xc);
			local_110 = (undefined4)*puVar4;
			uStack268 = (undefined4)((ulong)*puVar4 >> 0x20);
			local_124 = 0x3f800000;
			uStack244 = 0x3f800000;
			local_114 = 0x3f800000;
			uStack324 = 0x3f800000;
			local_140 = local_150;
			fStack316 = fStack332;
			local_138 = local_148;
			local_100 = local_150;
			fStack252 = fStack332;
			fStack248 = local_148;
			fVar9 = FUN_001f1ed0(param_1, (long)(int)&local_110, param_6, param_5, lVar6);
			bVar1 = false;
			if ((0.00000000 <= fVar9) && (bVar1 = false, fVar9 <= 1.00000000)) {
				if (param_8 != 0x0) {
					fVar10 = 1.00000000 - fVar9;
					fVar8 = *(float *)(puVar4 + 0x1);
					fVar11 = *(float *)((int)puVar4 + 0x4);
					*pfVar7 = *(float *)puVar4 * fVar10 + local_150 * fVar9;
					pfVar7[0x1] = fVar11 * fVar10 + fStack332 * fVar9;
					pfVar7[0x2] = fVar8 * fVar10 + local_148 * fVar9;
					pfVar7[0x3] = 1.00000000;
				}
				bVar1 = true;
				in_f21 = fVar9;
			}
			if (bVar1) {
				if (param_7 != 0x0) {
					*pfVar5 = in_f21 / local_c0[0];
				}
			}
			else {
				if (param_7 != 0x0) {
					*pfVar5 = local_c0[0];
				}
			}
		}
		else {
			if (param_7 == 0x0) {
				return 0x1;
			}
			*pfVar5 = 0.00000000;
		}
	}
	return 0x1;
}



undefined4
FUN_00281c60(long param_1, undefined8 *param_2, undefined8 *param_3, undefined4 param_4, int *param_5,
	uint param_6, long param_7, long param_8, int param_9)

{
	bool bVar1;
	uint uVar2;
	undefined8 unaff_s0;
	undefined8 unaff_s1;
	int iVar3;
	undefined8 unaff_s2;
	float *pfVar4;
	undefined8 unaff_s3;
	undefined8 unaff_s4;
	long lVar5;
	undefined8 unaff_s5;
	undefined8 unaff_s6;
	float *pfVar6;
	undefined8 unaff_s7;
	undefined8 unaff_retaddr;
	float fVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float in_f21;
	float local_150;
	float fStack332;
	float local_148;
	undefined4 uStack324;
	float local_140;
	float fStack316;
	float local_138;
	undefined4 local_134;
	float local_130;
	float fStack300;
	float local_128;
	undefined4 local_124;
	float local_120;
	float local_11c;
	float local_118;
	undefined4 local_114;
	undefined4 local_110;
	undefined4 uStack268;
	undefined4 local_108;
	undefined4 local_104;
	float local_100;
	float fStack252;
	float fStack248;
	undefined4 uStack244;
	float local_c0[0x4];
	float *local_b0;
	undefined4 uStack172;
	undefined4 local_a0;
	undefined4 uStack156;
	undefined4 local_90;
	undefined4 uStack140;
	undefined4 local_80;
	undefined4 uStack124;
	undefined4 local_70;
	undefined4 uStack108;
	undefined4 local_60;
	undefined4 uStack92;
	undefined4 local_50;
	undefined4 uStack76;
	undefined4 local_40;
	undefined4 uStack60;
	undefined4 local_30;
	undefined4 uStack44;

	local_50 = (undefined4)unaff_s6;
	uStack76 = (undefined4)((ulong)unaff_s6 >> 0x20);
	local_b0 = (float *)unaff_s0;
	uStack172 = (undefined4)((ulong)unaff_s0 >> 0x20);
	local_a0 = (undefined4)unaff_s1;
	uStack156 = (undefined4)((ulong)unaff_s1 >> 0x20);
	local_90 = (undefined4)unaff_s2;
	uStack140 = (undefined4)((ulong)unaff_s2 >> 0x20);
	local_80 = (undefined4)unaff_s3;
	uStack124 = (undefined4)((ulong)unaff_s3 >> 0x20);
	local_70 = (undefined4)unaff_s4;
	uStack108 = (undefined4)((ulong)unaff_s4 >> 0x20);
	local_60 = (undefined4)unaff_s5;
	uStack92 = (undefined4)((ulong)unaff_s5 >> 0x20);
	local_40 = (undefined4)unaff_s7;
	uStack60 = (undefined4)((ulong)unaff_s7 >> 0x20);
	local_30 = (undefined4)unaff_retaddr;
	uStack44 = (undefined4)((ulong)unaff_retaddr >> 0x20);
	lVar5 = (long)param_9;
	iVar3 = (int)param_1;
	if ((param_1 == 0x0) || ((long)*(int *)(iVar3 + 0x1bc) == 0x0)) {
		uVar2 = 0x0;
	}
	else {
		uVar2 = FUN_0027fd40((long)*(int *)(iVar3 + 0x1bc), param_2, param_3, param_4, (long)(int)local_c0,
			param_8, lVar5);
	}
	pfVar6 = (float *)param_8;
	pfVar4 = (float *)param_7;
	if ((uVar2 & 0xff) == 0x0) {
		local_148 = *(float *)(param_2 + 0x1);
		uStack324 = *(undefined4 *)((int)param_2 + 0xc);
		local_140 = *(float *)param_3;
		fStack316 = *(float *)((int)param_3 + 0x4);
		local_138 = *(float *)(param_3 + 0x1);
		local_134 = *(undefined4 *)((int)param_3 + 0xc);
		local_150 = (float)*param_2;
		fStack332 = (float)(int)((ulong)*param_2 >> 0x20);
		fVar8 = FUN_001f1ed0(iVar3, (long)(int)&local_150, param_6, param_5, lVar5);
		if (fVar8 < 0.00000000) {
			return 0x0;
		}
		if (1.00000000 < fVar8) {
			return 0x0;
		}
		if (param_7 != 0x0) {
			*pfVar4 = fVar8;
		}
		if (param_8 == 0x0) {
			return 0x1;
		}
		fVar9 = 1.00000000 - fVar8;
		fVar10 = local_b0[0x2];
		fVar11 = local_b0[0x1];
		fVar12 = *(float *)((int)param_2 + 0x4);
		fVar7 = *(float *)(param_2 + 0x1);
		*pfVar6 = *(float *)param_2 * fVar9 + *local_b0 * fVar8;
		pfVar6[0x1] = fVar12 * fVar9 + fVar11 * fVar8;
		pfVar6[0x2] = fVar7 * fVar9 + fVar10 * fVar8;
		pfVar6[0x3] = 1.00000000;
	}
	else {
		if (0.00000000 < local_c0[0]) {
			local_118 = 1.00000000 - local_c0[0];
			local_120 = *(float *)param_3 * local_118;
			local_11c = *(float *)((int)param_3 + 0x4) * local_118;
			fStack300 = *(float *)((int)param_2 + 0x4) * local_c0[0];
			local_134 = 0x3f800000;
			local_118 = *(float *)(param_3 + 0x1) * local_118;
			local_130 = *(float *)param_2 * local_c0[0];
			local_128 = *(float *)(param_2 + 0x1) * local_c0[0];
			local_150 = local_130 + local_120;
			fStack332 = fStack300 + local_11c;
			local_148 = local_128 + local_118;
			local_108 = *(undefined4 *)(param_2 + 0x1);
			local_104 = *(undefined4 *)((int)param_2 + 0xc);
			local_110 = (undefined4)*param_2;
			uStack268 = (undefined4)((ulong)*param_2 >> 0x20);
			local_124 = 0x3f800000;
			uStack244 = 0x3f800000;
			local_114 = 0x3f800000;
			uStack324 = 0x3f800000;
			local_140 = local_150;
			fStack316 = fStack332;
			local_138 = local_148;
			local_100 = local_150;
			fStack252 = fStack332;
			fStack248 = local_148;
			fVar8 = FUN_001f1ed0(iVar3, (long)(int)&local_110, param_6, param_5, lVar5);
			bVar1 = false;
			if ((0.00000000 <= fVar8) && (bVar1 = false, fVar8 <= 1.00000000)) {
				if (param_8 != 0x0) {
					fVar9 = 1.00000000 - fVar8;
					fVar7 = *(float *)(param_2 + 0x1);
					fVar10 = *(float *)((int)param_2 + 0x4);
					*pfVar6 = *(float *)param_2 * fVar9 + local_150 * fVar8;
					pfVar6[0x1] = fVar10 * fVar9 + fStack332 * fVar8;
					pfVar6[0x2] = fVar7 * fVar9 + local_148 * fVar8;
					pfVar6[0x3] = 1.00000000;
				}
				bVar1 = true;
				in_f21 = fVar8;
			}
			if (bVar1) {
				if (param_7 != 0x0) {
					*pfVar4 = in_f21 / local_c0[0];
				}
			}
			else {
				if (param_7 != 0x0) {
					*pfVar4 = local_c0[0];
				}
			}
		}
		else {
			if (param_7 == 0x0) {
				return 0x1;
			}
			*pfVar4 = 0.00000000;
		}
	}
	return 0x1;
}



void FUN_00281ff0(long param_1, long param_2)

{
	int iVar1;
	undefined *puVar2;

	if ((param_2 == 0xffff) && (param_1 != 0x0)) {
		iVar1 = 0x7f;
		puVar2 = DAT(0x003bdc10);
		do {
			iVar1 += -0x1;
			FUN_0027ea20((long)(int)puVar2);
			puVar2 = puVar2 + 0x90;
		} while (iVar1 != -0x1);
		DAT_003c2410 = 0x0;
		FUN_002882e8(0x3c2420);
	}
	return;
}



ulong FUN_00282160(int param_1, uint param_2)

{
	switch (param_2 & 0xff) {
	case 0x0:
		return (ulong)*(ushort *)(param_1 + 0x6e);
	case 0x1:
	case 0x2:
		return (ulong)*(ushort *)(param_1 + 0x72);
	default:
		return 0xffff;
	case 0x4:
		return (ulong)*(ushort *)(param_1 + 0x70);
	case 0x5:
		return 0xffff;
	}
}



ulong FUN_00282220(int param_1, uint param_2, undefined4 *param_3)

{
	switch (param_2 & 0xff) {
	case 0x0:
		*param_3 = *(undefined4 *)(param_1 + 0x74);
		return (ulong)*(ushort *)(param_1 + 0x62);
	case 0x1:
		*param_3 = *(undefined4 *)(param_1 + 0x80);
		return (ulong)*(ushort *)(param_1 + 0x68);
	case 0x2:
		*param_3 = *(undefined4 *)(param_1 + 0x80);
		return (ulong)*(ushort *)(param_1 + 0x6a);
	case 0x3:
		*param_3 = *(undefined4 *)(param_1 + 0x84);
		return (ulong)*(ushort *)(param_1 + 0x6c);
	case 0x4:
		*param_3 = *(undefined4 *)(param_1 + 0x78);
		return (ulong)*(ushort *)(param_1 + 0x64);
	case 0x5:
		*param_3 = *(undefined4 *)(param_1 + 0x7c);
		return (ulong)*(ushort *)(param_1 + 0x66);
	default:
		return 0xffff;
	}
}



void FUN_002822c0(int param_1, int param_2)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	int iVar4;

	iVar4 = *(int *)(param_1 + 0x4800) * 0x90 + param_1;
	*(undefined4 *)(iVar4 + 0x8) = *(undefined4 *)(param_2 + 0x8);
	*(undefined4 *)(iVar4 + 0xc) = *(undefined4 *)(param_2 + 0xc);
	*(undefined4 *)(iVar4 + 0x10) = *(undefined4 *)(param_2 + 0x10);
	*(undefined4 *)(iVar4 + 0x14) = *(undefined4 *)(param_2 + 0x14);
	*(undefined4 *)(iVar4 + 0x20) = *(undefined4 *)(param_2 + 0x20);
	*(undefined4 *)(iVar4 + 0x24) = *(undefined4 *)(param_2 + 0x24);
	uVar1 = *(undefined4 *)(param_2 + 0x34);
	uVar2 = *(undefined4 *)(param_2 + 0x38);
	uVar3 = *(undefined4 *)(param_2 + 0x3c);
	*(undefined4 *)(iVar4 + 0x30) = *(undefined4 *)(param_2 + 0x30);
	*(undefined4 *)(iVar4 + 0x34) = uVar1;
	*(undefined4 *)(iVar4 + 0x38) = uVar2;
	*(undefined4 *)(iVar4 + 0x3c) = uVar3;
	uVar1 = *(undefined4 *)(param_2 + 0x44);
	uVar2 = *(undefined4 *)(param_2 + 0x48);
	uVar3 = *(undefined4 *)(param_2 + 0x4c);
	*(undefined4 *)(iVar4 + 0x40) = *(undefined4 *)(param_2 + 0x40);
	*(undefined4 *)(iVar4 + 0x44) = uVar1;
	*(undefined4 *)(iVar4 + 0x48) = uVar2;
	*(undefined4 *)(iVar4 + 0x4c) = uVar3;
	*(undefined4 *)(iVar4 + 0x50) = *(undefined4 *)(param_2 + 0x50);
	*(undefined *)(iVar4 + 0x54) = *(undefined *)(param_2 + 0x54);
	*(undefined2 *)(iVar4 + 0x60) = *(undefined2 *)(param_2 + 0x60);
	*(undefined2 *)(iVar4 + 0x62) = *(undefined2 *)(param_2 + 0x62);
	*(undefined2 *)(iVar4 + 0x64) = *(undefined2 *)(param_2 + 0x64);
	*(undefined2 *)(iVar4 + 0x66) = *(undefined2 *)(param_2 + 0x66);
	*(undefined2 *)(iVar4 + 0x68) = *(undefined2 *)(param_2 + 0x68);
	*(undefined2 *)(iVar4 + 0x6a) = *(undefined2 *)(param_2 + 0x6a);
	*(undefined2 *)(iVar4 + 0x6c) = *(undefined2 *)(param_2 + 0x6c);
	*(undefined2 *)(iVar4 + 0x6e) = *(undefined2 *)(param_2 + 0x6e);
	*(undefined2 *)(iVar4 + 0x70) = *(undefined2 *)(param_2 + 0x70);
	*(undefined2 *)(iVar4 + 0x72) = *(undefined2 *)(param_2 + 0x72);
	*(undefined4 *)(iVar4 + 0x74) = *(undefined4 *)(param_2 + 0x74);
	*(undefined4 *)(iVar4 + 0x78) = *(undefined4 *)(param_2 + 0x78);
	*(undefined4 *)(iVar4 + 0x7c) = *(undefined4 *)(param_2 + 0x7c);
	*(undefined4 *)(iVar4 + 0x80) = *(undefined4 *)(param_2 + 0x80);
	*(undefined4 *)(iVar4 + 0x84) = *(undefined4 *)(param_2 + 0x84);
	*(undefined4 *)(iVar4 + 0x18) = *(undefined4 *)(param_2 + 0x18);
	*(undefined4 *)(iVar4 + 0x1c) = *(undefined4 *)(param_2 + 0x1c);
	*(int *)(param_1 + 0x4800) = *(int *)(param_1 + 0x4800) + 0x1;
	return;
}



undefined8 FUN_002823c8(undefined8 param_1)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)param_1;
	*puVar1 = 0xbb9;
	puVar1[0x8] = 0xffffffff;
	puVar1[0x5] = 0xffffffff;
	puVar1[0x6] = 0xffffffff;
	puVar1[0x7] = 0xffffffff;
	*(undefined *)(puVar1 + 0x9) = 0x0;
	puVar1[0x1] = 0x0;
	puVar1[0x2] = 0x0;
	puVar1[0x3] = 0x0;
	puVar1[0x4] = 0x0;
	return param_1;
}



void FUN_00282408(undefined8 param_1, int param_2, undefined8 param_3, undefined8 param_4)

{
	uint param_2_00;
	int iVar1;
	int iVar2;
	int param_2_01;

	iVar2 = (int)param_3;
	param_2_01 = iVar2 + param_2 * 0x20;
	param_2_00 = *(uint *)(param_2_01 + 0xc);
	param_2_01 = *(int *)(param_2_01 + 0x1c);
	if ((int)param_2_00 < 0x0) {
		if (iRam0030a20c < 0x100) {
			param_2_01 = iRam0030a20c + 0x100;
			iRam0030a20c += 0x1;
			G_AddonToAddonArray[param_2_01] = (RecursiveAddonToScript *)~param_2_00;
		}
	}
	else {
		iVar1 = FUN_001f8db0((float *)param_4, (float *)(param_2_00 * 0x20 + iVar2));
		if (iVar1 != 0x0) {
			FUN_00282408(param_1, param_2_00, param_3, param_4);
		}
		iVar2 = FUN_001f8db0((float *)param_4, (float *)(param_2_01 * 0x20 + iVar2));
		if (iVar2 != 0x0) {
			FUN_00282408(param_1, param_2_01, param_3, param_4);
		}
	}
	return;
}



void FUN_00282508(SectionReaderInterface *this_, ulong param_2)

{
	this_->methods = (undefined *)0x2f5930;
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(this_);
	}
	return;
}



void FUN_00282538(SectionReaderInterface *this_, undefined8 param_2)

{
	FUN_0027f190(this_[0x3].methods, (ulong)*(byte *)&this_[0x1].methods, this_[0x2].methods, param_2);
	return;
}



void FUN_00282568(undefined4 *param_1, undefined4 param_2)

{
	*param_1 = param_2;
	return;
}



void FUN_00282580(int **param_1, int *param_2)

{
	int *piVar1;
	GameReadersStorage *pGVar2;
	SectionReaderInterface *secInfo;
	SubItemsReader *secReader;

	pGVar2 = G_GameReadersStorages[0];
	secInfo = (SectionReaderInterface *)MemoryAllocate(0x10);
	piVar1 = *param_1;
	secInfo->methods = (undefined *)0x305360;
	*(int **)&secInfo[0x3].methods = piVar1;
	*(int **)&secInfo[0x2].methods = param_2;
	*(undefined *)&secInfo[0x1].methods = 0x0;
	secReader = (SubItemsReader *)MemoryAllocate(0x30);
	secReader = FUN_002ac4a8(secReader, secInfo, 0x8, (byte *)param_2, 0x14);
	FUN_002b7188(pGVar2, (GenericSectionReader *)secReader, false);
	return;
}



undefined8 FUN_00282628(undefined8 param_1)

{
	return param_1;
}



void FUN_00282630(ulong param_1, ulong param_2)

{
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



undefined * FUN_00282658(undefined8 *param_1)

{
	return DAT(0x003bdc10) + (uint)((ulong)*param_1 >> 0x36) * 0x90;
}



undefined * FUN_00282680(int param_1)

{
	return DAT(0x003bdc10) + (uint)*(ushort *)(param_1 + 0x30) * 0x90;
}



void FUN_002826a8(undefined8 param_1, undefined8 param_2)

{
	MultiplyMatrixByVector((Matrix4x4 *)param_2, (Vector4 *)param_1, (Vector4 *)param_1);
	MultiplyMatrixByVector((Matrix4x4 *)param_2, (Vector4 *)param_1 + 0x1, (Vector4 *)param_1 + 0x1);
	MultiplyMatrixByVector((Matrix4x4 *)param_2, (Vector4 *)param_1 + 0x2, (Vector4 *)param_1 + 0x2);
	return;
}



void FUN_00282708(undefined4 *param_1, undefined4 *param_2, undefined4 *param_3, undefined4 *param_4)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	undefined4 uVar4;

	uVar1 = param_2[0x1];
	uVar2 = param_2[0x2];
	uVar3 = param_2[0x3];
	*param_1 = *param_2;
	param_1[0x1] = uVar1;
	param_1[0x2] = uVar2;
	param_1[0x3] = uVar3;
	uVar1 = param_3[0x1];
	uVar2 = param_3[0x2];
	uVar3 = param_3[0x3];
	param_1[0x4] = *param_3;
	param_1[0x5] = uVar1;
	param_1[0x6] = uVar2;
	param_1[0x7] = uVar3;
	uVar1 = *param_4;
	uVar2 = param_4[0x1];
	uVar3 = param_4[0x2];
	uVar4 = param_4[0x3];
	*(undefined2 *)(param_1 + 0xc) = 0x0;
	param_1[0x8] = uVar1;
	param_1[0x9] = uVar2;
	param_1[0xa] = uVar3;
	param_1[0xb] = uVar4;
	return;
}



undefined4
FUN_00282730(long param_1, undefined8 *param_2, undefined8 *param_3, undefined4 param_4, long param_5,
	long param_6, long param_7)

{
	undefined4 uVar1;
	long lVar2;

	if ((param_1 == 0x0) || (lVar2 = (long)*(int *)((int)param_1 + 0x1bc), lVar2 == 0x0)) {
		uVar1 = 0x0;
	}
	else {
		uVar1 = FUN_0027fd40(lVar2, param_2, param_3, param_4, param_5, param_6, param_7);
	}
	return uVar1;
}



undefined4
FUN_00282770(int param_1, undefined4 *param_2, undefined8 *param_3, int *param_4, uint param_5,
	long param_6, long param_7, long param_8)

{
	undefined4 uVar1;
	float *unaff_s0_lo;
	float *pfVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	undefined4 local_80;
	undefined4 uStack124;
	undefined4 uStack120;
	undefined4 uStack116;
	undefined4 local_70;
	undefined4 uStack108;
	undefined4 uStack104;
	undefined4 uStack100;

	local_80 = *param_2;
	uStack124 = param_2[0x1];
	uStack120 = param_2[0x2];
	uStack116 = param_2[0x3];
	uStack104 = *(undefined4 *)(param_3 + 0x1);
	uStack100 = *(undefined4 *)((int)param_3 + 0xc);
	local_70 = (undefined4)*param_3;
	uStack108 = (undefined4)((ulong)*param_3 >> 0x20);
	fVar4 = FUN_001f1ed0(param_1, (long)(int)&local_80, param_5, param_4, param_8);
	uVar1 = 0x0;
	if ((0.00000000 <= fVar4) && (fVar4 <= 1.00000000)) {
		if (param_6 != 0x0) {
			*(float *)param_6 = fVar4;
		}
		if (param_7 == 0x0) {
			uVar1 = 0x1;
		}
		else {
			fVar5 = 1.00000000 - fVar4;
			fVar6 = *(float *)(param_3 + 0x1);
			fVar7 = *(float *)((int)param_3 + 0x4);
			fVar8 = unaff_s0_lo[0x1];
			fVar3 = unaff_s0_lo[0x2];
			pfVar2 = (float *)param_7;
			*pfVar2 = *unaff_s0_lo * fVar5 + *(float *)param_3 * fVar4;
			pfVar2[0x1] = fVar8 * fVar5 + fVar7 * fVar4;
			pfVar2[0x2] = fVar3 * fVar5 + fVar6 * fVar4;
			pfVar2[0x3] = 1.00000000;
			uVar1 = 0x1;
		}
	}
	return uVar1;
}



int FUN_002828b8(long param_1, undefined8 param_2, uint param_3, int param_4, int param_5)

{
	int iVar1;
	long lVar2;

	if ((param_1 == 0x0) || (lVar2 = (long)*(int *)((int)param_1 + 0x1bc), lVar2 == 0x0)) {
		iVar1 = 0x0;
	}
	else {
		iVar1 = FUN_0027f3f8(lVar2, param_2, param_3, param_4, param_5);
	}
	return iVar1;
}



int FUN_002828f0(long param_1, undefined8 param_2, uint param_3, int param_4, int param_5)

{
	int iVar1;
	long lVar2;

	if ((param_1 == 0x0) || (lVar2 = (long)*(int *)((int)param_1 + 0x1bc), lVar2 == 0x0)) {
		iVar1 = 0x0;
	}
	else {
		iVar1 = FUN_0027f648(lVar2, param_2, param_3, param_4, param_5);
	}
	return iVar1;
}



undefined4 FUN_00282928(long param_1)

{
	int iVar1;
	undefined *puVar2;
	undefined4 uVar3;

	if ((param_1 == 0x0) || (iVar1 = *(int *)((int)param_1 + 0x1bc), iVar1 == 0x0)) {
		uVar3 = 0x0;
	}
	else {
		puVar2 = GetDataAt_0x31B4B8();
		uVar3 = FUN_00205cb8((int)puVar2, (int *)(iVar1 + 0x20));
	}
	return uVar3;
}



void FUN_00282980(void)

{
	FUN_00281ff0(0x1, 0xffff);
	return;
}



int FUN_002829a0(int param_1, int param_2, int param_3, undefined8 param_4, undefined4 *param_5)

{
	ushort uVar1;
	ushort uVar2;
	undefined4 *puVar3;
	float *pfVar4;
	int iVar5;
	ulong uVar6;
	long lVar7;
	undefined4 *puVar8;
	undefined4 *puVar9;
	int iVar10;
	ulong uVar11;
	float fVar12;
	float fVar13;
	float local_a0;
	float local_9c;
	float local_98;
	float local_90;
	float local_8c;
	float local_88;
	Vector4 local_80;
	int local_70;
	undefined4 *local_6c;
	int local_68;
	undefined4 *local_64;

	iVar10 = 0x0;
	uVar1 = *(ushort *)(param_1 + 0x8);
	uVar6 = (ulong)uVar1;
	local_70 = param_2;
	local_6c = param_5;
	puVar8 = (undefined4 *)FUN_00201088(param_1);
	uVar2 = *(ushort *)(param_3 + 0x8);
	uVar11 = (ulong)uVar2;
	puVar9 = (undefined4 *)FUN_00201088(param_3);
	puVar3 = local_6c;
	if (uVar1 != 0x0) {
		do {
			iVar10 += 0x1;
			FUN_0018ec48((long)local_70, puVar8, puVar3);
			puVar8 = puVar8 + 0x4;
			puVar3[0x3] = 0x0;
			uVar6 = SEXT48((int)uVar6 + -0x1);
			puVar3 = puVar3 + 0x4;
		} while (uVar6 != 0x0);
	}
	if (uVar2 != 0x0) {
		puVar3 = local_6c + iVar10 * 0x4;
		do {
			iVar10 += 0x1;
			FUN_0018ec48(param_4, puVar9, puVar3);
			puVar9 = puVar9 + 0x4;
			puVar3[0x3] = 0x1;
			uVar11 = SEXT48((int)uVar11 + -0x1);
			puVar3 = puVar3 + 0x4;
		} while (uVar11 != 0x0);
	}
	uVar1 = *(ushort *)(param_1 + 0x6);
	local_68 = FUN_00201078(param_1);
	lVar7 = 0x0;
	uVar2 = *(ushort *)(param_3 + 0x6);
	local_64 = (undefined4 *)FUN_00201078(param_3);
	if (uVar1 != 0x0) {
		do {
			iVar5 = (int)lVar7;
			lVar7 = (long)(iVar5 + 0x1);
			FUN_0018ec48((long)local_70, (undefined4 *)(local_68 + iVar5 * 0x10), &local_a0);
			if (uVar2 != 0x0) {
				fVar13 = 1.00000000;
				pfVar4 = (float *)(local_6c + iVar10 * 0x4);
				uVar6 = (ulong)uVar2;
				puVar3 = local_64;
				do {
					FUN_0018ec48(param_4, puVar3, &local_90);
					local_80.x = local_9c * local_88 - local_98 * local_8c;
					local_80.z = local_a0 * local_8c - local_9c * local_90;
					local_80.y = local_98 * local_90 - local_a0 * local_88;
					local_80.w = fVar13;
					if (0.00000001 <
						local_80.x * local_80.x + local_80.y * local_80.y + local_80.z * local_80.z) {
						iVar10 += 0x1;
						fVar12 = RSQRT(0.00000000, &local_80);
						local_80.x = local_80.x * fVar12;
						local_80.y = local_80.y * fVar12;
						local_80.z = local_80.z * fVar12;
						*pfVar4 = local_80.x;
						pfVar4[0x1] = local_80.y;
						pfVar4[0x2] = local_80.z;
						pfVar4[0x3] = local_80.w;
						pfVar4[0x3] = 0.00000000;
						pfVar4 = pfVar4 + 0x4;
					}
					uVar6 = SEXT48((int)uVar6 + -0x1);
					puVar3 = puVar3 + 0x4;
				} while (uVar6 != 0x0);
			}
		} while (lVar7 < (long)(ulong)uVar1);
	}
	return iVar10;
}



int FUN_00282c30(undefined8 *param_1, int param_2, long param_3, float *param_4)

{
	bool bVar1;
	ushort uVar2;
	undefined8 uVar3;
	int iVar4;
	float fVar5;
	float *pfVar6;
	ulong uVar7;
	long lVar8;
	undefined8 *puVar9;
	float *pfVar10;
	int iVar11;
	float fVar12;
	float local_c0[0x6];
	float local_a8;
	undefined4 uStack164;
	float local_a0;
	float fStack156;
	float local_98;
	undefined4 uStack148;
	Vector4 local_90;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 uStack116;
	float *local_70;
	int local_6c;

	iVar4 = 0x1;
	do {
		bVar1 = iVar4 != -0x1;
		iVar4 += -0x1;
	} while (bVar1);
	local_c0[3] = *(undefined4 *)((int)param_1 + 0x1c);
	uStack164 = *(undefined4 *)((int)param_1 + 0x2c);
	iVar11 = 0x1;
	local_c0[0] = *(float *)(param_1 + 0x2) - *(float *)param_1;
	local_c0[1] = *(float *)((int)param_1 + 0x14) - *(float *)((int)param_1 + 0x4);
	local_c0[2] = *(float *)(param_1 + 0x3) - *(float *)(param_1 + 0x1);
	local_c0[4] = *(float *)(param_1 + 0x4) - *(float *)(param_1 + 0x2);
	local_c0[5] = *(float *)((int)param_1 + 0x24) - *(float *)((int)param_1 + 0x14);
	uStack148 = *(undefined4 *)((int)param_1 + 0xc);
	local_a8 = *(float *)(param_1 + 0x5) - *(float *)(param_1 + 0x3);
	local_90.z = local_c0[0] * local_c0[5] - local_c0[1] * local_c0[4];
	local_a0 = (float)*param_1 - *(float *)(param_1 + 0x4);
	local_90.x = local_c0[1] * local_a8 - local_c0[2] * local_c0[5];
	local_90.y = local_c0[2] * local_c0[4] - local_c0[0] * local_a8;
	fStack156 = (float)((ulong)*param_1 >> 0x20) - *(float *)((int)param_1 + 0x24);
	local_98 = *(float *)(param_1 + 0x1) - *(float *)(param_1 + 0x5);
	local_90.w = 1.00000000;
	local_70 = param_4;
	fVar12 = RSQRT(0.00000000, &local_90);
	local_90.x = local_90.x * fVar12;
	local_90.y = local_90.y * fVar12;
	local_90.z = local_90.z * fVar12;
	*local_70 = local_90.x;
	local_70[0x1] = local_90.y;
	local_70[0x2] = local_90.z;
	local_70[0x3] = local_90.w;
	local_70[0x3] = 0.00000000;
	uVar2 = *(ushort *)(param_2 + 0x8);
	uVar7 = (ulong)uVar2;
	puVar9 = (undefined8 *)FUN_00201088(param_2);
	iVar4 = 0x1;
	pfVar6 = local_70;
	if (uVar2 != 0x0) {
		do {
			pfVar10 = pfVar6 + 0x4;
			uVar3 = *puVar9;
			fVar12 = *(float *)(puVar9 + 0x1);
			fVar5 = *(float *)((int)puVar9 + 0xc);
			*pfVar10 = (float)uVar3;
			pfVar6[0x5] = (float)((ulong)uVar3 >> 0x20);
			pfVar6[0x6] = fVar12;
			pfVar6[0x7] = fVar5;
			if (param_3 != 0x0) {
				FUN_0018ec48(param_3, pfVar10, pfVar10);
			}
			pfVar6[0x7] = 0.00000000;
			iVar11 += 0x1;
			uVar7 = SEXT48((int)uVar7 + -0x1);
			puVar9 = puVar9 + 0x2;
			iVar4 = iVar11;
			pfVar6 = pfVar10;
		} while (uVar7 != 0x0);
	}
	lVar8 = 0x0;
	uVar2 = *(ushort *)(param_2 + 0x6);
	local_6c = FUN_00201078(param_2);
	if (uVar2 != 0x0) {
		do {
			puVar9 = (undefined8 *)((int)lVar8 * 0x10 + local_6c);
			local_80 = (float)*puVar9;
			fStack124 = (float)((ulong)*puVar9 >> 0x20);
			local_78 = *(float *)(puVar9 + 0x1);
			uStack116 = *(undefined4 *)((int)puVar9 + 0xc);
			if (param_3 != 0x0) {
				FUN_0018ec48(param_3, &local_80, &local_80);
			}
			lVar8 = (long)((int)lVar8 + 0x1);
			fVar12 = 1.00000000;
			pfVar10 = local_70 + iVar4 * 0x4;
			iVar11 = 0x2;
			pfVar6 = local_c0;
			do {
				local_90.x = pfVar6[0x1] * local_78 - pfVar6[0x2] * fStack124;
				local_90.y = pfVar6[0x2] * local_80 - *pfVar6 * local_78;
				local_90.z = *pfVar6 * fStack124 - pfVar6[0x1] * local_80;
				local_90.w = fVar12;
				if (0.00000001 < local_90.x * local_90.x + local_90.y * local_90.y + local_90.z * local_90.z
					) {
					iVar4 += 0x1;
					fVar5 = RSQRT(0.00000000, &local_90);
					local_90.x = local_90.x * fVar5;
					local_90.y = local_90.y * fVar5;
					local_90.z = local_90.z * fVar5;
					*pfVar10 = local_90.x;
					pfVar10[0x1] = local_90.y;
					pfVar10[0x2] = local_90.z;
					pfVar10[0x3] = local_90.w;
					pfVar10[0x3] = 0.00000000;
					pfVar10 = pfVar10 + 0x4;
				}
				iVar11 += -0x1;
				pfVar6 = pfVar6 + 0x4;
			} while (-0x1 < iVar11);
		} while (lVar8 < (long)(ulong)uVar2);
	}
	return iVar4;
}



undefined8
FUN_00282fd0(ushort *param_1, undefined8 *param_2, ushort *param_3, undefined8 param_4, float *param_5,
	float *param_6)

{
	undefined *puVar1;
	ushort uVar2;
	ushort uVar3;
	int iVar4;
	undefined8 uVar5;
	uint uVar6;
	undefined4 uVar7;
	float fVar8;
	undefined4 uVar9;
	float fVar10;
	int iVar11;
	undefined8 *puVar12;
	undefined8 local_60;
	int iVar13;
	undefined8 *puVar14;
	undefined8 *puVar15;
	undefined8 *puVar16;
	undefined auStack9072[0x200];
	undefined8 auStack8560[0x200];
	undefined8 auStack4464[0x204];
	undefined8 uStack336;
	undefined8 uStack328;
	undefined8 uStack320;
	undefined8 uStack312;
	undefined8 *local_130;
	float local_12c;
	float local_128;
	undefined8 *local_124;
	undefined8 *local_120;
	float local_11c;
	undefined8 *local_118;
	undefined *local_114;
	undefined4 local_110;
	undefined4 uStack268;
	undefined4 uStack264;
	undefined4 uStack260;
	undefined4 local_100;
	undefined4 uStack252;
	undefined4 uStack248;
	undefined4 uStack244;
	undefined4 local_f0;
	undefined4 uStack236;
	undefined4 uStack232;
	undefined4 uStack228;
	float local_e0;
	float fStack220;
	float local_d8;
	undefined4 uStack212;
	float local_d0;
	float local_cc;
	float local_c8;
	undefined4 local_c4;
	float afStack192[0x4];
	float afStack176[0x4];
	float afStack160[0x4];
	float local_90;
	float local_8c;
	float local_88;
	undefined4 local_84;
	ushort *local_80;
	undefined8 *local_7c;
	ushort *local_78;
	float *local_74;
	undefined8 *local_70;
	int local_6c;

	local_70 = auStack4464;
	uVar2 = *param_3;
	uVar3 = *param_1;
	local_130 = param_2;
	local_80 = param_1;
	local_7c = param_2;
	local_78 = param_3;
	local_74 = param_6;
	local_12c = (float)FUN_00201050((int)param_1, 0x0);
	local_128 = (float)(uint)uVar3;
	iVar4 = (int)local_128 * (uint)uVar2;
	puVar14 = (undefined8 *)param_4;
	local_124 = puVar14;
	puVar16 = (undefined8 *)FUN_00201050((int)local_78, 0x0);
	local_120 = puVar16;
	local_11c = (float)(uint)uVar2;
	local_118 = auStack8560;
	local_114 = auStack9072;
	uStack336 = CONCAT44(local_12c, local_130);
	uStack328 = CONCAT44(local_124, local_128);
	uStack320 = (ulong)CONCAT24(uVar2, puVar16);
	uStack312 = CONCAT44(auStack9072, auStack8560);
	puVar1 = &uStack336 + 0x7;
	uVar6 = (uint)puVar1 & 0x7;
	*(ulong *)(puVar1 + -uVar6) =
		*(ulong *)(puVar1 + -uVar6) & -0x1 << (uVar6 + 0x1) * 0x8 | uStack336 >> (0x7 - uVar6) * 0x8;
	puVar1 = &uStack328 + 0x7;
	uVar6 = (uint)puVar1 & 0x7;
	*(ulong *)(puVar1 + -uVar6) =
		*(ulong *)(puVar1 + -uVar6) & -0x1 << (uVar6 + 0x1) * 0x8 | uStack328 >> (0x7 - uVar6) * 0x8;
	puVar1 = &uStack320 + 0x7;
	uVar6 = (uint)puVar1 & 0x7;
	*(ulong *)(puVar1 + -uVar6) =
		*(ulong *)(puVar1 + -uVar6) & -0x1 << (uVar6 + 0x1) * 0x8 |
		(ulong)(CONCAT24(uVar2, puVar16) >> (0x7 - uVar6) * 0x8);
	puVar1 = &uStack312 + 0x7;
	uVar6 = (uint)puVar1 & 0x7;
	*(ulong *)(puVar1 + -uVar6) =
		*(ulong *)(puVar1 + -uVar6) & -0x1 << (uVar6 + 0x1) * 0x8 | uStack312 >> (0x7 - uVar6) * 0x8;
	FUN_0029345c(&uStack336);
	uVar6 = FUN_002829a0((int)local_80, (int)local_7c, (int)local_78, param_4, (undefined4 *)local_70);
	if (((uVar6 & 0x3) != 0x0) && (iVar11 = 0x4 - (uVar6 & 0x3), 0x0 < iVar11)) {
		puVar12 = local_70 + uVar6 * 0x2;
		puVar16 = puVar12;
		do {
			uVar5 = puVar12[-0x2];
			uVar7 = *(undefined4 *)(puVar12 + -0x1);
			uVar9 = *(undefined4 *)((int)puVar12 + -0x4);
			iVar11 += -0x1;
			*(int *)puVar16 = (int)uVar5;
			*(undefined4 *)((int)puVar16 + 0x4) = (int)((ulong)uVar5 >> 0x20);
			*(undefined4 *)(puVar16 + 0x1) = uVar7;
			*(undefined4 *)((int)puVar16 + 0xc) = uVar9;
			puVar16 = puVar16 + 0x2;
		} while (iVar11 != 0x0);
	}
	puVar16 = (undefined8 *)0xf149f2ca;
	local_6c = -0x1;
	iVar13 = 0x0;
	iVar11 = iVar4 + 0x3;
	if (-0x1 < iVar4) {
		iVar11 = iVar4;
	}
	FUN_00293540(auStack8560, iVar11 >> 0x2);
	puVar12 = local_70;
	if (0x0 < (int)uVar6) {
		do {
			if (iVar4 == 0x40) {
				FUN_00293624(auStack8560, puVar12, &local_120);
			}
			else {
				FUN_0029359c();
			}
			if (0.00000000 < (float)local_120) {
				return 0x0;
			}
			if (local_11c < 0.00000000) {
				return 0x0;
			}
			puVar12 = (undefined8 *)local_60;
			if ((float)puVar16 < (float)local_120) {
				uVar5 = *puVar12;
				fVar8 = *(float *)(puVar12 + 0x1);
				fVar10 = *(float *)((int)puVar12 + 0xc);
				local_130 = (undefined8 *)-*(float *)puVar12;
				*param_5 = (float)uVar5;
				param_5[0x1] = (float)((ulong)uVar5 >> 0x20);
				param_5[0x2] = fVar8;
				param_5[0x3] = fVar10;
				local_12c = -*(float *)((int)puVar12 + 0x4);
				local_128 = -*(float *)(puVar12 + 0x1);
				*param_5 = *param_5 * (float)local_120;
				param_5[0x1] = param_5[0x1] * (float)local_120;
				param_5[0x2] = param_5[0x2] * (float)local_120;
				local_124 = local_120;
				puVar16 = local_120;
				local_6c = iVar13;
			}
			puVar15 = (undefined8 *)-local_11c;
			iVar11 = iVar13 + 0x1;
			if ((float)puVar16 < (float)puVar15) {
				uVar5 = *puVar12;
				fVar8 = *(float *)(puVar12 + 0x1);
				fVar10 = *(float *)((int)puVar12 + 0xc);
				local_130 = *(undefined8 **)puVar12;
				*param_5 = (float)uVar5;
				param_5[0x1] = (float)((ulong)uVar5 >> 0x20);
				param_5[0x2] = fVar8;
				param_5[0x3] = fVar10;
				local_12c = *(float *)((int)puVar12 + 0x4);
				local_128 = *(float *)(puVar12 + 0x1);
				*param_5 = *param_5 * local_11c;
				param_5[0x1] = param_5[0x1] * local_11c;
				param_5[0x2] = param_5[0x2] * local_11c;
				puVar16 = puVar15;
				iVar11 = iVar13 + 0x2;
				local_124 = puVar15;
				local_6c = iVar13 + 0x1;
			}
			iVar13 = iVar11;
			puVar12 = puVar12 + 0x2;
		} while (iVar11 < (int)uVar6);
	}
	local_118 = (undefined8 *)local_128;
	local_120 = local_130;
	local_11c = local_12c;
	local_114 = (undefined *)0x3f800000;
	uStack212 = *(undefined4 *)((int)puVar14 + 0x3c);
	uStack232 = *(undefined4 *)(puVar14 + 0x5);
	uStack228 = *(undefined4 *)((int)puVar14 + 0x2c);
	uStack248 = *(undefined4 *)(puVar14 + 0x3);
	uStack244 = *(undefined4 *)((int)puVar14 + 0x1c);
	local_e0 = (float)puVar14[0x6] + *param_5;
	uStack264 = *(undefined4 *)(puVar14 + 0x1);
	uStack260 = *(undefined4 *)((int)puVar14 + 0xc);
	local_100 = (undefined4)puVar14[0x2];
	uStack252 = (undefined4)((ulong)puVar14[0x2] >> 0x20);
	local_110 = (undefined4)*puVar14;
	uStack268 = (undefined4)((ulong)*puVar14 >> 0x20);
	local_f0 = (undefined4)puVar14[0x4];
	uStack236 = (undefined4)((ulong)puVar14[0x4] >> 0x20);
	fStack220 = (float)((ulong)puVar14[0x6] >> 0x20) + param_5[0x1];
	local_d8 = *(float *)(puVar14 + 0x7) + param_5[0x2];
	iVar4 = *(int *)((int)local_70 + local_6c * 0x10 + 0xc);
	if (iVar4 == 0x0) {
		local_d0 = -(float)local_130;
		local_cc = -local_12c;
		local_c8 = -local_128;
		local_c4 = 0x3f800000;
		FUN_00200dd8(local_78, (long)(int)&local_110, &local_d0, local_74);
	}
	else {
		if (iVar4 == 0x1) {
			FUN_00200dd8(local_80, (long)(int)local_7c, (float *)&local_120, local_74);
		}
		else {
			if (iVar4 == 0x2) {
				FUN_00200ec0((int)local_80, (long)(int)local_7c, (float *)&local_120, &local_d0, afStack192);
				local_90 = -(float)local_120;
				local_8c = -local_11c;
				local_88 = -(float)local_118;
				local_84 = 0x3f800000;
				FUN_00200ec0((int)local_78, (long)(int)&local_110, &local_90, afStack176, afStack160);
				FUN_00283e98((long)(int)&local_d0, (long)(int)afStack192, afStack176, afStack160, local_74);
			}
		}
	}
	return 0x1;
}



undefined4
FUN_00283470(undefined8 param_1, ushort *param_2, long param_3, float *param_4, float *param_5)

{
	undefined *puVar1;
	ushort uVar2;
	int iVar3;
	Matrix4x4 *pMVar4;
	uint uVar5;
	undefined4 *puVar6;
	ulong uVar7;
	undefined8 uVar8;
	undefined4 uVar9;
	undefined4 uVar10;
	float fVar11;
	undefined8 *puVar12;
	undefined8 uVar13;
	undefined8 *puVar14;
	undefined8 local_60;
	int iVar15;
	long lVar16;
	undefined8 *puVar17;
	Matrix4x4 *pMVar18;
	float fVar19;
	float fVar20;
	float fVar21;
	Matrix4x4 *pMVar22;
	float fVar23;
	float fVar24;
	undefined auStack9136[0x200];
	undefined8 auStack8624[0x200];
	undefined8 auStack4528[0x200];
	float local_1b0;
	float local_1ac;
	float local_1a8;
	Matrix4x4 MStack400;
	undefined8 uStack336;
	undefined8 uStack328;
	undefined8 uStack320;
	undefined8 uStack312;
	Matrix4x4 *local_130;
	undefined8 *local_12c;
	float local_128;
	Matrix4x4 *local_124;
	Matrix4x4 *local_120;
	undefined8 *local_11c;
	undefined8 *local_118;
	undefined *local_114;
	undefined4 local_110;
	undefined4 uStack268;
	float fStack264;
	float fStack260;
	undefined4 local_100;
	undefined4 uStack252;
	float fStack248;
	float fStack244;
	undefined4 local_f0;
	undefined4 uStack236;
	float fStack232;
	float fStack228;
	float local_e0;
	float fStack220;
	float local_d8;
	float fStack212;
	float local_d0;
	float fStack204;
	float local_c8;
	undefined4 local_c4;
	float local_c0;
	float fStack188;
	float local_b8;
	undefined4 local_b4;
	float afStack176[0x4];
	float afStack160[0x4];
	float local_90;
	float local_8c;
	float local_88;
	float local_80;
	float local_7c;
	float local_78;
	undefined4 local_74;
	undefined8 *local_70;
	undefined8 *local_6c;
	int local_68;
	int local_64;

	local_70 = auStack8624;
	local_6c = auStack4528;
	puVar17 = (undefined8 *)param_1;
	FUN_0018d830(&local_1b0, param_1, puVar17 + 0x2, puVar17 + 0x4);
	iVar3 = FUN_00200b70(param_2, param_3, &local_1b0);
	uVar9 = 0x0;
	if (iVar3 == 0x0) {
		pMVar22 = (Matrix4x4 *)0xf149f2ca;
		*param_5 = -1000000015047466219876688855040.00000000;
		local_68 = -0x1;
		param_5[0x3] = 1.00000000;
		param_5[0x1] = -1000000015047466219876688855040.00000000;
		param_5[0x2] = -1000000015047466219876688855040.00000000;
		uVar2 = *param_2;
		InitIdentityMatrix(&MStack400);
		local_130 = &MStack400;
		local_128 = 0.00000000;
		pMVar18 = (Matrix4x4 *)param_3;
		iVar3 = (uint)uVar2 * 0x3;
		local_12c = puVar17;
		local_124 = pMVar18;
		pMVar4 = (Matrix4x4 *)FUN_00201050((int)param_2, 0x0);
		local_120 = pMVar4;
		local_118 = local_70;
		local_11c = (undefined8 *)(uint)uVar2;
		local_114 = auStack9136;
		uStack336 = CONCAT44(local_12c, local_130);
		uStack328 = CONCAT44(local_124, local_128);
		uStack320 = (ulong)CONCAT24(uVar2, pMVar4);
		uStack312 = CONCAT44(auStack9136, local_70);
		puVar1 = &uStack336 + 0x7;
		uVar5 = (uint)puVar1 & 0x7;
		*(ulong *)(puVar1 + -uVar5) =
			*(ulong *)(puVar1 + -uVar5) & -0x1 << (uVar5 + 0x1) * 0x8 |
			uStack336 >> (0x7 - uVar5) * 0x8;
		puVar1 = &uStack328 + 0x7;
		uVar5 = (uint)puVar1 & 0x7;
		*(ulong *)(puVar1 + -uVar5) =
			*(ulong *)(puVar1 + -uVar5) & -0x1 << (uVar5 + 0x1) * 0x8 |
			uStack328 >> (0x7 - uVar5) * 0x8;
		puVar1 = &uStack320 + 0x7;
		uVar5 = (uint)puVar1 & 0x7;
		*(ulong *)(puVar1 + -uVar5) =
			*(ulong *)(puVar1 + -uVar5) & -0x1 << (uVar5 + 0x1) * 0x8 |
			(ulong)(CONCAT24(uVar2, pMVar4) >> (0x7 - uVar5) * 0x8);
		puVar1 = &uStack312 + 0x7;
		uVar5 = (uint)puVar1 & 0x7;
		*(ulong *)(puVar1 + -uVar5) =
			*(ulong *)(puVar1 + -uVar5) & -0x1 << (uVar5 + 0x1) * 0x8 |
			uStack312 >> (0x7 - uVar5) * 0x8;
		FUN_0029345c(&uStack336);
		uVar5 = FUN_00282c30(puVar17, (int)param_2, param_3, (float *)local_6c);
		local_64 = iVar3 + 0x3;
		if (local_68 < iVar3) {
			local_64 = iVar3;
		}
		local_64 >>= 0x2;
		FUN_00293540(local_70, local_64);
		if (((uVar5 & 0x3) != 0x0) && (iVar3 = 0x4 - (uVar5 & 0x3), 0x0 < iVar3)) {
			puVar14 = local_6c + uVar5 * 0x2;
			puVar12 = puVar14;
			do {
				uVar8 = puVar14[-0x2];
				uVar9 = *(undefined4 *)(puVar14 + -0x1);
				uVar10 = *(undefined4 *)((int)puVar14 + -0x4);
				iVar3 += -0x1;
				*(int *)puVar12 = (int)uVar8;
				*(undefined4 *)((int)puVar12 + 0x4) = (int)((ulong)uVar8 >> 0x20);
				*(undefined4 *)(puVar12 + 0x1) = uVar9;
				*(undefined4 *)((int)puVar12 + 0xc) = uVar10;
				puVar12 = puVar12 + 0x2;
			} while (iVar3 != 0x0);
		}
		if (0x0 < (int)uVar5) {
			fVar24 = 0.00000000;
			iVar3 = 0x0;
			puVar12 = local_6c;
			do {
				FUN_0029359c(local_70, local_64, puVar12, &local_120);
				if (fVar24 < (float)local_120) {
					return 0x0;
				}
				if ((float)local_11c < fVar24) {
					return 0x0;
				}
				puVar12 = (undefined8 *)local_60;
				if ((float)pMVar22 < (float)local_120) {
					uVar8 = *puVar12;
					fVar19 = *(float *)(puVar12 + 0x1);
					fVar11 = *(float *)((int)puVar12 + 0xc);
					local_130 = (Matrix4x4 *)-*(float *)puVar12;
					*param_4 = (float)uVar8;
					param_4[0x1] = (float)((ulong)uVar8 >> 0x20);
					param_4[0x2] = fVar19;
					param_4[0x3] = fVar11;
					local_12c = (undefined8 *)-*(float *)((int)puVar12 + 0x4);
					local_128 = -*(float *)(puVar12 + 0x1);
					*param_4 = *param_4 * (float)local_120;
					param_4[0x1] = param_4[0x1] * (float)local_120;
					param_4[0x2] = param_4[0x2] * (float)local_120;
					local_124 = local_120;
					pMVar22 = local_120;
					local_68 = iVar3;
				}
				pMVar4 = (Matrix4x4 *)-(float)local_11c;
				iVar15 = iVar3 + 0x1;
				if ((float)pMVar22 < (float)pMVar4) {
					uVar8 = *puVar12;
					fVar19 = *(float *)(puVar12 + 0x1);
					fVar11 = *(float *)((int)puVar12 + 0xc);
					local_130 = *(Matrix4x4 **)puVar12;
					*param_4 = (float)uVar8;
					param_4[0x1] = (float)((ulong)uVar8 >> 0x20);
					param_4[0x2] = fVar19;
					param_4[0x3] = fVar11;
					local_12c = *(undefined8 **)((int)puVar12 + 0x4);
					local_128 = *(float *)(puVar12 + 0x1);
					*param_4 = *param_4 * (float)local_11c;
					param_4[0x1] = param_4[0x1] * (float)local_11c;
					param_4[0x2] = param_4[0x2] * (float)local_11c;
					pMVar22 = pMVar4;
					iVar15 = iVar3 + 0x2;
					local_124 = pMVar4;
					local_68 = iVar3 + 0x1;
				}
				puVar12 = puVar12 + 0x2;
				iVar3 = iVar15;
			} while (iVar15 < (int)uVar5);
		}
		local_118 = (undefined8 *)local_128;
		local_120 = local_130;
		local_11c = local_12c;
		local_114 = (undefined *)0x3f800000;
		puVar12 = local_6c + local_68 * 0x2;
		fStack212 = (pMVar18->wComponents).w;
		fStack232 = (pMVar18->zComponents).z;
		fStack228 = (pMVar18->zComponents).w;
		fStack264 = (pMVar18->xComponents).z;
		fStack260 = (pMVar18->xComponents).w;
		local_e0 = (float)*(undefined8 *)&pMVar18->wComponents + *param_4;
		fStack248 = (pMVar18->yComponents).z;
		fStack244 = (pMVar18->yComponents).w;
		local_110 = (undefined4)*(undefined8 *)&pMVar18->xComponents;
		uStack268 = (undefined4)((ulong)*(undefined8 *)&pMVar18->xComponents >> 0x20);
		local_100 = (undefined4)*(undefined8 *)&pMVar18->yComponents;
		uStack252 = (undefined4)((ulong)*(undefined8 *)&pMVar18->yComponents >> 0x20);
		local_f0 = (undefined4)*(undefined8 *)&pMVar18->zComponents;
		uStack236 = (undefined4)((ulong)*(undefined8 *)&pMVar18->zComponents >> 0x20);
		fStack220 = (float)((ulong)*(undefined8 *)&pMVar18->wComponents >> 0x20) + param_4[0x1];
		local_d8 = (pMVar18->wComponents).z + param_4[0x2];
		if (*(int *)((int)puVar12 + 0xc) == 0x0) {
			FUN_0018d830(&local_1b0, param_1, puVar17 + 0x2, puVar17 + 0x4);
			local_c0 = -(float)local_120;
			fStack188 = -(float)local_11c;
			local_b8 = -(float)local_118;
			local_d0 = local_1b0;
			fStack204 = local_1ac;
			local_c8 = local_1a8;
			local_c4 = 0x3f800000;
			local_b4 = 0x3f800000;
			FUN_00200dd8(param_2, (long)(int)&local_110, &local_c0, param_5);
		}
		if (*(int *)((int)puVar12 + 0xc) == 0x1) {
			fVar24 = 1000000015047466219876688855040.00000000;
			lVar16 = 0x0;
			if (param_2[0x2] != 0x0) {
				do {
					puVar6 = (undefined4 *)FUN_00201060((int)param_2, (int)lVar16);
					FUN_0018daa0(puVar6, (long)(int)&local_110, &local_d0);
					local_c0 = local_d0;
					fStack188 = fStack204;
					local_b8 = local_c8;
					local_b4 = 0x3f800000;
					fVar19 = (float)local_120 * local_d0 + (float)local_11c * fStack204 +
						(float)local_118 * local_c8;
					uVar7 = (ulong)param_2[0x2];
					if (fVar19 < fVar24) {
						uVar8 = *puVar17;
						fVar24 = *(float *)(puVar17 + 0x1);
						fVar11 = *(float *)((int)puVar17 + 0xc);
						fVar21 = *(float *)puVar17;
						fVar20 = *(float *)((int)puVar17 + 0x4);
						fVar23 = *(float *)(puVar17 + 0x1);
						*param_5 = (float)uVar8;
						param_5[0x1] = (float)((ulong)uVar8 >> 0x20);
						param_5[0x2] = fVar24;
						param_5[0x3] = fVar11;
						pMVar22 = (Matrix4x4 *)
							(fVar21 * (float)local_120 + fVar20 * (float)local_11c +
								fVar23 * (float)local_118);
						if ((float)pMVar22 <
							*(float *)(puVar17 + 0x2) * (float)local_120 +
							*(float *)((int)puVar17 + 0x14) * (float)local_11c +
							*(float *)(puVar17 + 0x3) * (float)local_118) {
							uVar8 = puVar17[0x2];
							fVar24 = *(float *)(puVar17 + 0x3);
							fVar11 = *(float *)((int)puVar17 + 0x1c);
							*param_5 = (float)uVar8;
							param_5[0x1] = (float)((ulong)uVar8 >> 0x20);
							param_5[0x2] = fVar24;
							param_5[0x3] = fVar11;
							pMVar22 = local_120;
						}
						uVar7 = (ulong)param_2[0x2];
						fVar24 = fVar19;
						if ((float)pMVar22 <
							*(float *)(puVar17 + 0x4) * (float)local_120 +
							*(float *)((int)puVar17 + 0x24) * (float)local_11c +
							*(float *)(puVar17 + 0x5) * (float)local_118) {
							uVar8 = puVar17[0x4];
							fVar19 = *(float *)(puVar17 + 0x5);
							fVar11 = *(float *)((int)puVar17 + 0x2c);
							*param_5 = (float)uVar8;
							param_5[0x1] = (float)((ulong)uVar8 >> 0x20);
							param_5[0x2] = fVar19;
							param_5[0x3] = fVar11;
							uVar7 = (ulong)param_2[0x2];
						}
					}
					lVar16 = (long)((int)lVar16 + 0x1);
				} while (lVar16 < (long)uVar7);
			}
			iVar3 = *(int *)((int)puVar12 + 0xc);
		}
		else {
			iVar3 = *(int *)((int)puVar12 + 0xc);
		}
		uVar9 = 0x1;
		if (iVar3 == 0x2) {
			local_90 = *(float *)puVar17 * (float)local_120 +
				*(float *)((int)puVar17 + 0x4) * (float)local_11c +
				*(float *)(puVar17 + 0x1) * (float)local_118;
			local_8c = *(float *)(puVar17 + 0x2) * (float)local_120 +
				*(float *)((int)puVar17 + 0x14) * (float)local_11c +
				*(float *)(puVar17 + 0x3) * (float)local_118;
			local_88 = *(float *)(puVar17 + 0x4) * (float)local_120 +
				*(float *)((int)puVar17 + 0x24) * (float)local_11c +
				*(float *)(puVar17 + 0x5) * (float)local_118;
			if ((local_8c <= local_90) || (local_88 <= local_90)) {
				if (local_8c < local_90) {
					uVar8 = puVar17[0x2];
					local_b8 = *(float *)(puVar17 + 0x3);
					local_b4 = *(undefined4 *)((int)puVar17 + 0x1c);
					if (local_8c < local_88) {
						uVar8 = puVar17[0x4];
						local_b8 = *(float *)(puVar17 + 0x5);
						local_b4 = *(undefined4 *)((int)puVar17 + 0x2c);
					}
				}
				else {
					uVar8 = puVar17[0x2];
					local_b8 = *(float *)(puVar17 + 0x3);
					local_b4 = *(undefined4 *)((int)puVar17 + 0x1c);
				}
				uVar13 = *puVar17;
				local_c8 = *(float *)(puVar17 + 0x1);
				local_c4 = *(undefined4 *)((int)puVar17 + 0xc);
			}
			else {
				uVar8 = puVar17[0x4];
				local_b8 = *(float *)(puVar17 + 0x5);
				local_b4 = *(undefined4 *)((int)puVar17 + 0x2c);
				uVar13 = puVar17[0x2];
				local_c8 = *(float *)(puVar17 + 0x3);
				local_c4 = *(undefined4 *)((int)puVar17 + 0x1c);
			}
			local_c0 = (float)uVar8;
			fStack188 = (float)(int)((ulong)uVar8 >> 0x20);
			local_d0 = (float)uVar13;
			fStack204 = (float)(int)((ulong)uVar13 >> 0x20);
			local_80 = -(float)local_120;
			local_7c = -(float)local_11c;
			local_78 = -(float)local_118;
			local_74 = 0x3f800000;
			FUN_00200ec0((int)param_2, (long)(int)&local_110, &local_80, afStack176, afStack160);
			FUN_00283e98((long)(int)&local_d0, (long)(int)&local_c0, afStack176, afStack160, param_5);
			uVar9 = 0x1;
		}
	}
	return uVar9;
}



int FUN_00283b80(int *param_1, undefined8 *param_2, undefined8 *param_3, float *param_4,
	undefined4 *param_5)

{
	bool bVar1;
	undefined8 uVar2;
	int iVar3;
	undefined4 uVar4;
	undefined4 uVar5;
	undefined8 *puVar6;
	undefined8 *puVar7;
	int iVar8;
	undefined local_80;
	undefined7 uStack127;
	float fStack120;
	float fStack116;
	float local_70;
	float fStack108;
	float local_68;
	float fStack100;
	float local_60;
	float fStack92;
	float local_58;
	float fStack84;

	iVar8 = 0x0;
	local_68 = *(float *)(param_2 + 0x1);
	fStack100 = *(float *)((int)param_2 + 0xc);
	puVar7 = (undefined8 *)param_1[0x1];
	local_70 = (float)*param_2;
	fStack108 = (float)((ulong)*param_2 >> 0x20);
	local_58 = *(float *)(param_3 + 0x1);
	fStack84 = *(float *)((int)param_3 + 0xc);
	local_60 = (float)*param_3;
	fStack92 = (float)((ulong)*param_3 >> 0x20);
	puVar6 = puVar7;
	while ((iVar8 < *param_1 &&
		(iVar3 = FUN_0018d9d0(0.00005000, (float *)puVar6, &local_70), iVar3 != 0x1))) {
		puVar6 = puVar6 + 0x2;
		iVar8 += 0x1;
	}
	if (iVar8 == *param_1) {
		iVar8 = 0x2;
	}
	else {
		iVar8 = 0x0;
		if (0x0 < *param_1) {
			do {
				bVar1 = 0.00001000 <
					*(float *)puVar7 * local_60 + *(float *)((int)puVar7 + 0x4) * fStack92 +
					*(float *)(puVar7 + 0x1) * local_58 + *(float *)((int)puVar7 + 0xc);
				if (*(float *)puVar7 * local_70 + *(float *)((int)puVar7 + 0x4) * fStack108 +
					*(float *)(puVar7 + 0x1) * local_68 + *(float *)((int)puVar7 + 0xc) <= 0.00001000) {
					if (bVar1) {
						FUN_001fcb08((float *)puVar7, &local_70, &local_60, (float *)&local_80);
						local_60 = (float)CONCAT71(uStack127, local_80);
						fStack92 = (float)((uint7)uStack127 >> 0x18);
						local_58 = fStack120;
						fStack84 = fStack116;
					}
				}
				else {
					if (bVar1) {
						return 0x0;
					}
					FUN_001fcb08((float *)puVar7, &local_70, &local_60, (float *)&local_80);
					uVar2 = *puVar7;
					uVar4 = *(undefined4 *)(puVar7 + 0x1);
					uVar5 = *(undefined4 *)((int)puVar7 + 0xc);
					*param_5 = (int)uVar2;
					param_5[0x1] = (int)((ulong)uVar2 >> 0x20);
					param_5[0x2] = uVar4;
					param_5[0x3] = uVar5;
					local_70 = (float)CONCAT71(uStack127, local_80);
					fStack108 = (float)((uint7)uStack127 >> 0x18);
					local_68 = fStack120;
					fStack100 = fStack116;
				}
				iVar8 += 0x1;
				puVar7 = puVar7 + 0x2;
			} while (iVar8 < *param_1);
		}
		iVar8 = 0x1;
		*param_4 = local_70;
		param_4[0x1] = fStack108;
		param_4[0x2] = local_68;
		param_4[0x3] = fStack100;
	}
	return iVar8;
}



undefined4 FUN_00283d60(int *param_1, float *param_2, undefined8 param_3)

{
	undefined4 uVar1;
	float *pfVar2;
	float *pfVar3;
	float *pfVar4;
	int iVar5;
	float fVar6;
	float fVar7;
	float fVar8;

	iVar5 = 0x0;
	fVar6 = 1000000015047466219876688855040.00000000;
	pfVar4 = (float *)0x0;
	pfVar2 = (float *)param_1[0x1];
	if (0x0 < *param_1) {
		fVar7 = fVar6;
		pfVar3 = pfVar4;
		do {
			fVar6 = *pfVar2 * *param_2 + pfVar2[0x1] * param_2[0x1] + pfVar2[0x2] * param_2[0x2] +
				pfVar2[0x3];
			if (-0.00005000 < fVar6) goto LAB_00283e68;
			fVar6 = -fVar6;
			iVar5 += 0x1;
			pfVar4 = pfVar2;
			if (fVar7 <= fVar6) {
				fVar6 = fVar7;
				pfVar4 = pfVar3;
			}
			pfVar2 = pfVar2 + 0x4;
			fVar7 = fVar6;
			pfVar3 = pfVar4;
		} while (iVar5 < *param_1);
	}
	uVar1 = 0x1;
	if (pfVar4 == (float *)0x0) {
	LAB_00283e68:
		MovePositionFromPos2ToPos1((Vector4 *)param_3, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		uVar1 = 0x0;
		((Vector4 *)param_3)->w = 1.00000000;
	}
	else {
		fVar8 = pfVar4[0x2];
		fVar7 = pfVar4[0x1];
		((Vector4 *)param_3)->x = *pfVar4 * fVar6;
		((Vector4 *)param_3)->y = fVar7 * fVar6;
		((Vector4 *)param_3)->z = fVar8 * fVar6;
		((Vector4 *)param_3)->w = 1.00000000;
	}
	return uVar1;
}



// WARNING: Removing unreachable block (ram,0x00284058)

void FUN_00283e98(undefined8 param_1, undefined8 param_2, float *param_3, float *param_4, float *param_5
)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;

	fVar3 = param_4[0x2];
	fVar1 = param_4[0x1];
	fVar5 = param_3[0x1];
	fVar6 = param_3[0x2];
	fVar4 = param_3[0x2];
	fVar2 = param_3[0x1];
	*param_5 = *param_3 + (*param_4 - *param_3) * 1.00000000;
	param_5[0x1] = fVar2 + (fVar1 - fVar5) * 1.00000000;
	param_5[0x2] = fVar4 + (fVar3 - fVar6) * 1.00000000;
	param_5[0x3] = 1.00000000;
	return;
}



undefined4
FUN_002840d8(int *param_1, int param_2, undefined8 param_3, int param_4, undefined8 *param_5, int param_6
)

{
	int iVar1;
	float *pfVar2;
	int iVar3;
	float fVar4;
	float local_60;
	float local_5c;
	Vector4 local_50;

	iVar3 = param_4 + 0x3;
	if (-0x1 < param_4) {
		iVar3 = param_4;
	}
	FUN_00293540((undefined8 *)param_3, iVar3 >> 0x2);
	if (0x0 < param_6) {
		do {
			if (0.00000001 <
				*(float *)param_5 * *(float *)param_5 +
				*(float *)((int)param_5 + 0x4) * *(float *)((int)param_5 + 0x4) +
				*(float *)(param_5 + 0x1) * *(float *)(param_5 + 0x1)) {
				local_50.z = *(float *)(param_5 + 0x1);
				local_50.w = *(float *)((int)param_5 + 0xc);
				local_50.x = (float)*param_5;
				local_50.y = (float)((ulong)*param_5 >> 0x20);
				fVar4 = RSQRT(0.00000000, &local_50);
				local_50.x = local_50.x * fVar4;
				local_50.y = local_50.y * fVar4;
				local_50.z = local_50.z * fVar4;
				FUN_0029359c(param_3, iVar3 >> 0x2, &local_50, &local_60);
				iVar1 = *param_1;
				*param_1 = iVar1 + 0x1;
				pfVar2 = (float *)(iVar1 * 0x10 + param_2);
				pfVar2[0x3] = local_60;
				pfVar2[0x1] = -local_50.y;
				pfVar2[0x2] = -local_50.z;
				*pfVar2 = -local_50.x;
				pfVar2 = (float *)(*param_1 * 0x10 + param_2);
				*param_1 = *param_1 + 0x1;
				pfVar2[0x3] = -local_5c;
				*pfVar2 = local_50.x;
				pfVar2[0x1] = local_50.y;
				pfVar2[0x2] = local_50.z;
			}
			param_6 += -0x1;
			param_5 = param_5 + 0x2;
		} while (param_6 != 0x0);
	}
	return 0x1;
}



undefined4 FUN_00284278(int *param_1, undefined8 *param_2, int param_3)

{
	int iVar1;
	int iVar2;
	void *pvVar3;
	float *pfVar4;
	float *pfVar5;
	float *pfVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	float local_1040[0x400];
	float local_40;
	float local_3c;

	pfVar6 = local_1040;
	FUN_00201050(param_3, 0x0);
	FUN_002936d8();
	iVar2 = FUN_00282c30(param_2, param_3, 0x0, local_1040);
	*param_1 = iVar2 << 0x1;
	MemoryDeallocate2_((void *)param_1[0x1]);
	pvVar3 = MemoryAllocate2((long)(iVar2 << 0x5));
	*param_1 = 0x0;
	*(void **)(param_1 + 0x1) = pvVar3;
	if (0x0 < iVar2) {
		do {
			FUN_002938bc(pfVar6, &local_40);
			iVar2 += -0x1;
			iVar1 = *param_1;
			fVar9 = *pfVar6;
			fVar8 = pfVar6[0x1];
			fVar7 = pfVar6[0x2];
			pfVar4 = (float *)(iVar1 * 0x10 + (int)pvVar3);
			*pfVar4 = -fVar9;
			pfVar4[0x3] = local_40;
			pfVar5 = (float *)((iVar1 + 0x1) * 0x10 + (int)pvVar3);
			pfVar4[0x1] = -fVar8;
			pfVar4[0x2] = -fVar7;
			pfVar6 = pfVar6 + 0x4;
			pfVar5[0x3] = -local_3c;
			*param_1 = iVar1 + 0x2;
			*pfVar5 = fVar9;
			pfVar5[0x1] = fVar8;
			pfVar5[0x2] = fVar7;
		} while (iVar2 != 0x0);
	}
	return 0x1;
}



undefined4 FUN_002843a8(int *param_1, ushort *param_2, int param_3, ushort *param_4, undefined8 param_5)

{
	undefined *puVar1;
	ushort uVar2;
	ushort uVar3;
	uint uVar4;
	int iVar5;
	undefined8 uVar6;
	int iVar7;
	int iVar8;
	void *pvVar9;
	undefined4 uVar10;
	undefined4 uVar11;
	int iVar12;
	int iVar13;
	undefined4 *puVar14;
	undefined auStack8880[0x1f0];
	undefined8 uStack8384;
	undefined4 auStack8376[0x402];
	undefined8 auStack4272[0x204];
	undefined8 uStack144;
	undefined8 uStack136;
	undefined8 uStack128;
	undefined8 uStack120;
	int local_70;
	int local_6c;
	uint local_68;
	undefined4 local_64;
	int local_60;
	uint local_5c;
	undefined4 *local_58;
	undefined *local_54;

	puVar14 = auStack8376 + 0x2;
	uVar2 = *param_2;
	uVar3 = *param_4;
	local_70 = param_3;
	local_6c = FUN_00201050((int)param_2, 0x0);
	local_68 = (uint)uVar2;
	local_64 = (undefined4)param_5;
	iVar5 = local_68 * (uint)uVar3;
	iVar7 = FUN_00201050((int)param_4, 0x0);
	local_60 = iVar7;
	local_5c = (uint)uVar3;
	local_58 = puVar14;
	local_54 = auStack8880;
	uStack144 = CONCAT44(local_6c, local_70);
	uStack136 = CONCAT44(local_64, local_68);
	uStack128 = (ulong)CONCAT24(uVar3, iVar7);
	uStack120 = CONCAT44(auStack8880, puVar14);
	puVar1 = &uStack144 + 0x7;
	uVar4 = (uint)puVar1 & 0x7;
	*(ulong *)(puVar1 + -uVar4) =
		*(ulong *)(puVar1 + -uVar4) & -0x1 << (uVar4 + 0x1) * 0x8 | uStack144 >> (0x7 - uVar4) * 0x8;
	puVar1 = &uStack136 + 0x7;
	uVar4 = (uint)puVar1 & 0x7;
	*(ulong *)(puVar1 + -uVar4) =
		*(ulong *)(puVar1 + -uVar4) & -0x1 << (uVar4 + 0x1) * 0x8 | uStack136 >> (0x7 - uVar4) * 0x8;
	puVar1 = &uStack128 + 0x7;
	uVar4 = (uint)puVar1 & 0x7;
	*(ulong *)(puVar1 + -uVar4) =
		*(ulong *)(puVar1 + -uVar4) & -0x1 << (uVar4 + 0x1) * 0x8 |
		(ulong)(CONCAT24(uVar3, iVar7) >> (0x7 - uVar4) * 0x8);
	puVar1 = &uStack120 + 0x7;
	uVar4 = (uint)puVar1 & 0x7;
	*(ulong *)(puVar1 + -uVar4) =
		*(ulong *)(puVar1 + -uVar4) & -0x1 << (uVar4 + 0x1) * 0x8 | uStack120 >> (0x7 - uVar4) * 0x8;
	FUN_0029345c(&uStack144);
	*param_1 = 0x0;
	iVar7 = FUN_002829a0((int)param_2, param_3, (int)param_4, param_5, (undefined4 *)auStack4272);
	iVar13 = (iVar5 + 0x3U & 0xfffffffc) - iVar5;
	iVar8 = iVar5 + iVar13;
	if (0x0 < iVar13) {
		iVar12 = iVar13;
		do {
			uVar6 = (&uStack8384)[iVar5 * 0x2];
			uVar10 = auStack8376[iVar5 * 0x4];
			uVar11 = auStack8376[iVar5 * 0x4 + 0x1];
			iVar12 += -0x1;
			puVar14[iVar8 * 0x4] = (int)uVar6;
			auStack8376[iVar8 * 0x4 + 0x3] = (int)((ulong)uVar6 >> 0x20);
			auStack8376[iVar8 * 0x4 + 0x4] = uVar10;
			auStack8376[iVar8 * 0x4 + 0x5] = uVar11;
		} while (iVar12 != 0x0);
	}
	*param_1 = iVar7 << 0x1;
	MemoryDeallocate2_((void *)param_1[0x1]);
	pvVar9 = MemoryAllocate2((long)(iVar7 << 0x5));
	*param_1 = 0x0;
	*(void **)(param_1 + 0x1) = pvVar9;
	FUN_002840d8(param_1, (int)pvVar9, (long)(int)puVar14, iVar5 + iVar13, auStack4272, iVar7);
	return 0x1;
}



undefined4 FUN_00284560(float param_1, int param_2, float *param_3, uint param_4)

{
	bool bVar1;
	float *pfVar2;
	int iVar3;
	float *pfVar4;
	int iVar5;
	int *piVar6;
	int *piVar7;
	int iVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float fVar15;

	iVar8 = 0x0;
	if (0x0 < *(int *)(param_2 + 0x1220)) {
		piVar6 = (int *)(param_2 + 0x34);
		piVar7 = (int *)(param_2 + 0x20);
		do {
			if ((piVar6[-0x1] & param_4) == 0x0) {
				iVar3 = *piVar6;
				pfVar4 = (float *)piVar6[-0x4];
				if (((iVar3 < 0x0) || (piVar6[-0x5] <= iVar3)) ||
					(pfVar2 = pfVar4 + iVar3 * 0x4,
						*pfVar2 * *param_3 + pfVar2[0x1] * param_3[0x1] + pfVar2[0x2] * param_3[0x2] +
						pfVar2[0x3] < param_1)) {
					iVar3 = *piVar7;
					iVar5 = 0x0;
					if (0x0 < iVar3) {
						fVar15 = *param_3;
						fVar13 = param_3[0x1];
						fVar14 = param_3[0x2];
						do {
							fVar10 = *pfVar4;
							fVar12 = pfVar4[0x1];
							fVar9 = pfVar4[0x2];
							fVar11 = pfVar4[0x3];
							*piVar6 = iVar5;
							if (param_1 <= fVar10 * fVar15 + fVar12 * fVar13 + fVar9 * fVar14 + fVar11) {
								bVar1 = false;
								goto LAB_00284678;
							}
							iVar5 += 0x1;
							pfVar4 = pfVar4 + 0x4;
						} while (iVar5 < iVar3);
					}
					bVar1 = true;
				}
				else {
					bVar1 = false;
				}
			LAB_00284678:
				if (bVar1) {
					return 0x1;
				}
				iVar3 = *(int *)(param_2 + 0x1220);
			}
			else {
				iVar3 = *(int *)(param_2 + 0x1220);
			}
			iVar8 += 0x1;
			piVar6 = piVar6 + 0x14;
			piVar7 = piVar7 + 0x14;
		} while (iVar8 < iVar3);
	}
	return 0x0;
}



int FUN_002846a8(float param_1, int param_2, float *param_3, uint param_4)

{
	int iVar1;
	bool bVar2;
	float *pfVar3;
	int iVar4;
	float *pfVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float fVar15;

	iVar8 = 0x0;
	iVar7 = 0x0;
	if (0x0 < *(int *)(param_2 + 0x1220)) {
		iVar4 = 0x0;
		do {
			iVar4 += param_2;
			if ((*(uint *)(iVar4 + 0x30) & param_4) == 0x0) {
				iVar1 = *(int *)(iVar4 + 0x34);
				pfVar5 = *(float **)(iVar4 + 0x24);
				if ((iVar1 < 0x0) || (*(int *)(iVar4 + 0x20) <= iVar1)) {
				LAB_00284758:
					iVar1 = *(int *)(iVar4 + 0x20);
					iVar6 = 0x0;
					if (0x0 < iVar1) {
						fVar15 = *param_3;
						fVar13 = param_3[0x1];
						fVar14 = param_3[0x2];
						do {
							fVar10 = *pfVar5;
							fVar12 = pfVar5[0x1];
							fVar9 = pfVar5[0x2];
							fVar11 = pfVar5[0x3];
							*(int *)(iVar4 + 0x34) = iVar6;
							if (param_1 <= fVar10 * fVar15 + fVar12 * fVar13 + fVar9 * fVar14 + fVar11) {
								bVar2 = false;
								goto LAB_002847cc;
							}
							iVar6 += 0x1;
							pfVar5 = pfVar5 + 0x4;
						} while (iVar6 < iVar1);
					}
					bVar2 = true;
				}
				else {
					pfVar3 = pfVar5 + iVar1 * 0x4;
					bVar2 = false;
					if (*pfVar3 * *param_3 + pfVar3[0x1] * param_3[0x1] + pfVar3[0x2] * param_3[0x2] +
						pfVar3[0x3] < param_1) goto LAB_00284758;
				}
			LAB_002847cc:
				if (bVar2) {
					iVar7 = iVar7 + 0x1;
				}
			}
			iVar8 += 0x1;
			iVar4 = iVar8 * 0x50;
		} while (iVar8 < *(int *)(param_2 + 0x1220));
	}
	return iVar7;
}



uint FUN_002847f0(undefined4 *param_1, long param_2, undefined8 param_3, int param_4)

{
	bool bVar1;
	undefined8 uVar2;
	int iVar3;
	undefined *puVar4;
	undefined4 uVar5;
	undefined4 uVar6;
	undefined4 *puVar7;
	undefined8 *puVar8;
	undefined8 *puVar9;

	puVar9 = DAT(0x003c3830);
	iVar3 = FUN_002828b8(param_2, param_3, 0x10, (int)DAT(0x003c3830), 0x20);
	puVar8 = (undefined8 *)param_3;
	uVar2 = *puVar8;
	uVar5 = *(undefined4 *)(puVar8 + 0x1);
	uVar6 = *(undefined4 *)((int)puVar8 + 0xc);
	bVar1 = 0x1f < iVar3;
	*param_1 = (int)uVar2;
	param_1[0x1] = (int)((ulong)uVar2 >> 0x20);
	param_1[0x2] = uVar5;
	param_1[0x3] = uVar6;
	uVar2 = puVar8[0x2];
	uVar5 = *(undefined4 *)(puVar8 + 0x3);
	uVar6 = *(undefined4 *)((int)puVar8 + 0x1c);
	param_1[0x4] = (int)uVar2;
	param_1[0x5] = (int)((ulong)uVar2 >> 0x20);
	param_1[0x6] = uVar5;
	param_1[0x7] = uVar6;
	if (bVar1) {
		iVar3 = 0x20;
	}
	if (0x0 < iVar3) {
		do {
			puVar4 = FUN_00282680((int)puVar9);
			if ((*(ulong *)(puVar4 + 0x8) >> 0x14 & 0x1) == 0x0) {
				param_1[param_1[0x90c] * 0x14 + 0x48e] = 0x0;
				uVar2 = *puVar9;
				uVar5 = *(undefined4 *)(puVar9 + 0x1);
				uVar6 = *(undefined4 *)((int)puVar9 + 0xc);
				puVar7 = param_1 + param_1[0x90c] * 0x10;
				puVar7[0x70c] = (int)uVar2;
				puVar7[0x70d] = (int)((ulong)uVar2 >> 0x20);
				puVar7[0x70e] = uVar5;
				puVar7[0x70f] = uVar6;
				uVar2 = puVar9[0x2];
				uVar5 = *(undefined4 *)(puVar9 + 0x3);
				uVar6 = *(undefined4 *)((int)puVar9 + 0x1c);
				puVar7[0x710] = (int)uVar2;
				puVar7[0x711] = (int)((ulong)uVar2 >> 0x20);
				puVar7[0x712] = uVar5;
				puVar7[0x713] = uVar6;
				uVar2 = puVar9[0x4];
				uVar5 = *(undefined4 *)(puVar9 + 0x5);
				uVar6 = *(undefined4 *)((int)puVar9 + 0x2c);
				puVar7[0x714] = (int)uVar2;
				puVar7[0x715] = (int)((ulong)uVar2 >> 0x20);
				puVar7[0x716] = uVar5;
				puVar7[0x717] = uVar6;
				*(undefined2 *)(puVar7 + 0x718) = *(undefined2 *)(puVar9 + 0x6);
				*(undefined2 *)((int)puVar7 + 0x1c62) = *(undefined2 *)((int)puVar9 + 0x32);
				FUN_00284da8((int)param_1, puVar9, param_4, 0x0);
			}
			else {
				uVar2 = *puVar9;
				uVar5 = *(undefined4 *)(puVar9 + 0x1);
				uVar6 = *(undefined4 *)((int)puVar9 + 0xc);
				puVar7 = param_1 + param_1[0x488] * 0x10;
				puVar7[0x288] = (int)uVar2;
				puVar7[0x289] = (int)((ulong)uVar2 >> 0x20);
				puVar7[0x28a] = uVar5;
				puVar7[0x28b] = uVar6;
				uVar2 = puVar9[0x2];
				uVar5 = *(undefined4 *)(puVar9 + 0x3);
				uVar6 = *(undefined4 *)((int)puVar9 + 0x1c);
				puVar7[0x28c] = (int)uVar2;
				puVar7[0x28d] = (int)((ulong)uVar2 >> 0x20);
				puVar7[0x28e] = uVar5;
				puVar7[0x28f] = uVar6;
				uVar2 = puVar9[0x4];
				uVar5 = *(undefined4 *)(puVar9 + 0x5);
				uVar6 = *(undefined4 *)((int)puVar9 + 0x2c);
				puVar7[0x290] = (int)uVar2;
				puVar7[0x291] = (int)((ulong)uVar2 >> 0x20);
				puVar7[0x292] = uVar5;
				puVar7[0x293] = uVar6;
				*(undefined2 *)(puVar7 + 0x294) = *(undefined2 *)(puVar9 + 0x6);
				*(undefined2 *)((int)puVar7 + 0xa52) = *(undefined2 *)((int)puVar9 + 0x32);
				FUN_00284da8((int)param_1, puVar9, param_4, 0x1);
			}
			puVar9 = puVar9 + 0x8;
			iVar3 += -0x1;
		} while (iVar3 != 0x0);
	}
	return (uint)bVar1;
}



undefined8
FUN_00284978(float *param_1, long param_2, float *param_3, undefined8 *param_4, ushort *param_5)

{
	undefined8 uVar1;
	int iVar2;
	undefined *puVar3;
	float fVar4;
	float fVar5;
	float *pfVar6;
	undefined8 *puVar7;
	int iVar8;
	float local_a0;
	float fStack156;
	float local_98;
	float fStack148;
	float local_90;
	float fStack140;
	float local_88;
	float fStack132;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 uStack116;
	float local_70;
	float fStack108;
	float local_68;
	undefined4 local_64;

	iVar8 = 0x0;
	uStack116 = *(undefined4 *)((int)param_4 + 0xc);
	local_80 = (float)*param_4 * 0.20000000;
	fStack124 = (float)((ulong)*param_4 >> 0x20) * 0.20000000;
	local_78 = *(float *)(param_4 + 0x1) * 0.20000000;
	do {
		FUN_00200998(param_5, &local_a0);
		local_90 = local_90 + *param_3;
		local_68 = 5.00000000 - (float)iVar8;
		fStack140 = fStack140 + param_3[0x1];
		local_88 = local_88 + param_3[0x2];
		local_a0 = local_a0 + *param_3;
		fStack156 = fStack156 + param_3[0x1];
		local_98 = local_98 + param_3[0x2];
		local_70 = local_80 * local_68;
		fStack108 = fStack124 * local_68;
		local_68 = local_78 * local_68;
		local_64 = 0x3f800000;
		*(float *)param_4 = local_70;
		*(float *)((int)param_4 + 0x4) = fStack108;
		*(float *)(param_4 + 0x1) = local_68;
		*(undefined4 *)((int)param_4 + 0xc) = 0x3f800000;
		FUN_001fffb0(&local_a0, (int)param_4);
		FUN_00200088(0.30000001, &local_a0);
		iVar2 = FUN_002828b8(param_2, (long)(int)&local_a0, 0x10, (int)DAT(0x003c3830), 0x20);
		param_1[0x4] = local_90;
		param_1[0x5] = fStack140;
		param_1[0x6] = local_88;
		param_1[0x7] = fStack132;
		*param_1 = local_a0;
		param_1[0x1] = fStack156;
		param_1[0x2] = local_98;
		param_1[0x3] = fStack148;
		if (iVar2 < 0x20) break;
		iVar8 += 0x1;
	} while (iVar8 < 0x5);
	if (0x0 < iVar2) {
		puVar7 = DAT(0x003c3830);
		do {
			puVar3 = FUN_00282680((int)puVar7);
			if ((*(ulong *)(puVar3 + 0x8) >> 0x14 & 0x1) == 0x0) {
				param_1[(int)param_1[0x90c] * 0x14 + 0x48e] = 0.00000000;
				uVar1 = *puVar7;
				fVar4 = *(float *)(puVar7 + 0x1);
				fVar5 = *(float *)((int)puVar7 + 0xc);
				pfVar6 = param_1 + (int)param_1[0x90c] * 0x10;
				pfVar6[0x70c] = (float)uVar1;
				pfVar6[0x70d] = (float)((ulong)uVar1 >> 0x20);
				pfVar6[0x70e] = fVar4;
				pfVar6[0x70f] = fVar5;
				uVar1 = puVar7[0x2];
				fVar4 = *(float *)(puVar7 + 0x3);
				fVar5 = *(float *)((int)puVar7 + 0x1c);
				pfVar6[0x710] = (float)uVar1;
				pfVar6[0x711] = (float)((ulong)uVar1 >> 0x20);
				pfVar6[0x712] = fVar4;
				pfVar6[0x713] = fVar5;
				uVar1 = puVar7[0x4];
				fVar4 = *(float *)(puVar7 + 0x5);
				fVar5 = *(float *)((int)puVar7 + 0x2c);
				pfVar6[0x714] = (float)uVar1;
				pfVar6[0x715] = (float)((ulong)uVar1 >> 0x20);
				pfVar6[0x716] = fVar4;
				pfVar6[0x717] = fVar5;
				*(undefined2 *)(pfVar6 + 0x718) = *(undefined2 *)(puVar7 + 0x6);
				*(undefined2 *)((int)pfVar6 + 0x1c62) = *(undefined2 *)((int)puVar7 + 0x32);
				FUN_00284da8((int)param_1, puVar7, (int)param_5, 0x0);
			}
			else {
				uVar1 = *puVar7;
				fVar4 = *(float *)(puVar7 + 0x1);
				fVar5 = *(float *)((int)puVar7 + 0xc);
				pfVar6 = param_1 + (int)param_1[0x488] * 0x10;
				pfVar6[0x288] = (float)uVar1;
				pfVar6[0x289] = (float)((ulong)uVar1 >> 0x20);
				pfVar6[0x28a] = fVar4;
				pfVar6[0x28b] = fVar5;
				uVar1 = puVar7[0x2];
				fVar4 = *(float *)(puVar7 + 0x3);
				fVar5 = *(float *)((int)puVar7 + 0x1c);
				pfVar6[0x28c] = (float)uVar1;
				pfVar6[0x28d] = (float)((ulong)uVar1 >> 0x20);
				pfVar6[0x28e] = fVar4;
				pfVar6[0x28f] = fVar5;
				uVar1 = puVar7[0x4];
				fVar4 = *(float *)(puVar7 + 0x5);
				fVar5 = *(float *)((int)puVar7 + 0x2c);
				pfVar6[0x290] = (float)uVar1;
				pfVar6[0x291] = (float)((ulong)uVar1 >> 0x20);
				pfVar6[0x292] = fVar4;
				pfVar6[0x293] = fVar5;
				*(undefined2 *)(pfVar6 + 0x294) = *(undefined2 *)(puVar7 + 0x6);
				*(undefined2 *)((int)pfVar6 + 0xa52) = *(undefined2 *)((int)puVar7 + 0x32);
				FUN_00284da8((int)param_1, puVar7, (int)param_5, 0x1);
			}
			puVar7 = puVar7 + 0x8;
			iVar2 += -0x1;
		} while (iVar2 != 0x0);
	}
	return 0x0;
}



void FUN_00284c40(int param_1, float *param_2, int param_3, ushort *param_4, long param_5)

{
	int iVar1;
	int iVar2;
	ulong uVar3;
	long lVar4;
	int *piVar5;
	Matrix4x4 MStack256;
	Matrix4x4 MStack192;
	undefined auStack128[0x20];
	GameNode *local_60;
	float *local_5c;
	ushort *local_58;

	piVar5 = (int *)(param_1 + 0x1220);
	local_5c = param_2;
	local_58 = param_4;
	InitIdentityMatrix(&MStack256);
	uVar3 = FUN_001f0c48((ChunkNodeRelated *)(param_3 + 0x10));
	iVar1 = param_1 + 0x20;
	if (param_5 == 0x0) {
		piVar5 = (int *)(param_1 + 0x2430);
		iVar1 = param_1 + 0x1230;
	}
	lVar4 = 0x0;
	if (0x0 < (long)uVar3) {
		do {
			FUN_001f0cc8((long)(int)(ChunkNodeRelated *)(param_3 + 0x10), lVar4, (long)(int)&local_60,
				(long)(int)&MStack192);
			LoadBbox(local_60, &MStack192, (Matrix4x4 *)auStack128);
			iVar2 = FUN_001f8db0(local_5c, (float *)(Matrix4x4 *)auStack128);
			if (iVar2 != 0x0) {
				if (0x1f < *piVar5) {
					return;
				}
				*(int *)(*piVar5 * 0x50 + iVar1 + 0x8) = param_3;
				*(int *)(*piVar5 * 0x50 + iVar1 + 0xc) = (int)lVar4;
				FUN_002843a8((int *)(*piVar5 * 0x50 + iVar1), (ushort *)local_60, (int)&MStack192, local_58,
					(long)(int)&MStack256);
				*(undefined4 *)(*piVar5 * 0x50 + iVar1 + 0x10) = 0x1;
				*piVar5 = *piVar5 + 0x1;
			}
			lVar4 = (long)((int)lVar4 + 0x1);
		} while (lVar4 < (long)uVar3);
	}
	return;
}



void FUN_00284da8(int param_1, undefined8 *param_2, int param_3, long param_4)

{
	int iVar1;
	byte *position;
	void *memory;
	int *piVar2;
	int *piVar3;
	int *piVar4;
	int iVar5;
	ulong memoryAllocSize;
	int iVar6;

	iVar6 = param_1 + 0x1230;
	piVar2 = (int *)(param_1 + 0x2430);
	if (param_4 != 0x0) {
		iVar6 = param_1 + 0x20;
		piVar2 = (int *)(param_1 + 0x1220);
	}
	iVar5 = 0x0;
	piVar3 = (int *)DAT(0x003c2420);
	do {
		iVar1 = FUN_002884e8((int)piVar3, (float *)param_2, param_3);
		if (iVar1 != 0x0) goto LAB_00284e30;
		iVar5 += 0x1;
		piVar3 = piVar3 + 0x14;
	} while (iVar5 < 0x40);
	piVar3 = (int *)0x0;
LAB_00284e30:
	if (piVar3 == (int *)0x0) {
		FUN_00284278((int *)(*piVar2 * 0x50 + iVar6), param_2, param_3);
		FUN_00288430((int *)(DAT(0x003c2420) + DAT_003c3820 * 0x50), param_2, param_3,
			(int *)(*piVar2 * 0x50 + iVar6));
		DAT_003c3820 += 0x1;
		if (0x3f < DAT_003c3820) {
			DAT_003c3820 = 0x0;
		}
	}
	else {
		piVar4 = (int *)(*piVar2 * 0x50 + iVar6);
		position = (byte *)FUN_002881c0((int)piVar3);
		iVar5 = *piVar3;
		MemoryDeallocate2_((void *)piVar4[0x1]);
		*piVar4 = iVar5;
		memoryAllocSize = 0x180;
		if (0x1 < iVar5 - 0x16U) {
			memoryAllocSize = (long)(iVar5 << 0x4);
		}
		memory = MemoryAllocate2(memoryAllocSize);
		*(void **)(piVar4 + 0x1) = memory;
		CopyBytesIntoMemory(memory, position, (uint)memoryAllocSize);
	}
	*(undefined4 *)(*piVar2 * 0x50 + iVar6 + 0x10) = 0x2;
	*piVar2 = *piVar2 + 0x1;
	return;
}



void FUN_00284f40(int param_1, int param_2, float *param_3, int param_4, uint *param_5, int *param_6,
	int param_7, ushort *param_8)

{
	int iVar1;
	uint uVar2;
	GameNode *pGVar3;
	long lVar4;
	int *piVar5;
	int iVar6;
	int iVar7;
	int *piVar8;
	float local_1c0;
	float local_1bc;
	float local_1b8;
	float local_1b0;
	float local_1ac;
	float local_1a8;
	int local_1a0[0x40];
	int *local_a0;
	undefined2 local_9c;
	undefined2 local_9a;
	undefined4 local_98;
	uint local_94;
	undefined4 local_90;
	undefined4 local_8c;
	undefined4 local_88;
	undefined4 local_84;
	undefined4 local_80;
	undefined4 local_70;
	undefined4 uStack108;
	GameNode *pGStack104;
	undefined4 local_64;
	int *local_60;

	iVar7 = 0x0;
	local_60 = param_6;
	FUN_00200998(param_8, &local_1c0);
	FUN_001fffb0(&local_1c0, param_4);
	FUN_00200088(0.10000000, &local_1c0);
	piVar8 = local_1a0;
	local_1b0 = local_1b0 + *param_3;
	local_1ac = local_1ac + param_3[0x1];
	local_1a8 = local_1a8 + param_3[0x2];
	local_9a = 0x40;
	local_1c0 = local_1c0 + *param_3;
	local_1bc = local_1bc + param_3[0x1];
	local_1b8 = local_1b8 + param_3[0x2];
	local_9c = 0x0;
	local_98 = 0x7149f2ca;
	local_90 = 0x18;
	local_8c = 0x1;
	local_88 = 0x0;
	local_94 &= 0xfffffffc;
	local_80 = 0x0;
	local_84 = 0x0;
	local_a0 = piVar8;
	uVar2 = FUN_001ed750(param_2, (long)(int)&local_1c0, *param_5, (int *)&local_a0);
	if (0x0 < (int)uVar2) {
		do {
			iVar1 = *piVar8;
			iVar6 = 0x0;
			if ((0x0 < param_7) && (iVar1 != *local_60)) {
				iVar6 = 0x1;
				piVar5 = local_60;
				while ((piVar5 = piVar5 + 0x1, iVar6 < param_7 && (iVar1 != *piVar5))) {
					iVar6 += 0x1;
				}
			}
			if (iVar6 == param_7) {
				if (((ulong)(long)*(int *)(iVar1 + 0x4) >> 0x4 & 0x1) == 0x0) {
					FUN_00284c40(param_1, &local_1c0, iVar1, param_8, 0x0);
				}
				else {
					if (*(int *)(param_1 + 0x1220) == 0x20) {
						return;
					}
					pGVar3 = GetGameNode((NodeList *)(iVar1 + 0xd4), 0x5);
					if (pGVar3 == (GameNode *)0x0) {
						pGVar3 = (GameNode *)0x0;
					}
					else {
						lVar4 = (**(code **)(pGVar3->methods + 0x7c))
							((int)&pGVar3->ChunkNode + (int)*(short *)(pGVar3->methods + 0x78));
						if (lVar4 == 0x0) {
							pGVar3 = (GameNode *)0x0;
						}
					}
					if (pGVar3 == (GameNode *)0x0) {
						FUN_00284c40(param_1, &local_1c0, iVar1, param_8, 0x1);
					}
					else {
						pGStack104 = pGVar3[0x9].nextNode;
						local_70 = (undefined4)*(undefined8 *)&pGVar3[0x9].field_0x8;
						uStack108 = (undefined4)((ulong)*(undefined8 *)&pGVar3[0x9].field_0x8 >> 0x20);
						local_64 = pGVar3[0x25].field_0x8;
						*(undefined4 *)(*(int *)(param_1 + 0x1220) * 0x50 + param_1 + 0x20) = 0x0;
						iVar6 = *(int *)(param_1 + 0x1220) * 0x50 + param_1;
						*(undefined4 *)(iVar6 + 0x50) = local_70;
						*(undefined4 *)(iVar6 + 0x54) = uStack108;
						*(GameNode **)(iVar6 + 0x58) = pGStack104;
						*(undefined4 *)(iVar6 + 0x5c) = local_64;
						*(undefined4 *)(*(int *)(param_1 + 0x1220) * 0x50 + param_1 + 0x30) = 0x801;
						*(int *)(*(int *)(param_1 + 0x1220) * 0x50 + param_1 + 0x28) = iVar1;
						*(undefined4 *)(*(int *)(param_1 + 0x1220) * 0x50 + param_1 + 0x2c) = 0x0;
						*(int *)(param_1 + 0x1220) = *(int *)(param_1 + 0x1220) + 0x1;
					}
				}
			}
			iVar7 += 0x1;
			piVar8 = piVar8 + 0x1;
		} while (iVar7 < (int)uVar2);
	}
	return;
}



void FUN_00285220(int param_1, float *param_2, undefined8 param_3, int param_4, int param_5, uint param_6
	, long param_7)

{
	bool bVar1;
	float *pfVar2;
	uint uVar3;
	GameNode *pGVar4;
	long lVar5;
	float *pfVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	float *pfVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	float fVar19;
	float local_c0;
	float local_bc;
	float local_b8;
	float local_b0;
	float fStack172;
	float fStack168;
	float fStack164;
	float local_a0;
	float fStack156;
	float local_98;
	float local_94;
	int local_8c;
	int local_88;
	uint local_84;
	float *local_80;

	pfVar11 = (float *)param_7;
	if (param_7 != 0x0) {
		*pfVar11 = 0.00000000;
	}
	iVar10 = 0x0;
	local_8c = param_4;
	local_88 = param_5;
	local_84 = param_6;
	MovePositionFromPos2ToPos1((Vector4 *)param_3, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	fVar19 = 1.00000000;
	((Vector4 *)param_3)->w = 1.00000000;
	local_80 = &local_a0;
	if (0x0 < *(int *)(param_1 + 0x1220)) {
		iVar9 = 0x0;
		do {
			uVar3 = *(uint *)(iVar9 + param_1 + 0x30);
			if ((uVar3 & 0x800) == 0x0) {
				if ((local_8c != 0x0) && ((uVar3 & 0x1) != 0x0)) {
					fVar17 = *param_2;
				LAB_00285310:
					fVar14 = param_2[0x1];
					local_b0 = fVar17 + ((Vector4 *)param_3)->x;
					fVar18 = param_2[0x2];
					iVar8 = iVar10 * 0x50 + param_1;
					fStack172 = fVar14 + ((Vector4 *)param_3)->y;
					fStack168 = fVar18 + ((Vector4 *)param_3)->z;
					iVar9 = *(int *)(iVar8 + 0x34);
					local_80[0x3] = fVar19;
					fStack164 = local_94;
					pfVar6 = *(float **)(iVar8 + 0x24);
					if ((iVar9 < 0x0) || (*(int *)(iVar8 + 0x20) <= iVar9)) {
					LAB_002853d0:
						iVar9 = *(int *)(iVar8 + 0x20);
						iVar7 = 0x0;
						if (0x0 < iVar9) {
							fVar18 = *param_2;
							fVar17 = param_2[0x1];
							fVar14 = param_2[0x2];
							do {
								fVar13 = *pfVar6;
								fVar16 = pfVar6[0x1];
								fVar12 = pfVar6[0x2];
								fVar15 = pfVar6[0x3];
								*(int *)(iVar8 + 0x34) = iVar7;
								if (0.00000000 <= fVar13 * fVar18 + fVar16 * fVar17 + fVar12 * fVar14 + fVar15) {
									bVar1 = false;
									goto LAB_00285444;
								}
								iVar7 += 0x1;
								pfVar6 = pfVar6 + 0x4;
							} while (iVar7 < iVar9);
						}
						bVar1 = true;
					}
					else {
						pfVar2 = pfVar6 + iVar9 * 0x4;
						bVar1 = false;
						if (*pfVar2 * fVar17 + pfVar2[0x1] * fVar14 + pfVar2[0x2] * fVar18 + pfVar2[0x3] <
							0.00000000) goto LAB_002853d0;
					}
				LAB_00285444:
					if (bVar1) {
						iVar9 = iVar10 * 0x50 + param_1;
						if ((*(uint *)(iVar9 + 0x30) & 0x80) == 0x0) {
							local_a0 = local_b0;
							fStack156 = fStack172;
							local_98 = fStack168;
							uVar3 = FUN_00283d60((int *)(iVar9 + 0x20), &local_b0, (long)(int)&local_c0);
							if ((uVar3 & 0xff) != 0x0) {
								if (local_84 != 0x0) {
									uVar3 = *(uint *)(iVar9 + 0x30);
									*(uint *)(iVar9 + 0x30) = uVar3 | 0x4;
									if ((uVar3 & 0x1) == 0x0) {
										pGVar4 = (GameNode *)0x0;
									}
									else {
										pGVar4 = GetGameNode((NodeList *)(*(int *)(iVar9 + 0x28) + 0xd4), 0x5);
										if (pGVar4 == (GameNode *)0x0) {
											pGVar4 = (GameNode *)0x0;
										}
										else {
											lVar5 = (**(code **)(pGVar4->methods + 0x7c))
												((int)&pGVar4->ChunkNode +
												(int)*(short *)(pGVar4->methods + 0x78));
											if (lVar5 != 0x0) {
												pGVar4 = (GameNode *)0x0;
											}
										}
									}
									if (pGVar4 != (GameNode *)0x0) {
										local_a0 = local_c0 * -0.50000000;
										fStack156 = local_bc * -0.50000000;
										local_98 = local_b8 * -0.50000000;
										local_94 = fVar19;
										FUN_00291d58((int)pGVar4, &local_a0);
										iVar9 = iVar10 * 0x50 + param_1;
										*(uint *)(iVar9 + 0x30) = *(uint *)(iVar9 + 0x30) | 0x400;
										*(float *)(iVar9 + 0x40) = *(float *)(iVar9 + 0x40) + local_c0 * 0.50000000;
										*(float *)(iVar9 + 0x44) = *(float *)(iVar9 + 0x44) + local_bc * 0.50000000;
										*(float *)(iVar9 + 0x48) = *(float *)(iVar9 + 0x48) + local_b8 * 0.50000000;
										local_94 = fVar19;
									}
								}
								((Vector4 *)param_3)->x = ((Vector4 *)param_3)->x + local_c0;
								((Vector4 *)param_3)->y = ((Vector4 *)param_3)->y + local_bc;
								((Vector4 *)param_3)->z = ((Vector4 *)param_3)->z + local_b8;
								if (param_7 != 0x0) {
									*pfVar11 = *pfVar11 +
										SQRT(local_c0 * local_c0 + local_bc * local_bc + local_b8 * local_b8);
								}
							}
						}
						else {
							*(uint *)(iVar9 + 0x30) = *(uint *)(iVar9 + 0x30) | 0x100;
						}
					}
					goto LAB_002855f8;
				}
				if (local_88 == 0x0) goto LAB_002855f8;
				if ((uVar3 & 0x2) != 0x0) {
					fVar17 = *param_2;
					goto LAB_00285310;
				}
				iVar8 = *(int *)(param_1 + 0x1220);
			}
			else {
			LAB_002855f8:
				iVar8 = *(int *)(param_1 + 0x1220);
			}
			iVar10 += 0x1;
			iVar9 = iVar10 * 0x50;
		} while (iVar10 < iVar8);
	}
	return;
}



void FUN_00285648(float param_1, float param_2, int param_3, float *param_4, float *param_5,
	undefined8 param_6)

{
	long lVar1;
	int iVar2;
	int iVar3;
	float fVar4;
	float local_d0;
	float fStack204;
	float local_c8;
	undefined4 local_c4;
	float local_c0;
	undefined4 uStack188;
	float fStack184;
	undefined4 uStack180;
	float local_b0;
	float fStack172;
	float fStack168;
	undefined4 uStack164;
	float local_a0;
	float local_9c;
	float local_98;
	float local_90;
	float fStack140;
	float local_88;
	undefined4 local_84;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;

	iVar3 = 0x0;
	MovePositionFromPos2ToPos1((Vector4 *)param_6, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	((Vector4 *)param_6)->w = 1.00000000;
	if (0x0 < *(int *)(param_3 + 0x1220)) {
		fVar4 = 0.50000000;
		do {
			iVar2 = iVar3 * 0x50 + param_3;
			if ((*(uint *)(iVar2 + 0x30) & 0x1) != 0x0) {
				if ((*(uint *)(iVar2 + 0x30) & 0x800) != 0x0) {
					local_c0 = -param_2;
					local_90 = *param_4 + *param_5;
					fStack140 = param_4[0x1] + param_5[0x1];
					local_74 = 0x3f800000;
					local_88 = param_4[0x2] + param_5[0x2];
					local_c4 = *(undefined4 *)(iVar2 + 0x5c);
					uStack188 = 0x0;
					uStack180 = 0x3f800000;
					uStack164 = 0x3f800000;
					local_84 = 0x3f800000;
					local_d0 = *(float *)(iVar2 + 0x50) - local_90;
					fStack204 = *(float *)(iVar2 + 0x54) - fStack140;
					local_c8 = *(float *)(iVar2 + 0x58) - local_88;
					fStack184 = local_c0;
					local_b0 = param_2;
					fStack172 = param_1;
					fStack168 = param_2;
					local_80 = param_2;
					fStack124 = param_1;
					local_78 = param_2;
					lVar1 = FUN_001f9118(*(undefined4 *)(iVar2 + 0x5c), &local_c0, &local_d0, &local_a0);
					if (lVar1 == 0x0) {
						MovePositionFromPos2ToPos1
						((Vector4 *)(iVar2 + 0x60), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
						*(undefined4 *)(iVar2 + 0x6c) = 0x3f800000;
					}
					else {
						*(uint *)(iVar2 + 0x30) = *(uint *)(iVar2 + 0x30) | 0x410;
						*(float *)(iVar2 + 0x60) = local_a0 * fVar4;
						*(float *)(iVar2 + 0x64) = local_9c * fVar4;
						*(float *)(iVar2 + 0x68) = local_98 * fVar4;
						*(undefined4 *)(iVar2 + 0x6c) = 0x3f800000;
						((Vector4 *)param_6)->x = ((Vector4 *)param_6)->x - local_a0 * fVar4;
						((Vector4 *)param_6)->z = ((Vector4 *)param_6)->z - local_98 * fVar4;
						((Vector4 *)param_6)->y = ((Vector4 *)param_6)->y - local_9c * fVar4;
						*(float *)(iVar2 + 0x40) = *(float *)(iVar2 + 0x40) - local_a0 * fVar4;
						*(float *)(iVar2 + 0x44) = *(float *)(iVar2 + 0x44) - local_9c * fVar4;
						*(float *)(iVar2 + 0x48) = *(float *)(iVar2 + 0x48) - local_98 * fVar4;
					}
				}
			}
			iVar3 += 0x1;
		} while (iVar3 < *(int *)(param_3 + 0x1220));
	}
	return;
}



int FUN_00285958(int param_1, float *param_2, float *param_3, float **param_4, int param_5, int param_6,
	int *param_7)

{
	bool bVar1;
	float *pfVar2;
	int iVar3;
	float *pfVar4;
	int iVar5;
	int iVar6;
	int *piVar7;
	int iVar8;
	float **ppfVar9;
	int iVar10;
	int *piVar11;
	float **ppfVar12;
	int *piVar13;
	int iVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	float fVar19;
	float fVar20;
	float fVar21;
	float fVar22;
	float fVar23;
	float fVar24;

	iVar10 = 0x0;
	iVar6 = 0x0;
	if (0x0 < *(int *)(param_1 + 0x1220)) {
		piVar13 = (int *)(param_1 + 0x20);
		piVar7 = (int *)(param_1 + 0x34);
		do {
			if ((piVar13[0x4] & 0x884U) == 0x0) {
				fVar22 = *param_2;
				fVar15 = *param_3;
				fVar18 = param_3[0x1];
				fVar20 = param_2[0x1];
				fVar23 = param_2[0x2];
				fVar16 = param_3[0x2];
				iVar3 = piVar13[0x5];
				pfVar4 = (float *)piVar13[0x1];
				if (((iVar3 < 0x0) || (*piVar13 <= iVar3)) ||
					(pfVar2 = pfVar4 + iVar3 * 0x4,
						*pfVar2 * (fVar22 + fVar15) + pfVar2[0x1] * (fVar20 + fVar18) +
						pfVar2[0x2] * (fVar23 + fVar16) + pfVar2[0x3] < 0.00000000)) {
					iVar3 = *piVar13;
					iVar8 = 0x0;
					if (0x0 < iVar3) {
						do {
							fVar19 = *pfVar4;
							fVar24 = pfVar4[0x1];
							fVar17 = pfVar4[0x2];
							fVar21 = pfVar4[0x3];
							*piVar7 = iVar8;
							if (0.00000000 <=
								fVar19 * (fVar22 + fVar15) + fVar24 * (fVar20 + fVar18) +
								fVar17 * (fVar23 + fVar16) + fVar21) {
								bVar1 = false;
								goto LAB_00285ad0;
							}
							iVar8 += 0x1;
							pfVar4 = pfVar4 + 0x4;
						} while (iVar8 < iVar3);
					}
					bVar1 = true;
				}
				else {
					bVar1 = false;
				}
			LAB_00285ad0:
				if (bVar1) {
					iVar3 = *piVar13;
					pfVar4 = (float *)piVar13[0x1];
					if (0x0 < iVar3) {
						ppfVar12 = param_4 + iVar10;
						piVar11 = (int *)(iVar10 * 0x4 + param_5);
						iVar8 = 0x0;
						do {
							if (-0.00010000 <
								*pfVar4 * *param_2 + pfVar4[0x1] * param_2[0x1] + pfVar4[0x2] * param_2[0x2] +
								pfVar4[0x3]) {
								iVar14 = iVar8 + 0x1;
								if (*pfVar4 * (*param_2 + *param_3) + pfVar4[0x1] * (param_2[0x1] + param_3[0x1]) +
									pfVar4[0x2] * (param_2[0x2] + param_3[0x2]) + pfVar4[0x3] < 0.00010000) {
									iVar5 = 0x0;
									ppfVar9 = param_4;
									if (0x0 < iVar10) {
										do {
											pfVar2 = *ppfVar9;
											fVar15 = *pfVar4 - *pfVar2;
											fVar16 = pfVar4[0x1] - pfVar2[0x1];
											fVar18 = pfVar4[0x2] - pfVar2[0x2];
											fVar20 = pfVar4[0x3] - pfVar2[0x3];
											if (fVar15 * fVar15 + fVar16 * fVar16 + fVar18 * fVar18 + fVar20 * fVar20 <
												0.00100000) break;
											iVar5 += 0x1;
											ppfVar9 = ppfVar9 + 0x1;
										} while (iVar5 < iVar10);
									}
									if (iVar5 == iVar10) {
										*ppfVar12 = pfVar4;
										iVar10 += 0x1;
										*piVar11 = iVar6;
										ppfVar12 = ppfVar12 + 0x1;
										piVar11 = piVar11 + 0x1;
										*param_7 = iVar6;
										iVar8 = iVar14;
										if (iVar10 == param_6) {
											return iVar10;
										}
										goto LAB_00285c74;
									}
									iVar14 = iVar8 + 0x2;
								}
							}
							else {
							LAB_00285c74:
								iVar14 = iVar8 + 0x1;
							}
							pfVar4 = pfVar4 + 0x4;
							iVar8 = iVar14;
						} while (iVar14 < iVar3);
					}
					iVar3 = *(int *)(param_1 + 0x1220);
				}
				else {
					iVar3 = *(int *)(param_1 + 0x1220);
				}
			}
			else {
				iVar3 = *(int *)(param_1 + 0x1220);
			}
			iVar6 += 0x1;
			piVar13 = piVar13 + 0x14;
			piVar7 = piVar7 + 0x14;
		} while (iVar6 < iVar3);
	}
	return iVar10;
}



void FUN_00285cb8(int param_1, int param_2, float *param_3, float *param_4, float *param_5)

{
	uint uVar1;
	bool bVar2;
	float *pfVar3;
	float *pfVar4;
	uint uVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float fVar15;

	fVar15 = param_4[0x2];
	fVar12 = param_4[0x1];
	fVar9 = param_5[0x1];
	fVar10 = param_5[0x2];
	iVar8 = param_2 * 0x50 + param_1;
	if ((*(uint *)(iVar8 + 0x30) & 0x1) != 0x0) {
		if ((*(uint *)(iVar8 + 0x30) & 0x800) != 0x0) {
			fVar9 = param_3[0x1];
			goto LAB_00285de4;
		}
		fVar13 = param_3[0x1];
		fVar11 = param_3[0x2];
		*(float *)(iVar8 + 0x40) =
			*(float *)(iVar8 + 0x40) + ((*param_5 - *param_4) - *param_3) * 20.00000000;
		*(float *)(iVar8 + 0x44) = *(float *)(iVar8 + 0x44) + ((fVar9 - fVar12) - fVar13) * 20.00000000;
		*(float *)(iVar8 + 0x48) = *(float *)(iVar8 + 0x48) + ((fVar10 - fVar15) - fVar11) * 20.00000000
			;
		*(uint *)(iVar8 + 0x30) = *(uint *)(iVar8 + 0x30) | 0x400;
	}
	fVar9 = param_3[0x1];
LAB_00285de4:
	bVar2 = false;
	if (0.00000000 < fVar9) {
		fVar9 = *param_5;
		iVar7 = param_2 * 0x50 + param_1;
		fVar12 = param_5[0x2];
		fVar10 = param_5[0x1];
		iVar8 = *(int *)(iVar7 + 0x34);
		pfVar4 = *(float **)(iVar7 + 0x24);
		if (((iVar8 < 0x0) || (*(int *)(iVar7 + 0x20) <= iVar8)) ||
			(pfVar3 = pfVar4 + iVar8 * 0x4,
				*pfVar3 * (fVar9 + 0.00000000) + pfVar3[0x1] * (fVar10 + 0.05000000) +
				pfVar3[0x2] * (fVar12 + 0.00000000) + pfVar3[0x3] < -0.01000000)) {
			iVar8 = *(int *)(iVar7 + 0x20);
			iVar6 = 0x0;
			if (0x0 < iVar8) {
				do {
					fVar11 = *pfVar4;
					fVar14 = pfVar4[0x1];
					fVar15 = pfVar4[0x2];
					fVar13 = pfVar4[0x3];
					*(int *)(iVar7 + 0x34) = iVar6;
					if (-0.01000000 <=
						fVar11 * (fVar9 + 0.00000000) + fVar14 * (fVar10 + 0.05000000) +
						fVar15 * (fVar12 + 0.00000000) + fVar13) {
						bVar2 = false;
						goto LAB_00285f60;
					}
					iVar6 += 0x1;
					pfVar4 = pfVar4 + 0x4;
				} while (iVar6 < iVar8);
			}
			bVar2 = true;
		}
		else {
			bVar2 = false;
		}
	}
LAB_00285f60:
	param_1 = param_2 * 0x50 + param_1;
	uVar1 = *(uint *)(param_1 + 0x30);
	uVar5 = uVar1 | 0x10;
	if (bVar2) {
		uVar5 = uVar1 | 0x20;
	}
	*(uint *)(param_1 + 0x30) = uVar5;
	return;
}



// WARNING: Could not reconcile some variable overlaps

undefined4
FUN_00285f88(int param_1, undefined8 *param_2, undefined8 *param_3, undefined8 *param_4, int param_5)

{
	undefined *puVar1;
	float *pfVar2;
	uint uVar3;
	int iVar4;
	undefined8 uVar5;
	undefined4 uVar6;
	int iVar7;
	undefined4 uVar8;
	undefined4 uVar9;
	long lVar10;
	long lVar11;
	long lVar12;
	int *piVar13;
	uint *puVar14;
	float **ppfVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	float fVar19;
	float fVar20;
	float fVar21;
	uint local_1a0[0x4];
	int aiStack400[0x4];
	float *local_180[0x4];
	undefined8 local_170;
	float local_160;
	undefined4 uStack348;
	undefined4 local_158;
	undefined4 local_154;
	float local_150;
	float local_14c;
	float local_148;
	undefined4 local_144;
	float local_140;
	float fStack316;
	float local_138;
	undefined4 uStack308;
	float *local_130;
	float local_12c;
	float local_128;
	undefined4 local_124;
	float local_120;
	float local_11c;
	float local_118;
	float local_110;
	float fStack268;
	float local_108;
	undefined4 uStack260;
	float local_100;
	float local_fc;
	float local_f8;
	float local_f0;
	float fStack236;
	float local_e8;
	undefined4 local_e4;
	float local_e0;
	float local_dc;
	float local_d8;
	int local_d0;
	int local_cc;
	int local_c8;
	float *local_c4;
	int local_c0;
	int *local_bc;
	int local_b8;
	int local_b0;
	undefined4 uStack172;
	int local_a0;
	undefined4 uStack156;
	int local_90;
	undefined4 uStack140;

	puVar14 = local_1a0;
	local_cc = param_5;
	puVar1 = &local_170 + 0x7;
	uVar3 = (uint)puVar1 & 0x7;
	*(ulong *)(puVar1 + -uVar3) =
		*(ulong *)(puVar1 + -uVar3) & -0x1 << (uVar3 + 0x1) * 0x8 |
		DAT_0030a218 >> (0x7 - uVar3) * 0x8;
	local_170 = DAT_0030a218;
	local_d0 = -0x1;
	iVar4 = FUN_00285958(param_1, (float *)param_2, (float *)param_3, local_180, (int)local_1a0, 0x4,
		&local_d0);
	local_c8 = iVar4;
	if (iVar4 == 0x0) {
		fVar17 = *(float *)(param_3 + 0x1);
		fVar19 = *(float *)(param_2 + 0x1);
		fVar16 = *(float *)((int)param_2 + 0x4);
		fVar18 = *(float *)((int)param_3 + 0x4);
		*(float *)param_4 = *(float *)param_2 + *(float *)param_3;
		*(float *)((int)param_4 + 0x4) = fVar16 + fVar18;
		*(float *)(param_4 + 0x1) = fVar19 + fVar17;
		*(undefined4 *)((int)param_4 + 0xc) = 0x3f800000;
	}
	else {
		fVar16 = 1000000015047466219876688855040.00000000;
		if (0x0 < iVar4) {
			uVar8 = 0x3f800000;
			ppfVar15 = local_180;
			do {
				pfVar2 = *ppfVar15;
				iVar7 = *puVar14 * 0x50 + param_1;
				*(uint *)(iVar7 + 0x30) = *(uint *)(iVar7 + 0x30) | 0x10;
				local_148 = pfVar2[0x2];
				local_150 = *pfVar2;
				local_14c = pfVar2[0x1];
				local_144 = uVar8;
				uStack308 = *(undefined4 *)((int)param_3 + 0xc);
				fVar17 = *(float *)param_3 * local_150 + *(float *)((int)param_3 + 0x4) * local_14c +
					*(float *)(param_3 + 0x1) * local_148;
				local_130 = (float *)(local_150 * 0.00002000);
				local_12c = local_14c * 0.00002000;
				local_128 = local_148 * 0.00002000;
				local_124 = uVar8;
				local_140 = ((float)*param_3 - local_150 * fVar17) +
					(float)(float *)(local_150 * 0.00002000);
				local_138 = (*(float *)(param_3 + 0x1) - local_148 * fVar17) + local_148 * 0.00002000;
				fStack316 = ((float)((ulong)*param_3 >> 0x20) - local_14c * fVar17) + local_14c * 0.00002000
					;
				if ((local_cc == 0x0) ||
					(ppfVar15 = ppfVar15 + 0x1,
						fStack316 <= SQRT(local_140 * local_140 + local_138 * local_138))) {
					uVar5 = *param_2;
					uVar9 = *(undefined4 *)(param_2 + 0x1);
					uVar6 = *(undefined4 *)((int)param_2 + 0xc);
					*(int *)param_4 = (int)uVar5;
					*(undefined4 *)((int)param_4 + 0x4) = (int)((ulong)uVar5 >> 0x20);
					*(undefined4 *)(param_4 + 0x1) = uVar9;
					*(undefined4 *)((int)param_4 + 0xc) = uVar6;
					*(float *)param_4 = *(float *)param_4 + local_140;
					*(float *)((int)param_4 + 0x4) = *(float *)((int)param_4 + 0x4) + fStack316;
					*(float *)(param_4 + 0x1) = *(float *)(param_4 + 0x1) + local_138;
					iVar7 = FUN_00284560(0.00000000, param_1, (float *)param_4, 0x88c);
					if (iVar7 == 0x0) {
						fVar17 = *(float *)((int)param_4 + 0x4) - fStack316;
						fVar17 = SQRT((*(float *)param_4 - local_140) * (*(float *)param_4 - local_140) +
							fVar17 * fVar17 +
							(*(float *)(param_4 + 0x1) - local_138) *
							(*(float *)(param_4 + 0x1) - local_138));
						ppfVar15 = ppfVar15 + 0x1;
						if (fVar17 < fVar16) {
							local_160 = (float)*param_4;
							uStack348 = (int)((ulong)*param_4 >> 0x20);
							local_158 = *(undefined4 *)(param_4 + 0x1);
							local_154 = *(undefined4 *)((int)param_4 + 0xc);
							local_170 = local_170 & 0xffffffff00000000 | (ulong)*puVar14;
							fVar16 = fVar17;
						}
					}
					else {
						ppfVar15 = ppfVar15 + 0x1;
					}
				}
				iVar4 += -0x1;
				puVar14 = puVar14 + 0x1;
			} while (iVar4 != 0x0);
		}
		fVar17 = 1000000015047466219876688855040.00000000;
		if (fVar16 == 1000000015047466219876688855040.00000000) {
			if (0x0 < local_c8) {
				local_c4 = &local_150;
				fVar16 = 0.00002000;
				local_bc = aiStack400;
				fVar18 = *(float *)param_3;
				local_b8 = 0x0;
				do {
					local_c0 = local_b8 * 0x4;
					fVar19 = *(float *)((int)param_3 + 0x4);
					pfVar2 = local_180[local_b8];
					local_148 = pfVar2[0x2];
					local_150 = *pfVar2;
					local_14c = pfVar2[0x1];
					local_c4[0x3] = 1.00000000;
					uStack308 = *(undefined4 *)((int)param_3 + 0xc);
					fVar18 = fVar18 * local_150 + fVar19 * local_14c + *(float *)(param_3 + 0x1) * local_148;
					local_130 = (float *)(local_150 * fVar16);
					local_12c = local_14c * fVar16;
					local_128 = local_148 * fVar16;
					local_124 = 0x3f800000;
					local_140 = ((float)*param_3 - local_150 * fVar18) + (float)local_130;
					fStack316 = ((float)((ulong)*param_3 >> 0x20) - local_14c * fVar18) + local_12c;
					local_138 = (*(float *)(param_3 + 0x1) - local_148 * fVar18) + local_128;
					local_b8 = local_b8 + 0x1;
					iVar4 = FUN_00285958(param_1, (float *)param_2, &local_140, &local_130, (int)aiStack400, 0x4,
						&local_d0);
					if (0x0 < iVar4) {
						fVar18 = 0.00002000;
						lVar12 = (long)(int)&local_120;
						lVar11 = (long)(int)&local_100;
						lVar10 = (long)(int)&local_e0;
						ppfVar15 = &local_130;
						piVar13 = local_bc;
						do {
							pfVar2 = *ppfVar15;
							iVar7 = *piVar13 * 0x50 + param_1;
							*(uint *)(iVar7 + 0x30) = *(uint *)(iVar7 + 0x30) | 0x10;
							local_118 = pfVar2[0x2];
							local_120 = *pfVar2;
							local_11c = pfVar2[0x1];
							*(undefined4 *)((int)lVar12 + 0xc) = 0x3f800000;
							fVar19 = *(float *)param_3;
							fVar20 = *(float *)((int)param_3 + 0x4);
							fVar21 = *(float *)(param_3 + 0x1);
							local_f8 = local_150 * local_11c - local_14c * local_120;
							local_100 = local_14c * local_118 - local_148 * local_11c;
							local_fc = local_148 * local_120 - local_150 * local_118;
							*(undefined4 *)((int)lVar11 + 0xc) = 0x3f800000;
							fVar19 = local_100 * fVar19 + local_fc * fVar20 + local_f8 * fVar21;
							uStack260 = 0x3f800000;
							local_e0 = local_150 + local_120;
							local_dc = local_14c + local_11c;
							local_d8 = local_148 + local_118;
							*(undefined4 *)((int)lVar10 + 0xc) = 0x3f800000;
							local_f0 = (local_150 + local_120) * fVar18;
							fStack236 = (local_14c + local_11c) * fVar18;
							local_e8 = (local_148 + local_118) * fVar18;
							local_e4 = 0x3f800000;
							local_110 = local_100 * fVar19 + local_f0;
							fStack268 = local_fc * fVar19 + fStack236;
							local_108 = local_f8 * fVar19 + local_e8;
							if (0.00000100 <=
								local_110 * local_110 + fStack268 * fStack268 + local_108 * local_108) {
								if (local_cc == 0x0) {
									uVar5 = *param_2;
									uVar8 = *(undefined4 *)(param_2 + 0x1);
									uVar9 = *(undefined4 *)((int)param_2 + 0xc);
								LAB_00286650:
									*(int *)param_4 = (int)uVar5;
									*(undefined4 *)((int)param_4 + 0x4) = (int)((ulong)uVar5 >> 0x20);
									*(undefined4 *)(param_4 + 0x1) = uVar8;
									*(undefined4 *)((int)param_4 + 0xc) = uVar9;
									*(float *)param_4 = *(float *)param_4 + local_110;
									*(float *)((int)param_4 + 0x4) = *(float *)((int)param_4 + 0x4) + fStack268;
									*(float *)(param_4 + 0x1) = *(float *)(param_4 + 0x1) + local_108;
									uStack172 = (undefined4)((ulong)lVar10 >> 0x20);
									uStack156 = (undefined4)((ulong)lVar11 >> 0x20);
									uStack140 = (undefined4)((ulong)lVar12 >> 0x20);
									local_b0 = (int)lVar10;
									local_a0 = (int)lVar11;
									local_90 = (int)lVar12;
									iVar7 = FUN_00284560(0.00000000, param_1, (float *)param_4, 0x88c);
									lVar10 = CONCAT44(uStack172, local_b0);
									lVar11 = CONCAT44(uStack156, local_a0);
									lVar12 = CONCAT44(uStack140, local_90);
									if ((iVar7 == 0x0) &&
										(fVar19 = *(float *)((int)param_4 + 0x4) - fStack268,
											fVar19 = SQRT((*(float *)param_4 - local_110) * (*(float *)param_4 - local_110)
												+ fVar19 * fVar19 +
												(*(float *)(param_4 + 0x1) - local_108) *
												(*(float *)(param_4 + 0x1) - local_108)), fVar19 < fVar17)) {
										local_160 = (float)*param_4;
										uStack348 = (int)((ulong)*param_4 >> 0x20);
										local_158 = *(undefined4 *)(param_4 + 0x1);
										local_154 = *(undefined4 *)((int)param_4 + 0xc);
										local_170 = CONCAT44(*piVar13, *(undefined4 *)((int)local_1a0 + local_c0));
										fVar17 = fVar19;
									}
									goto LAB_0028671c;
								}
								ppfVar15 = ppfVar15 + 0x1;
								if (fStack268 <= SQRT(local_110 * local_110 + local_108 * local_108)) {
									uVar5 = *param_2;
									uVar8 = *(undefined4 *)(param_2 + 0x1);
									uVar9 = *(undefined4 *)((int)param_2 + 0xc);
									goto LAB_00286650;
								}
							}
							else {
							LAB_0028671c:
								ppfVar15 = ppfVar15 + 0x1;
							}
							iVar4 += -0x1;
							piVar13 = piVar13 + 0x1;
						} while (iVar4 != 0x0);
					}
					if (local_c8 <= local_b8) break;
					fVar18 = *(float *)param_3;
				} while (true);
			}
			if (fVar17 == 1000000015047466219876688855040.00000000) {
				uVar5 = *param_2;
				uVar8 = *(undefined4 *)(param_2 + 0x1);
				uVar9 = *(undefined4 *)((int)param_2 + 0xc);
				*(int *)param_4 = (int)uVar5;
				*(undefined4 *)((int)param_4 + 0x4) = (int)((ulong)uVar5 >> 0x20);
				*(undefined4 *)(param_4 + 0x1) = uVar8;
				*(undefined4 *)((int)param_4 + 0xc) = uVar9;
				return 0x0;
			}
			*(float *)param_4 = local_160;
			*(undefined4 *)((int)param_4 + 0x4) = uStack348;
			*(undefined4 *)(param_4 + 0x1) = local_158;
			*(undefined4 *)((int)param_4 + 0xc) = local_154;
			FUN_00285cb8(param_1, (int)local_170, (float *)param_3, (float *)param_2, &local_160);
		}
		else {
			*(float *)param_4 = local_160;
			*(undefined4 *)((int)param_4 + 0x4) = uStack348;
			*(undefined4 *)(param_4 + 0x1) = local_158;
			*(undefined4 *)((int)param_4 + 0xc) = local_154;
			local_170._4_4_ = (int)local_170;
		}
		FUN_00285cb8(param_1, local_170._4_4_, (float *)param_3, (float *)param_2, &local_160);
	}
	return 0x1;
}



int FUN_002867f8(int param_1, float *param_2, long param_3)

{
	bool bVar1;
	float *pfVar2;
	uint uVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int *piVar8;
	int *piVar9;
	float *pfVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	Vector4 local_60[0x2];

	iVar7 = 0x0;
	if (0x0 < *(int *)(param_1 + 0x1220)) {
		piVar9 = (int *)(param_1 + 0x34);
		piVar8 = (int *)(param_1 + 0x20);
		iVar6 = param_1;
		do {
			if ((*(uint *)(iVar6 + 0x30) & 0x880) == 0x0) {
				iVar4 = *(int *)(iVar6 + 0x34);
				pfVar10 = *(float **)(iVar6 + 0x24);
				if (((iVar4 < 0x0) || (*(int *)(iVar6 + 0x20) <= iVar4)) ||
					(pfVar2 = pfVar10 + iVar4 * 0x4,
						*pfVar2 * *param_2 + pfVar2[0x1] * param_2[0x1] + pfVar2[0x2] * param_2[0x2] +
						pfVar2[0x3] < 0.00000000)) {
					iVar4 = *piVar8;
					iVar5 = 0x0;
					if (0x0 < iVar4) {
						fVar17 = *param_2;
						fVar15 = param_2[0x1];
						fVar16 = param_2[0x2];
						do {
							fVar12 = *pfVar10;
							fVar14 = pfVar10[0x1];
							fVar11 = pfVar10[0x2];
							fVar13 = pfVar10[0x3];
							*piVar9 = iVar5;
							if (0.00000000 <= fVar12 * fVar17 + fVar14 * fVar15 + fVar11 * fVar16 + fVar13) {
								bVar1 = false;
								goto LAB_00286940;
							}
							iVar5 += 0x1;
							pfVar10 = pfVar10 + 0x4;
						} while (iVar5 < iVar4);
					}
					bVar1 = true;
				}
				else {
					bVar1 = false;
				}
			LAB_00286940:
				if (bVar1) {
					FUN_00283d60((int *)(iVar7 * 0x50 + param_1 + 0x20), param_2, (long)(int)local_60);
					fVar15 = SQRT(local_60[0].x * local_60[0].x + local_60[0].z * local_60[0].z);
					uVar3 = *(uint *)(iVar6 + 0x30);
					if (fVar15 == 0.00000000) {
					LAB_002869b0:
						*(uint *)(iVar6 + 0x30) = uVar3 | 0x240;
						if (param_3 == 0x0) {
							return iVar7;
						}
						fVar15 = RSQRT(0.00000000, local_60);
						pfVar10 = (float *)param_3;
						*pfVar10 = local_60[0].x * fVar15;
						pfVar10[0x1] = local_60[0].y * fVar15;
						pfVar10[0x2] = local_60[0].z * fVar15;
						pfVar10[0x3] = local_60[0].w;
						return iVar7;
					}
					iVar4 = *(int *)(param_1 + 0x1220);
					if (fVar15 < local_60[0].y) {
						uVar3 = *(uint *)(iVar6 + 0x30);
						goto LAB_002869b0;
					}
				}
				else {
					iVar4 = *(int *)(param_1 + 0x1220);
				}
			}
			else {
				iVar4 = *(int *)(param_1 + 0x1220);
			}
			iVar7 += 0x1;
			iVar6 += 0x50;
			piVar9 = piVar9 + 0x14;
			piVar8 = piVar8 + 0x14;
		} while (iVar7 < iVar4);
	}
	return -0x1;
}



int FUN_00286a50(int param_1, undefined8 *param_2, undefined8 *param_3, long param_4, long param_5)

{
	uint uVar1;
	bool bVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	int *piVar7;
	float *pfVar8;
	int iVar9;
	float *pfVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float local_90;
	float fStack140;
	float local_88;
	float fStack132;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 uStack116;
	float local_70;
	float fStack108;
	float local_68;
	float fStack100;
	float local_60;
	float fStack92;
	float local_58;
	float fStack84;

	iVar9 = -0x1;
	iVar5 = 0x0;
	local_78 = *(float *)(param_3 + 0x1);
	uStack116 = *(undefined4 *)((int)param_3 + 0xc);
	local_68 = *(float *)(param_2 + 0x1);
	fStack100 = *(float *)((int)param_2 + 0xc);
	local_80 = (float)*param_3;
	fStack124 = (float)((ulong)*param_3 >> 0x20);
	local_70 = (float)*param_2;
	fStack108 = (float)((ulong)*param_2 >> 0x20);
	if (0x0 < *(int *)(param_1 + 0x1220)) {
		iVar6 = 0x0;
		do {
			piVar7 = (int *)(param_1 + iVar6 + 0x20);
			uVar1 = piVar7[0x4];
			if ((uVar1 & 0x880) == 0x0) {
				iVar6 = piVar7[0x5];
				pfVar10 = (float *)piVar7[0x1];
				iVar4 = *piVar7;
				if (((iVar6 < 0x0) || (iVar4 <= iVar6)) ||
					(pfVar8 = pfVar10 + iVar6 * 0x4,
						*pfVar8 * *(float *)param_2 + pfVar8[0x1] * *(float *)((int)param_2 + 0x4) +
						pfVar8[0x2] * *(float *)(param_2 + 0x1) + pfVar8[0x3] < 0.00000000)) {
					iVar6 = 0x0;
					if (0x0 < iVar4) {
						fVar17 = *(float *)param_2;
						fVar15 = *(float *)((int)param_2 + 0x4);
						fVar16 = *(float *)(param_2 + 0x1);
						do {
							fVar12 = *pfVar10;
							fVar14 = pfVar10[0x1];
							fVar11 = pfVar10[0x2];
							fVar13 = pfVar10[0x3];
							piVar7[0x5] = iVar6;
							if (0.00000000 <= fVar12 * fVar17 + fVar14 * fVar15 + fVar11 * fVar16 + fVar13) {
								bVar2 = false;
								goto LAB_00286bb4;
							}
							iVar6 += 0x1;
							pfVar10 = pfVar10 + 0x4;
						} while (iVar6 < iVar4);
					}
					bVar2 = true;
				}
				else {
					bVar2 = false;
				}
			LAB_00286bb4:
				if (bVar2) {
					uVar1 = piVar7[0x4];
					goto LAB_00286bc8;
				}
				iVar4 = *(int *)(param_1 + 0x1220);
			}
			else {
			LAB_00286bc8:
				piVar7[0x4] = uVar1 | 0x1000;
				iVar4 = *(int *)(param_1 + 0x1220);
			}
			iVar5 += 0x1;
			iVar6 = iVar5 * 0x50;
		} while (iVar5 < iVar4);
	}
	fVar15 = 0.00010000;
	local_60 = local_70;
	fStack92 = fStack108;
	local_58 = local_68;
	fStack84 = fStack100;
	while (fVar15 < SQRT(local_80 * local_80 + fStack124 * fStack124 + local_78 * local_78)) {
		fStack132 = fStack84;
		local_90 = local_60 + local_80;
		fStack140 = fStack92 + fStack124;
		local_88 = local_58 + local_78;
		iVar5 = FUN_002846a8(0.00000000, param_1, &local_90, 0x1000);
		if (iVar5 < 0x1) {
			local_60 = local_90;
			fStack92 = fStack140;
			local_58 = local_88;
			fStack84 = fStack132;
		}
		else {
			local_70 = local_90;
			fStack108 = fStack140;
			local_68 = local_88;
			fStack100 = fStack132;
			iVar9 = iVar5;
		}
		local_80 = local_80 * 0.50000000;
		fStack124 = fStack124 * 0.50000000;
		local_78 = local_78 * 0.50000000;
	}
	iVar5 = -0x2;
	if (iVar9 != -0x1) {
		fVar15 = -10000000000.00000000;
		iVar5 = -0x1;
		if (param_4 != 0x0) {
			pfVar10 = (float *)param_4;
			*pfVar10 = local_60;
			pfVar10[0x1] = fStack92;
			pfVar10[0x2] = local_58;
			pfVar10[0x3] = fStack84;
		}
		iVar9 = 0x0;
		if (0x0 < *(int *)(param_1 + 0x1220)) {
			iVar6 = 0x0;
			do {
				piVar7 = (int *)(param_1 + iVar6 + 0x20);
				if ((piVar7[0x4] & 0x1000U) == 0x0) {
					iVar6 = piVar7[0x5];
					pfVar10 = (float *)piVar7[0x1];
					iVar4 = *piVar7;
					if (((iVar6 < 0x0) || (iVar4 <= iVar6)) ||
						(pfVar8 = pfVar10 + iVar6 * 0x4,
							*pfVar8 * local_70 + pfVar8[0x1] * fStack108 + pfVar8[0x2] * local_68 + pfVar8[0x3] <
							0.00000000)) {
						iVar6 = 0x0;
						if (0x0 < iVar4) {
							do {
								fVar17 = *pfVar10;
								fVar12 = pfVar10[0x1];
								fVar16 = pfVar10[0x2];
								fVar11 = pfVar10[0x3];
								piVar7[0x5] = iVar6;
								if (0.00000000 <=
									fVar17 * local_70 + fVar12 * fStack108 + fVar16 * local_68 + fVar11) {
									bVar2 = false;
									goto LAB_00286e28;
								}
								iVar6 += 0x1;
								pfVar10 = pfVar10 + 0x4;
							} while (iVar6 < iVar4);
						}
						bVar2 = true;
					}
					else {
						bVar2 = false;
					}
				LAB_00286e28:
					iVar6 = 0x0;
					if (!bVar2) goto LAB_00286f0c;
					iVar4 = *piVar7;
					pfVar10 = (float *)piVar7[0x1];
					if (0x0 < iVar4) {
						do {
							fVar17 = pfVar10[0x1];
							fVar16 = pfVar10[0x2];
							iVar3 = iVar4 + -0x1;
							if (0.00000000 <=
								*pfVar10 * local_60 + fVar17 * fStack92 + fVar16 * local_58 + pfVar10[0x3]) {
								iVar6 += 0x1;
								iVar3 = iVar4 + -0x2;
								if ((0.70700002 <= fVar17) && (iVar3 = iVar4 + -0x3, fVar15 < fVar17)) {
									if (param_5 != 0x0) {
										pfVar8 = (float *)param_5;
										*pfVar8 = *pfVar10;
										pfVar8[0x1] = fVar17;
										pfVar8[0x2] = fVar16;
										pfVar8[0x3] = 1.00000000;
									}
									fVar15 = fVar17;
									iVar5 = iVar9;
									iVar3 = iVar4 + -0x4;
								}
							}
							iVar4 = iVar3;
							pfVar10 = pfVar10 + 0x4;
						} while (iVar4 != 0x0);
					}
					if (iVar6 != 0x0) {
						piVar7[0x4] = piVar7[0x4] | 0x240;
						goto LAB_00286f0c;
					}
					iVar6 = *(int *)(param_1 + 0x1220);
				}
				else {
				LAB_00286f0c:
					iVar6 = *(int *)(param_1 + 0x1220);
				}
				iVar9 += 0x1;
				if (iVar6 <= iVar9) {
					return iVar5;
				}
				iVar6 = iVar9 * 0x50;
			} while (true);
		}
	}
	return iVar5;
}



long FUN_00286f48(float param_1, undefined8 param_2, undefined8 *param_3, undefined8 *param_4,
	float *param_5, undefined4 *param_6, int param_7)

{
	int iVar1;
	uint uVar2;
	bool bVar3;
	float *pfVar4;
	long lVar5;
	long lVar6;
	float fVar7;
	int iVar8;
	float *pfVar9;
	int iVar10;
	int iVar11;
	long lVar12;
	int iVar13;
	float fVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	undefined4 uVar18;
	float local_70;
	float local_6c;
	float local_68;
	undefined4 local_64;

	lVar5 = FUN_002871c8(param_1, param_2, param_3, param_4, param_5, param_6, param_7);
	if (lVar5 == -0x2) {
		uVar18 = 0x3f800000;
		local_6c = -0.12500000;
		local_70 = 0.00000000;
		local_68 = 0.00000000;
		local_64 = 0x3f800000;
		lVar6 = FUN_002871c8(param_1, param_2, param_3, (undefined8 *)&local_70, param_5, param_6, param_7);
		lVar5 = lVar6;
		if (lVar6 == -0x2) {
			fVar7 = *(float *)(param_3 + 0x1);
			lVar5 = 0x0;
			local_70 = (float)*param_3 + local_70;
			local_6c = (float)((ulong)*param_3 >> 0x20) + local_6c;
			iVar13 = (int)param_2;
			if (0x0 < *(int *)(iVar13 + 0x1220)) {
				iVar8 = 0x0;
				do {
					iVar8 += iVar13;
					iVar11 = (int)lVar5;
					lVar12 = (long)(iVar11 + 0x1);
					if ((*(uint *)(iVar8 + 0x30) & 0x800) == 0x0) {
						iVar1 = *(int *)(iVar8 + 0x34);
						pfVar9 = *(float **)(iVar8 + 0x24);
						if (((iVar1 < 0x0) || (*(int *)(iVar8 + 0x20) <= iVar1)) ||
							(pfVar4 = pfVar9 + iVar1 * 0x4,
								*pfVar4 * local_70 + pfVar4[0x1] * local_6c + pfVar4[0x2] * (fVar7 + local_68) +
								pfVar4[0x3] < 0.00000000)) {
							iVar1 = *(int *)(iVar8 + 0x20);
							lVar12 = (long)(iVar11 + 0x1);
							iVar10 = 0x0;
							if (0x0 < iVar1) {
								do {
									fVar15 = *pfVar9;
									fVar17 = pfVar9[0x1];
									fVar14 = pfVar9[0x2];
									fVar16 = pfVar9[0x3];
									*(int *)(iVar8 + 0x34) = iVar10;
									if (0.00000000 <=
										fVar15 * local_70 + fVar17 * local_6c + fVar14 * (fVar7 + local_68) + fVar16)
									{
										bVar3 = false;
										goto LAB_00287140;
									}
									iVar10 += 0x1;
									pfVar9 = pfVar9 + 0x4;
								} while (iVar10 < iVar1);
							}
							bVar3 = true;
						}
						else {
							bVar3 = false;
						}
					LAB_00287140:
						if (bVar3) {
							iVar8 = iVar11 * 0x50 + iVar13;
							uVar2 = *(uint *)(iVar8 + 0x30);
							if ((uVar2 & 0x1) != 0x0) {
								*(uint *)(iVar8 + 0x30) = uVar2 | 0x240;
							}
							*param_6 = 0x0;
							param_6[0x1] = uVar18;
							param_6[0x2] = 0x0;
							param_6[0x3] = uVar18;
							lVar6 = lVar5;
						}
					}
					lVar5 = lVar12;
					if (*(int *)(iVar13 + 0x1220) <= lVar5) break;
					iVar8 = (int)lVar5 * 0x50;
				} while (true);
			}
			lVar5 = 0x0;
			if (lVar6 != -0x2) {
				lVar5 = lVar6;
			}
		}
	}
	return lVar5;
}



long FUN_002871c8(float param_1, undefined8 param_2, undefined8 *param_3, undefined8 *param_4,
	float *param_5, undefined4 *param_6, int param_7)

{
	undefined *puVar1;
	uint uVar2;
	undefined8 uVar3;
	bool bVar4;
	int iVar5;
	long lVar6;
	int iVar7;
	int iVar8;
	float fVar9;
	int iVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float local_110;
	float fStack268;
	float local_108;
	float fStack260;
	Vector4 local_100;
	undefined8 local_f0;
	float fStack232;
	float fStack228;
	float local_e0;
	float fStack220;
	float local_d8;
	float fStack212;
	undefined8 local_d0;
	float fStack200;
	float fStack196;
	undefined8 local_c0;
	undefined4 uStack184;
	undefined4 uStack180;
	undefined8 local_b0;
	float local_a8;
	undefined4 local_a4;
	float local_a0;
	undefined4 local_9c;
	float local_98;
	Vector4 local_90;
	float *local_80;
	int local_7c;

	iVar5 = 0x0;
	local_108 = *(float *)(param_3 + 0x1);
	fStack260 = *(float *)((int)param_3 + 0xc);
	local_100.z = *(float *)(param_4 + 0x1);
	local_100.w = *(float *)((int)param_4 + 0xc);
	local_110 = (float)*param_3;
	fStack268 = (float)((ulong)*param_3 >> 0x20);
	local_100.x = (float)*param_4;
	local_100.y = (float)((ulong)*param_4 >> 0x20);
	local_7c = 0x0;
	fVar9 = SQRT(*(float *)param_4 * *(float *)param_4 +
		*(float *)((int)param_4 + 0x4) * *(float *)((int)param_4 + 0x4) +
		*(float *)(param_4 + 0x1) * *(float *)(param_4 + 0x1));
	fVar11 = fVar9 / (0.05000000 / param_1);
	if ((byte)((uint)fVar11 >> 0x17) < 0x9e) {
		iVar10 = (int)fVar11;
	}
	else {
		if ((int)fVar11 < 0x0) {
			iVar10 = 0x7fffffff;
		}
		else {
			iVar10 = -0x80000000;
		}
	}
	iVar10 += 0x1;
	if (0x6 < iVar10) {
		iVar10 = 0x6;
	}
	fVar9 = fVar9 / (float)iVar10;
	local_80 = param_5;
	fVar11 = RSQRT(0.00000000, &local_100);
	local_100.x = local_100.x * fVar11 * fVar9;
	local_100.y = local_100.y * fVar11 * fVar9;
	local_100.z = local_100.z * fVar11 * fVar9;
	iVar7 = (int)param_2;
	if (0.00002500 <
		*(float *)param_4 * *(float *)param_4 +
		*(float *)((int)param_4 + 0x4) * *(float *)((int)param_4 + 0x4) +
		*(float *)(param_4 + 0x1) * *(float *)(param_4 + 0x1)) {
		do {
			FUN_00285f88(iVar7, (undefined8 *)&local_110, (undefined8 *)&local_100, &local_f0, param_7);
			fVar11 = (float)local_f0;
			fVar12 = (float)((ulong)local_f0 >> 0x20);
			fStack212 = fStack228;
			local_e0 = fVar11 - local_110;
			fStack220 = fVar12 - fStack268;
			local_d8 = fStack232 - local_108;
			iVar5 += 0x1;
			if (SQRT(local_e0 * local_e0 + fStack220 * fStack220 + local_d8 * local_d8) < 0.00100000) {
				local_7c = 0x1;
				goto LAB_002873f0;
			}
			local_108 = fStack232;
			fStack260 = fStack228;
			local_110 = fVar11;
			fStack268 = fVar12;
		} while (iVar5 != iVar10);
		*local_80 = fVar11;
		local_80[0x1] = fVar12;
		local_80[0x2] = fStack232;
		local_80[0x3] = fStack228;
	}
	else {
		uVar3 = *param_3;
		local_108 = *(float *)(param_3 + 0x1);
		fStack260 = *(float *)((int)param_3 + 0xc);
		local_110 = (float)uVar3;
		*local_80 = local_110;
		fStack268 = (float)((ulong)uVar3 >> 0x20);
		local_80[0x1] = fStack268;
		local_80[0x2] = local_108;
		local_80[0x3] = fStack260;
	}
LAB_002873f0:
	iVar5 = FUN_002867f8(iVar7, &local_110, (long)(int)&local_f0);
	_iVar5 = (long)iVar5;
	if (_iVar5 == -0x1) {
		fVar11 = -fVar9;
		local_a8 = 0.00000000;
		local_b0 = (ulong)(uint)fVar11 << 0x20;
		local_a4 = 0x3f800000;
		bVar4 = false;
		lVar6 = FUN_00286a50(param_2, &local_110, &local_b0, &local_d0, &local_c0);
		if ((lVar6 != -0x2) && (lVar6 != -0x1)) {
			bVar4 = true;
			local_e0 = (float)local_d0;
			fStack220 = (float)((ulong)local_d0 >> 0x20);
			local_d8 = fStack200;
			fStack212 = fStack196;
			*param_6 = (int)local_c0;
			param_6[0x1] = (int)((ulong)local_c0 >> 0x20);
			param_6[0x2] = uStack184;
			param_6[0x3] = uStack180;
			_iVar5 = lVar6;
		}
		if (_iVar5 == -0x1) {
			iVar8 = 0x0;
			iVar5 = 0x0;
			iVar10 = 0x0;
			while (true) {
				local_a0 = fVar9;
				local_9c = 0x0;
				local_98 = fVar11;
				puVar1 = &local_b0 + 0x7;
				uVar2 = (uint)puVar1 & 0x7;
				*(ulong *)(puVar1 + -uVar2) =
					*(ulong *)(puVar1 + -uVar2) & -0x1 << (uVar2 + 0x1) * 0x8 |
					(ulong)((uint)fVar9 >> (0x7 - uVar2) * 0x8);
				local_b0 = (ulong)(uint)fVar9;
				local_a8 = fVar11;
				local_90.z = *(float *)(&local_b0 + iVar5 * 0x4);
				local_90.x = *(float *)(&local_b0 + iVar10 * 0x4);
				local_90.w = 1.00000000;
				local_90.y = fVar11;
				fVar12 = RSQRT(0.00000000, &local_90);
				local_90.x = local_90.x * fVar12 * fVar9;
				local_90.y = local_90.y * fVar12 * fVar9;
				local_90.z = local_90.z * fVar12 * fVar9;
				lVar6 = FUN_00286a50(param_2, &local_110, &local_90, &local_d0, &local_c0);
				iVar8 += 0x1;
				if (-0x1 < lVar6) break;
				if (0x8 < iVar8) goto LAB_002875dc;
				iVar5 = iVar8 / 0x3;
				iVar10 = iVar8 % 0x3;
			}
			bVar4 = true;
			local_e0 = (float)local_d0;
			fStack220 = (float)((ulong)local_d0 >> 0x20);
			local_d8 = fStack200;
			fStack212 = fStack196;
			*param_6 = (int)local_c0;
			param_6[0x1] = (int)((ulong)local_c0 >> 0x20);
			param_6[0x2] = uStack184;
			param_6[0x3] = uStack180;
			_iVar5 = lVar6;
		LAB_002875dc:
			fVar9 = *(float *)((int)param_4 + 0x4);
		}
		else {
			fVar9 = *(float *)((int)param_4 + 0x4);
		}
		if ((fVar9 < 0.00100000) && (bVar4)) {
			fVar12 = local_e0 - local_110;
			fVar11 = fStack220 - fStack268;
			fVar9 = 0.05000000;
			fVar13 = local_d8 - local_108;
			fVar14 = SQRT(fVar12 * fVar12 + fVar11 * fVar11 + fVar13 * fVar13);
			if (0.05000000 < fVar14) {
				local_b0 = CONCAT44(fVar11, fVar12);
				local_a4 = 0x3f800000;
				local_90.w = 1.00000000;
				local_a8 = fVar13;
				local_90.x = fVar12;
				local_90.y = fVar11;
				local_90.z = fVar13;
				fVar11 = RSQRT(0.00000000, &local_90);
				fVar14 = fVar14 - fVar9;
				local_90.x = local_90.x * fVar11 * fVar14;
				local_90.y = local_90.y * fVar11 * fVar14;
				local_90.z = local_90.z * fVar11 * fVar14;
				local_110 = local_110 + local_90.x;
				fStack268 = fStack268 + local_90.y;
				local_108 = local_108 + local_90.z;
			}
		}
	}
	else {
		*param_6 = (int)local_f0;
		param_6[0x1] = (int)((ulong)local_f0 >> 0x20);
		*(float *)(param_6 + 0x2) = fStack232;
		*(float *)(param_6 + 0x3) = fStack228;
	}
	*local_80 = local_110;
	local_80[0x1] = fStack268;
	local_80[0x2] = local_108;
	local_80[0x3] = fStack260;
	if (_iVar5 == -0x1) {
		iVar5 = FUN_00288778(iVar7);
		_iVar5 = (long)iVar5;
		if (_iVar5 == -0x1) {
			if (local_7c == 0x0) {
				return -0x1;
			}
			if (*(float *)((int)param_4 + 0x4) < 0.00000000) {
				return -0x2;
			}
		}
		else {
			*param_6 = 0x0;
			param_6[0x3] = 0x3f800000;
			param_6[0x1] = 0x3f800000;
			param_6[0x2] = 0x0;
		}
	}
	return _iVar5;
}



long FUN_00287798(int param_1, undefined8 *param_2, undefined8 *param_3, undefined8 *param_4,
	long param_5)

{
	int iVar1;
	long lVar2;
	float fVar3;
	float *unaff_s0_lo;
	float fVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	Vector4 local_e0;
	Vector4 local_d0;
	float local_c0;
	float fStack188;
	float local_b8;
	undefined4 uStack180;
	Vector4 local_b0;
	float local_a0;
	float local_9c;
	float local_98;
	undefined4 local_94;
	float local_90;
	float fStack140;
	float fStack136;
	undefined4 uStack132;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;

	fVar5 = 0.00010000;
	local_98 = *(float *)(param_3 + 0x1);
	local_e0.w = *(float *)((int)param_3 + 0xc);
	local_a0 = (float)*param_3;
	local_e0.y = 0.00000000;
	fVar3 = *(float *)(param_4 + 0x1);
	local_d0.w = *(float *)((int)param_4 + 0xc);
	fVar4 = (float)*param_4;
	fVar8 = SQRT(*(float *)param_3 * *(float *)param_3 +
		*(float *)((int)param_3 + 0x4) * *(float *)((int)param_3 + 0x4) +
		*(float *)(param_3 + 0x1) * *(float *)(param_3 + 0x1));
	fVar6 = SQRT(*(float *)param_4 * *(float *)param_4 +
		*(float *)((int)param_4 + 0x4) * *(float *)((int)param_4 + 0x4) +
		*(float *)(param_4 + 0x1) * *(float *)(param_4 + 0x1));
	local_e0.x = local_a0;
	local_e0.z = local_98;
	if (0.00010000 < SQRT(local_a0 * local_a0 + 0.00000000 + local_98 * local_98)) {
		fVar7 = RSQRT(0.00000000, &local_e0);
		local_e0.y = local_e0.y * fVar7;
		local_e0.x = local_e0.x * fVar7;
		local_e0.z = local_e0.z * fVar7;
	}
	local_d0.y = 0.00000000;
	local_d0.x = fVar4;
	local_d0.z = fVar3;
	if (fVar5 < SQRT(fVar4 * fVar4 + 0.00000000 + fVar3 * fVar3)) {
		fVar5 = RSQRT(0.00000000, &local_d0);
		local_d0.y = local_d0.y * fVar5;
		local_d0.x = local_d0.x * fVar5;
		local_d0.z = local_d0.z * fVar5;
	}
	lVar2 = 0x0;
	if (param_5 != 0x0) {
		local_b0.x = *(float *)param_3;
		local_b0.z = *(float *)(param_3 + 0x1);
		if ((((0.01000000 < SQRT(local_b0.x * local_b0.x + local_b0.z * local_b0.z)) &&
			(fVar5 = 0.20000000, fVar6 < 0.20000000)) && (fVar6 < fVar8)) &&
			(fVar6 = 0.86600000,
				local_d0.x * local_e0.x + local_d0.y * local_e0.y + local_d0.z * local_e0.z < 0.86600000)) {
			local_a0 = local_a0 - fVar4;
			local_9c = 0.00000000;
			local_98 = local_98 - fVar3;
			local_94 = 0x3f800000;
			local_b0.y = 0.00000000;
			local_b0.w = 1.00000000;
			fVar7 = SQRT(local_a0 * local_a0 + 0.00000000 + local_98 * local_98);
			fVar3 = RSQRT(0.00000000, &local_b0);
			fVar4 = SQRT(*(float *)param_3 * *(float *)param_3 +
				*(float *)(param_3 + 0x1) * *(float *)(param_3 + 0x1)) * 3.00000000;
			local_b0.x = local_b0.x * fVar3 * fVar7;
			local_b0.z = local_b0.z * fVar3 * fVar7;
			local_b0.y = fVar5;
			if (fVar4 <= fVar5) {
				local_b0.y = fVar4;
			}
			uStack180 = *(undefined4 *)((int)param_2 + 0xc);
			local_c0 = (float)*param_2 + local_b0.x;
			fStack188 = (float)((ulong)*param_2 >> 0x20) + local_b0.y;
			local_b8 = *(float *)(param_2 + 0x1) + local_b0.z;
			iVar1 = FUN_00284560(0.00000000, param_1, &local_c0, 0x800);
			lVar2 = 0x0;
			if (iVar1 == 0x0) {
				fVar4 = FUN_00287cc8(0.00000000, ABS(local_b0.y), param_1, (long)(int)&local_c0, 0x0,
					(long)(int)&local_a0, 0x0, 0x0);
				lVar2 = CONCAT44(local_b0.y, local_b0.x);
				if ((fVar4 == 1000000015047466219876688855040.00000000) || (lVar2 = 0x0, fVar6 < local_9c))
				{
					*unaff_s0_lo = (float)lVar2;
					unaff_s0_lo[0x1] = (float)((ulong)lVar2 >> 0x20);
					unaff_s0_lo[0x2] = local_b0.z;
					unaff_s0_lo[0x3] = local_b0.w;
					if ((*(float *)((int)param_3 + 0x4) < 0.00100000) && (0.00100000 < fVar8)) {
						local_90 = *unaff_s0_lo;
						fVar4 = fVar8;
						do {
							local_90 = *(float *)param_2 + local_90;
							fStack124 = *(float *)((int)param_2 + 0x4) + unaff_s0_lo[0x1];
							fStack136 = *(float *)(param_2 + 0x1) + unaff_s0_lo[0x2];
							local_74 = 0x3f800000;
							uStack132 = 0x3f800000;
							fStack140 = fStack124 - fVar4;
							local_80 = local_90;
							local_78 = fStack136;
							iVar1 = FUN_00284560(0.00000000, param_1, &local_90, 0x880);
							if (iVar1 == 0x0) {
								unaff_s0_lo[0x1] = unaff_s0_lo[0x1] - fVar4;
								break;
							}
							fVar4 = fVar4 - fVar8 * fVar5;
							local_90 = *unaff_s0_lo;
						} while (0.00100000 < fVar4);
					}
					lVar2 = 0x1;
				}
			}
		}
	}
	return lVar2;
}



float FUN_00287cc8(float param_1, float param_2, int param_3, undefined8 param_4, long param_5,
	long param_6, long param_7, long param_8)

{
	bool bVar1;
	float *pfVar2;
	int iVar3;
	int iVar4;
	int *piVar5;
	int *piVar6;
	int *piVar7;
	int *piVar8;
	int iVar9;
	int iVar10;
	undefined4 *puVar11;
	float *pfVar12;
	float fVar13;
	float fVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	float local_c0;
	float fStack188;
	float fStack184;
	float fStack180;
	float local_b0;
	float fStack172;
	float fStack168;
	float fStack164;
	float local_a0;
	float fStack156;
	float local_98;
	float fStack148;
	undefined4 local_90;
	undefined4 uStack140;
	undefined4 uStack136;
	undefined4 uStack132;
	undefined8 *local_80;
	undefined4 uStack124;

	fVar18 = -1000000015047466219876688855040.00000000;
	fVar17 = 1000000015047466219876688855040.00000000;
	piVar6 = (int *)param_7;
	if (param_7 != 0x0) {
		*piVar6 = 0x0;
	}
	piVar7 = (int *)param_8;
	if (param_8 != 0x0) {
		*piVar7 = 0x0;
	}
	iVar10 = 0x0;
	if (0x0 < *(int *)(param_3 + 0x1220)) {
		iVar9 = param_3 + 0xa20;
		piVar8 = (int *)(param_3 + 0x34);
		piVar5 = (int *)(param_3 + 0x20);
		do {
			local_80 = (undefined8 *)param_4;
			fStack184 = *(float *)(local_80 + 0x1);
			fStack180 = *(float *)((int)local_80 + 0xc);
			local_c0 = (float)*local_80;
			fStack156 = (float)((ulong)*local_80 >> 0x20);
			fStack188 = fStack156 + param_1;
			fStack156 = fStack156 - param_2;
			if ((piVar5[0x4] & 0x800U) == 0x0) {
				if ((piVar5[0x4] & 0x80U) == 0x0) {
					iVar3 = piVar5[0x5];
					pfVar12 = (float *)piVar5[0x1];
					if (((iVar3 < 0x0) || (*piVar5 <= iVar3)) ||
						(pfVar2 = pfVar12 + iVar3 * 0x4,
							*pfVar2 * local_c0 + pfVar2[0x1] * fStack156 + pfVar2[0x2] * fStack184 + pfVar2[0x3] <
							0.00000000)) {
						iVar3 = *piVar5;
						iVar4 = 0x0;
						if (0x0 < iVar3) {
							do {
								fVar14 = *pfVar12;
								fVar16 = pfVar12[0x1];
								fVar13 = pfVar12[0x2];
								fVar15 = pfVar12[0x3];
								*piVar8 = iVar4;
								if (0.00000000 <=
									fVar14 * local_c0 + fVar16 * fStack156 + fVar13 * fStack184 + fVar15) {
									bVar1 = false;
									goto LAB_00287ed0;
								}
								iVar4 += 0x1;
								pfVar12 = pfVar12 + 0x4;
							} while (iVar4 < iVar3);
						}
						bVar1 = true;
					}
					else {
						bVar1 = false;
					}
				LAB_00287ed0:
					if (bVar1) {
						uStack124 = (undefined4)((ulong)param_4 >> 0x20);
						local_b0 = local_c0;
						fStack172 = fStack188;
						fStack168 = fStack184;
						fStack164 = fStack180;
						local_a0 = local_c0;
						local_98 = fStack184;
						fStack148 = fStack180;
						iVar3 = FUN_00283b80(piVar5, (undefined8 *)&local_c0, (undefined8 *)&local_a0, &local_b0,
							&local_90);
						param_4 = CONCAT44(uStack124, local_80);
						if (iVar3 == 0x1) {
							iVar3 = *(int *)(param_3 + 0x1220);
							if (fStack172 <= fVar18) goto LAB_00287f78;
							if ((piVar5[0x4] & 0x1U) == 0x0) {
								if (param_7 != 0x0) {
									*piVar6 = iVar9;
								}
								if (param_8 != 0x0) {
									*piVar7 = 0x0;
								}
							}
							else {
								if (param_8 != 0x0) {
									*piVar7 = piVar5[0x2];
								}
								if (param_7 != 0x0) {
									*piVar6 = 0x0;
								}
							}
							if (param_5 != 0x0) {
								pfVar12 = (float *)param_5;
								*pfVar12 = local_b0;
								pfVar12[0x1] = fStack172;
								pfVar12[0x2] = fStack168;
								pfVar12[0x3] = fStack164;
							}
							fVar17 = *(float *)((int)local_80 + 0x4) - fStack172;
							fVar18 = fStack172;
							if (param_6 != 0x0) {
								puVar11 = (undefined4 *)param_6;
								*puVar11 = local_90;
								puVar11[0x1] = uStack140;
								puVar11[0x2] = uStack136;
								puVar11[0x3] = uStack132;
							}
						}
					}
					iVar3 = *(int *)(param_3 + 0x1220);
				}
				else {
					iVar3 = *(int *)(param_3 + 0x1220);
				}
			}
			else {
				iVar3 = *(int *)(param_3 + 0x1220);
				if ((float)piVar5[0x11] < 0.00000000) {
					if (param_7 != 0x0) {
						*piVar6 = 0x0;
					}
					if (param_8 != 0x0) {
						*piVar7 = 0x0;
					}
					return 0.00000000;
				}
			}
		LAB_00287f78:
			iVar10 += 0x1;
			iVar9 += 0x40;
			piVar8 = piVar8 + 0x14;
			piVar5 = piVar5 + 0x14;
		} while (iVar10 < iVar3);
	}
	return fVar17;
}



ulong FUN_00287fd8(int param_1, int param_2)

{
	int iVar1;
	ulong uVar2;
	undefined4 uVar3;
	float local_70;
	float fStack108;
	float local_68;
	undefined4 uStack100;
	float local_60;
	float local_5c;
	float local_58;
	undefined4 local_54;

	uVar3 = 0x3f800000;
	local_60 = *(float *)(param_2 + 0x20) * 0.50000000;
	local_5c = *(float *)(param_2 + 0x24) * 0.50000000;
	uStack100 = *(undefined4 *)(param_2 + 0x3c);
	local_58 = *(float *)(param_2 + 0x28) * 0.50000000;
	local_54 = 0x3f800000;
	local_70 = *(float *)(param_2 + 0x30) + local_60;
	local_68 = *(float *)(param_2 + 0x38) + local_58;
	fStack108 = (*(float *)(param_2 + 0x34) + local_5c) - 0.80000001;
	iVar1 = FUN_00284560(0.00000000, param_1, &local_70, 0x800);
	if (iVar1 == 0x0) {
		uStack100 = *(undefined4 *)(param_2 + 0x3c);
		local_58 = *(float *)(param_2 + 0x28) * 1.60000002;
		local_60 = *(float *)(param_2 + 0x20) * 1.60000002;
		local_5c = *(float *)(param_2 + 0x24) * 1.60000002;
		local_70 = *(float *)(param_2 + 0x30) + local_60;
		local_68 = *(float *)(param_2 + 0x38) + local_58;
		fStack108 = (*(float *)(param_2 + 0x34) + local_5c) - 0.80000001;
		local_54 = uVar3;
		iVar1 = FUN_00284560(0.00000000, param_1, &local_70, 0x800);
		uVar2 = (ulong)(iVar1 != 0x0);
	}
	else {
		uVar2 = 0x1;
	}
	return uVar2;
}



void FUN_00288158(long param_1, long param_2)

{
	bool bVar1;
	int iVar2;

	if ((param_2 == 0xffff) && (param_1 != 0x0)) {
		iVar2 = 0x1e;
		do {
			bVar1 = iVar2 != -0x1;
			iVar2 += -0x1;
		} while (bVar1);
		FUN_00288608(0x3c4030);
	}
	return;
}



undefined4 FUN_002881c0(int param_1)

{
	return *(undefined4 *)(param_1 + 0x4);
}



undefined4 FUN_002881e0(int *param_1, float *param_2, undefined8 param_3)

{
	undefined4 uVar1;

	uVar1 = FUN_00283d60(param_1, param_2, param_3);
	return uVar1;
}



undefined4 FUN_00288200(float param_1, int *param_2, float *param_3, int *param_4)

{
	int iVar1;
	float *pfVar2;
	float *pfVar3;
	int iVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	float fVar11;

	iVar1 = *param_4;
	pfVar3 = (float *)param_2[0x1];
	if ((iVar1 < 0x0) || (*param_2 <= iVar1)) {
		iVar1 = *param_2;
	}
	else {
		pfVar2 = pfVar3 + iVar1 * 0x4;
		iVar1 = *param_2;
		if (param_1 <=
			*pfVar2 * *param_3 + pfVar2[0x1] * param_3[0x1] + pfVar2[0x2] * param_3[0x2] + pfVar2[0x3])
		{
			return 0x0;
		}
	}
	iVar4 = 0x0;
	if (0x0 < iVar1) {
		fVar11 = param_3[0x2];
		fVar9 = *param_3;
		fVar10 = param_3[0x1];
		do {
			fVar6 = *pfVar3;
			fVar8 = pfVar3[0x1];
			fVar5 = pfVar3[0x2];
			fVar7 = pfVar3[0x3];
			*param_4 = iVar4;
			if (param_1 <= fVar6 * fVar9 + fVar8 * fVar10 + fVar5 * fVar11 + fVar7) {
				return 0x0;
			}
			iVar4 += 0x1;
			pfVar3 = pfVar3 + 0x4;
		} while (iVar4 < iVar1);
	}
	return 0x1;
}



long FUN_002882e8(long param_1)

{
	long lVar1;
	int iVar2;

	iVar2 = 0x3f;
	lVar1 = param_1;
	do {
		iVar2 += -0x1;
		FUN_00288368(lVar1);
		lVar1 = (long)((int)lVar1 + 0x50);
	} while (iVar2 != -0x1);
	*(undefined4 *)((int)param_1 + 0x1400) = 0x0;
	return param_1;
}



undefined8 FUN_00288368(undefined8 param_1)

{
	bool bVar1;
	int iVar2;
	undefined4 *puVar3;

	puVar3 = (undefined4 *)param_1;
	*puVar3 = 0x0;
	puVar3[0x1] = 0x0;
	iVar2 = 0x1;
	do {
		bVar1 = iVar2 != -0x1;
		iVar2 += -0x1;
	} while (bVar1);
	MovePositionFromPos2ToPos1((Vector4 *)(puVar3 + 0x4), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar3[0x7] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar3 + 0x8), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar3[0xb] = 0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(puVar3 + 0xc), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	puVar3[0xf] = 0x3f800000;
	return param_1;
}



undefined8 * FUN_00288430(int *param_1, undefined8 *param_2, int param_3, int *param_4)

{
	undefined8 uVar1;
	byte *position;
	void *memory;
	undefined8 *puVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	ulong memoryAllocSize;

	uVar1 = *param_2;
	iVar3 = *(int *)(param_2 + 0x1);
	iVar4 = *(int *)((int)param_2 + 0xc);
	param_1[0x4] = (int)uVar1;
	param_1[0x5] = (int)((ulong)uVar1 >> 0x20);
	param_1[0x6] = iVar3;
	param_1[0x7] = iVar4;
	iVar3 = *(int *)((int)param_2 + 0x14);
	iVar4 = *(int *)(param_2 + 0x3);
	iVar5 = *(int *)((int)param_2 + 0x1c);
	param_1[0x8] = *(int *)(param_2 + 0x2);
	param_1[0x9] = iVar3;
	param_1[0xa] = iVar4;
	param_1[0xb] = iVar5;
	iVar3 = *(int *)((int)param_2 + 0x24);
	iVar4 = *(int *)(param_2 + 0x5);
	iVar5 = *(int *)((int)param_2 + 0x2c);
	param_1[0xc] = *(int *)(param_2 + 0x4);
	param_1[0xd] = iVar3;
	param_1[0xe] = iVar4;
	param_1[0xf] = iVar5;
	position = (byte *)FUN_002881c0((int)param_4);
	iVar3 = *param_4;
	MemoryDeallocate2_((void *)param_1[0x1]);
	*param_1 = iVar3;
	memoryAllocSize = 0x180;
	if (0x1 < iVar3 - 0x16U) {
		memoryAllocSize = (long)(iVar3 << 0x4);
	}
	memory = MemoryAllocate2(memoryAllocSize);
	*(void **)(param_1 + 0x1) = memory;
	puVar2 = (undefined8 *)CopyBytesIntoMemory(memory, position, (uint)memoryAllocSize);
	param_1[0x10] = param_3;
	return puVar2;
}



undefined4 FUN_002884e8(int param_1, float *param_2, int param_3)

{
	bool bVar1;
	undefined4 uVar2;

	uVar2 = 0x0;
	bVar1 = false;
	if ((*param_2 == *(float *)(param_1 + 0x10)) &&
		(bVar1 = false, param_2[0x1] == *(float *)(param_1 + 0x14))) {
		bVar1 = true;
	}
	if (bVar1) {
		bVar1 = false;
		if ((param_2[0x4] == *(float *)(param_1 + 0x20)) &&
			(bVar1 = false, param_2[0x5] == *(float *)(param_1 + 0x24))) {
			bVar1 = true;
		}
		if (bVar1) {
			bVar1 = false;
			if ((param_2[0x8] == *(float *)(param_1 + 0x30)) &&
				(bVar1 = false, param_2[0x9] == *(float *)(param_1 + 0x34))) {
				bVar1 = true;
			}
			if ((bVar1) && (*(int *)(param_1 + 0x40) == param_3)) {
				uVar2 = 0x1;
			}
		}
	}
	return uVar2;
}



undefined8 FUN_00288608(undefined8 param_1)

{
	bool bVar1;
	undefined4 *puVar2;
	int iVar3;
	int iVar4;

	iVar3 = 0x1f;
	iVar4 = (int)param_1;
	puVar2 = (undefined4 *)(iVar4 + 0x20);
	do {
		*puVar2 = 0x0;
		iVar3 += -0x1;
		puVar2[0x1] = 0x0;
		puVar2 = puVar2 + 0x14;
	} while (iVar3 != -0x1);
	puVar2 = (undefined4 *)(iVar4 + 0x1230);
	iVar3 = 0x1e;
	while (iVar3 != -0x1) {
		iVar3 += -0x1;
	}
	iVar3 = 0x1f;
	do {
		*puVar2 = 0x0;
		iVar3 += -0x1;
		puVar2[0x1] = 0x0;
		puVar2 = puVar2 + 0x14;
	} while (iVar3 != -0x1);
	iVar3 = 0x1e;
	do {
		bVar1 = iVar3 != -0x1;
		iVar3 += -0x1;
	} while (bVar1);
	FUN_002888b8(iVar4);
	return param_1;
}



void FUN_002886e8(int param_1, int param_2, int param_3, uint param_4)

{
	int iVar1;
	int iVar2;
	int iVar3;
	int iVar4;

	iVar4 = *(int *)(param_1 + 0x1220);
	iVar3 = 0x0;
	if (0x0 < iVar4) {
		iVar1 = param_3 * 0x50 + param_1;
		iVar2 = param_1;
		do {
			if ((*(uint *)(iVar2 + 0x30) & 0x1) == 0x0) {
				iVar4 = *(int *)(param_1 + 0x1220);
			}
			else {
				if (*(int *)(iVar2 + 0x28) == param_2) {
					if (iVar3 + param_3 < iVar4) {
						if (*(int *)(iVar1 + 0x28) == param_2) {
							*(uint *)(iVar1 + 0x30) = *(uint *)(iVar1 + 0x30) | param_4;
							return;
						}
						iVar4 = *(int *)(param_1 + 0x1220);
					}
					else {
						iVar4 = *(int *)(param_1 + 0x1220);
					}
				}
				else {
					iVar4 = *(int *)(param_1 + 0x1220);
				}
			}
			iVar3 += 0x1;
			iVar1 += 0x50;
			iVar2 += 0x50;
		} while (iVar3 < iVar4);
	}
	return;
}



int FUN_00288778(int param_1)

{
	int iVar1;
	int iVar2;
	int iVar3;

	iVar3 = 0x0;
	iVar2 = param_1;
	if (0x0 < *(int *)(param_1 + 0x1220)) {
		do {
			if ((*(uint *)(iVar2 + 0x30) & 0x800) == 0x0) {
				iVar1 = *(int *)(param_1 + 0x1220);
			}
			else {
				iVar1 = *(int *)(param_1 + 0x1220);
				if (*(float *)(iVar2 + 0x64) < 0.00000000) {
					*(uint *)(iVar2 + 0x30) = *(uint *)(iVar2 + 0x30) | 0x200;
					return iVar3;
				}
			}
			iVar3 += 0x1;
			iVar2 = iVar2 + 0x50;
		} while (iVar3 < iVar1);
	}
	return -0x1;
}



void FUN_002887e0(int param_1)

{
	int iVar1;
	int iVar2;

	iVar2 = 0x0;
	iVar1 = param_1;
	if (0x0 < *(int *)(param_1 + 0x1220)) {
		do {
			iVar2 += 0x1;
			*(uint *)(iVar1 + 0x30) = *(uint *)(iVar1 + 0x30) & 0x873;
			iVar1 = iVar1 + 0x50;
		} while (iVar2 < *(int *)(param_1 + 0x1220));
	}
	return;
}



undefined * FUN_00288818(void)

{
	Vector4 *pos1;
	int iVar1;

	pos1 = (Vector4 *)DAT(0x003c4070);
	iVar1 = 0x0;
	uRam0030a211 = 0x1;
	DAT_003c5250 = 0x0;
	DAT_003c6460 = 0x0;
	do {
		MovePositionFromPos2ToPos1(pos1, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		iVar1 += 0x1;
		pos1->w = 1.00000000;
		pos1 = pos1 + 0x5;
	} while (iVar1 < 0x20);
	return DAT(0x003c4030);
}



void FUN_002888b0(void)

{
	uRam0030a211 = 0x0;
	return;
}



void FUN_002888b8(int param_1)

{
	Vector4 *pos1;
	int iVar1;

	pos1 = (Vector4 *)(param_1 + 0x40);
	iVar1 = 0x0;
	*(undefined4 *)(param_1 + 0x1220) = 0x0;
	*(undefined4 *)(param_1 + 0x2430) = 0x0;
	do {
		MovePositionFromPos2ToPos1(pos1, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		iVar1 += 0x1;
		pos1->w = 1.00000000;
		pos1 = pos1 + 0x5;
	} while (iVar1 < 0x20);
	return;
}



void FUN_00288930(void)

{
	FUN_00288158(0x1, 0xffff);
	return;
}



void FUN_00288950(uint *param_1, undefined8 *param_2, uint *param_3)

{
	undefined8 uVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	float fVar5;
	float fVar6;
	Vector4 local_80;
	float local_70;
	float local_6c;
	float local_68;
	undefined4 local_64;
	float local_60;
	float local_5c;
	float local_58;
	undefined4 local_54;
	float local_50;
	float local_4c[0x3];

	*param_1 = *param_1 | 0x1;
	uVar1 = *param_2;
	uVar2 = *(uint *)(param_2 + 0x1);
	uVar3 = *(uint *)((int)param_2 + 0xc);
	param_1[0x4] = (uint)uVar1;
	param_1[0x5] = (uint)((ulong)uVar1 >> 0x20);
	param_1[0x6] = uVar2;
	param_1[0x7] = uVar3;
	uVar2 = param_3[0x1];
	uVar3 = param_3[0x2];
	uVar4 = param_3[0x3];
	fVar5 = (float)param_1[0x4];
	param_1[0x8] = *param_3;
	param_1[0x9] = uVar2;
	param_1[0xa] = uVar3;
	param_1[0xb] = uVar4;
	fVar6 = (float)param_1[0x8];
	local_80.x = (float)param_1[0x5] * (float)param_1[0xa] - (float)param_1[0x6] * (float)param_1[0x9]
		;
	local_80.y = (float)param_1[0x6] * fVar6 - fVar5 * (float)param_1[0xa];
	local_80.w = 1.00000000;
	local_80.z = fVar5 * (float)param_1[0x9] - (float)param_1[0x5] * fVar6;
	local_50 = SQRT(local_80.x * local_80.x + local_80.y * local_80.y + local_80.z * local_80.z);
	local_4c[0] = fVar5 * fVar6 + (float)param_1[0x5] * (float)param_1[0x9] +
		(float)param_1[0x6] * (float)param_1[0xa];
	FUN_0018cc18(&local_50, local_4c);
	fVar5 = RSQRT(0.00000000, &local_80);
	fVar6 = (float)param_1[0x4];
	local_80.x = local_80.x * fVar5 * local_50;
	local_80.y = local_80.y * fVar5 * local_50;
	local_80.z = local_80.z * fVar5 * local_50;
	*(float *)(param_1 + 0x13) = local_4c[0];
	*(float *)(param_1 + 0x10) = local_80.x;
	*(float *)(param_1 + 0x11) = local_80.y;
	local_60 = fVar6 * local_4c[0];
	*(float *)(param_1 + 0x12) = local_80.z;
	local_64 = 0x3f800000;
	local_5c = (float)param_1[0x5] * local_4c[0];
	local_58 = (float)param_1[0x6] * local_4c[0];
	local_54 = 0x3f800000;
	local_70 = (local_80.y * (float)param_1[0x6] - local_80.z * (float)param_1[0x5]) + local_60;
	local_6c = (local_80.z * fVar6 - local_80.x * (float)param_1[0x6]) + local_5c;
	local_68 = (local_80.x * (float)param_1[0x5] - local_80.y * fVar6) + local_58;
	*(float *)(param_1 + 0x14) = local_70;
	*(float *)(param_1 + 0x15) = local_6c;
	*(float *)(param_1 + 0x16) = local_68;
	*(float *)(param_1 + 0x17) =
		-(fVar6 * local_80.x + (float)param_1[0x5] * local_80.y + (float)param_1[0x6] * local_80.z);
	fVar5 = FUN_0011c028(0.00000000, 0.00000000, (float *)(param_1 + 0x10));
	*(float *)(param_1 + 0x10) = (float)param_1[0x10] * fVar5;
	*(float *)(param_1 + 0x11) = (float)param_1[0x11] * fVar5;
	*(float *)(param_1 + 0x12) = (float)param_1[0x12] * fVar5;
	*(float *)(param_1 + 0x13) = (float)param_1[0x13] * fVar5;
	fVar5 = FUN_0011c028(0.00000000, 0.00000000, (float *)(param_1 + 0x14));
	*(float *)(param_1 + 0x14) = (float)param_1[0x14] * fVar5;
	*(float *)(param_1 + 0x15) = (float)param_1[0x15] * fVar5;
	*(float *)(param_1 + 0x16) = (float)param_1[0x16] * fVar5;
	*(float *)(param_1 + 0x17) = (float)param_1[0x17] * fVar5;
	*(float *)(param_1 + 0x10) = -(float)param_1[0x10];
	*(float *)(param_1 + 0x11) = -(float)param_1[0x11];
	*(float *)(param_1 + 0x12) = -(float)param_1[0x12];
	*(float *)(param_1 + 0x14) = -(float)param_1[0x14];
	*(float *)(param_1 + 0x15) = -(float)param_1[0x15];
	*(float *)(param_1 + 0x16) = -(float)param_1[0x16];
	return;
}



void FUN_00288c88(uint *param_1, float *param_2)

{
	uint uVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;

	uVar1 = *param_1;
	if ((uVar1 & 0x10) == 0x0) {
		if ((uVar1 & 0x20) == 0x0) {
			if ((uVar1 & 0x40) != 0x0) {
				fVar3 = (float)param_1[0x29];
				fVar2 = (float)param_1[0x2a];
				fVar4 = (float)param_1[0x28] * *param_2 + fVar3 * param_2[0x1] + fVar2 * param_2[0x2] +
					(float)param_1[0x2b];
				*param_2 = *param_2 - (float)param_1[0x28] * fVar4;
				param_2[0x1] = param_2[0x1] - fVar3 * fVar4;
				param_2[0x2] = param_2[0x2] - fVar2 * fVar4;
			}
		}
		else {
			fVar5 = (float)param_1[0x25];
			fVar2 = (float)param_1[0x26];
			fVar4 = (float)param_1[0x24] * (*param_2 - (float)param_1[0x20]) +
				fVar5 * (param_2[0x1] - (float)param_1[0x21]) +
				fVar2 * (param_2[0x2] - (float)param_1[0x22]);
			fVar6 = (float)param_1[0x22];
			fVar3 = (float)param_1[0x21];
			*param_2 = (float)param_1[0x20] + (float)param_1[0x24] * fVar4;
			param_2[0x1] = fVar3 + fVar5 * fVar4;
			param_2[0x2] = fVar6 + fVar2 * fVar4;
			param_2[0x3] = 1.00000000;
		}
	}
	else {
		fVar2 = (float)param_1[0x1d];
		fVar4 = (float)param_1[0x1e];
		fVar3 = (float)param_1[0x1f];
		*(uint *)param_2 = param_1[0x1c];
		param_2[0x1] = fVar2;
		param_2[0x2] = fVar4;
		param_2[0x3] = fVar3;
	}
	return;
}



long FUN_00288e08(int *param_1, undefined8 param_2)

{
	uint uVar1;
	Vector4 *pVVar2;
	long lVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	float fVar7;

	uVar1 = *param_1;
	if ((uVar1 & 0x10) == 0x0) {
		if ((uVar1 & 0x20) == 0x0) {
			lVar3 = (long)(int)(param_1 + 0x28);
			if ((uVar1 & 0x40) != 0x0) {
				fVar6 = (float)param_1[0x29];
				fVar4 = (float)param_1[0x2a];
				fVar5 = (float)param_1[0x28] * ((Vector4 *)param_2)->x + fVar6 * ((Vector4 *)param_2)->y +
					fVar4 * ((Vector4 *)param_2)->z;
				((Vector4 *)param_2)->x = ((Vector4 *)param_2)->x - (float)param_1[0x28] * fVar5;
				((Vector4 *)param_2)->y = ((Vector4 *)param_2)->y - fVar6 * fVar5;
				((Vector4 *)param_2)->z = ((Vector4 *)param_2)->z - fVar4 * fVar5;
			}
		}
		else {
			fVar5 = (float)param_1[0x26];
			fVar4 = (float)param_1[0x24] * ((Vector4 *)param_2)->x +
				(float)param_1[0x25] * ((Vector4 *)param_2)->y + fVar5 * ((Vector4 *)param_2)->z;
			fVar6 = (float)param_1[0x24] * fVar4;
			fVar7 = (float)param_1[0x25] * fVar4;
			lVar3 = CONCAT44(fVar7, fVar6);
			((Vector4 *)param_2)->x = fVar6;
			((Vector4 *)param_2)->y = fVar7;
			((Vector4 *)param_2)->z = fVar5 * fVar4;
			((Vector4 *)param_2)->w = 1.00000000;
		}
	}
	else {
		pVVar2 = MovePositionFromPos2ToPos1((Vector4 *)param_2, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1)
			;
		lVar3 = (long)(int)pVVar2;
		((Vector4 *)param_2)->w = 1.00000000;
	}
	return lVar3;
}



void FUN_00288f50(uint *param_1, float *param_2)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	float local_60;
	float local_5c;
	float local_58;
	float local_54;
	float local_50;
	float local_4c;
	float local_48;
	float local_44;
	float local_40;
	float local_3c;
	float local_38;
	float local_34;
	float local_30;
	float local_2c;
	float local_28;
	float local_24;

	if ((*param_1 & 0x1) != 0x0) {
		fVar4 = (float)param_1[0x11];
		fVar5 = (float)param_1[0x10];
		local_30 = (float)param_1[0x14];
		local_2c = (float)param_1[0x15];
		fVar6 = (float)param_1[0x12];
		local_28 = (float)param_1[0x16];
		fVar3 = (float)param_1[0x13];
		local_24 = (float)param_1[0x17];
		fVar1 = fVar5 * local_30 + fVar4 * local_2c + fVar6 * local_28 + fVar3 * local_24;
		fVar2 = (*param_2 * (fVar5 * fVar1 - local_30) + param_2[0x1] * (fVar4 * fVar1 - local_2c) +
			param_2[0x2] * (fVar6 * fVar1 - local_28) + param_2[0x3] * (fVar3 * fVar1 - local_24))
			/ (fVar1 * fVar1 - 1.00000000);
		local_30 = local_30 * fVar2;
		local_2c = local_2c * fVar2;
		local_34 = (*param_2 * fVar5 + param_2[0x1] * fVar4 + param_2[0x2] * fVar6 +
			param_2[0x3] * fVar3) - fVar2 * fVar1;
		local_28 = local_28 * fVar2;
		local_24 = local_24 * fVar2;
		local_40 = fVar5 * local_34;
		local_3c = fVar4 * local_34;
		local_38 = fVar6 * local_34;
		local_60 = local_40 + local_30;
		local_5c = local_3c + local_2c;
		local_58 = local_38 + local_28;
		local_34 = fVar3 * local_34;
		local_54 = local_34 + local_24;
		local_50 = local_60;
		local_4c = local_5c;
		local_48 = local_58;
		local_44 = local_54;
		if (0.00000001 <
			local_60 * local_60 + local_5c * local_5c + local_58 * local_58 + local_54 * local_54) {
			fVar3 = FUN_0011c028(0.00000000, 0.00000000, &local_60);
			fVar5 = local_60 * fVar3;
			fVar4 = local_5c * fVar3;
			fVar6 = local_58 * fVar3;
			fVar3 = local_54 * fVar3;
		}
		local_54 = fVar3;
		local_58 = fVar6;
		local_5c = fVar4;
		local_60 = fVar5;
		*param_2 = local_60;
		param_2[0x1] = local_5c;
		param_2[0x2] = local_58;
		param_2[0x3] = local_54;
	}
	if ((*param_1 & 0x100) != 0x0) {
		FUN_00289190((int)param_1, param_2);
	}
	return;
}



void FUN_00289190(int param_1, undefined4 *param_2)

{
	bool bVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	undefined4 local_a0;
	undefined4 local_9c;
	undefined4 local_98;
	undefined4 local_94;
	float local_90;
	float local_8c;
	float local_88;
	float local_84;
	float local_80;
	float local_7c;
	float local_78;
	float local_74;
	undefined auStack112[0x10];
	int local_60[0x4];
	int local_50[0x4];
	int local_40[0x4];

	local_a0 = *param_2;
	local_9c = param_2[0x1];
	local_98 = param_2[0x2];
	local_94 = param_2[0x3];
	local_80 = *(float *)(param_1 + 0x60);
	local_7c = *(float *)(param_1 + 0x64);
	local_78 = *(float *)(param_1 + 0x68);
	local_74 = *(float *)(param_1 + 0x6c);
	local_90 = FUN_0011c028(0.00000000, 0.00000000, &local_80);
	local_84 = local_74 * local_90;
	local_90 = -local_90;
	local_88 = local_78 * local_90;
	local_8c = local_7c * local_90;
	local_90 = local_80 * local_90;
	local_80 = local_90;
	local_7c = local_8c;
	local_78 = local_88;
	local_74 = local_84;
	FUN_0018dce8(&local_90, &local_90, &local_a0);
	FUN_001872e0(&local_90, (long)(int)auStack112, local_60, 0x0);
	fVar2 = *(float *)(param_1 + 0x30);
	fVar3 = (float)local_60[0] * 0.00009587;
	bVar1 = false;
	fVar4 = -fVar2;
	if ((fVar3 < -fVar2) || (fVar4 = fVar2, fVar2 < fVar3)) {
		bVar1 = true;
		fVar3 = fVar4;
	}
	if (bVar1) {
		FUN_0011bf10(fVar3, local_50, 0x0);
		local_40[0] = local_50[0];
		FUN_0018df28(&local_90, (long)(int)auStack112, local_40, 0x0);
		local_a0 = *(undefined4 *)(param_1 + 0x60);
		local_9c = *(undefined4 *)(param_1 + 0x64);
		local_98 = *(undefined4 *)(param_1 + 0x68);
		local_94 = *(undefined4 *)(param_1 + 0x6c);
		FUN_0018dce8(&local_a0, &local_a0, &local_90);
		*param_2 = local_a0;
		param_2[0x3] = local_94;
		param_2[0x1] = local_9c;
		param_2[0x2] = local_98;
	}
	return;
}



void FUN_00289368(int param_1)

{
	uint uVar1;
	Vector4 *pVVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	Matrix4x4 local_d0;
	Matrix4x4 local_90;

	if ((*(uint *)(param_1 + 0x18) & 0x1) != 0x0) {
		fVar4 = *(float *)(param_1 + 0x20);
		*(undefined4 *)(param_1 + 0x150) = *(undefined4 *)(param_1 + 0x70);
		*(undefined4 *)(param_1 + 0x154) = *(undefined4 *)(param_1 + 0x74);
		*(undefined4 *)(param_1 + 0x158) = *(undefined4 *)(param_1 + 0x78);
		*(undefined4 *)(param_1 + 0x15c) = *(undefined4 *)(param_1 + 0x7c);
		*(float *)(param_1 + 0x150) = *(float *)(param_1 + 0x150) * fVar4;
		fVar3 = *(float *)(param_1 + 0x154) * fVar4;
		fVar4 = *(float *)(param_1 + 0x158) * fVar4;
		*(float *)(param_1 + 0x154) = fVar3;
		*(float *)(param_1 + 0x158) = fVar4;
		uVar1 = *(uint *)(param_1 + 0x18);
		if (*(float *)(param_1 + 0x24) * *(float *)(param_1 + 0x24) <
			*(float *)(param_1 + 0x150) * *(float *)(param_1 + 0x150) + fVar3 * fVar3 + fVar4 * fVar4) {
			fVar3 = RSQRT(0.00000000, (Vector4 *)(param_1 + 0x150));
			*(float *)(param_1 + 0x150) = *(float *)(param_1 + 0x150) * fVar3;
			*(float *)(param_1 + 0x154) = *(float *)(param_1 + 0x154) * fVar3;
			*(float *)(param_1 + 0x158) = *(float *)(param_1 + 0x158) * fVar3;
			fVar4 = *(float *)(param_1 + 0x24);
			*(float *)(param_1 + 0x150) = *(float *)(param_1 + 0x150) * fVar4;
			fVar5 = *(float *)(param_1 + 0x154) * fVar4;
			fVar4 = *(float *)(param_1 + 0x158) * fVar4;
			*(float *)(param_1 + 0x154) = fVar5;
			*(float *)(param_1 + 0x158) = fVar4;
			fVar3 = *(float *)(param_1 + 0x1c);
			*(float *)(param_1 + 0x70) = *(float *)(param_1 + 0x150) * fVar3;
			*(float *)(param_1 + 0x74) = fVar5 * fVar3;
			*(float *)(param_1 + 0x78) = fVar4 * fVar3;
			*(undefined4 *)(param_1 + 0x7c) = 0x3f800000;
			uVar1 = *(uint *)(param_1 + 0x18);
		}
		*(uint *)(param_1 + 0x18) = uVar1 & 0xfffffffe;
	}
	if ((*(uint *)(param_1 + 0x18) & 0x2) != 0x0) {
		FUN_002897b0(param_1);
		Rotate_(&local_d0, (Vector4 *)(param_1 + 0x80));
		pVVar2 = (Vector4 *)(param_1 + 0x140);
		MovePositionFromPos2ToPos1(&local_d0.wComponents, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		local_d0.wComponents.w = 1.00000000;
		FUN_0018ef98(&local_d0);
		*(float *)(param_1 + 0xf0) = local_d0.xComponents.x;
		*(float *)(param_1 + 0xf4) = local_d0.xComponents.y;
		*(float *)(param_1 + 0xf8) = local_d0.xComponents.z;
		*(float *)(param_1 + 0xfc) = local_d0.xComponents.w;
		*(float *)(param_1 + 0xb0) = local_d0.xComponents.x;
		*(float *)(param_1 + 0xb4) = local_d0.xComponents.y;
		*(float *)(param_1 + 0xb8) = local_d0.xComponents.z;
		*(float *)(param_1 + 0xbc) = local_d0.xComponents.w;
		*(float *)(param_1 + 0xc0) = local_d0.yComponents.x;
		*(float *)(param_1 + 0xc4) = local_d0.yComponents.y;
		*(float *)(param_1 + 0xc8) = local_d0.yComponents.z;
		*(float *)(param_1 + 0xcc) = local_d0.yComponents.w;
		*(float *)(param_1 + 0xd0) = local_d0.zComponents.x;
		*(float *)(param_1 + 0xd4) = local_d0.zComponents.y;
		*(float *)(param_1 + 0xd8) = local_d0.zComponents.z;
		*(float *)(param_1 + 0xdc) = local_d0.zComponents.w;
		*(undefined4 *)(param_1 + 0x100) = *(undefined4 *)(param_1 + 0xc0);
		*(undefined4 *)(param_1 + 0x104) = *(undefined4 *)(param_1 + 0xc4);
		*(undefined4 *)(param_1 + 0x108) = *(undefined4 *)(param_1 + 0xc8);
		*(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0xcc);
		*(undefined4 *)(param_1 + 0x110) = *(undefined4 *)(param_1 + 0xd0);
		*(undefined4 *)(param_1 + 0x114) = *(undefined4 *)(param_1 + 0xd4);
		*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0xd8);
		*(undefined4 *)(param_1 + 0x11c) = *(undefined4 *)(param_1 + 0xdc);
		*(undefined4 *)(param_1 + 0x120) = *(undefined4 *)(param_1 + 0xe0);
		*(undefined4 *)(param_1 + 0x124) = *(undefined4 *)(param_1 + 0xe4);
		*(undefined4 *)(param_1 + 0x128) = *(undefined4 *)(param_1 + 0xe8);
		*(undefined4 *)(param_1 + 0x12c) = *(undefined4 *)(param_1 + 0xec);
		FUN_0018ef98((Matrix4x4 *)(param_1 + 0xf0));
		local_d0.xComponents.w = *(float *)(param_1 + 0xfc);
		local_d0.zComponents.x = *(float *)(param_1 + 0x40);
		local_d0.yComponents.w = *(float *)(param_1 + 0x10c);
		local_d0.zComponents.y = *(float *)(param_1 + 0x44);
		local_d0.zComponents.w = *(float *)(param_1 + 0x11c);
		local_d0.xComponents.x = *(float *)(param_1 + 0xf0) * local_d0.zComponents.x;
		local_d0.xComponents.y = *(float *)(param_1 + 0xf4) * local_d0.zComponents.y;
		local_d0.yComponents.x = *(float *)(param_1 + 0x100) * local_d0.zComponents.x;
		local_d0.yComponents.y = *(float *)(param_1 + 0x104) * local_d0.zComponents.y;
		local_d0.zComponents.x = *(float *)(param_1 + 0x110) * local_d0.zComponents.x;
		local_d0.zComponents.z = *(float *)(param_1 + 0x48);
		local_d0.zComponents.y = *(float *)(param_1 + 0x114) * local_d0.zComponents.y;
		local_d0.xComponents.z = *(float *)(param_1 + 0xf8) * local_d0.zComponents.z;
		local_d0.yComponents.z = *(float *)(param_1 + 0x108) * local_d0.zComponents.z;
		local_d0.wComponents.x = *(float *)(param_1 + 0x120);
		local_d0.wComponents.y = *(float *)(param_1 + 0x124);
		local_d0.wComponents.z = *(float *)(param_1 + 0x128);
		local_d0.wComponents.w = *(float *)(param_1 + 0x12c);
		local_d0.zComponents.z = *(float *)(param_1 + 0x118) * local_d0.zComponents.z;
		MultiplyMatrices(&local_d0, (Matrix4x4 *)(param_1 + 0xb0), (Matrix4x4 *)(param_1 + 0x170));
		FUN_0018ec48((long)(int)(Matrix4x4 *)(param_1 + 0x170), (undefined4 *)(param_1 + 0x90),
			(undefined4 *)pVVar2);
		fVar3 = *(float *)(param_1 + 0x80);
		if (*(float *)(param_1 + 0x28) * *(float *)(param_1 + 0x28) <
			*(float *)(param_1 + 0x140) * *(float *)(param_1 + 0x140) +
			*(float *)(param_1 + 0x144) * *(float *)(param_1 + 0x144) +
			*(float *)(param_1 + 0x148) * *(float *)(param_1 + 0x148)) {
			fVar3 = RSQRT(0.00000000, pVVar2);
			*(float *)(param_1 + 0x140) = *(float *)(param_1 + 0x140) * fVar3;
			*(float *)(param_1 + 0x144) = *(float *)(param_1 + 0x144) * fVar3;
			*(float *)(param_1 + 0x148) = *(float *)(param_1 + 0x148) * fVar3;
			fVar3 = *(float *)(param_1 + 0x28);
			*(float *)(param_1 + 0x140) = *(float *)(param_1 + 0x140) * fVar3;
			*(float *)(param_1 + 0x144) = *(float *)(param_1 + 0x144) * fVar3;
			*(float *)(param_1 + 0x148) = *(float *)(param_1 + 0x148) * fVar3;
			local_90.wComponents.z = *(float *)(param_1 + 0x1a8);
			local_90.wComponents.w = *(float *)(param_1 + 0x1ac);
			local_90.zComponents.z = *(float *)(param_1 + 0x198);
			local_90.zComponents.w = *(float *)(param_1 + 0x19c);
			local_90.xComponents.x = *(float *)(param_1 + 0x170);
			local_90.xComponents.y = *(float *)(param_1 + 0x174);
			local_90.xComponents.z = *(float *)(param_1 + 0x178);
			local_90.xComponents.w = *(float *)(param_1 + 0x17c);
			local_90.yComponents.z = *(float *)(param_1 + 0x188);
			local_90.yComponents.w = *(float *)(param_1 + 0x18c);
			local_90.zComponents.x = (float)*(undefined8 *)(param_1 + 0x190);
			local_90.zComponents.y = (float)((ulong)*(undefined8 *)(param_1 + 0x190) >> 0x20);
			local_90.wComponents.x = (float)*(undefined8 *)(param_1 + 0x1a0);
			local_90.wComponents.y = (float)((ulong)*(undefined8 *)(param_1 + 0x1a0) >> 0x20);
			local_90.yComponents.x = (float)*(undefined8 *)(param_1 + 0x180);
			local_90.yComponents.y = (float)((ulong)*(undefined8 *)(param_1 + 0x180) >> 0x20);
			FUN_0018ef98(&local_90);
			FUN_0018ec48((long)(int)&local_90, (undefined4 *)pVVar2, (undefined4 *)(param_1 + 0x90));
			fVar3 = *(float *)(param_1 + 0x80);
		}
		fVar9 = *(float *)(param_1 + 0x84);
		fVar4 = *(float *)(param_1 + 0x140);
		fVar6 = *(float *)(param_1 + 0x144);
		fVar8 = *(float *)(param_1 + 0x88);
		fVar7 = *(float *)(param_1 + 0x8c);
		fVar5 = *(float *)(param_1 + 0x148);
		*(float *)(param_1 + 0x130) = ((fVar7 * fVar4 - fVar8 * fVar6) + fVar9 * fVar5) * 0.50000000;
		*(float *)(param_1 + 0x13c) = ((-fVar3 * fVar4 - fVar9 * fVar6) - fVar8 * fVar5) * 0.50000000;
		*(float *)(param_1 + 0x138) = (-fVar9 * fVar4 + fVar3 * fVar6 + fVar7 * fVar5) * 0.50000000;
		*(float *)(param_1 + 0x134) = ((fVar8 * fVar4 + fVar7 * fVar6) - fVar3 * fVar5) * 0.50000000;
		*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) & 0xfffffffd;
	}
	return;
}



void FUN_002897b0(int param_1)

{
	uint *puVar1;
	float fVar2;

	puVar1 = (uint *)(param_1 + 0x220);
	FUN_00288c88(puVar1, (float *)(param_1 + 0xe0));
	FUN_00288e08((int *)puVar1, (long)(param_1 + 0x70));
	FUN_00288e08((int *)puVar1, (long)(param_1 + 0x150));
	FUN_00288f50(puVar1, (float *)(param_1 + 0x80));
	if ((*(uint *)(param_1 + 0x220) & 0x1) != 0x0) {
		fVar2 = *(float *)(param_1 + 0x90) * *(float *)(param_1 + 0x240) +
			*(float *)(param_1 + 0x94) * *(float *)(param_1 + 0x244) +
			*(float *)(param_1 + 0x98) * *(float *)(param_1 + 0x248);
		*(float *)(param_1 + 0x90) = *(float *)(param_1 + 0x240) * fVar2;
		*(float *)(param_1 + 0x94) = *(float *)(param_1 + 0x244) * fVar2;
		*(float *)(param_1 + 0x98) = *(float *)(param_1 + 0x248) * fVar2;
		*(undefined4 *)(param_1 + 0x9c) = 0x3f800000;
	}
	if ((*(uint *)(param_1 + 0x220) & 0x1) != 0x0) {
		fVar2 = *(float *)(param_1 + 0x140) * *(float *)(param_1 + 0x240) +
			*(float *)(param_1 + 0x144) * *(float *)(param_1 + 0x244) +
			*(float *)(param_1 + 0x148) * *(float *)(param_1 + 0x248);
		*(float *)(param_1 + 0x140) = *(float *)(param_1 + 0x240) * fVar2;
		*(float *)(param_1 + 0x144) = *(float *)(param_1 + 0x244) * fVar2;
		*(float *)(param_1 + 0x148) = *(float *)(param_1 + 0x248) * fVar2;
		*(undefined4 *)(param_1 + 0x14c) = 0x3f800000;
	}
	return;
}



// WARNING: Type propagation algorithm not settling

undefined8 FUN_002898e8(undefined8 param_1)

{
	bool bVar1;
	undefined8 uVar2;
	int iVar3;
	GameNode *pGVar4;
	GameNode *pGVar5;

	pGVar5 = (GameNode *)param_1;
	InitGameNode(pGVar5);
	pGVar5[0x16].nextNode = (GameNode *)0x0;
	pGVar5->methods = DAT(0x00305608);
	iVar3 = 0x0;
	do {
		bVar1 = iVar3 != -0x1;
		iVar3 += -0x1;
	} while (bVar1);
	*(GameNode **)&pGVar5[0x1e].ChunkNode = pGVar5;
	MovePositionFromPos2ToPos1
	((Vector4 *)(&pGVar5->nextNode + 0xc), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	(&pGVar5->nextNode)[0xf] = (GameNode *)0x3f800000;
	MovePositionFromPos2ToPos1
	((Vector4 *)(&pGVar5->nextNode + 0x10), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	(&pGVar5->nextNode)[0x13] = (GameNode *)0x3f800000;
	MovePositionFromPos2ToPos1
	((Vector4 *)&pGVar5[0x9].field_0x8, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pGVar5[0x9].methods = (undefined *)0x3f800000;
	pGVar5[0xc].nextNode = (GameNode *)0x0;
	*(undefined4 *)&pGVar5[0xd].field_0x4 = 0x0;
	pGVar5[0xc].methods = (undefined *)0x0;
	pGVar5[0xd].ChunkNode = 0x0;
	pGVar5[0xf].methods = (undefined *)0x0;
	pGVar5[0xf].nextNode = (GameNode *)0x0;
	pGVar5[0xf].prevNode = (GameNode *)0x0;
	pGVar5[0xf].field_0x8 = 0x0;
	pGVar5[0x11].methods = (undefined *)0x0;
	pGVar5[0x10].prevNode = (GameNode *)0x0;
	pGVar5[0x10].field_0x8 = 0x0;
	*(undefined4 *)&pGVar5[0x10].field_0x4 = 0x0;
	pGVar5[0x10].ChunkNode = 0x0;
	*(undefined4 *)&pGVar5[0x11].field_0x4 = 0x0;
	pGVar5[0x11].ChunkNode = 0x0;
	pGVar5[0x10].methods = (undefined *)0x0;
	pGVar5[0x10].nextNode = (GameNode *)0x0;
	pGVar5[0x11].nextNode = (GameNode *)0x0;
	pGVar5[0x11].prevNode = (GameNode *)0x0;
	pGVar5[0x11].field_0x8 = 0x0;
	MovePositionFromPos2ToPos1((Vector4 *)(pGVar5 + 0x12), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pGVar5[0x12].prevNode = (GameNode *)0x3f800000;
	(&pGVar5->nextNode)[0x15] = (GameNode *)0x1;
	InitIdentityMatrix((Matrix4x4 *)&pGVar5[0x7].field_0x8);
	InitIdentityMatrix((Matrix4x4 *)(pGVar5 + 0xa));
	MovePositionFromPos2ToPos1
	((Vector4 *)(&pGVar5->nextNode + 0x18), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	(&pGVar5->nextNode)[0x1b] = (GameNode *)0x3f800000;
	(&pGVar5->nextNode)[0x1c] = (GameNode *)0x0;
	(&pGVar5->nextNode)[0x1f] = (GameNode *)0x3f800000;
	(&pGVar5->nextNode)[0x1d] = (GameNode *)0x0;
	(&pGVar5->nextNode)[0x1e] = (GameNode *)0x0;
	MovePositionFromPos2ToPos1
	((Vector4 *)(&pGVar5->nextNode + 0x20), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pGVar5[0x6].prevNode = (GameNode *)0x3f800000;
	MovePositionFromPos2ToPos1
	((Vector4 *)&pGVar5[0xd].field_0x8, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pGVar5[0xd].methods = (undefined *)0x3f800000;
	MovePositionFromPos2ToPos1((Vector4 *)(pGVar5 + 0xe), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pGVar5[0xe].prevNode = (GameNode *)0x3f800000;
	uVar2 = *(undefined8 *)(pGVar5 + 0xe);
	pGVar4 = pGVar5[0xe].prevNode;
	pGVar5[0xe].nextNode = (GameNode *)uVar2;
	pGVar5[0xe].methods = (undefined *)((ulong)uVar2 >> 0x20);
	pGVar5[0xf].ChunkNode = pGVar5[0xe].field_0x8;
	*(GameNode **)&pGVar5[0xf].field_0x4 = pGVar4;
	MovePositionFromPos2ToPos1((Vector4 *)(pGVar5 + 0x14), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pGVar5[0x14].prevNode = (GameNode *)0x3f800000;
	MovePositionFromPos2ToPos1
	((Vector4 *)&pGVar5[0x14].nextNode, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)&pGVar5[0x15].field_0x4 = 0x3f800000;
	pGVar5[0x16].ChunkNode = 0xf149f2ca;
	(&pGVar5->nextNode)[0x2] = (GameNode *)0x3;
	FUN_00289e88(1.00000000, 1.50000000, 1.50000000, 1.50000000, (int)pGVar5);
	(&pGVar5->nextNode)[0x6] = (GameNode *)0x7149f2ca;
	(&pGVar5->nextNode)[0x5] = (GameNode *)0x7149f2ca;
	MovePositionFromPos2ToPos1
	((Vector4 *)&pGVar5[0x12].nextNode, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)&pGVar5[0x13].field_0x4 = 0x3f800000;
	MovePositionFromPos2ToPos1
	((Vector4 *)&pGVar5[0x13].field_0x8, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	pGVar5[0x13].methods = (undefined *)0x3f800000;
	(&pGVar5->nextNode)[0x14] = (GameNode *)0x3f800000;
	pGVar5[0x6].nextNode = (GameNode *)0x0;
	pGVar5[0x6].methods = (undefined *)0x0;
	return param_1;
}



void FUN_00289b90(int param_1, undefined4 *param_2)

{
	Matrix4x4 local_50;

	local_50.xComponents.w = *(float *)(param_1 + 0xfc);
	local_50.xComponents.z = *(float *)(param_1 + 0x30);
	local_50.yComponents.w = *(float *)(param_1 + 0x10c);
	local_50.yComponents.z = *(float *)(param_1 + 0x34);
	local_50.zComponents.w = *(float *)(param_1 + 0x11c);
	local_50.xComponents.x = *(float *)(param_1 + 0xf0) * local_50.xComponents.z;
	local_50.xComponents.y = *(float *)(param_1 + 0xf4) * local_50.xComponents.z;
	local_50.xComponents.z = *(float *)(param_1 + 0xf8) * local_50.xComponents.z;
	local_50.yComponents.x = *(float *)(param_1 + 0x100) * local_50.yComponents.z;
	local_50.wComponents.x = *(float *)(param_1 + 0x120);
	local_50.wComponents.y = *(float *)(param_1 + 0x124);
	local_50.wComponents.z = *(float *)(param_1 + 0x128);
	local_50.wComponents.w = *(float *)(param_1 + 0x12c);
	local_50.zComponents.z = *(float *)(param_1 + 0x38);
	local_50.yComponents.y = *(float *)(param_1 + 0x104) * local_50.yComponents.z;
	local_50.yComponents.z = *(float *)(param_1 + 0x108) * local_50.yComponents.z;
	local_50.zComponents.x = *(float *)(param_1 + 0x110) * local_50.zComponents.z;
	local_50.zComponents.y = *(float *)(param_1 + 0x114) * local_50.zComponents.z;
	local_50.zComponents.z = *(float *)(param_1 + 0x118) * local_50.zComponents.z;
	MultiplyMatrices(&local_50, (Matrix4x4 *)(param_1 + 0xb0), (Matrix4x4 *)param_2);
	return;
}



void FUN_00289c60(int param_1, float *param_2, float *param_3)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;

	FUN_00289368(param_1);
	fVar7 = param_2[0x2] - *(float *)(param_1 + 0xe8);
	fVar1 = *param_2 - *(float *)(param_1 + 0xe0);
	fVar3 = param_2[0x1] - *(float *)(param_1 + 0xe4);
	fVar8 = *(float *)(param_1 + 0x140);
	fVar4 = *(float *)(param_1 + 0x148);
	fVar5 = *(float *)(param_1 + 0x144);
	fVar2 = *(float *)(param_1 + 0x158);
	fVar6 = *(float *)(param_1 + 0x154);
	*param_3 = *(float *)(param_1 + 0x150) +
		(fVar3 * *(float *)(param_1 + 0x148) - fVar7 * *(float *)(param_1 + 0x144));
	param_3[0x1] = fVar6 + (fVar7 * fVar8 - fVar1 * fVar4);
	param_3[0x2] = fVar2 + (fVar1 * fVar5 - fVar3 * fVar8);
	param_3[0x3] = 1.00000000;
	return;
}



void FUN_00289d80(int param_1, undefined4 *param_2)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	Matrix4x4 local_a0;
	Matrix4x4 MStack96;

	uVar1 = param_2[0x1];
	uVar2 = param_2[0x2];
	uVar3 = param_2[0x3];
	local_a0.xComponents.w = *(float *)(param_1 + 0xfc);
	*(undefined4 *)(param_1 + 0x140) = *param_2;
	*(undefined4 *)(param_1 + 0x144) = uVar1;
	*(undefined4 *)(param_1 + 0x148) = uVar2;
	*(undefined4 *)(param_1 + 0x14c) = uVar3;
	local_a0.yComponents.w = *(float *)(param_1 + 0x10c);
	local_a0.xComponents.z = *(float *)(param_1 + 0x30);
	local_a0.zComponents.w = *(float *)(param_1 + 0x11c);
	local_a0.yComponents.z = *(float *)(param_1 + 0x34);
	local_a0.xComponents.x = *(float *)(param_1 + 0xf0) * local_a0.xComponents.z;
	local_a0.xComponents.y = *(float *)(param_1 + 0xf4) * local_a0.xComponents.z;
	local_a0.xComponents.z = *(float *)(param_1 + 0xf8) * local_a0.xComponents.z;
	local_a0.yComponents.x = *(float *)(param_1 + 0x100) * local_a0.yComponents.z;
	local_a0.wComponents.x = *(float *)(param_1 + 0x120);
	local_a0.wComponents.y = *(float *)(param_1 + 0x124);
	local_a0.wComponents.z = *(float *)(param_1 + 0x128);
	local_a0.wComponents.w = *(float *)(param_1 + 0x12c);
	local_a0.zComponents.z = *(float *)(param_1 + 0x38);
	local_a0.yComponents.y = *(float *)(param_1 + 0x104) * local_a0.yComponents.z;
	local_a0.yComponents.z = *(float *)(param_1 + 0x108) * local_a0.yComponents.z;
	local_a0.zComponents.x = *(float *)(param_1 + 0x110) * local_a0.zComponents.z;
	local_a0.zComponents.y = *(float *)(param_1 + 0x114) * local_a0.zComponents.z;
	local_a0.zComponents.z = *(float *)(param_1 + 0x118) * local_a0.zComponents.z;
	MultiplyMatrices(&local_a0, (Matrix4x4 *)(param_1 + 0xb0), &MStack96);
	FUN_0018ec48((long)(int)&MStack96, (undefined4 *)(param_1 + 0x140), (undefined4 *)(param_1 + 0x90));
	return;
}



void FUN_00289e88(float param_1, float param_2, float param_3, float param_4, int param_5)

{
	float fVar1;

	*(float *)(param_5 + 0x1c) = param_1;
	fVar1 = param_1 * 0.08333334;
	*(float *)(param_5 + 0x20) = 1.00000000 / param_1;
	*(float *)(param_5 + 0x30) = fVar1 * (param_3 * param_3 + param_4 * param_4);
	*(undefined4 *)(param_5 + 0x3c) = 0x3f800000;
	*(float *)(param_5 + 0x38) = fVar1 * (param_2 * param_2 + param_3 * param_3);
	*(float *)(param_5 + 0x34) = fVar1 * (param_2 * param_2 + param_4 * param_4);
	*(float *)(param_5 + 0x40) = 1.00000000 / *(float *)(param_5 + 0x30);
	*(undefined4 *)(param_5 + 0x4c) = 0x3f800000;
	*(float *)(param_5 + 0x44) = 1.00000000 / *(float *)(param_5 + 0x34);
	*(float *)(param_5 + 0x48) = 1.00000000 / *(float *)(param_5 + 0x38);
	*(undefined4 *)(param_5 + 0x50) = *(undefined4 *)(param_5 + 0x40);
	*(undefined4 *)(param_5 + 0x54) = *(undefined4 *)(param_5 + 0x44);
	*(undefined4 *)(param_5 + 0x58) = *(undefined4 *)(param_5 + 0x48);
	*(undefined4 *)(param_5 + 0x5c) = *(undefined4 *)(param_5 + 0x4c);
	FUN_00289368(param_5);
	return;
}



// WARNING: Removing unreachable block (ram,0x0028a01c)

void FUN_00289fc0(int param_1)

{
	uint uVar1;
	float fVar2;
	float fVar3;

	fVar3 = *(float *)(param_1 + 0x70);
	fVar2 = 0.00000000 /
		SQRT(fVar3 * fVar3 + *(float *)(param_1 + 0x74) * *(float *)(param_1 + 0x74) +
			*(float *)(param_1 + 0x78) * *(float *)(param_1 + 0x78));
	if (fVar2 < 1.00000000) {
		*(float *)(param_1 + 0x70) = fVar3 * fVar2;
		*(float *)(param_1 + 0x94) = *(float *)(param_1 + 0x94) * fVar2;
		*(float *)(param_1 + 0x98) = *(float *)(param_1 + 0x98) * fVar2;
	}
	fVar3 = *(float *)(param_1 + 0x90);
	fVar2 = 0.00000000 /
		SQRT(fVar3 * fVar3 + *(float *)(param_1 + 0x94) * *(float *)(param_1 + 0x94) +
			*(float *)(param_1 + 0x98) * *(float *)(param_1 + 0x98));
	uVar1 = *(uint *)(param_1 + 0x18);
	if (fVar2 < 1.00000000) {
		*(float *)(param_1 + 0x90) = fVar3 * fVar2;
		*(float *)(param_1 + 0x94) = *(float *)(param_1 + 0x94) * fVar2;
		*(float *)(param_1 + 0x98) = *(float *)(param_1 + 0x98) * fVar2;
		uVar1 = *(uint *)(param_1 + 0x18);
	}
	*(uint *)(param_1 + 0x18) = uVar1 | 0x1;
	return;
}



Vector4 * FUN_0028a160(float param_1, int param_2)

{
	Vector4 *pVVar1;
	float fVar2;
	float fVar3;
	Vector4 local_70;
	float local_60;
	float local_5c;
	float local_58;
	float local_54;

	FUN_00289368(param_2);
	fVar3 = 0.50000000;
	local_70.x = *(float *)(param_2 + 0x150) * param_1;
	local_70.y = *(float *)(param_2 + 0x154) * param_1;
	local_70.z = *(float *)(param_2 + 0x158) * param_1;
	local_70.w = 1.00000000;
	if (0.50000000 < SQRT(local_70.x * local_70.x + local_70.y * local_70.y + local_70.z * local_70.z)
		) {
		fVar2 = RSQRT(0.00000000, &local_70);
		local_70.x = local_70.x * fVar2 * fVar3;
		local_70.y = local_70.y * fVar2 * fVar3;
		local_70.z = local_70.z * fVar2 * fVar3;
	}
	*(float *)(param_2 + 0xe0) = *(float *)(param_2 + 0xe0) + local_70.x;
	*(float *)(param_2 + 0xe4) = *(float *)(param_2 + 0xe4) + local_70.y;
	*(float *)(param_2 + 0xe8) = *(float *)(param_2 + 0xe8) + local_70.z;
	*(float *)(param_2 + 0x70) = *(float *)(param_2 + 0x70) + *(float *)(param_2 + 0x1c0) * param_1;
	*(float *)(param_2 + 0x74) = *(float *)(param_2 + 0x74) + *(float *)(param_2 + 0x1c4) * param_1;
	*(float *)(param_2 + 0x78) = *(float *)(param_2 + 0x78) + *(float *)(param_2 + 0x1c8) * param_1;
	*(float *)(param_2 + 0x90) = *(float *)(param_2 + 0x90) + *(float *)(param_2 + 0x1d0) * param_1;
	*(float *)(param_2 + 0x94) = *(float *)(param_2 + 0x94) + *(float *)(param_2 + 0x1d4) * param_1;
	*(float *)(param_2 + 0x98) = *(float *)(param_2 + 0x98) + *(float *)(param_2 + 0x1d8) * param_1;
	*(float *)(param_2 + 0x70) = *(float *)(param_2 + 0x70) + *(float *)(param_2 + 0x1e0) * param_1;
	*(float *)(param_2 + 0x74) = *(float *)(param_2 + 0x74) + *(float *)(param_2 + 0x1e4) * param_1;
	*(float *)(param_2 + 0x78) = *(float *)(param_2 + 0x78) + *(float *)(param_2 + 0x1e8) * param_1;
	*(float *)(param_2 + 0x90) = *(float *)(param_2 + 0x90) + *(float *)(param_2 + 0x1f0) * param_1;
	*(float *)(param_2 + 0x94) = *(float *)(param_2 + 0x94) + *(float *)(param_2 + 0x1f4) * param_1;
	*(float *)(param_2 + 0x98) = *(float *)(param_2 + 0x98) + *(float *)(param_2 + 0x1f8) * param_1;
	local_60 = *(float *)(param_2 + 0x130) * param_1;
	local_58 = *(float *)(param_2 + 0x138) * param_1;
	local_54 = *(float *)(param_2 + 0x13c) * param_1;
	local_5c = *(float *)(param_2 + 0x134) * param_1;
	*(float *)(param_2 + 0x80) = *(float *)(param_2 + 0x80) + local_60;
	*(float *)(param_2 + 0x84) = *(float *)(param_2 + 0x84) + local_5c;
	*(float *)(param_2 + 0x88) = *(float *)(param_2 + 0x88) + local_58;
	*(float *)(param_2 + 0x8c) = *(float *)(param_2 + 0x8c) + local_54;
	fVar3 = FUN_0011c028(0.00000000, 0.00000000, (float *)(param_2 + 0x80));
	*(float *)(param_2 + 0x80) = *(float *)(param_2 + 0x80) * fVar3;
	*(float *)(param_2 + 0x84) = *(float *)(param_2 + 0x84) * fVar3;
	*(float *)(param_2 + 0x88) = *(float *)(param_2 + 0x88) * fVar3;
	*(float *)(param_2 + 0x8c) = *(float *)(param_2 + 0x8c) * fVar3;
	*(uint *)(param_2 + 0x18) = *(uint *)(param_2 + 0x18) | 0x3;
	*(undefined4 *)(param_2 + 0x40) = *(undefined4 *)(param_2 + 0x50);
	*(undefined4 *)(param_2 + 0x44) = *(undefined4 *)(param_2 + 0x54);
	*(undefined4 *)(param_2 + 0x48) = *(undefined4 *)(param_2 + 0x58);
	*(undefined4 *)(param_2 + 0x4c) = *(undefined4 *)(param_2 + 0x5c);
	FUN_00289368(param_2);
	MovePositionFromPos2ToPos1((Vector4 *)(param_2 + 0x1e0), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_2 + 0x1ec) = 0x3f800000;
	pVVar1 = MovePositionFromPos2ToPos1
	((Vector4 *)(param_2 + 0x1f0), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_2 + 0x1fc) = 0x3f800000;
	return pVVar1;
}



void FUN_0028a518(int param_1, float *param_2, float *param_3)

{
	bool bVar1;
	int iVar2;
	float local_a0;
	float local_9c;
	float local_98;
	float local_90;
	float local_8c;
	float local_88;
	undefined4 local_84;
	float local_80;
	float local_7c;
	float local_78;

	FUN_00289368(param_1);
	*(float *)(param_1 + 0x70) = *(float *)(param_1 + 0x70) + *param_2;
	*(float *)(param_1 + 0x74) = *(float *)(param_1 + 0x74) + param_2[0x1];
	*(float *)(param_1 + 0x78) = *(float *)(param_1 + 0x78) + param_2[0x2];
	*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) | 0x1;
	FUN_0018ec48((long)(param_1 + 0xf0), param_2, &local_a0);
	local_8c = param_3[0x2] * local_a0 - *param_3 * local_98;
	local_88 = *param_3 * local_9c - param_3[0x1] * local_a0;
	local_90 = param_3[0x1] * local_98 - param_3[0x2] * local_9c;
	local_84 = 0x3f800000;
	FUN_0018ec48((long)(param_1 + 0xb0), &local_90, &local_80);
	*(float *)(param_1 + 0x1b0) = *(float *)(param_1 + 0x1b0) * 0.69999999 + local_80 * 0.30000001;
	*(float *)(param_1 + 0x1b4) = *(float *)(param_1 + 0x1b4) * 0.69999999 + local_7c * 0.30000001;
	*(float *)(param_1 + 0x1b8) = *(float *)(param_1 + 0x1b8) * 0.69999999 + local_78 * 0.30000001;
	*(undefined4 *)(param_1 + 0x1bc) = 0x3f800000;
	iVar2 = 0x1;
	do {
		bVar1 = -0x1 < iVar2;
		iVar2 += -0x1;
	} while (bVar1);
	*(float *)(param_1 + 0x90) = *(float *)(param_1 + 0x90) - local_80;
	*(float *)(param_1 + 0x94) = *(float *)(param_1 + 0x94) - local_7c;
	*(float *)(param_1 + 0x98) = *(float *)(param_1 + 0x98) - local_78;
	*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) | 0x2;
	*(float *)(param_1 + 0x214) =
		*(float *)(param_1 + 0x214) +
		SQRT(*param_2 * *param_2 + param_2[0x1] * param_2[0x1] + param_2[0x2] * param_2[0x2]);
	return;
}



void FUN_0028a760(int param_1, undefined4 *param_2, undefined8 param_3)

{
	float local_80;
	float local_7c;
	float local_78;
	Vector4 local_70;
	float local_60;
	float local_5c;
	float local_58;
	float local_50;
	float local_4c;
	float local_48;
	undefined4 local_44;
	float local_40;
	float local_3c;
	float local_38;

	FUN_0018ec48((long)(int)(Matrix4x4 *)(param_1 + 0xf0), param_2, &local_80);
	MultiplyMatrixByVector((Matrix4x4 *)(param_1 + 0xf0), (Vector4 *)param_3, &local_70);
	FUN_00289368(param_1);
	FUN_0018ec48((long)(param_1 + 0xb0), &local_80, &local_60);
	*(float *)(param_1 + 0x1c0) = *(float *)(param_1 + 0x1c0) + local_60;
	*(float *)(param_1 + 0x1c4) = *(float *)(param_1 + 0x1c4) + local_5c;
	*(float *)(param_1 + 0x1c8) = *(float *)(param_1 + 0x1c8) + local_58;
	local_48 = local_80 * local_70.y - local_7c * local_70.x;
	local_50 = local_7c * local_70.z - local_78 * local_70.y;
	local_4c = local_78 * local_70.x - local_80 * local_70.z;
	local_44 = 0x3f800000;
	FUN_0018ec48((long)(param_1 + 0xb0), &local_50, &local_40);
	*(float *)(param_1 + 0x1d0) = *(float *)(param_1 + 0x1d0) + local_40;
	*(float *)(param_1 + 0x1d4) = *(float *)(param_1 + 0x1d4) + local_3c;
	*(float *)(param_1 + 0x1d8) = *(float *)(param_1 + 0x1d8) + local_38;
	return;
}



void FUN_0028a8a8(int param_1, undefined4 *param_2, undefined8 param_3)

{
	float local_80;
	float local_7c;
	float local_78;
	Vector4 local_70;
	float local_60;
	float local_5c;
	float local_58;
	float local_50;
	float local_4c;
	float local_48;
	undefined4 local_44;
	float local_40;
	float local_3c;
	float local_38;

	FUN_0018ec48((long)(int)(Matrix4x4 *)(param_1 + 0xf0), param_2, &local_80);
	MultiplyMatrixByVector((Matrix4x4 *)(param_1 + 0xf0), (Vector4 *)param_3, &local_70);
	FUN_00289368(param_1);
	FUN_0018ec48((long)(param_1 + 0xb0), &local_80, &local_60);
	*(float *)(param_1 + 0x1e0) = *(float *)(param_1 + 0x1e0) + local_60;
	*(float *)(param_1 + 0x1e4) = *(float *)(param_1 + 0x1e4) + local_5c;
	*(float *)(param_1 + 0x1e8) = *(float *)(param_1 + 0x1e8) + local_58;
	local_48 = local_80 * local_70.y - local_7c * local_70.x;
	local_50 = local_7c * local_70.z - local_78 * local_70.y;
	local_4c = local_78 * local_70.x - local_80 * local_70.z;
	local_44 = 0x3f800000;
	FUN_0018ec48((long)(param_1 + 0xb0), &local_50, &local_40);
	*(float *)(param_1 + 0x1f0) = *(float *)(param_1 + 0x1f0) + local_40;
	*(float *)(param_1 + 0x1f4) = *(float *)(param_1 + 0x1f4) + local_3c;
	*(float *)(param_1 + 0x1f8) = *(float *)(param_1 + 0x1f8) + local_38;
	return;
}



void FUN_0028a9f0(float param_1, float param_2, float param_3, int param_4, float *param_5,
	undefined8 param_6, long param_7)

{
	long lVar1;
	float fVar2;
	Vector4 local_110;
	float local_100;
	float fStack252;
	float local_f8;
	float fStack244;
	Vector4 local_f0;
	float local_e0;
	float fStack220;
	float local_d8;
	float local_d4;
	float local_d0;
	float local_cc;
	float local_c8;
	float local_c0;
	float local_bc;
	float local_b8;
	float local_b4;
	float local_b0;
	float fStack172;
	float local_a8;
	float local_a4;
	float local_a0;
	float local_9c;
	float local_98;
	float local_90;
	float local_8c;
	float local_88;
	float local_80;
	float local_7c;
	float local_78;
	float local_74;
	float local_70;
	float local_6c;
	float local_68;

	lVar1 = (long)(int)(Matrix4x4 *)(param_4 + 0xb0);
	local_74 = 1.00000000;
	MultiplyMatrixByVector((Matrix4x4 *)(param_4 + 0xb0), (Vector4 *)param_6, &local_110);
	local_f0.x = *param_5 - local_110.x;
	local_f0.y = param_5[0x1] - local_110.y;
	local_f0.z = param_5[0x2] - local_110.z;
	param_1 = SQRT(local_f0.x * local_f0.x + local_f0.y * local_f0.y + local_f0.z * local_f0.z) -
		param_1;
	if ((param_7 == 0x0) || (0.00000000 <= param_1)) {
		local_f0.w = local_74;
		local_e0 = local_f0.x;
		fStack220 = local_f0.y;
		local_d8 = local_f0.z;
		local_d4 = local_74;
		fVar2 = RSQRT(0.00000000, &local_f0);
		local_f0.x = local_f0.x * fVar2;
		local_f0.y = local_f0.y * fVar2;
		local_f0.z = local_f0.z * fVar2;
		FUN_00289368(param_4);
		FUN_0018ec48(lVar1, (undefined4 *)(Vector4 *)param_6, &local_d0);
		local_c0 = local_cc * *(float *)(param_4 + 0x148) - local_c8 * *(float *)(param_4 + 0x144);
		local_100 = *(float *)(param_4 + 0x150) + local_c0;
		local_bc = local_c8 * *(float *)(param_4 + 0x140) - local_d0 * *(float *)(param_4 + 0x148);
		local_b8 = local_d0 * *(float *)(param_4 + 0x144) - local_cc * *(float *)(param_4 + 0x140);
		local_f8 = *(float *)(param_4 + 0x158) + local_b8;
		fStack252 = *(float *)(param_4 + 0x154) + local_bc;
		fStack220 = param_1 * param_2 -
			(local_100 * local_f0.x + fStack252 * local_f0.y + local_f8 * local_f0.z) * param_3;
		local_d8 = local_f0.z * fStack220;
		local_e0 = local_f0.x * fStack220;
		fStack220 = local_f0.y * fStack220;
		fStack244 = local_74;
		local_d4 = local_74;
		local_b4 = local_74;
		local_b0 = local_100;
		fStack172 = fStack252;
		local_a8 = local_f8;
		local_a4 = local_74;
		FUN_0018ec48((long)(param_4 + 0xf0), &local_e0, &local_a0);
		FUN_00289368(param_4);
		FUN_0018ec48(lVar1, &local_a0, &local_90);
		*(float *)(param_4 + 0x1c0) = *(float *)(param_4 + 0x1c0) + local_90;
		*(float *)(param_4 + 0x1c4) = *(float *)(param_4 + 0x1c4) + local_8c;
		*(float *)(param_4 + 0x1c8) = *(float *)(param_4 + 0x1c8) + local_88;
		local_7c = local_98 * ((Vector4 *)param_6)->x - local_a0 * ((Vector4 *)param_6)->z;
		local_78 = local_a0 * ((Vector4 *)param_6)->y - local_9c * ((Vector4 *)param_6)->x;
		local_80 = local_9c * ((Vector4 *)param_6)->z - local_98 * ((Vector4 *)param_6)->y;
		FUN_0018ec48(lVar1, &local_80, &local_70);
		*(float *)(param_4 + 0x1d0) = *(float *)(param_4 + 0x1d0) + local_70;
		*(float *)(param_4 + 0x1d4) = *(float *)(param_4 + 0x1d4) + local_6c;
		*(float *)(param_4 + 0x1d8) = *(float *)(param_4 + 0x1d8) + local_68;
	}
	return;
}



void FUN_0028ad48(float param_1, float param_2, float param_3, int param_4, undefined8 *param_5,
	undefined8 param_6)

{
	long lVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	Vector4 local_110;
	Vector4 local_100;
	float local_f0;
	float local_ec;
	float local_e8;
	undefined4 local_e4;
	float local_e0;
	float fStack220;
	float local_d8;
	undefined4 uStack212;
	float local_d0;
	float local_cc;
	float local_c8;
	float local_c0;
	float local_bc;
	float local_b8;
	undefined4 local_b4;
	float local_b0;
	float fStack172;
	float local_a8;
	undefined4 local_a4;
	float local_a0;
	float local_9c;
	float local_98;
	float local_90;
	float local_8c;
	float local_88;
	float local_80;
	float local_7c;
	float local_78;
	undefined4 local_74;
	float local_70;
	float local_6c;
	float local_68;

	lVar1 = (long)(int)(Matrix4x4 *)(param_4 + 0xb0);
	MultiplyMatrixByVector((Matrix4x4 *)(param_4 + 0xb0), (Vector4 *)param_6, &local_110);
	local_100.w = *(float *)((int)param_5 + 0xc);
	local_100.x = (float)*param_5 - local_110.x;
	local_100.z = *(float *)(param_5 + 0x1) - local_110.z;
	local_100.y = 0.00000000;
	fVar4 = local_100.x * local_100.x;
	fVar3 = local_100.z * local_100.z;
	local_f0 = 0.00000000;
	local_110.y = (float)((ulong)*param_5 >> 0x20) - local_110.y;
	local_ec = 1.00000000;
	local_e8 = 0.00000000;
	local_e4 = 0x3f800000;
	fVar2 = RSQRT(0.00000000, &local_100);
	local_100.x = local_100.x * fVar2;
	local_100.y = local_100.y * fVar2;
	local_100.z = local_100.z * fVar2;
	FUN_00289368(param_4);
	FUN_0018ec48(lVar1, (undefined4 *)(Vector4 *)param_6, &local_d0);
	local_c0 = local_cc * *(float *)(param_4 + 0x148) - local_c8 * *(float *)(param_4 + 0x144);
	local_e0 = *(float *)(param_4 + 0x150) + local_c0;
	local_bc = local_c8 * *(float *)(param_4 + 0x140) - local_d0 * *(float *)(param_4 + 0x148);
	local_b4 = 0x3f800000;
	local_b8 = local_d0 * *(float *)(param_4 + 0x144) - local_cc * *(float *)(param_4 + 0x140);
	local_d8 = *(float *)(param_4 + 0x158) + local_b8;
	fStack220 = *(float *)(param_4 + 0x154) + local_bc;
	local_a4 = 0x3f800000;
	uStack212 = 0x3f800000;
	fVar2 = local_110.y * param_1 - fStack220 * param_2;
	fVar3 = SQRT(fVar4 + fVar3) * param_1 * param_3 -
		(local_e0 * local_100.x + fStack220 * local_100.y + local_d8 * local_100.z) * param_2 *
		param_3;
	local_100.x = local_100.x * fVar3;
	local_100.z = local_100.z * fVar3;
	local_100.y = local_100.y * fVar3;
	local_f0 = local_f0 * fVar2 + local_100.x;
	local_e8 = local_e8 * fVar2 + local_100.z;
	local_ec = local_ec * fVar2 + local_100.y;
	local_b0 = local_e0;
	fStack172 = fStack220;
	local_a8 = local_d8;
	FUN_0018ec48((long)(param_4 + 0xf0), &local_f0, &local_a0);
	FUN_00289368(param_4);
	FUN_0018ec48(lVar1, &local_a0, &local_90);
	*(float *)(param_4 + 0x1c0) = *(float *)(param_4 + 0x1c0) + local_90;
	*(float *)(param_4 + 0x1c4) = *(float *)(param_4 + 0x1c4) + local_8c;
	*(float *)(param_4 + 0x1c8) = *(float *)(param_4 + 0x1c8) + local_88;
	local_7c = local_98 * ((Vector4 *)param_6)->x - local_a0 * ((Vector4 *)param_6)->z;
	local_78 = local_a0 * ((Vector4 *)param_6)->y - local_9c * ((Vector4 *)param_6)->x;
	local_80 = local_9c * ((Vector4 *)param_6)->z - local_98 * ((Vector4 *)param_6)->y;
	local_74 = 0x3f800000;
	FUN_0018ec48(lVar1, &local_80, &local_70);
	*(float *)(param_4 + 0x1d0) = *(float *)(param_4 + 0x1d0) + local_70;
	*(float *)(param_4 + 0x1d4) = *(float *)(param_4 + 0x1d4) + local_6c;
	*(float *)(param_4 + 0x1d8) = *(float *)(param_4 + 0x1d8) + local_68;
	return;
}



float FUN_0028b0b8(int param_1, float *param_2, float *param_3)

{
	float local_a0;
	float local_9c;
	float local_98;
	float local_90;
	float local_8c;
	float local_88;
	undefined4 local_84;
	undefined4 auStack128[0x4];
	float local_70;
	float local_6c;
	float local_68;
	float local_60;
	float local_5c;
	float local_58;

	FUN_0018ec48((long)(param_1 + 0xf0), param_3, &local_a0);
	local_8c = local_98 * *param_2 - local_a0 * param_2[0x2];
	local_90 = local_9c * param_2[0x2] - local_98 * param_2[0x1];
	local_88 = local_a0 * param_2[0x1] - local_9c * *param_2;
	local_84 = 0x3f800000;
	FUN_0018ec48((long)(param_1 + 0xb0), &local_90, auStack128);
	FUN_0018ec48((long)(param_1 + 0x170), auStack128, &local_70);
	FUN_0018ec48((long)(param_1 + 0xb0), param_2, &local_60);
	return (local_5c * local_68 - local_58 * local_6c) * *param_3 +
		(local_58 * local_70 - local_60 * local_68) * param_3[0x1] +
		(local_60 * local_6c - local_5c * local_70) * param_3[0x2] + *(float *)(param_1 + 0x20);
}



float FUN_0028b228(float param_1, float param_2, int param_3, float *param_4, float *param_5)

{
	float fVar1;
	float fVar2;
	float local_70;
	float local_6c;
	float local_68;
	float local_60;
	float local_5c;
	float local_58;
	undefined4 local_54;
	float local_50;
	float fStack76;
	float local_48;
	undefined4 local_44;

	FUN_00289368(param_3);
	FUN_00289368(param_3);
	FUN_0018ec48((long)(param_3 + 0xb0), param_4, &local_70);
	local_60 = local_6c * *(float *)(param_3 + 0x148) - local_68 * *(float *)(param_3 + 0x144);
	local_50 = *(float *)(param_3 + 0x150) + local_60;
	local_5c = local_68 * *(float *)(param_3 + 0x140) - local_70 * *(float *)(param_3 + 0x148);
	local_54 = 0x3f800000;
	local_58 = local_70 * *(float *)(param_3 + 0x144) - local_6c * *(float *)(param_3 + 0x140);
	local_48 = *(float *)(param_3 + 0x158) + local_58;
	fStack76 = *(float *)(param_3 + 0x154) + local_5c;
	local_44 = 0x3f800000;
	fVar2 = local_50 * *param_5 + fStack76 * param_5[0x1] + local_48 * param_5[0x2];
	fVar1 = 0.00000000;
	if (fVar2 <= 0.00000000) {
		if (param_2 != 0.00000000) {
			param_1 = param_1 * ((fVar2 * fVar2) / (fVar2 * fVar2 + param_2));
		}
		fVar1 = FUN_0028b0b8(param_3, param_4, param_5);
		fVar1 = (-(param_1 + 1.00000000) * fVar2) / fVar1;
	}
	return fVar1;
}



float FUN_0028b3c0(float param_1, float param_2, int param_3, float *param_4, int param_5, float *param_6
	, float *param_7)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float local_90;
	float fStack140;
	float local_88;
	float local_84;
	float local_80;
	float local_7c;
	float local_78;
	float local_74;
	float local_70;
	float fStack108;
	float local_68;
	float local_64;

	FUN_00289368(param_3);
	fVar4 = 1.00000000;
	FUN_00289368(param_3);
	FUN_0018ec48((long)(param_3 + 0xb0), param_4, &local_90);
	local_80 = fStack140 * *(float *)(param_3 + 0x148) - local_88 * *(float *)(param_3 + 0x144);
	local_7c = local_88 * *(float *)(param_3 + 0x140) - local_90 * *(float *)(param_3 + 0x148);
	local_78 = local_90 * *(float *)(param_3 + 0x144) - fStack140 * *(float *)(param_3 + 0x140);
	fVar3 = *(float *)(param_3 + 0x150) + local_80;
	fVar2 = *(float *)(param_3 + 0x154) + local_7c;
	fVar1 = *(float *)(param_3 + 0x158) + local_78;
	local_74 = fVar4;
	local_70 = fVar3;
	fStack108 = fVar2;
	local_68 = fVar1;
	local_64 = fVar4;
	FUN_00289368(param_5);
	FUN_0018ec48((long)(param_5 + 0xb0), param_6, &local_90);
	local_80 = fStack140 * *(float *)(param_5 + 0x148) - local_88 * *(float *)(param_5 + 0x144);
	local_7c = local_88 * *(float *)(param_5 + 0x140) - local_90 * *(float *)(param_5 + 0x148);
	local_78 = local_90 * *(float *)(param_5 + 0x144) - fStack140 * *(float *)(param_5 + 0x140);
	local_70 = *(float *)(param_5 + 0x150) + local_80;
	fStack108 = *(float *)(param_5 + 0x154) + local_7c;
	local_68 = *(float *)(param_5 + 0x158) + local_78;
	local_90 = local_70 - fVar3;
	fStack140 = fStack108 - fVar2;
	local_88 = local_68 - fVar1;
	fVar2 = local_90 * *param_7 + fStack140 * param_7[0x1] + local_88 * param_7[0x2];
	fVar1 = 0.00000000;
	if (fVar2 <= 0.00000000) {
		if (param_2 != 0.00000000) {
			param_1 = param_1 * ((fVar2 * fVar2) / (fVar2 * fVar2 + param_2));
		}
		local_84 = fVar4;
		local_74 = fVar4;
		local_64 = fVar4;
		fVar1 = FUN_0028b0b8(param_3, param_4, param_7);
		fVar3 = FUN_0028b0b8(param_5, param_6, param_7);
		fVar1 = (-(param_1 + fVar4) * fVar2) / (fVar1 + fVar3);
	}
	return fVar1;
}



float FUN_0028b690(float param_1, float param_2, int param_3, float *param_4, float *param_5,
	float *param_6)

{
	float fVar1;
	float fVar2;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;
	float local_70;
	float local_6c;
	float local_68;
	undefined4 local_64;
	float local_60;
	float fStack92;
	float local_58;
	undefined4 local_54;

	FUN_00289368(param_3);
	FUN_00289368(param_3);
	FUN_0018ec48((long)(param_3 + 0xb0), param_4, &local_80);
	local_70 = fStack124 * *(float *)(param_3 + 0x148) - local_78 * *(float *)(param_3 + 0x144);
	local_60 = *(float *)(param_3 + 0x150) + local_70;
	local_6c = local_78 * *(float *)(param_3 + 0x140) - local_80 * *(float *)(param_3 + 0x148);
	local_64 = 0x3f800000;
	local_68 = local_80 * *(float *)(param_3 + 0x144) - fStack124 * *(float *)(param_3 + 0x140);
	local_58 = *(float *)(param_3 + 0x158) + local_68;
	fStack92 = *(float *)(param_3 + 0x154) + local_6c;
	local_54 = 0x3f800000;
	local_80 = *param_5 - local_60;
	fStack124 = param_5[0x1] - fStack92;
	local_78 = param_5[0x2] - local_58;
	local_74 = 0x3f800000;
	fVar2 = local_80 * *param_6 + fStack124 * param_6[0x1] + local_78 * param_6[0x2];
	fVar1 = 0.00000000;
	if (fVar2 <= 0.00000000) {
		if (param_2 != 0.00000000) {
			param_1 = param_1 * ((fVar2 * fVar2) / (fVar2 * fVar2 + param_2));
		}
		fVar1 = FUN_0028b0b8(param_3, param_4, param_6);
		fVar1 = (-(param_1 + 1.00000000) * fVar2) / fVar1;
	}
	return fVar1;
}



// WARNING: Type propagation algorithm not settling

void FUN_0028b878(float param_1, undefined8 param_2, undefined8 *param_3, undefined8 param_4,
	float *param_5, float *param_6)

{
	float fVar1;
	float fVar2;
	Matrix4x4 local_130;
	Vector4 VStack240;
	Vector4 local_e0;
	float local_d0;
	float fStack204;
	float local_c8;
	undefined4 uStack196;
	float local_c0;
	float fStack188;
	float local_b8;
	float local_b4;
	float local_70;
	float fStack108;
	float local_68;
	float fStack100;
	float local_60[0x4];

	local_130.xComponents.z = *(float *)(param_3 + 0x1);
	local_130.xComponents.w = *(float *)((int)param_3 + 0xc);
	local_130.zComponents.x = *(float *)(param_3 + 0x4);
	local_130.zComponents.y = *(float *)((int)param_3 + 0x24);
	local_130.zComponents.z = *(float *)(param_3 + 0x5);
	local_130.zComponents.w = *(float *)((int)param_3 + 0x2c);
	local_130.wComponents.x = *(float *)(param_3 + 0x6);
	local_130.wComponents.y = *(float *)((int)param_3 + 0x34);
	local_130.wComponents.z = *(float *)(param_3 + 0x7);
	local_130.wComponents.w = *(float *)((int)param_3 + 0x3c);
	local_130.yComponents.x = *(float *)(param_3 + 0x2);
	local_130.yComponents.y = *(float *)((int)param_3 + 0x14);
	local_130.yComponents.z = *(float *)(param_3 + 0x3);
	local_130.yComponents.w = *(float *)((int)param_3 + 0x1c);
	local_130.xComponents.x = (float)*param_3;
	local_130.xComponents.y = (float)((ulong)*param_3 >> 0x20);
	FUN_0018ef98(&local_130);
	MultiplyMatrixByVector(&local_130, (Vector4 *)param_4, &VStack240);
	MultiplyMatrixByVector((Matrix4x4 *)param_2, &VStack240, &local_e0);
	local_b8 = 1.00000000 / param_1;
	local_c8 = ((Vector4 *)param_4)->z - local_e0.z;
	local_d0 = ((Vector4 *)param_4)->x - local_e0.x;
	fStack204 = ((Vector4 *)param_4)->y - local_e0.y;
	uStack196 = 0x3f800000;
	local_c0 = local_b8 * local_d0;
	fStack188 = local_b8 * fStack204;
	local_b8 = local_b8 * local_c8;
	local_b4 = 1.00000000;
	*param_5 = local_c0;
	param_5[0x1] = fStack188;
	param_5[0x2] = local_b8;
	param_5[0x3] = 1.00000000;
	local_130.xComponents.x = (((Matrix4x4 *)param_2)->xComponents).x;
	local_130.xComponents.y = (((Matrix4x4 *)param_2)->xComponents).y;
	local_130.xComponents.z = (((Matrix4x4 *)param_2)->xComponents).z;
	local_130.xComponents.w = (((Matrix4x4 *)param_2)->xComponents).w;
	local_130.yComponents.x = (((Matrix4x4 *)param_2)->yComponents).x;
	local_130.yComponents.y = (((Matrix4x4 *)param_2)->yComponents).y;
	local_130.yComponents.z = (((Matrix4x4 *)param_2)->yComponents).z;
	local_130.yComponents.w = (((Matrix4x4 *)param_2)->yComponents).w;
	local_130.wComponents.x = (((Matrix4x4 *)param_2)->wComponents).x;
	local_130.wComponents.y = (((Matrix4x4 *)param_2)->wComponents).y;
	local_130.wComponents.z = (((Matrix4x4 *)param_2)->wComponents).z;
	local_130.wComponents.w = (((Matrix4x4 *)param_2)->wComponents).w;
	local_130.zComponents.x = (((Matrix4x4 *)param_2)->zComponents).x;
	local_130.zComponents.y = (((Matrix4x4 *)param_2)->zComponents).y;
	local_130.zComponents.z = (((Matrix4x4 *)param_2)->zComponents).z;
	local_130.zComponents.w = (((Matrix4x4 *)param_2)->zComponents).w;
	FUN_0018ef98(&local_130);
	MultiplyMatrices((Matrix4x4 *)param_3, &local_130,
		(Matrix4x4 *)(TransformedGeometyPoint *)((Vector4 *)&local_c0 + 0x1));
	FUN_00187090((Vector4 *)&local_c0, (TransformedGeometyPoint *)((Vector4 *)&local_c0 + 0x1));
	FUN_001872e0((float *)(Vector4 *)&local_c0, (long)(int)((Vector4 *)&local_c0 + 0x5), (int *)local_60
		, 0x0);
	fVar1 = (float)(int)local_60[0] * 0.00009587;
	fVar2 = 1.00000000 / -param_1;
	*param_6 = local_70 * fVar1 * fVar2;
	param_6[0x1] = fStack108 * fVar1 * fVar2;
	param_6[0x2] = local_68 * fVar1 * fVar2;
	param_6[0x3] = fStack100;
	return;
}



void FUN_0028ba78(float param_1, float param_2, int param_3, undefined8 *param_4, float *param_5)

{
	float fVar1;
	undefined4 auStack256[0x10];
	float local_c0;
	float fStack188;
	float local_b8;
	undefined4 uStack180;
	float local_b0;
	float fStack172;
	float fStack168;
	undefined4 uStack164;
	float local_a0;
	float fStack156;
	float local_98;
	float fStack148;
	Vector4 local_90;
	Vector4 local_80;
	Vector4 local_70;
	float local_60;
	float fStack92;
	float local_58;
	float local_54;

	FUN_00289b90(param_3, auStack256);
	local_54 = 1.00000000;
	local_c0 = *(float *)(param_3 + 0x140);
	fStack188 = *(float *)(param_3 + 0x144);
	local_b8 = *(float *)(param_3 + 0x148);
	uStack180 = *(undefined4 *)(param_3 + 0x14c);
	local_b0 = *param_5 - local_c0;
	fStack172 = param_5[0x1] - fStack188;
	fStack168 = param_5[0x2] - local_b8;
	local_70.w = 1.00000000;
	uStack164 = 0x3f800000;
	local_70.x = local_b0;
	local_70.y = fStack172;
	local_70.z = fStack168;
	FUN_0018ec48((long)(int)auStack256, &local_b0, &local_a0);
	local_70.z = *(float *)(param_4 + 0x1);
	local_70.w = *(float *)((int)param_4 + 0xc);
	local_70.x = (float)*param_4;
	local_70.y = (float)((ulong)*param_4 >> 0x20);
	fVar1 = RSQRT(0.00000000, &local_70);
	local_70.x = local_70.x * fVar1;
	local_70.y = local_70.y * fVar1;
	local_70.z = local_70.z * fVar1;
	local_90.y = local_70.x * local_a0 + local_70.y * fStack156 + local_70.z * local_98;
	local_90.z = local_70.z * local_90.y;
	local_90.x = local_70.x * local_90.y;
	local_90.y = local_70.y * local_90.y;
	param_1 = SQRT(*(float *)param_4 * *(float *)param_4 +
		*(float *)((int)param_4 + 0x4) * *(float *)((int)param_4 + 0x4) +
		*(float *)(param_4 + 0x1) * *(float *)(param_4 + 0x1)) * param_1;
	local_90.w = local_54;
	if (param_1 < SQRT(local_90.x * local_90.x + local_90.y * local_90.y + local_90.z * local_90.z)) {
		local_60 = local_90.x;
		fStack92 = local_90.y;
		local_58 = local_90.z;
		fVar1 = RSQRT(0.00000000, &local_90);
		local_90.x = local_90.x * fVar1 * param_1;
		local_90.y = local_90.y * fVar1 * param_1;
		local_90.z = local_90.z * fVar1 * param_1;
	}
	local_80.w = fStack148;
	fStack92 = local_70.x * local_a0 + local_70.y * fStack156 + local_70.z * local_98;
	local_58 = local_70.z * fStack92;
	local_60 = local_70.x * fStack92;
	fStack92 = local_70.y * fStack92;
	param_2 = SQRT(*(float *)param_4 * *(float *)param_4 +
		*(float *)((int)param_4 + 0x4) * *(float *)((int)param_4 + 0x4) +
		*(float *)(param_4 + 0x1) * *(float *)(param_4 + 0x1)) * param_2;
	local_80.x = local_a0 - local_60;
	local_80.y = fStack156 - fStack92;
	local_80.z = local_98 - local_58;
	fVar1 = *(float *)(param_3 + 0x90);
	if (param_2 < SQRT(local_80.x * local_80.x + local_80.y * local_80.y + local_80.z * local_80.z)) {
		fVar1 = RSQRT(0.00000000, &local_80);
		local_80.x = local_80.x * fVar1 * param_2;
		local_80.y = local_80.y * fVar1 * param_2;
		local_80.z = local_80.z * fVar1 * param_2;
		fVar1 = *(float *)(param_3 + 0x90);
	}
	*(float *)(param_3 + 0x90) = fVar1 + local_90.x;
	*(float *)(param_3 + 0x94) = *(float *)(param_3 + 0x94) + local_90.y;
	*(float *)(param_3 + 0x98) = *(float *)(param_3 + 0x98) + local_90.z;
	*(float *)(param_3 + 0x90) = *(float *)(param_3 + 0x90) + local_80.x;
	*(float *)(param_3 + 0x94) = *(float *)(param_3 + 0x94) + local_80.y;
	*(float *)(param_3 + 0x98) = *(float *)(param_3 + 0x98) + local_80.z;
	return;
}



undefined8 FUN_0028be00(undefined8 param_1)

{
	int iVar1;

	iVar1 = (int)param_1;
	FUN_002898e8(param_1);
	*(undefined4 *)(iVar1 + 0x14) = 0x305570;
	*(ulong *)(iVar1 + 0x2e0) = *(ulong *)(iVar1 + 0x2e0) & 0xffffffffffffffbd | 0x5;
	*(undefined4 *)(iVar1 + 0x2e4) = 0x0;
	*(undefined4 *)(iVar1 + 0x2f0) = 0x0;
	*(undefined4 *)(iVar1 + 0x2fc) = 0x3f800000;
	*(undefined4 *)(iVar1 + 0x2f4) = 0x0;
	*(undefined4 *)(iVar1 + 0x2f8) = 0x0;
	*(undefined4 *)(iVar1 + 0x308) = 0x3e99999a;
	*(undefined4 *)(iVar1 + 0x30c) = 0x40800000;
	*(undefined4 *)(iVar1 + 0x310) = 0x3f000000;
	*(undefined4 *)(iVar1 + 0x318) = 0x3c23d70a;
	*(undefined4 *)(iVar1 + 0x320) = 0x3a83126f;
	*(undefined4 *)(iVar1 + 0x324) = 0xbf800000;
	*(undefined4 *)(iVar1 + 0x314) = 0x3c23d70a;
	*(undefined4 *)(iVar1 + 0x31c) = 0x3a83126f;
	*(undefined4 *)(iVar1 + 0x32c) = 0x3f800000;
	*(undefined4 *)(iVar1 + 0x300) = 0x0;
	*(undefined *)(iVar1 + 0x304) = 0x0;
	*(undefined4 *)(iVar1 + 0x330) = 0x0;
	*(undefined4 *)(iVar1 + 0x340) = 0x0;
	*(undefined4 *)(iVar1 + 0x34c) = 0x3f800000;
	*(undefined4 *)(iVar1 + 0x344) = 0x0;
	*(undefined4 *)(iVar1 + 0x348) = 0x0;
	*(undefined4 *)(iVar1 + 0x350) = 0x0;
	*(undefined4 *)(iVar1 + 0x35c) = 0x3f800000;
	*(undefined4 *)(iVar1 + 0x354) = 0x0;
	*(undefined4 *)(iVar1 + 0x358) = 0x0;
	*(undefined4 *)(iVar1 + 0x360) = 0x0;
	*(undefined4 *)(iVar1 + 0x364) = 0x0;
	*(undefined4 *)(iVar1 + 0x36c) = 0x0;
	MovePositionFromPos2ToPos1((Vector4 *)(iVar1 + 0x200), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(iVar1 + 0x20c) = 0x3f800000;
	return param_1;
}



void FUN_0028bf48(int param_1, undefined8 *param_2)

{
	undefined8 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	float local_40;
	float fStack60;
	float local_38;
	undefined4 uStack52;
	float local_30;
	float fStack44;
	float local_28;
	undefined4 local_24;

	local_40 = *(float *)param_2 - *(float *)(param_1 + 0x2f0);
	fStack60 = *(float *)((int)param_2 + 0x4) - *(float *)(param_1 + 0x2f4);
	local_38 = *(float *)(param_2 + 0x1) - *(float *)(param_1 + 0x2f8);
	local_24 = 0x3f800000;
	uStack52 = 0x3f800000;
	local_30 = local_40;
	fStack44 = fStack60;
	local_28 = local_38;
	FUN_0018ec48((long)(param_1 + 0xb0), &local_40, &local_40);
	*(float *)(param_1 + 0xe0) = *(float *)(param_1 + 0xe0) + local_40;
	*(float *)(param_1 + 0xe4) = *(float *)(param_1 + 0xe4) + fStack60;
	*(float *)(param_1 + 0xe8) = *(float *)(param_1 + 0xe8) + local_38;
	*(undefined4 *)(param_1 + 0xf0) = *(undefined4 *)(param_1 + 0xb0);
	*(undefined4 *)(param_1 + 0xf4) = *(undefined4 *)(param_1 + 0xb4);
	*(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xb8);
	*(undefined4 *)(param_1 + 0xfc) = *(undefined4 *)(param_1 + 0xbc);
	*(undefined4 *)(param_1 + 0x100) = (int)*(undefined8 *)(param_1 + 0xc0);
	*(undefined4 *)(param_1 + 0x104) = (int)((ulong)*(undefined8 *)(param_1 + 0xc0) >> 0x20);
	*(undefined4 *)(param_1 + 0x108) = *(undefined4 *)(param_1 + 0xc8);
	*(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0xcc);
	*(undefined4 *)(param_1 + 0x110) = (int)*(undefined8 *)(param_1 + 0xd0);
	*(undefined4 *)(param_1 + 0x114) = (int)((ulong)*(undefined8 *)(param_1 + 0xd0) >> 0x20);
	*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0xd8);
	*(undefined4 *)(param_1 + 0x11c) = *(undefined4 *)(param_1 + 0xdc);
	*(undefined4 *)(param_1 + 0x120) = (int)*(undefined8 *)(param_1 + 0xe0);
	*(undefined4 *)(param_1 + 0x124) = (int)((ulong)*(undefined8 *)(param_1 + 0xe0) >> 0x20);
	*(undefined4 *)(param_1 + 0x128) = *(undefined4 *)(param_1 + 0xe8);
	*(undefined4 *)(param_1 + 0x12c) = *(undefined4 *)(param_1 + 0xec);
	FUN_0018ef98((Matrix4x4 *)(param_1 + 0xf0));
	uVar1 = *param_2;
	uVar2 = *(undefined4 *)(param_2 + 0x1);
	uVar3 = *(undefined4 *)((int)param_2 + 0xc);
	*(undefined4 *)(param_1 + 0x2f0) = (int)uVar1;
	*(undefined4 *)(param_1 + 0x2f4) = (int)((ulong)uVar1 >> 0x20);
	*(undefined4 *)(param_1 + 0x2f8) = uVar2;
	*(undefined4 *)(param_1 + 0x2fc) = uVar3;
	return;
}



undefined4
FUN_0028c040(undefined4 *param_1, undefined8 *param_2, float *param_3, long param_4, long param_5)

{
	GameNode *pGVar1;
	GameNode *pGVar2;
	GameNode *pGVar3;
	ulong uVar4;
	undefined8 uVar5;
	long lVar6;
	float fVar7;
	ulong uVar8;
	int iVar9;
	float *pfVar10;
	Matrix4x4 *mat;
	float fVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	Vector4 local_110;
	float local_100;
	float fStack252;
	float fStack248;
	float fStack244;
	Vector4 local_f0;
	float local_e0;
	float fStack220;
	float local_d8;
	undefined4 local_d4;
	Vector4 local_d0;
	Vector4 local_c0;
	float local_b0;
	float local_ac;
	float local_a8;
	float local_a0;
	float local_9c;
	float local_98;
	float local_94;
	float local_90;
	float fStack140;
	float local_88;
	float local_84;

	iVar9 = (int)param_4;
	fVar14 = *(float *)(iVar9 + 0x10);
	fVar13 = (float)param_1[0xc4];
	fVar15 = *(float *)(iVar9 + 0x18);
	fVar11 = (float)param_1[0xc6];
	fVar17 = (float)param_1[0xc5] * *(float *)(iVar9 + 0x1c);
	fVar12 = FUN_0028b228((float)param_1[0xc2] * *(float *)(iVar9 + 0x14), (float)param_1[0xc3],
		(int)param_1, (float *)param_2, param_3);
	fStack252 = param_3[0x1] * fVar12;
	local_100 = *param_3 * fVar12;
	fStack248 = param_3[0x2] * fVar12;
	local_d4 = 0x3f800000;
	fStack244 = 1.00000000;
	local_e0 = local_100;
	fStack220 = fStack252;
	local_d8 = fStack248;
	FUN_0028a518((int)param_1, &local_100, (float *)param_2);
	if (param_5 != 0x0) {
		pfVar10 = (float *)param_5;
		*pfVar10 = local_100;
		pfVar10[0x1] = fStack252;
		pfVar10[0x2] = fStack248;
		pfVar10[0x3] = fStack244;
		*pfVar10 = -*pfVar10;
		pfVar10[0x1] = -pfVar10[0x1];
		pfVar10[0x2] = -pfVar10[0x2];
	}
	pGVar3 = GetGameNode((NodeList *)(param_1[0xb9] + 0xd4), 0x1);
	pGVar1 = pGVar3[0xc].prevNode;
	if (param_4 == 0x0) {
	LAB_0028c1b8:
		uVar4 = *(ulong *)(param_1 + 0xb8);
	}
	else {
		if (pGVar1 != (GameNode *)0x0) {
			if ((*(ulong *)(iVar9 + 0x8) >> 0x8 & 0x1) != 0x0) {
				pGVar2 = pGVar3[0x5].prevNode[0x2].nextNode;
				(**(code **)&pGVar2[0x3].field_0x4)
					((int)&(pGVar3[0x5].prevNode)->ChunkNode + (int)*(short *)&pGVar2[0x3].ChunkNode
						, iVar9 + 0x40, *param_1, 0x0);
				*(ulong *)(pGVar1 + 0x6) = *(ulong *)(pGVar1 + 0x6) | 0x100000;
			}
			goto LAB_0028c1b8;
		}
		uVar4 = *(ulong *)(param_1 + 0xb8);
	}
	mat = (Matrix4x4 *)(param_1 + 0x2c);
	local_e0 = (float)param_1[0x54];
	fStack220 = (float)param_1[0x55];
	local_d8 = (float)param_1[0x56];
	local_d4 = param_1[0x57];
	if ((uVar4 & 0x4) != 0x0) {
		local_d0.z = (float)param_1[0x8];
		local_d0.w = fStack244;
		local_d0.x = local_100 * local_d0.z;
		local_d0.y = fStack252 * local_d0.z;
		local_d0.z = fStack248 * local_d0.z;
		if (1.79999995 < local_d0.x * local_d0.x + local_d0.y * local_d0.y + local_d0.z * local_d0.z) {
			local_c0.z = *(float *)(param_2 + 0x1);
			local_c0.w = *(float *)((int)param_2 + 0xc);
			local_c0.x = (float)*param_2;
			local_c0.y = (float)((ulong)*param_2 >> 0x20);
			MultiplyMatrixByVector(mat, &local_c0, &local_c0);
			uVar4 = (**(code **)(pGVar3->methods + 0xec))
				((int)&pGVar3->ChunkNode + (int)*(short *)(pGVar3->methods + 0xe8), param_4,
					&local_c0, &local_d0);
			*(ulong *)(param_1 + 0xb8) =
				*(ulong *)(param_1 + 0xb8) & 0xfffffffffffffff7 | (uVar4 & 0x1) << 0x3;
		}
	}
	fVar16 = 1.00000000;
	FUN_00289368((int)param_1);
	FUN_0018ec48((long)(int)mat, (undefined4 *)param_2, &local_b0);
	local_a0 = local_ac * (float)param_1[0x52] - local_a8 * (float)param_1[0x51];
	local_90 = (float)param_1[0x54] + local_a0;
	local_9c = local_a8 * (float)param_1[0x50] - local_b0 * (float)param_1[0x52];
	local_98 = local_b0 * (float)param_1[0x51] - local_ac * (float)param_1[0x50];
	local_88 = (float)param_1[0x56] + local_98;
	fStack140 = (float)param_1[0x55] + local_9c;
	local_d0.y = -local_90 * *param_3 + -fStack140 * param_3[0x1] + -local_88 * param_3[0x2];
	local_d0.x = *param_3 * local_d0.y;
	local_d0.z = param_3[0x2] * local_d0.y;
	local_d0.y = param_3[0x1] * local_d0.y;
	local_110.x = -local_90 - local_d0.x;
	local_110.y = -fStack140 - local_d0.y;
	local_110.z = -local_88 - local_d0.z;
	uVar5 = *param_2;
	fVar7 = *(float *)(param_2 + 0x1);
	local_d0.w = *(float *)((int)param_2 + 0xc);
	local_110.w = fVar16;
	local_94 = fVar16;
	local_84 = fVar16;
	if (0.01000000 <
		SQRT(local_110.x * local_110.x + local_110.y * local_110.y + local_110.z * local_110.z)) {
		fVar12 = fVar12 * (float)((int)fVar14 * (uint)(fVar14 < fVar13) |
			(int)fVar13 * (uint)(fVar14 >= fVar13));
		local_d0.w = fVar16;
		fVar13 = RSQRT(0.00000000, &local_110);
		local_110.x = local_110.x * fVar13;
		local_110.y = local_110.y * fVar13;
		local_110.z = local_110.z * fVar13;
		local_f0.z = FUN_0028b228(0.00000000, 0.00000000, (int)param_1, (float *)param_2,
			(float *)&local_110);
		local_f0.x = local_110.x * local_f0.z;
		local_f0.y = local_110.y * local_f0.z;
		local_f0.z = local_110.z * local_f0.z;
		local_f0.w = fVar16;
		local_d0.x = local_f0.x;
		local_d0.y = local_f0.y;
		local_d0.z = local_f0.z;
		local_d0.w = fVar16;
		if (fVar12 < SQRT(local_f0.x * local_f0.x + local_f0.y * local_f0.y + local_f0.z * local_f0.z))
		{
			fVar13 = RSQRT(0.00000000, &local_f0);
			local_f0.x = local_f0.x * fVar13 * fVar12;
			local_f0.y = local_f0.y * fVar13 * fVar12;
			local_f0.z = local_f0.z * fVar13 * fVar12;
		}
		FUN_0028a518((int)param_1, (float *)&local_f0, (float *)param_2);
		uVar5 = *param_2;
		fVar7 = *(float *)(param_2 + 0x1);
		local_d0.w = *(float *)((int)param_2 + 0xc);
	}
	local_d0.x = (float)uVar5;
	local_d0.y = (float)((ulong)uVar5 >> 0x20);
	local_d0.z = fVar7;
	MultiplyMatrixByVector(mat, &local_d0, &local_d0);
	lVar6 = (**(code **)(param_1[0x5] + 0x7c))((int)param_1 + (int)*(short *)(param_1[0x5] + 0x78));
	if (lVar6 == 0x0) {
		if ((*(ulong *)(param_1 + 0xb8) & 0x8) != 0x0) goto LAB_0028c60c;
		uVar4 = (**(code **)(pGVar3->methods + 0xf4))
			((int)&pGVar3->ChunkNode + (int)*(short *)(pGVar3->methods + 0xf0), param_4,
				&local_d0, &local_e0);
		uVar8 = *(ulong *)(param_1 + 0xb8);
		iVar9 = -0x11;
		uVar4 = (uVar4 & 0x1) << 0x4;
	}
	else {
		local_c0.x = local_e0 * 0.30000001;
		local_c0.y = fStack220 * 0.30000001;
		local_c0.z = local_d8 * 0.30000001;
		local_c0.w = 1.00000000;
		uVar4 = (**(code **)(pGVar3->methods + 0xfc))
			((int)&pGVar3->ChunkNode + (int)*(short *)(pGVar3->methods + 0xf8), param_4,
				&local_d0, &local_c0);
		uVar8 = *(ulong *)(param_1 + 0xb8);
		iVar9 = -0x21;
		uVar4 = (uVar4 & 0x1) << 0x5;
	}
	*(ulong *)(param_1 + 0xb8) = uVar8 & (long)iVar9 | uVar4;
LAB_0028c60c:
	FUN_0028ba78(fVar17, fVar11 * fVar15, (int)param_1, (undefined8 *)&local_100,
		(float *)&GlobalQuaternion_x0_y0_z0_w1);
	return 0x1;
}



undefined4 FUN_0028c668(int *param_1, undefined8 param_2, float *param_3, int *param_4)

{
	GameNode *pGVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	Vector4 VStack256;
	Vector4 VStack240;
	Vector4 local_e0;
	float local_d0;
	float fStack204;
	float local_c8;
	undefined4 local_c4;
	float local_c0;
	float fStack188;
	float local_b8;
	undefined4 uStack180;
	Vector4 local_b0;
	float local_a0;
	float fStack156;
	float local_98;
	undefined4 local_94;
	float local_90;
	float local_8c;
	float local_88;
	undefined4 local_84;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;

	fVar6 = (float)param_1[0xc2];
	fVar4 = (float)param_4[0xc2];
	fVar2 = (float)param_1[0xc4];
	fVar3 = (float)param_4[0xc4];
	fVar5 = (float)param_1[0xc3];
	fVar3 = (float)((int)fVar3 * (uint)(fVar3 < fVar2) | (int)fVar2 * (uint)(fVar3 >= fVar2));
	MultiplyMatrixByVector((Matrix4x4 *)(param_1 + 0x3c), (Vector4 *)param_2, &VStack256);
	MultiplyMatrixByVector((Matrix4x4 *)(param_4 + 0x3c), (Vector4 *)param_2, &VStack240);
	fVar2 = FUN_0028b3c0(fVar6 * fVar4, fVar5, (int)param_1, (float *)&VStack256, (int)param_4,
		(float *)&VStack240, param_3);
	local_e0.y = -fVar2;
	local_c4 = 0x3f800000;
	local_e0.x = *param_3 * local_e0.y;
	local_e0.z = param_3[0x2] * local_e0.y;
	local_e0.y = param_3[0x1] * local_e0.y;
	local_e0.w = 1.00000000;
	local_d0 = local_e0.x;
	fStack204 = local_e0.y;
	local_c8 = local_e0.z;
	FUN_0028a518((int)param_1, (float *)&local_e0, (float *)&VStack256);
	if (*(char *)(*param_1 + 0x5) < '\0') {
		pGVar1 = GetGameNode((NodeList *)(param_1[0xb9] + 0xd4), 0x1);
		(**(code **)(pGVar1->methods + 0xe4))
			((int)&pGVar1->ChunkNode + (int)*(short *)(pGVar1->methods + 0xe0), *param_4, param_2,
				&local_e0);
	}
	local_e0.x = -local_e0.x;
	local_e0.y = -local_e0.y;
	local_e0.z = -local_e0.z;
	if (*(char *)(*param_4 + 0x5) < '\0') {
		pGVar1 = GetGameNode((NodeList *)(*param_4 + 0xd4), 0x1);
		(**(code **)(pGVar1->methods + 0xe4))
			((int)&pGVar1->ChunkNode + (int)*(short *)(pGVar1->methods + 0xe0), *param_1, param_2,
				&local_e0);
	}
	fVar2 = fVar2 * fVar3;
	FUN_0028a518((int)param_4, (float *)&local_e0, (float *)&VStack240);
	FUN_00289368((int)param_1);
	FUN_0018ec48((long)(int)(param_1 + 0x2c), (undefined4 *)&VStack256, &local_a0);
	local_90 = fStack156 * (float)param_1[0x52] - local_98 * (float)param_1[0x51];
	local_8c = local_98 * (float)param_1[0x50] - local_a0 * (float)param_1[0x52];
	local_88 = local_a0 * (float)param_1[0x51] - fStack156 * (float)param_1[0x50];
	local_84 = 0x3f800000;
	local_d0 = (float)param_1[0x54] + local_90;
	fStack204 = (float)param_1[0x55] + local_8c;
	local_c8 = (float)param_1[0x56] + local_88;
	local_74 = 0x3f800000;
	local_c4 = 0x3f800000;
	local_80 = local_d0;
	fStack124 = fStack204;
	local_78 = local_c8;
	FUN_00289368((int)param_4);
	FUN_0018ec48((long)(int)(param_4 + 0x2c), (undefined4 *)&VStack240, &local_a0);
	local_90 = fStack156 * (float)param_4[0x52] - local_98 * (float)param_4[0x51];
	local_8c = local_98 * (float)param_4[0x50] - local_a0 * (float)param_4[0x52];
	local_88 = local_a0 * (float)param_4[0x51] - fStack156 * (float)param_4[0x50];
	local_84 = 0x3f800000;
	local_c0 = (float)param_4[0x54] + local_90;
	fStack188 = (float)param_4[0x55] + local_8c;
	local_b8 = (float)param_4[0x56] + local_88;
	local_74 = 0x3f800000;
	uStack180 = 0x3f800000;
	local_b0.w = 1.00000000;
	local_94 = 0x3f800000;
	fStack156 = (local_d0 - local_c0) * *param_3 + (fStack204 - fStack188) * param_3[0x1] +
		(local_c8 - local_b8) * param_3[0x2];
	local_98 = param_3[0x2] * fStack156;
	local_a0 = *param_3 * fStack156;
	fStack156 = param_3[0x1] * fStack156;
	local_b0.z = (local_c8 - local_b8) - local_98;
	local_b0.x = (local_d0 - local_c0) - local_a0;
	local_b0.y = (fStack204 - fStack188) - fStack156;
	local_80 = local_c0;
	fStack124 = fStack188;
	local_78 = local_b8;
	fVar3 = RSQRT(0.00000000, &local_b0);
	local_b0.x = local_b0.x * fVar3;
	local_b0.y = local_b0.y * fVar3;
	local_b0.z = local_b0.z * fVar3;
	local_e0.y = FUN_0028b3c0(0.00000000, 0.00000000, (int)param_1, (float *)&VStack256, (int)param_4,
		(float *)&VStack240, (float *)&local_b0);
	local_e0.y = -local_e0.y;
	local_e0.x = local_b0.x * local_e0.y;
	local_94 = 0x3f800000;
	local_e0.z = local_b0.z * local_e0.y;
	local_e0.y = local_b0.y * local_e0.y;
	local_e0.w = 1.00000000;
	local_a0 = local_e0.x;
	fStack156 = local_e0.y;
	local_98 = local_e0.z;
	if (fVar2 < SQRT(local_e0.x * local_e0.x + local_e0.y * local_e0.y + local_e0.z * local_e0.z)) {
		fVar3 = RSQRT(0.00000000, &local_e0);
		local_e0.x = local_e0.x * fVar3 * fVar2;
		local_e0.y = local_e0.y * fVar3 * fVar2;
		local_e0.z = local_e0.z * fVar3 * fVar2;
	}
	FUN_0028a518((int)param_1, (float *)&local_e0, (float *)&VStack256);
	local_e0.x = -local_e0.x;
	local_e0.y = -local_e0.y;
	local_e0.z = -local_e0.z;
	FUN_0028a518((int)param_4, (float *)&local_e0, (float *)&VStack240);
	return 0x1;
}



undefined4
FUN_0028cbb0(int param_1, undefined8 param_2, float *param_3, float *param_4, float *param_5,
	long param_6)

{
	float *pfVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	Vector4 VStack240;
	Vector4 local_e0;
	float local_d0;
	float fStack204;
	float local_c8;
	undefined4 local_c4;
	float local_c0;
	float fStack188;
	float local_b8;
	float fStack180;
	Vector4 local_b0;
	float local_a0;
	float fStack156;
	float local_98;
	undefined4 local_94;
	float local_90;
	float local_8c;
	float local_88;
	undefined4 local_84;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;

	fVar2 = *(float *)(param_1 + 0x310);
	fVar4 = *(float *)(param_1 + 0x314);
	fVar3 = *(float *)(param_1 + 0x318);
	fVar5 = (float)((uint)(1.00000000 < fVar2) * 0x3f800000 | (int)fVar2 * (uint)(1.00000000 >= fVar2)
		);
	fVar6 = (float)((uint)(1.00000000 < fVar4) * 0x3f800000 | (int)fVar4 * (uint)(1.00000000 >= fVar4)
		);
	fVar4 = *(float *)(param_1 + 0x308);
	fVar2 = *(float *)(param_1 + 0x30c);
	MultiplyMatrixByVector((Matrix4x4 *)(param_1 + 0xf0), (Vector4 *)param_2, &VStack240);
	fVar2 = FUN_0028b690(fVar4, fVar2, param_1, (float *)&VStack240, param_4, param_3);
	local_e0.y = -fVar2;
	local_c4 = 0x3f800000;
	local_e0.x = *param_3 * local_e0.y;
	local_e0.z = param_3[0x2] * local_e0.y;
	local_e0.y = param_3[0x1] * local_e0.y;
	local_e0.w = 1.00000000;
	local_d0 = local_e0.x;
	fStack204 = local_e0.y;
	local_c8 = local_e0.z;
	FUN_0028a518(param_1, (float *)&local_e0, (float *)&VStack240);
	if (param_6 != 0x0) {
		pfVar1 = (float *)param_6;
		*pfVar1 = local_e0.x;
		pfVar1[0x1] = local_e0.y;
		pfVar1[0x2] = local_e0.z;
		pfVar1[0x3] = local_e0.w;
		*pfVar1 = -*pfVar1;
		pfVar1[0x1] = -pfVar1[0x1];
		pfVar1[0x2] = -pfVar1[0x2];
	}
	fVar2 = fVar2 * fVar5;
	FUN_00289368(param_1);
	FUN_0018ec48((long)(param_1 + 0xb0), (undefined4 *)&VStack240, &local_a0);
	local_c0 = *param_4;
	fStack188 = param_4[0x1];
	local_b8 = param_4[0x2];
	fStack180 = param_4[0x3];
	local_90 = fStack156 * *(float *)(param_1 + 0x148) - local_98 * *(float *)(param_1 + 0x144);
	local_d0 = *(float *)(param_1 + 0x150) + local_90;
	local_8c = local_98 * *(float *)(param_1 + 0x140) - local_a0 * *(float *)(param_1 + 0x148);
	local_84 = 0x3f800000;
	local_88 = local_a0 * *(float *)(param_1 + 0x144) - fStack156 * *(float *)(param_1 + 0x140);
	local_c8 = *(float *)(param_1 + 0x158) + local_88;
	fStack204 = *(float *)(param_1 + 0x154) + local_8c;
	local_74 = 0x3f800000;
	local_c4 = 0x3f800000;
	local_b0.w = 1.00000000;
	local_94 = 0x3f800000;
	fStack156 = (local_d0 - local_c0) * *param_3 + (fStack204 - fStack188) * param_3[0x1] +
		(local_c8 - local_b8) * param_3[0x2];
	local_98 = param_3[0x2] * fStack156;
	local_a0 = *param_3 * fStack156;
	fStack156 = param_3[0x1] * fStack156;
	local_b0.z = (local_c8 - local_b8) - local_98;
	local_b0.x = (local_d0 - local_c0) - local_a0;
	local_b0.y = (fStack204 - fStack188) - fStack156;
	local_80 = local_d0;
	fStack124 = fStack204;
	local_78 = local_c8;
	fVar4 = RSQRT(0.00000000, &local_b0);
	local_b0.x = local_b0.x * fVar4;
	local_b0.y = local_b0.y * fVar4;
	local_b0.z = local_b0.z * fVar4;
	local_e0.y = FUN_0028b690(0.00000000, 0.00000000, param_1, (float *)&VStack240, param_4,
		(float *)&local_b0);
	local_e0.y = -local_e0.y;
	local_e0.x = local_b0.x * local_e0.y;
	local_94 = 0x3f800000;
	local_e0.z = local_b0.z * local_e0.y;
	local_e0.y = local_b0.y * local_e0.y;
	local_e0.w = 1.00000000;
	local_a0 = local_e0.x;
	fStack156 = local_e0.y;
	local_98 = local_e0.z;
	if (fVar2 < SQRT(local_e0.x * local_e0.x + local_e0.y * local_e0.y + local_e0.z * local_e0.z)) {
		fVar4 = RSQRT(0.00000000, &local_e0);
		local_e0.x = local_e0.x * fVar4 * fVar2;
		local_e0.y = local_e0.y * fVar4 * fVar2;
		local_e0.z = local_e0.z * fVar4 * fVar2;
	}
	FUN_0028a518(param_1, (float *)&local_e0, (float *)&VStack240);
	FUN_0028ba78(fVar6, (float)((uint)(1.00000000 < fVar3) * 0x3f800000 |
		(int)fVar3 * (uint)(1.00000000 >= fVar3)), param_1,
		(undefined8 *)&local_e0, param_5);
	return 0x1;
}



undefined4
FUN_0028cf90(undefined4 *param_1, Vector4 *param_2, undefined8 *param_3, int param_4, long param_5)

{
	GameNode *pGVar1;
	GameNode *pGVar2;
	GameNode *pGVar3;
	undefined8 *puVar4;
	undefined4 uVar5;
	long lVar6;
	NodeList *nodeList;
	float in_f0;
	float fVar7;
	float fVar8;
	undefined4 local_180;
	undefined4 uStack380;
	undefined4 uStack376;
	undefined4 uStack372;
	undefined4 local_170;
	undefined4 uStack364;
	undefined4 uStack360;
	undefined4 uStack356;
	undefined4 local_160;
	undefined4 uStack348;
	undefined4 uStack344;
	undefined4 uStack340;
	undefined4 local_150;
	undefined4 uStack332;
	undefined4 uStack328;
	undefined4 uStack324;
	undefined4 local_140;
	undefined4 uStack316;
	undefined4 uStack312;
	undefined4 uStack308;
	undefined4 local_130;
	undefined4 uStack300;
	undefined4 uStack296;
	undefined4 uStack292;
	undefined4 local_120;
	undefined4 uStack284;
	undefined4 uStack280;
	undefined4 uStack276;
	undefined4 local_110;
	undefined4 uStack268;
	undefined4 uStack264;
	undefined4 uStack260;
	float local_100;
	float fStack252;
	float local_f8;
	undefined4 uStack244;
	float local_f0;
	float fStack236;
	float local_e8;
	undefined4 uStack228;
	Vector4 VStack224;
	float local_d0;
	float fStack204;
	float local_c8;
	undefined4 local_c4;
	float local_c0;
	float fStack188;
	float local_b8;
	undefined4 local_b4;
	Vector4 local_b0;
	float local_a0;
	float fStack156;
	float fStack152;
	undefined4 uStack148;
	float local_90;
	float fStack140;
	float local_88;
	undefined4 local_84;
	float local_80;
	int local_7c;
	int local_78;

	nodeList = (NodeList *)((int)param_5 + 0xd4);
	local_7c = param_4;
	pGVar1 = GetGameNode(nodeList, 0x1);
	local_78 = 0x1;
	pGVar2 = GetGameNode((NodeList *)(param_1[0xb9] + 0xd4), 0x1);
	if (param_5 == 0x0) {
		pGVar3 = (GameNode *)0x0;
	}
	else {
		pGVar3 = GetGameNode(nodeList, 0x0);
	}
	if (pGVar3 != (GameNode *)0x0) {
		puVar4 = (undefined8 *)FUN_00192af0((int *)pGVar3);
		uStack376 = *(undefined4 *)(puVar4 + 0x1);
		uStack372 = *(undefined4 *)((int)puVar4 + 0xc);
		local_180 = (undefined4)*puVar4;
		uStack380 = (undefined4)((ulong)*puVar4 >> 0x20);
		local_170 = *(undefined4 *)(puVar4 + 0x2);
		uStack364 = *(undefined4 *)((int)puVar4 + 0x14);
		uStack360 = *(undefined4 *)(puVar4 + 0x3);
		uStack356 = *(undefined4 *)((int)puVar4 + 0x1c);
		local_160 = *(undefined4 *)(puVar4 + 0x4);
		uStack348 = *(undefined4 *)((int)puVar4 + 0x24);
		uStack344 = *(undefined4 *)(puVar4 + 0x5);
		uStack340 = *(undefined4 *)((int)puVar4 + 0x2c);
		local_150 = *(undefined4 *)(puVar4 + 0x6);
		uStack332 = *(undefined4 *)((int)puVar4 + 0x34);
		uStack328 = *(undefined4 *)(puVar4 + 0x7);
		uStack324 = *(undefined4 *)((int)puVar4 + 0x3c);
		puVar4 = (undefined8 *)FUN_00192b38((int *)pGVar3);
		uStack312 = *(undefined4 *)(puVar4 + 0x1);
		uStack308 = *(undefined4 *)((int)puVar4 + 0xc);
		local_140 = (undefined4)*puVar4;
		uStack316 = (undefined4)((ulong)*puVar4 >> 0x20);
		local_130 = *(undefined4 *)(puVar4 + 0x2);
		uStack300 = *(undefined4 *)((int)puVar4 + 0x14);
		uStack296 = *(undefined4 *)(puVar4 + 0x3);
		uStack292 = *(undefined4 *)((int)puVar4 + 0x1c);
		local_120 = *(undefined4 *)(puVar4 + 0x4);
		uStack284 = *(undefined4 *)((int)puVar4 + 0x24);
		uStack280 = *(undefined4 *)(puVar4 + 0x5);
		uStack276 = *(undefined4 *)((int)puVar4 + 0x2c);
		local_110 = *(undefined4 *)(puVar4 + 0x6);
		uStack268 = *(undefined4 *)((int)puVar4 + 0x34);
		uStack264 = *(undefined4 *)(puVar4 + 0x7);
		uStack260 = *(undefined4 *)((int)puVar4 + 0x3c);
		FUN_00192b80((int *)pGVar3);
		local_80 = in_f0;
	}
	lVar6 = (long)(int)&VStack224;
	if (pGVar3 != (GameNode *)0x0) {
		MultiplyMatrixByVector((Matrix4x4 *)(param_1 + 0x2c), param_2, &VStack224);
		FUN_0028b878(local_80, (long)(int)&local_180, (undefined8 *)&local_140, lVar6, &local_d0, &local_c0);
		uStack244 = *(undefined4 *)((int)param_3 + 0xc);
		fVar7 = (float)param_1[0xc2];
		local_100 = -(float)*param_3;
		fStack252 = -(float)((ulong)*param_3 >> 0x20);
		fVar8 = (float)param_1[0xc3];
		local_f8 = -*(float *)(param_3 + 0x1);
		MultiplyMatrixByVector((Matrix4x4 *)(param_1 + 0x3c), &VStack224, &local_b0);
		fStack156 = FUN_0028b690(fVar7, fVar8, (int)param_1, (float *)&local_b0, &local_d0, &local_100);
		fStack156 = -fStack156;
		local_a0 = local_100 * fStack156;
		local_84 = 0x3f800000;
		fStack152 = local_f8 * fStack156;
		fStack156 = fStack252 * fStack156;
		uStack228 = 0x3f800000;
		uStack148 = 0x3f800000;
		local_f0 = -local_a0;
		fStack236 = -fStack156;
		local_e8 = -fStack152;
		local_90 = local_a0;
		fStack140 = fStack156;
		local_88 = fStack152;
		if (pGVar1 != (GameNode *)0x0) {
			local_b0.z = (float)param_1[0x18];
			local_b0.w = 1.00000000;
			local_b0.x = local_f0 * local_b0.z;
			local_b0.y = fStack236 * local_b0.z;
			local_b0.z = local_e8 * local_b0.z;
			local_78 = (**(code **)(pGVar1->methods + 0xe4))
				((int)&pGVar1->ChunkNode + (int)*(short *)(pGVar1->methods + 0xe0),
					param_1[0xb9], lVar6, &local_b0);
		}
		if ((pGVar2 != (GameNode *)0x0) &&
			((**(code **)(pGVar2->methods + 0x104))
			((int)&pGVar2->ChunkNode + (int)*(short *)(pGVar2->methods + 0x100), param_5,
				param_1 + 0x54, &local_f0), *(char *)(param_1[0xb9] + 0x5) < '\0')) {
			local_b0.x = -local_f0;
			local_b0.y = -fStack236;
			local_b0.z = -local_e8;
			local_b0.w = 1.00000000;
			(**(code **)(pGVar2->methods + 0xe4))
				((int)&pGVar2->ChunkNode + (int)*(short *)(pGVar2->methods + 0xe0), param_5, lVar6,
					&local_b0);
		}
		*(ulong *)(param_1 + 0xb8) = *(ulong *)(param_1 + 0xb8) & 0xfffffffffffffffb;
		if (local_78 != 0x0) {
			uVar5 = FUN_0028cbb0((int)param_1, lVar6, &local_100, &local_d0, &local_c0, 0x0);
			return uVar5;
		}
	}
	else {
		local_c8 = FUN_0028b228((float)param_1[0xc2], (float)param_1[0xc3], (int)param_1, (float *)param_2,
			(float *)param_3);
		local_d0 = *(float *)param_3 * local_c8;
		fStack204 = *(float *)((int)param_3 + 0x4) * local_c8;
		local_b4 = 0x3f800000;
		local_c8 = *(float *)(param_3 + 0x1) * local_c8;
		uStack228 = 0x3f800000;
		local_c4 = 0x3f800000;
		local_f0 = -local_d0;
		fStack236 = -fStack204;
		local_e8 = -local_c8;
		local_c0 = local_d0;
		fStack188 = fStack204;
		local_b8 = local_c8;
		if (pGVar1 != (GameNode *)0x0) {
			MultiplyMatrixByVector((Matrix4x4 *)(param_1 + 0x2c), param_2, &VStack224);
			local_c8 = (float)param_1[0x18];
			local_c4 = uStack228;
			local_d0 = local_f0 * local_c8;
			fStack204 = fStack236 * local_c8;
			local_c8 = local_e8 * local_c8;
			local_78 = (**(code **)(pGVar1->methods + 0xe4))
				((int)&pGVar1->ChunkNode + (int)*(short *)(pGVar1->methods + 0xe0),
					param_1[0xb9], &VStack224, &local_d0);
		}
		if ((pGVar2 != (GameNode *)0x0) &&
			((**(code **)(pGVar2->methods + 0x104))
			((int)&pGVar2->ChunkNode + (int)*(short *)(pGVar2->methods + 0x100), param_5,
				param_1 + 0x54, &local_f0), *(char *)(param_1[0xb9] + 0x5) < '\0')) {
			local_d0 = -local_f0;
			fStack204 = -fStack236;
			local_c8 = -local_e8;
			local_c4 = 0x3f800000;
			(**(code **)(pGVar2->methods + 0xe4))
				((int)&pGVar2->ChunkNode + (int)*(short *)(pGVar2->methods + 0xe0), param_5,
					&VStack224, &local_d0);
		}
		*(ulong *)(param_1 + 0xb8) = *(ulong *)(param_1 + 0xb8) & 0xfffffffffffffffb;
		if (local_78 != 0x0) {
			uVar5 = FUN_0028c040(param_1, (undefined8 *)param_2, (float *)param_3, (long)local_7c, 0x0);
			return uVar5;
		}
	}
	return 0x0;
}



void FUN_0028d490(int *param_1)

{
	ChunkNode *pCVar1;
	TransformedGeometyPoint *pTVar2;
	bool bVar3;
	int iVar4;
	GameNode *pGVar5;
	long lVar6;
	byte bVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	int local_70;
	int iStack108;
	int iStack104;
	int iStack100;
	int local_60;
	int iStack92;
	int iStack88;
	int iStack84;
	int local_50;
	int iStack76;
	int iStack72;
	int iStack68;
	float local_40;
	float fStack60;
	float local_38;
	float local_34;
	float local_30;
	float fStack44;
	float local_28;
	int iStack36;

	if ((*(ulong *)(param_1 + 0xb8) & 0x1) != 0x0) {
		local_70 = param_1[0x2c];
		iStack108 = param_1[0x2d];
		iStack104 = param_1[0x2e];
		iStack100 = param_1[0x2f];
		local_60 = param_1[0x30];
		iStack92 = param_1[0x31];
		iStack88 = param_1[0x32];
		iStack84 = param_1[0x33];
		local_40 = (float)param_1[0x38];
		fStack60 = (float)param_1[0x39];
		local_38 = (float)param_1[0x3a];
		local_34 = (float)param_1[0x3b];
		local_50 = param_1[0x34];
		iStack76 = param_1[0x35];
		iStack72 = param_1[0x36];
		iStack68 = param_1[0x37];
		local_30 = (float)param_1[0xbc];
		fStack44 = (float)param_1[0xbd];
		local_28 = (float)param_1[0xbe];
		iStack36 = param_1[0xbf];
		FUN_0018ec48((long)(int)&local_70, &local_30, &local_30);
		local_40 = local_40 - local_30;
		fStack60 = fStack60 - fStack44;
		local_38 = local_38 - local_28;
		if ((*(ulong *)(param_1 + 0xb8) & 0x40) != 0x0) {
			pCVar1 = (ChunkNode *)param_1[0xb9];
			pTVar2 = pCVar1->transformMatrixPtr;
			if ((pTVar2->unkBitfield & 0x4) != 0x0) {
				fVar10 = (pTVar2->transformMatrix).wComponents.y;
				fVar8 = (pTVar2->transformMatrix).wComponents.z;
				fVar9 = (pTVar2->transformMatrix).wComponents.w;
				(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
				(pTVar2->positionVector).w = fVar9;
				(pTVar2->positionVector).y = fVar10;
				(pTVar2->positionVector).z = fVar8;
				pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
			}
			bVar3 = false;
			if ((local_40 == (pTVar2->positionVector).x) &&
				(bVar3 = false, fStack60 == (pTVar2->positionVector).y)) {
				bVar3 = true;
			}
			if (bVar3) {
				iVar4 = *param_1;
			}
			else {
				pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffb | 0x1;
				(pTVar2->positionVector).x = local_40;
				(pTVar2->positionVector).w = local_34;
				(pTVar2->positionVector).y = fStack60;
				(pTVar2->positionVector).z = local_38;
				FUN_001977d8(pCVar1);
				iVar4 = *param_1;
			}
			goto LAB_0028d654;
		}
		pCVar1 = (ChunkNode *)param_1[0xb9];
		iVar4 = FUN_0018b6d0((undefined4 *)pCVar1->transformMatrixPtr, (undefined8 *)&local_70);
		if (iVar4 == 0x0) {
			iVar4 = *param_1;
			goto LAB_0028d654;
		}
		FUN_001977d8(pCVar1);
	}
	iVar4 = *param_1;
LAB_0028d654:
	pGVar5 = GetGameNode((NodeList *)(iVar4 + 0xd4), 0x1);
	if ((*(ulong *)(param_1 + 0xb8) & 0x30) == 0x0) {
		*(char *)(param_1 + 0xc1) = *(char *)(param_1 + 0xc1) + '\x01';
		lVar6 = (**(code **)(param_1[0x5] + 0x7c))((int)param_1 + (int)*(short *)(param_1[0x5] + 0x78));
		bVar7 = 0x5;
		if (lVar6 != 0x0) {
			bVar7 = 0x2;
		}
		if (bVar7 < *(byte *)(param_1 + 0xc1)) {
			(**(code **)(pGVar5->methods + 0x164))
				((int)&pGVar5->ChunkNode + (int)*(short *)(pGVar5->methods + 0x160));
		}
	}
	else {
		*(undefined *)(param_1 + 0xc1) = 0x0;
	}
	return;
}



void FUN_0028d6e0(int param_1, long param_2, long param_3)

{
	TransformedGeometyPoint *pTVar1;
	undefined8 uVar2;
	GameNode *pGVar3;
	undefined8 *puVar4;
	float fVar5;
	float fVar6;
	undefined4 local_1f0;
	undefined4 uStack492;
	float fStack488;
	float fStack484;
	float local_1e0;
	float fStack476;
	float fStack472;
	float fStack468;
	float local_1d0;
	float fStack460;
	float fStack456;
	float fStack452;
	float local_1c0;
	float fStack444;
	float local_1b8;
	float fStack436;
	float local_1b0;
	float fStack428;
	float local_1a8;
	undefined4 uStack420;
	float local_1a0;
	float fStack412;
	float fStack408;
	float fStack404;
	float local_190;
	float fStack396;
	float fStack392;
	float fStack388;
	float local_180;
	float fStack380;
	float fStack376;
	float fStack372;
	float local_170;
	float fStack364;
	float local_168;
	float fStack356;
	float local_160;
	float fStack348;
	float fStack344;
	float fStack340;
	float local_150;
	float fStack332;
	float fStack328;
	float fStack324;
	undefined4 local_140;
	undefined4 uStack316;
	undefined4 uStack312;
	undefined4 uStack308;
	float local_130;
	float fStack300;
	float local_128;
	undefined4 uStack292;
	Matrix4x4 local_120;
	float local_e0;
	float fStack220;
	float local_d8;
	undefined4 uStack212;
	undefined auStack208[0x40];
	undefined auStack144[0x10];
	float local_80;
	float local_7c;
	float local_78;
	int local_70[0x4];
	float local_60;
	float fStack92;
	float local_58;
	undefined4 local_54;
	float local_50;

	pTVar1 = *(TransformedGeometyPoint **)((int)param_2 + 0x8);
	RotateAndTranslate_(pTVar1);
	uVar2 = *(undefined8 *)&(pTVar1->transformMatrix).xComponents;
	fStack488 = (pTVar1->transformMatrix).xComponents.z;
	fStack484 = (pTVar1->transformMatrix).xComponents.w;
	local_1b0 = *(float *)(param_1 + 0x2f0);
	fStack428 = *(float *)(param_1 + 0x2f4);
	local_1a8 = *(float *)(param_1 + 0x2f8);
	uStack420 = *(undefined4 *)(param_1 + 0x2fc);
	local_1f0 = (undefined4)uVar2;
	uStack492 = (undefined4)((ulong)uVar2 >> 0x20);
	local_1e0 = (pTVar1->transformMatrix).yComponents.x;
	fStack476 = (pTVar1->transformMatrix).yComponents.y;
	fStack472 = (pTVar1->transformMatrix).yComponents.z;
	fStack468 = (pTVar1->transformMatrix).yComponents.w;
	local_1d0 = (pTVar1->transformMatrix).zComponents.x;
	fStack460 = (pTVar1->transformMatrix).zComponents.y;
	fStack456 = (pTVar1->transformMatrix).zComponents.z;
	fStack452 = (pTVar1->transformMatrix).zComponents.w;
	local_1c0 = (pTVar1->transformMatrix).wComponents.x;
	fStack444 = (pTVar1->transformMatrix).wComponents.y;
	local_1b8 = (pTVar1->transformMatrix).wComponents.z;
	fStack436 = (pTVar1->transformMatrix).wComponents.w;
	FUN_0018ec48((long)(int)&local_1f0, &local_1b0, &local_1b0);
	local_1c0 = local_1c0 + local_1b0;
	fStack444 = fStack444 + fStack428;
	local_1b8 = local_1b8 + local_1a8;
	*(float *)(param_1 + 0xe0) = local_1c0;
	*(float *)(param_1 + 0xe4) = fStack444;
	*(float *)(param_1 + 0xe8) = local_1b8;
	*(float *)(param_1 + 0xec) = fStack436;
	FUN_0018c588(&local_1f0, 0x3, (undefined4 *)&local_1a0);
	local_50 = (float)FUN_00187090((Vector4 *)(param_1 + 0x80), (TransformedGeometyPoint *)&local_1a0);
	*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) | 0x3;
	if (param_3 != 0x0) {
		if (param_2 == 0x0) {
			pGVar3 = (GameNode *)0x0;
		}
		else {
			pGVar3 = GetGameNode((NodeList *)((int)param_2 + 0xd4), 0x0);
		}
		if (pGVar3 != (GameNode *)0x0) {
			puVar4 = (undefined8 *)FUN_00192af0((int *)pGVar3);
			fStack408 = *(float *)(puVar4 + 0x1);
			fStack404 = *(float *)((int)puVar4 + 0xc);
			local_1a0 = (float)*puVar4;
			fStack412 = (float)((ulong)*puVar4 >> 0x20);
			local_190 = *(float *)(puVar4 + 0x2);
			fStack396 = *(float *)((int)puVar4 + 0x14);
			fStack392 = *(float *)(puVar4 + 0x3);
			fStack388 = *(float *)((int)puVar4 + 0x1c);
			local_180 = *(float *)(puVar4 + 0x4);
			fStack380 = *(float *)((int)puVar4 + 0x24);
			fStack376 = *(float *)(puVar4 + 0x5);
			fStack372 = *(float *)((int)puVar4 + 0x2c);
			local_170 = *(float *)(puVar4 + 0x6);
			fStack364 = *(float *)((int)puVar4 + 0x34);
			local_168 = *(float *)(puVar4 + 0x7);
			fStack356 = *(float *)((int)puVar4 + 0x3c);
			puVar4 = (undefined8 *)FUN_00192b38((int *)pGVar3);
			fStack344 = *(float *)(puVar4 + 0x1);
			fStack340 = *(float *)((int)puVar4 + 0xc);
			local_160 = (float)*puVar4;
			fStack348 = (float)((ulong)*puVar4 >> 0x20);
			local_150 = *(float *)(puVar4 + 0x2);
			fStack332 = *(float *)((int)puVar4 + 0x14);
			fStack328 = *(float *)(puVar4 + 0x3);
			fStack324 = *(float *)((int)puVar4 + 0x1c);
			local_140 = *(undefined4 *)(puVar4 + 0x4);
			uStack316 = *(undefined4 *)((int)puVar4 + 0x24);
			uStack312 = *(undefined4 *)(puVar4 + 0x5);
			uStack308 = *(undefined4 *)((int)puVar4 + 0x2c);
			local_130 = *(float *)(puVar4 + 0x6);
			fStack300 = *(float *)((int)puVar4 + 0x34);
			local_128 = *(float *)(puVar4 + 0x7);
			uStack292 = *(undefined4 *)((int)puVar4 + 0x3c);
			FUN_00192b80((int *)pGVar3);
			local_60 = *(float *)(param_1 + 0x1c);
			local_d8 = 1.00000000 / local_50;
			uStack212 = 0x3f800000;
			fStack220 = (fStack300 - fStack364) * local_d8;
			local_e0 = (local_130 - local_170) * local_d8;
			local_d8 = (local_128 - local_168) * local_d8;
			*(float *)(param_1 + 0x150) = local_e0;
			*(float *)(param_1 + 0x154) = fStack220;
			*(float *)(param_1 + 0x158) = local_d8;
			*(undefined4 *)(param_1 + 0x15c) = 0x3f800000;
			local_58 = *(float *)(param_1 + 0x158) * local_60;
			fStack92 = *(float *)(param_1 + 0x154) * local_60;
			*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) & 0xfffffffe;
			local_60 = *(float *)(param_1 + 0x150) * local_60;
			local_54 = 0x3f800000;
			*(float *)(param_1 + 0x70) = local_60;
			*(float *)(param_1 + 0x74) = fStack92;
			*(float *)(param_1 + 0x78) = local_58;
			*(undefined4 *)(param_1 + 0x7c) = 0x3f800000;
			FUN_00289368(param_1);
			local_120.xComponents.x = local_1a0;
			local_120.xComponents.y = fStack412;
			local_120.xComponents.z = fStack408;
			local_120.xComponents.w = fStack404;
			local_120.yComponents.x = local_190;
			local_120.yComponents.y = fStack396;
			local_120.yComponents.z = fStack392;
			local_120.yComponents.w = fStack388;
			local_120.zComponents.x = local_180;
			local_120.zComponents.y = fStack380;
			local_120.zComponents.z = fStack376;
			local_120.zComponents.w = fStack372;
			local_120.wComponents.x = local_170;
			local_120.wComponents.y = fStack364;
			local_120.wComponents.z = local_168;
			local_120.wComponents.w = fStack356;
			FUN_0018ef98(&local_120);
			MultiplyMatrices(&local_120, (Matrix4x4 *)(&local_1a0 + 0x40),
				(Matrix4x4 *)(TransformedGeometyPoint *)auStack208);
			FUN_00187090((Vector4 *)(auStack208 + 0x40), (TransformedGeometyPoint *)auStack208);
			FUN_001872e0((float *)(Vector4 *)(auStack208 + 0x40), (long)(int)(auStack208 + 0x50), local_70,
				0x0);
			fVar5 = (float)local_70[0] * 0.00009587;
			fVar6 = 1.00000000 / -local_50;
			local_78 = local_78 * fVar5 * fVar6;
			local_80 = local_80 * fVar5 * fVar6;
			local_7c = local_7c * fVar5 * fVar6;
			FUN_00289d80(param_1, (undefined4 *)(auStack208 + 0x50));
		}
	}
	return;
}



void FUN_0028da10(int param_1)

{
	int unaff_s0_lo;
	float fVar1;

	fVar1 = 0.00000000;
	FUN_00289fc0(param_1);
	if (fVar1 <= *(float *)(param_1 + 0x324)) {
		if (*(float *)(param_1 + 0x1e0) * *(float *)(param_1 + 0x1e0) +
			*(float *)(param_1 + 0x1e4) * *(float *)(param_1 + 0x1e4) +
			*(float *)(param_1 + 0x1e8) * *(float *)(param_1 + 0x1e8) <= 0.01000000) {
			return;
		}
		(**(code **)(*(int *)(unaff_s0_lo + 0x14) + 0x7c))
			(unaff_s0_lo + *(short *)(*(int *)(unaff_s0_lo + 0x14) + 0x78));
		param_1 = unaff_s0_lo;
	}
	*(float *)(param_1 + 0x70) = *(float *)(param_1 + 0x70) * fVar1;
	*(float *)(param_1 + 0x74) = *(float *)(param_1 + 0x74) * fVar1;
	*(float *)(param_1 + 0x78) = *(float *)(param_1 + 0x78) * fVar1;
	*(float *)(param_1 + 0x90) = *(float *)(param_1 + 0x90) * fVar1;
	*(float *)(param_1 + 0x94) = *(float *)(param_1 + 0x94) * fVar1;
	*(float *)(param_1 + 0x98) = *(float *)(param_1 + 0x98) * fVar1;
	*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) | 0x1;
	return;
}



void FUN_0028db88(int param_1, float *param_2, long param_3)

{
	float local_20;
	float fStack28;
	float local_18;
	float fStack20;

	fStack20 = param_2[0x3];
	local_20 = *param_2 * 0.50000000;
	fStack28 = param_2[0x1] * 0.50000000;
	local_18 = param_2[0x2] * 0.50000000;
	*(float *)(param_1 + 0x350) = *(float *)(param_1 + 0x350) + local_20;
	*(float *)(param_1 + 0x354) = *(float *)(param_1 + 0x354) + fStack28;
	*(float *)(param_1 + 0x358) = *(float *)(param_1 + 0x358) + local_18;
	*(float *)(param_1 + 0x360) =
		*(float *)(param_1 + 0x360) +
		SQRT(local_20 * local_20 + fStack28 * fStack28 + local_18 * local_18);
	if (param_3 == 0x0) {
		*(float *)(param_1 + 0xe0) = *(float *)(param_1 + 0xe0) + local_20;
		*(float *)(param_1 + 0xe4) = *(float *)(param_1 + 0xe4) + fStack28;
		*(float *)(param_1 + 0xe8) = *(float *)(param_1 + 0xe8) + local_18;
		*(undefined4 *)(param_1 + 0xf0) = *(undefined4 *)(param_1 + 0xb0);
		*(undefined4 *)(param_1 + 0xf4) = *(undefined4 *)(param_1 + 0xb4);
		*(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xb8);
		*(undefined4 *)(param_1 + 0xfc) = *(undefined4 *)(param_1 + 0xbc);
		*(undefined4 *)(param_1 + 0x100) = *(undefined4 *)(param_1 + 0xc0);
		*(undefined4 *)(param_1 + 0x104) = *(undefined4 *)(param_1 + 0xc4);
		*(undefined4 *)(param_1 + 0x108) = *(undefined4 *)(param_1 + 0xc8);
		*(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0xcc);
		*(undefined4 *)(param_1 + 0x110) = *(undefined4 *)(param_1 + 0xd0);
		*(undefined4 *)(param_1 + 0x114) = *(undefined4 *)(param_1 + 0xd4);
		*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0xd8);
		*(undefined4 *)(param_1 + 0x11c) = *(undefined4 *)(param_1 + 0xdc);
		*(undefined4 *)(param_1 + 0x120) = *(undefined4 *)(param_1 + 0xe0);
		*(undefined4 *)(param_1 + 0x124) = *(undefined4 *)(param_1 + 0xe4);
		*(undefined4 *)(param_1 + 0x128) = *(undefined4 *)(param_1 + 0xe8);
		*(undefined4 *)(param_1 + 0x12c) = *(undefined4 *)(param_1 + 0xec);
		FUN_0018ef98((Matrix4x4 *)(param_1 + 0xf0));
	}
	else {
		FUN_0028dca8(param_1, (undefined8 *)&local_20);
	}
	return;
}



void FUN_0028dca8(int param_1, undefined8 *param_2)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	Vector4 local_40;
	float local_30;
	float local_2c;
	float local_28;
	undefined4 local_24;

	fVar3 = *(float *)param_2;
	fVar1 = *(float *)((int)param_2 + 0x4);
	fVar4 = *(float *)(param_2 + 0x1);
	*(float *)(param_1 + 0x340) = *(float *)(param_1 + 0x340) + fVar3;
	fVar2 = *(float *)(param_1 + 0x344) + *(float *)((int)param_2 + 0x4);
	*(float *)(param_1 + 0x344) = fVar2;
	fVar5 = *(float *)(param_1 + 0x348) + *(float *)(param_2 + 0x1);
	*(float *)(param_1 + 0x348) = fVar5;
	if (0.20000000 <
		SQRT(*(float *)(param_1 + 0x340) * *(float *)(param_1 + 0x340) + fVar2 * fVar2 + fVar5 * fVar5
		)) {
		fVar1 = 0.20000000 - (*(float *)param_2 - SQRT(fVar3 * fVar3 + fVar1 * fVar1 + fVar4 * fVar4));
		if (0.00000000 < fVar1) {
			local_40.z = *(float *)(param_2 + 0x1);
			local_40.w = *(float *)((int)param_2 + 0xc);
			local_40.x = (float)*param_2;
			local_40.y = (float)((ulong)*param_2 >> 0x20);
			fVar2 = RSQRT(0.00000000, &local_40);
			local_40.x = local_40.x * fVar2 * fVar1;
			local_40.y = local_40.y * fVar2 * fVar1;
			local_40.z = local_40.z * fVar2 * fVar1;
			local_24 = 0x3f800000;
			local_30 = local_40.x * 0.50000000;
			local_2c = local_40.y * 0.50000000;
			local_28 = local_40.z * 0.50000000;
			*(float *)(param_1 + 0xe0) = *(float *)(param_1 + 0xe0) + local_30;
			*(float *)(param_1 + 0xe4) = *(float *)(param_1 + 0xe4) + local_2c;
			*(float *)(param_1 + 0xe8) = *(float *)(param_1 + 0xe8) + local_28;
			*(undefined4 *)(param_1 + 0xf0) = (int)*(undefined8 *)(param_1 + 0xb0);
			*(undefined4 *)(param_1 + 0xf4) = (int)((ulong)*(undefined8 *)(param_1 + 0xb0) >> 0x20);
			*(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xb8);
			*(undefined4 *)(param_1 + 0xfc) = *(undefined4 *)(param_1 + 0xbc);
			*(undefined4 *)(param_1 + 0x100) = *(undefined4 *)(param_1 + 0xc0);
			*(undefined4 *)(param_1 + 0x104) = *(undefined4 *)(param_1 + 0xc4);
			*(undefined4 *)(param_1 + 0x108) = *(undefined4 *)(param_1 + 0xc8);
			*(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0xcc);
			*(undefined4 *)(param_1 + 0x110) = *(undefined4 *)(param_1 + 0xd0);
			*(undefined4 *)(param_1 + 0x114) = *(undefined4 *)(param_1 + 0xd4);
			*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0xd8);
			*(undefined4 *)(param_1 + 0x11c) = *(undefined4 *)(param_1 + 0xdc);
			*(undefined4 *)(param_1 + 0x120) = *(undefined4 *)(param_1 + 0xe0);
			*(undefined4 *)(param_1 + 0x124) = *(undefined4 *)(param_1 + 0xe4);
			*(undefined4 *)(param_1 + 0x128) = *(undefined4 *)(param_1 + 0xe8);
			*(undefined4 *)(param_1 + 0x12c) = *(undefined4 *)(param_1 + 0xec);
			FUN_0018ef98((Matrix4x4 *)(param_1 + 0xf0));
		}
	}
	else {
		local_40.x = *(float *)param_2 * 0.50000000;
		local_40.z = *(float *)(param_2 + 0x1) * 0.50000000;
		local_40.y = *(float *)((int)param_2 + 0x4) * 0.50000000;
		local_40.w = 1.00000000;
		*(float *)(param_1 + 0xe0) = *(float *)(param_1 + 0xe0) + local_40.x;
		*(float *)(param_1 + 0xe4) = *(float *)(param_1 + 0xe4) + local_40.y;
		*(float *)(param_1 + 0xe8) = *(float *)(param_1 + 0xe8) + local_40.z;
		*(undefined4 *)(param_1 + 0xf0) = (int)*(undefined8 *)(param_1 + 0xb0);
		*(undefined4 *)(param_1 + 0xf4) = (int)((ulong)*(undefined8 *)(param_1 + 0xb0) >> 0x20);
		*(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xb8);
		*(undefined4 *)(param_1 + 0xfc) = *(undefined4 *)(param_1 + 0xbc);
		*(undefined4 *)(param_1 + 0x100) = *(undefined4 *)(param_1 + 0xc0);
		*(undefined4 *)(param_1 + 0x104) = *(undefined4 *)(param_1 + 0xc4);
		*(undefined4 *)(param_1 + 0x108) = *(undefined4 *)(param_1 + 0xc8);
		*(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0xcc);
		*(undefined4 *)(param_1 + 0x110) = *(undefined4 *)(param_1 + 0xd0);
		*(undefined4 *)(param_1 + 0x114) = *(undefined4 *)(param_1 + 0xd4);
		*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0xd8);
		*(undefined4 *)(param_1 + 0x11c) = *(undefined4 *)(param_1 + 0xdc);
		*(undefined4 *)(param_1 + 0x120) = *(undefined4 *)(param_1 + 0xe0);
		*(undefined4 *)(param_1 + 0x124) = *(undefined4 *)(param_1 + 0xe4);
		*(undefined4 *)(param_1 + 0x128) = *(undefined4 *)(param_1 + 0xe8);
		*(undefined4 *)(param_1 + 0x12c) = *(undefined4 *)(param_1 + 0xec);
		FUN_0018ef98((Matrix4x4 *)(param_1 + 0xf0));
	}
	return;
}



uint FUN_0028def0(int param_1, undefined8 param_2, ulong *param_3)

{
	bool bVar1;
	int iVar2;
	undefined4 uVar3;
	undefined4 uVar4;
	undefined4 uVar5;
	undefined4 uVar6;
	Matrix4x4 local_90;
	float local_50;
	float fStack76;
	float fStack72;
	float fStack68;

	bVar1 = (*param_3 >> 0x12 & 0x1) == 0x0;
	if (bVar1) {
		iVar2 = *(int *)(param_1 + 0x2e4);
		uVar3 = *(undefined4 *)(iVar2 + 0xc0);
		uVar4 = *(undefined4 *)(iVar2 + 0xc4);
		uVar5 = *(undefined4 *)(iVar2 + 0xc8);
		uVar6 = *(undefined4 *)(iVar2 + 0xcc);
		*(undefined4 *)(param_1 + 0xf0) = *(undefined4 *)(param_1 + 0xb0);
		*(undefined4 *)(param_1 + 0xf4) = *(undefined4 *)(param_1 + 0xb4);
		*(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xb8);
		*(undefined4 *)(param_1 + 0xfc) = *(undefined4 *)(param_1 + 0xbc);
		*(undefined4 *)(param_1 + 0xe0) = uVar3;
		*(undefined4 *)(param_1 + 0xe4) = uVar4;
		*(undefined4 *)(param_1 + 0xe8) = uVar5;
		*(undefined4 *)(param_1 + 0xec) = uVar6;
		*(undefined4 *)(param_1 + 0x100) = *(undefined4 *)(param_1 + 0xc0);
		*(undefined4 *)(param_1 + 0x104) = *(undefined4 *)(param_1 + 0xc4);
		*(undefined4 *)(param_1 + 0x108) = *(undefined4 *)(param_1 + 0xc8);
		*(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0xcc);
		*(undefined4 *)(param_1 + 0x110) = *(undefined4 *)(param_1 + 0xd0);
		*(undefined4 *)(param_1 + 0x114) = *(undefined4 *)(param_1 + 0xd4);
		*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0xd8);
		*(undefined4 *)(param_1 + 0x11c) = *(undefined4 *)(param_1 + 0xdc);
		*(undefined4 *)(param_1 + 0x120) = *(undefined4 *)(param_1 + 0xe0);
		*(undefined4 *)(param_1 + 0x124) = *(undefined4 *)(param_1 + 0xe4);
		*(undefined4 *)(param_1 + 0x128) = *(undefined4 *)(param_1 + 0xe8);
		*(undefined4 *)(param_1 + 0x12c) = *(undefined4 *)(param_1 + 0xec);
		FUN_0018ef98((Matrix4x4 *)(param_1 + 0xf0));
		local_90.xComponents.w = *(float *)(param_1 + 0x15c);
		local_90.yComponents.x = *(float *)(param_1 + 0x1c);
		local_90.xComponents.x = *(float *)(param_1 + 0x150) * 0.80000001;
		local_90.yComponents.w = 1.00000000;
		local_90.xComponents.y = *(float *)(param_1 + 0x154) * 0.80000001;
		local_90.xComponents.z = *(float *)(param_1 + 0x158) * 0.80000001;
		*(float *)(param_1 + 0x150) = local_90.xComponents.x;
		*(float *)(param_1 + 0x154) = local_90.xComponents.y;
		*(float *)(param_1 + 0x158) = local_90.xComponents.z;
		*(float *)(param_1 + 0x15c) = local_90.xComponents.w;
		local_90.yComponents.z = *(float *)(param_1 + 0x158) * local_90.yComponents.x;
		local_90.yComponents.y = *(float *)(param_1 + 0x154) * local_90.yComponents.x;
		*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) & 0xfffffffe;
		local_90.yComponents.x = *(float *)(param_1 + 0x150) * local_90.yComponents.x;
		*(float *)(param_1 + 0x70) = local_90.yComponents.x;
		*(float *)(param_1 + 0x74) = local_90.yComponents.y;
		*(float *)(param_1 + 0x78) = local_90.yComponents.z;
		*(undefined4 *)(param_1 + 0x7c) = 0x3f800000;
		FUN_00289368(param_1);
		local_90.xComponents.w = *(float *)(param_1 + 0x14c);
		local_90.xComponents.x = *(float *)(param_1 + 0x140) * 0.80000001;
		local_90.xComponents.y = *(float *)(param_1 + 0x144) * 0.80000001;
		local_90.xComponents.z = *(float *)(param_1 + 0x148) * 0.80000001;
		FUN_00289d80(param_1, (undefined4 *)&local_90);
	}
	else {
		FUN_001ea1f0((int)param_3, (undefined8 *)(param_1 + 0x70), 0x0);
		FUN_001ea1f0((int)param_3, (undefined8 *)(param_1 + 0x90), 0x0);
		Rotate_(&local_90, (Vector4 *)(param_1 + 0x80));
		MovePositionFromPos2ToPos1(&local_90.wComponents, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		local_90.wComponents.w = 1.00000000;
		FUN_0018ef98(&local_90);
		FUN_001ea138((int)param_3, (undefined4 *)&local_90, 0x1);
		FUN_0018ef98(&local_90);
		FUN_00187090((Vector4 *)(param_1 + 0x80), (TransformedGeometyPoint *)&local_90);
		local_50 = *(float *)(param_1 + 0xe0);
		fStack76 = *(float *)(param_1 + 0xe4);
		fStack72 = *(float *)(param_1 + 0xe8);
		fStack68 = *(float *)(param_1 + 0xec);
		FUN_001ea1f0((int)param_3, (undefined8 *)&local_50, 0x1);
		*(float *)(param_1 + 0xe0) = local_50;
		*(float *)(param_1 + 0xe4) = fStack76;
		*(float *)(param_1 + 0xe8) = fStack72;
		*(float *)(param_1 + 0xec) = fStack68;
		*(undefined4 *)(param_1 + 0xf0) = *(undefined4 *)(param_1 + 0xb0);
		*(undefined4 *)(param_1 + 0xf4) = *(undefined4 *)(param_1 + 0xb4);
		*(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xb8);
		*(undefined4 *)(param_1 + 0xfc) = *(undefined4 *)(param_1 + 0xbc);
		*(undefined4 *)(param_1 + 0x100) = *(undefined4 *)(param_1 + 0xc0);
		*(undefined4 *)(param_1 + 0x104) = *(undefined4 *)(param_1 + 0xc4);
		*(undefined4 *)(param_1 + 0x108) = *(undefined4 *)(param_1 + 0xc8);
		*(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0xcc);
		*(undefined4 *)(param_1 + 0x110) = *(undefined4 *)(param_1 + 0xd0);
		*(undefined4 *)(param_1 + 0x114) = *(undefined4 *)(param_1 + 0xd4);
		*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0xd8);
		*(undefined4 *)(param_1 + 0x11c) = *(undefined4 *)(param_1 + 0xdc);
		*(undefined4 *)(param_1 + 0x120) = *(undefined4 *)(param_1 + 0xe0);
		*(undefined4 *)(param_1 + 0x124) = *(undefined4 *)(param_1 + 0xe4);
		*(undefined4 *)(param_1 + 0x128) = *(undefined4 *)(param_1 + 0xe8);
		*(undefined4 *)(param_1 + 0x12c) = *(undefined4 *)(param_1 + 0xec);
		FUN_0018ef98((Matrix4x4 *)(param_1 + 0xf0));
		*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) | 0x3;
	}
	return (uint)!bVar1;
}



undefined4 FUN_0028e140(int *param_1)

{
	int *piVar1;
	GameNode *pGVar2;
	void *pvVar3;
	undefined8 *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined4 uVar7;
	undefined8 uVar8;
	undefined8 *puVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float local_150;
	float fStack332;
	float fStack328;
	undefined4 uStack324;
	float local_140;
	float fStack316;
	float fStack312;
	undefined4 uStack308;
	float local_130;
	float fStack300;
	float local_128;
	undefined4 local_124;
	float local_120;
	float fStack284;
	float local_118;
	float local_114;
	float local_110;
	float fStack268;
	float local_108;
	undefined4 local_104;
	Vector4 local_100;
	undefined4 local_f0;
	undefined4 uStack236;
	undefined4 uStack232;
	undefined4 uStack228;
	undefined4 local_e0;
	undefined4 uStack220;
	undefined4 uStack216;
	undefined4 uStack212;
	undefined4 local_d0;
	undefined4 uStack204;
	undefined4 uStack200;
	undefined4 uStack196;
	undefined2 local_c0;
	undefined2 local_be;
	Matrix4x4 local_b0;
	int local_70;

	uVar7 = 0x0;
	if ((*(ulong *)(param_1 + 0xb8) & 0x2) == 0x0) {
		local_70 = 0x0;
		pGVar2 = GetGameNode((NodeList *)(*param_1 + 0xd4), 0x1);
		if (param_1[0xc0] == 0x0) {
			pvVar3 = MemoryAllocate(0x50);
			uVar8 = FUN_00292f28((long)(int)pvVar3, param_1[0xb9], 0x50);
			param_1[0xc0] = (int)uVar8;
			piVar1 = (int *)param_1[0xc0];
		}
		else {
			piVar1 = (int *)param_1[0xc0];
		}
		FUN_00289368((int)param_1);
		local_120 = (float)param_1[0xe0];
		local_114 = 1.00000000;
		local_150 = (float)param_1[0x38] - local_120;
		fStack332 = (float)param_1[0x39] - local_120;
		fStack328 = (float)param_1[0x3a] - local_120;
		local_124 = 0x3f800000;
		local_100.w = 1.00000000;
		fVar12 = 0.00000000;
		local_140 = (float)param_1[0x38] + local_120;
		fStack316 = (float)param_1[0x39] + local_120;
		fStack312 = (float)param_1[0x3a] + local_120;
		local_104 = 0x3f800000;
		uStack324 = 0x3f800000;
		uStack308 = 0x3f800000;
		local_130 = local_150;
		fStack300 = fStack332;
		local_128 = fStack328;
		fStack284 = local_120;
		local_118 = local_120;
		local_110 = local_140;
		fStack268 = fStack316;
		local_108 = fStack312;
		local_100.x = local_120;
		local_100.y = local_120;
		local_100.z = local_120;
		FUN_00200088(0.01000000, &local_150);
		FUN_00293048(piVar1, &local_150);
		puVar4 = (undefined8 *)FUN_00293298((int)piVar1);
		_puVar4 = (long)(int)puVar4;
		if (_puVar4 != 0x0) {
			puVar9 = (undefined8 *)&local_f0;
			uVar8 = *puVar4;
			uStack232 = *(undefined4 *)(puVar4 + 0x1);
			uStack228 = *(undefined4 *)((int)puVar4 + 0xc);
			while (true) {
				local_f0 = (undefined4)uVar8;
				uStack236 = (undefined4)((ulong)uVar8 >> 0x20);
				iVar5 = (int)_puVar4;
				uStack216 = *(undefined4 *)(iVar5 + 0x18);
				uStack212 = *(undefined4 *)(iVar5 + 0x1c);
				local_e0 = (undefined4)*(undefined8 *)(iVar5 + 0x10);
				uStack220 = (undefined4)((ulong)*(undefined8 *)(iVar5 + 0x10) >> 0x20);
				uStack200 = *(undefined4 *)(iVar5 + 0x28);
				uStack196 = *(undefined4 *)(iVar5 + 0x2c);
				local_d0 = (undefined4)*(undefined8 *)(iVar5 + 0x20);
				uStack204 = (undefined4)((ulong)*(undefined8 *)(iVar5 + 0x20) >> 0x20);
				local_c0 = *(undefined2 *)(iVar5 + 0x30);
				local_be = *(undefined2 *)(iVar5 + 0x32);
				FUN_002826a8((long)(int)puVar9, (long)(int)(param_1 + 0x3c));
				if (*(char *)(param_1 + 0xe4) == '\0') {
					fVar10 = (float)param_1[0xe0];
				}
				else {
					InitIdentityMatrix(&local_b0);
					local_b0.xComponents.x = 1.00000000 / (float)param_1[0xe1];
					local_b0.yComponents.y = 1.00000000 / (float)param_1[0xe2];
					local_b0.zComponents.z = 1.00000000 / (float)param_1[0xe3];
					FUN_002826a8((long)(int)puVar9, (long)(int)&local_b0);
					fVar10 = (float)param_1[0xe0];
				}
				local_110 = 0.00000000;
				fStack268 = 0.00000000;
				local_108 = 0.00000000;
				local_104 = 0x3f800000;
				iVar5 = FUN_002801d8(fVar10, puVar9, (undefined8 *)&local_110, (long)(int)&local_120);
				if (iVar5 != 0x0) {
					puVar6 = FUN_00282680((int)puVar9);
					if ((*(ulong *)(puVar6 + 0x8) >> 0x6 & 0x1) == 0x0) {
						local_70 = 0x1;
						FUN_0022f568((int *)pGVar2, _puVar4, (undefined8 *)(param_1 + 0x38));
						if (0.00000000 < (float)param_1[0xc9]) {
							local_100.x = local_120;
							local_100.y = fStack284;
							local_100.z = local_118;
							local_100.w = local_114;
							fVar10 = RSQRT(0.00000000, &local_100);
							fVar12 = -(float)param_1[0xe0];
							local_100.x = local_100.x * fVar10 * fVar12;
							local_100.y = local_100.y * fVar10 * fVar12;
							local_100.z = local_100.z * fVar10 * fVar12;
							if (*(char *)(param_1 + 0xe4) != '\0') {
								local_120 = local_120 * (float)param_1[0xe1];
								fStack284 = fStack284 * (float)param_1[0xe2];
								local_118 = local_118 * (float)param_1[0xe3];
							}
							local_b0.xComponents.x = local_120;
							local_b0.xComponents.y = fStack284;
							local_b0.xComponents.z = local_118;
							local_b0.xComponents.w = local_114;
							FUN_0018ec48((long)(int)(param_1 + 0x2c), &local_120, &local_120);
							fVar12 = fStack284;
						}
						param_1[0x6] = param_1[0x6] | 0x4;
						if ((code *)param_1[0xd9] != (code *)0x0) {
							(*(code *)param_1[0xd9])(_puVar4, param_1[0xda]);
						}
					}
					else {
						local_b0.xComponents.x = local_120;
						local_b0.xComponents.y = fStack284;
						local_b0.xComponents.z = local_118;
						local_b0.xComponents.w = local_114;
						fVar11 = RSQRT(0.00000000, (Vector4 *)&local_b0);
						fVar10 = -(float)param_1[0xe0];
						local_b0.xComponents.x = local_b0.xComponents.x * fVar11 * fVar10;
						local_b0.xComponents.y = local_b0.xComponents.y * fVar11 * fVar10;
						local_b0.xComponents.z = local_b0.xComponents.z * fVar11 * fVar10;
						if (*(char *)(param_1 + 0xe4) != '\0') {
							local_120 = local_120 * (float)param_1[0xe1];
							fStack284 = fStack284 * (float)param_1[0xe2];
							local_118 = local_118 * (float)param_1[0xe3];
						}
						local_b0.yComponents.x = local_120;
						local_b0.yComponents.y = fStack284;
						local_b0.yComponents.z = local_118;
						local_b0.yComponents.w = local_114;
						FUN_0018ec48((long)(int)(param_1 + 0x2c), &local_120, &local_120);
						FUN_0028db88((int)param_1, &local_120, 0x0);
						local_100.x = local_b0.yComponents.x;
						local_100.y = local_b0.yComponents.y;
						local_100.z = local_b0.yComponents.z;
						local_100.w = local_b0.yComponents.w;
						fVar10 = RSQRT(0.00000000, &local_100);
						local_100.x = local_100.x * fVar10;
						local_100.y = local_100.y * fVar10;
						local_100.z = local_100.z * fVar10;
						if (*(char *)(param_1 + 0xe4) != '\0') {
							local_100.x = local_100.x / (float)param_1[0xe1];
							local_100.y = local_100.y / (float)param_1[0xe2];
							local_100.z = local_100.z / (float)param_1[0xe3];
							local_b0.xComponents.x = local_b0.xComponents.x * (float)param_1[0xe1];
							local_b0.xComponents.y = local_b0.xComponents.y * (float)param_1[0xe2];
							local_b0.xComponents.z = local_b0.xComponents.z * (float)param_1[0xe3];
						}
						FUN_0018ec48((long)(int)(param_1 + 0x2c), (undefined4 *)&local_100,
							(undefined4 *)&local_100);
						fVar10 = RSQRT(0.00000000, &local_100);
						local_100.x = local_100.x * fVar10;
						local_100.y = local_100.y * fVar10;
						local_100.z = local_100.z * fVar10;
						FUN_00289fc0((int)param_1);
						*(ulong *)(param_1 + 0xb8) = *(ulong *)(param_1 + 0xb8) | 0x4;
						puVar6 = FUN_00282680((int)puVar9);
						FUN_0028c040(param_1, (undefined8 *)&local_b0, (float *)&local_100, (long)(int)puVar6, 0x0);
						param_1[0x6] = param_1[0x6] | 0x4;
						if ((code *)param_1[0xd9] != (code *)0x0) {
							(*(code *)param_1[0xd9])(_puVar4, param_1[0xda]);
						}
					}
				}
				puVar4 = (undefined8 *)FUN_002932c0((int)piVar1);
				_puVar4 = (long)(int)puVar4;
				if (_puVar4 == 0x0) break;
				uVar8 = *puVar4;
				uStack232 = *(undefined4 *)(puVar4 + 0x1);
				uStack228 = *(undefined4 *)((int)puVar4 + 0xc);
			}
		}
		if (local_70 == 0x0) {
			pGVar2[0xc].methods = (undefined *)0xffffffff;
		}
		else {
			if (0.00000000 < fVar12) {
				local_128 = 0.00000000;
				local_124 = 0x3f800000;
				local_130 = 0.00000000;
				fStack300 = fVar12 * (float)param_1[0x7] * (float)param_1[0xc9] -
					(float)param_1[0x55] * 0.30000001;
				FUN_0028a8a8((int)param_1, &local_130, (long)(int)(param_1 + 0x38));
			}
		}
		uVar7 = 0x1;
	}
	return uVar7;
}



undefined4 FUN_0028e798(int *param_1, int *param_2)

{
	int iVar1;
	undefined4 uVar2;
	float fVar3;
	float fVar4;
	Vector4 local_90;
	float local_80;
	float fStack124;
	float fStack120;
	undefined4 uStack116;
	float local_70;
	float fStack108;
	float local_68;
	float local_64;
	float local_60;
	float fStack92;
	float local_58;
	float local_54;
	float local_50;
	float fStack76;
	float local_48;
	float local_44;

	local_80 = (float)param_1[0x38];
	fStack124 = (float)param_1[0x39];
	local_90.x = local_80 - (float)param_2[0x38];
	fStack120 = (float)param_1[0x3a];
	local_90.y = fStack124 - (float)param_2[0x39];
	local_58 = (float)param_1[0xe0];
	local_90.z = fStack120 - (float)param_2[0x3a];
	fVar4 = (local_58 + (float)param_2[0xe0]) -
		SQRT(local_90.x * local_90.x + local_90.y * local_90.y + local_90.z * local_90.z);
	if (0.00000000 < fVar4) {
		local_50 = (float)param_2[0x38] - local_80;
		fStack76 = (float)param_2[0x39] - fStack124;
		local_48 = (float)param_2[0x3a] - fStack120;
		local_44 = 1.00000000;
		local_54 = 1.00000000;
		local_60 = local_50 * local_58;
		fStack92 = fStack76 * local_58;
		local_58 = local_48 * local_58;
		local_80 = local_80 + local_60;
		fStack124 = fStack124 + fStack92;
		fStack120 = fStack120 + local_58;
		uStack116 = 0x3f800000;
		local_64 = 1.00000000;
		local_90.w = 1.00000000;
		local_70 = local_90.x;
		fStack108 = local_90.y;
		local_68 = local_90.z;
		fVar3 = RSQRT(0.00000000, &local_90);
		local_90.x = local_90.x * fVar3;
		local_90.y = local_90.y * fVar3;
		local_90.z = local_90.z * fVar3;
		local_64 = local_90.w;
		local_70 = local_90.x * fVar4;
		fStack108 = local_90.y * fVar4;
		local_68 = local_90.z * fVar4;
		local_54 = local_90.w;
		local_60 = local_70 * 0.50005001;
		fStack92 = fStack108 * 0.50005001;
		local_58 = local_68 * 0.50005001;
		local_44 = local_90.w;
		local_50 = -local_60;
		fStack76 = -fStack92;
		local_48 = -local_58;
		FUN_0028dca8((int)param_1, (undefined8 *)&local_70);
		FUN_0028dca8((int)param_2, (undefined8 *)&local_50);
		FUN_00289fc0((int)param_1);
		FUN_00289fc0((int)param_2);
		local_90.x = -local_90.x;
		local_90.y = -local_90.y;
		local_90.z = -local_90.z;
		FUN_0028c668(param_1, (long)(int)&local_80, (float *)&local_90, param_2);
		iVar1 = param_2[0xb9];
		param_1[0x6] = param_1[0x6] | 0x10;
		if ((code *)param_1[0xdb] != (code *)0x0) {
			(*(code *)param_1[0xdb])(iVar1, 0x0, param_1[0xdc]);
		}
		iVar1 = param_1[0xb9];
		param_2[0x6] = param_2[0x6] | 0x10;
		if ((code *)param_2[0xdb] != (code *)0x0) {
			(*(code *)param_2[0xdb])(iVar1, 0x0, param_2[0xdc]);
		}
		uVar2 = 0x1;
	}
	else {
		uVar2 = 0x0;
	}
	return uVar2;
}



undefined4 FUN_0028ea70(int *param_1, int *param_2)

{
	int iVar1;
	uint uVar2;
	undefined4 uVar3;
	float fVar4;
	float local_270;
	float local_26c;
	float local_268;
	float local_260;
	float local_25c;
	float local_258;
	float afStack592[0x64];
	float local_c0;
	float local_bc;
	float local_b8;
	undefined auStack176[0x10];
	float local_a0;
	float fStack156;
	float local_98;
	float fStack148;
	Vector4 local_90;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 local_74;
	float local_70;
	float fStack108;
	float local_68;
	undefined4 local_64;
	float local_60;
	float local_5c;
	float local_58;
	undefined4 local_54;

	local_268 = (float)param_1[0xe0];
	local_258 = (float)param_2[0xe0];
	local_270 = local_268 * (float)param_1[0xe1];
	local_26c = local_268 * (float)param_1[0xe2];
	local_260 = local_258 * (float)param_2[0xe1];
	local_25c = local_258 * (float)param_2[0xe2];
	local_268 = local_268 * (float)param_1[0xe3];
	local_258 = local_258 * (float)param_2[0xe3];
	uVar2 = FUN_00290f28(afStack592, (long)(int)&local_c0, (int)auStack176, (float *)(param_1 + 0x2c),
		&local_270, (float *)(param_2 + 0x2c), &local_260);
	if (uVar2 == 0x0) {
		uVar3 = 0x0;
	}
	else {
		fStack148 = 1.00000000;
		local_a0 = -(((float)param_1[0x38] + local_c0) - (float)param_2[0x38]);
		fStack156 = -(((float)param_1[0x39] + local_bc) - (float)param_2[0x39]);
		local_98 = -(((float)param_1[0x3a] + local_b8) - (float)param_2[0x3a]);
		local_90.w = 1.00000000;
		local_90.x = local_a0 * 0.50005001;
		local_90.y = fStack156 * 0.50005001;
		local_90.z = local_98 * 0.50005001;
		local_74 = 0x3f800000;
		local_80 = -local_90.x;
		fStack124 = -local_90.y;
		local_78 = -local_90.z;
		FUN_0028dca8((int)param_1, (undefined8 *)&local_a0);
		FUN_0028dca8((int)param_2, (undefined8 *)&local_80);
		local_58 = (float)param_1[0x3a] + (float)param_2[0x3a];
		local_60 = (float)param_1[0x38] + (float)param_2[0x38];
		local_5c = (float)param_1[0x39] + (float)param_2[0x39];
		local_64 = 0x3f800000;
		local_78 = local_58 * 0.50000000;
		local_80 = local_60 * 0.50000000;
		fStack124 = local_5c * 0.50000000;
		local_90.x = local_a0;
		local_90.y = fStack156;
		local_90.z = local_98;
		local_90.w = fStack148;
		local_74 = 0x3f800000;
		local_54 = 0x3f800000;
		local_70 = local_80;
		fStack108 = fStack124;
		local_68 = local_78;
		fVar4 = RSQRT(0.00000000, &local_90);
		local_90.x = local_90.x * fVar4;
		local_90.y = local_90.y * fVar4;
		local_90.z = local_90.z * fVar4;
		FUN_00289fc0((int)param_1);
		FUN_00289fc0((int)param_2);
		local_90.x = -local_90.x;
		local_90.y = -local_90.y;
		local_90.z = -local_90.z;
		FUN_0028c668(param_1, (long)(int)&local_80, (float *)&local_90, param_2);
		iVar1 = param_2[0xb9];
		param_1[0x6] = param_1[0x6] | 0x10;
		if ((code *)param_1[0xdb] != (code *)0x0) {
			(*(code *)param_1[0xdb])(iVar1, 0x0, param_1[0xdc]);
		}
		iVar1 = param_1[0xb9];
		param_2[0x6] = param_2[0x6] | 0x10;
		if ((code *)param_2[0xdb] != (code *)0x0) {
			(*(code *)param_2[0xdb])(iVar1, 0x0, param_2[0xdc]);
		}
		uVar3 = 0x1;
	}
	return uVar3;
}



undefined4 FUN_0028edb0(int *param_1, int *param_2)

{
	int iVar1;
	int iVar2;
	ulong uVar3;
	undefined4 uVar4;
	long lVar5;
	Vector4 VStack256;
	undefined8 local_f0;
	float fStack232;
	undefined4 uStack228;
	float local_e0;
	float local_dc;
	float local_d8;
	undefined auStack208[0x40];
	float local_90;
	float fStack140;
	float local_88;
	undefined4 uStack132;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 uStack116;
	int local_70[0x4];

	uVar4 = 0x0;
	lVar5 = 0x0;
	iVar1 = param_2[0xb9];
	uVar3 = FUN_001f0c48((ChunkNodeRelated *)(iVar1 + 0x10));
	if (0x0 < (long)uVar3) {
		do {
			FUN_001f0cc8((long)(int)(ChunkNodeRelated *)(iVar1 + 0x10), lVar5, (long)(int)local_70,
				(long)(int)auStack208);
			iVar2 = FUN_0028f158((int)param_1, (long)(int)(Matrix4x4 *)(param_1 + 0x2c),
				(long)(int)(param_2 + 0x2c), (long)local_70[0], (long)(int)&local_f0,
				(float *)&VStack256, &local_e0);
			if (iVar2 != 0x0) {
				FUN_00289fc0((int)param_1);
				FUN_00289fc0((int)param_2);
				uStack132 = uStack228;
				local_90 = (float)local_f0 * 0.50005001;
				fStack140 = (float)((ulong)local_f0 >> 0x20) * 0.50005001;
				local_88 = fStack232 * 0.50005001;
				uStack116 = uStack228;
				local_80 = -local_90;
				fStack124 = -fStack140;
				local_78 = -local_88;
				FUN_0028dca8((int)param_1, &local_f0);
				FUN_0028dca8((int)param_2, (undefined8 *)&local_80);
				MultiplyMatrixByVector((Matrix4x4 *)(param_1 + 0x2c), &VStack256, &VStack256);
				local_e0 = -local_e0;
				local_dc = -local_dc;
				local_d8 = -local_d8;
				FUN_0028c668(param_1, (long)(int)&VStack256, &local_e0, param_2);
				iVar2 = param_2[0xb9];
				param_1[0x6] = param_1[0x6] | 0x10;
				if ((code *)param_1[0xdb] != (code *)0x0) {
					(*(code *)param_1[0xdb])(iVar2, lVar5, param_1[0xdc]);
				}
				iVar2 = param_1[0xb9];
				param_2[0x6] = param_2[0x6] | 0x10;
				if ((code *)param_2[0xdb] != (code *)0x0) {
					(*(code *)param_2[0xdb])(iVar2, 0x0, param_2[0xdc]);
				}
				uVar4 = 0x1;
			}
			lVar5 = (long)((int)lVar5 + 0x1);
		} while (lVar5 < (long)uVar3);
	}
	return uVar4;
}



void FUN_0028efd8(undefined8 param_1)

{
	UnkChunkRelatedData *pUVar1;
	int iVar2;
	bool bVar3;
	GameNode *pGVar4;
	ulong uVar5;
	int iVar6;
	long lVar7;
	float local_d0;
	undefined4 uStack204;
	undefined4 uStack200;
	undefined4 uStack196;
	float local_c0;
	undefined4 uStack188;
	undefined4 uStack184;
	undefined4 uStack180;
	undefined auStack176[0x50];
	undefined *local_60;
	ushort local_5c;
	undefined2 local_5a;
	undefined4 local_58;
	uint local_54;
	undefined4 local_50;
	undefined4 local_4c;
	undefined4 local_48;
	undefined4 local_44;
	undefined4 local_40;

	lVar7 = 0x0;
	iVar6 = (int)param_1;
	uStack200 = *(undefined4 *)(iVar6 + 0xe8);
	uStack196 = *(undefined4 *)(iVar6 + 0xec);
	local_d0 = (float)*(undefined8 *)(iVar6 + 0xe0);
	uStack204 = (undefined4)((ulong)*(undefined8 *)(iVar6 + 0xe0) >> 0x20);
	local_c0 = local_d0;
	uStack188 = uStack204;
	uStack184 = uStack200;
	uStack180 = uStack196;
	FUN_00200088(*(float *)(iVar6 + 0x380), &local_d0);
	local_60 = auStack176;
	local_5a = 0x14;
	local_5c = 0x0;
	local_58 = 0x7149f2ca;
	local_4c = 0x1;
	local_50 = 0x10;
	local_48 = 0x0;
	local_40 = 0x0;
	local_54 = local_54 & 0xfffffffe | 0x2;
	local_44 = 0x0;
	pUVar1 = (*(ChunkNode **)(iVar6 + 0x2e4))->chunkData_;
	FUN_001f0458((int)&local_60, *(ChunkNode **)(iVar6 + 0x2e4));
	FUN_001ed750((int)pUVar1, (long)(int)&local_d0, *(uint *)(iVar6 + 0x330), (int *)&local_60);
	*(undefined4 *)(iVar6 + 0xa0) = 0x0;
	if (local_5c != 0x0) {
		do {
			bVar3 = false;
			iVar2 = *(int *)(local_60 + (int)lVar7 * 0x4);
			if ((*(int *)(iVar6 + 0x2e4) != 0x0) &&
				(bVar3 = true, *(int *)(iVar2 + 0xd0) != *(int *)(iVar6 + 0x2e4))) {
				bVar3 = false;
			}
			uVar5 = (ulong)local_5c;
			if (!bVar3) {
				if (((ulong)(long)*(int *)(iVar2 + 0xd4) >> 0x5 & 0x1) == 0x0) {
					FUN_0028f428(param_1, iVar2);
					uVar5 = (ulong)local_5c;
				}
				else {
					pGVar4 = (GameNode *)0x0;
					if (iVar2 != 0x0) {
						pGVar4 = GetGameNode((NodeList *)(iVar2 + 0xd4), 0x5);
					}
					(**(code **)(*(int *)(iVar6 + 0x14) + 0x74))
						(iVar6 + *(short *)(*(int *)(iVar6 + 0x14) + 0x70), pGVar4);
					uVar5 = (ulong)local_5c;
				}
			}
			lVar7 = (long)((int)lVar7 + 0x1);
		} while (lVar7 < (long)uVar5);
	}
	return;
}



undefined4
FUN_0028f158(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5
	, float *param_6, float *param_7)

{
	undefined8 uVar1;
	int iVar2;
	Matrix4x4 *pMVar3;
	undefined8 *puVar4;
	undefined8 *puVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	Matrix4x4 local_170;
	Matrix4x4 local_130;
	float local_f0;
	undefined4 uStack236;
	undefined4 uStack232;
	undefined4 uStack228;
	float local_e0;
	undefined4 uStack220;
	undefined4 uStack216;
	undefined4 uStack212;
	Matrix4x4 MStack208;
	undefined4 auStack144[0x4];
	float afStack128[0x8];
	Vector4 *local_60;

	puVar5 = (undefined8 *)param_2;
	local_60 = (Vector4 *)(puVar5 + 0x6);
	uStack232 = *(undefined4 *)(puVar5 + 0x7);
	uStack228 = *(undefined4 *)((int)puVar5 + 0x3c);
	local_f0 = (float)puVar5[0x6];
	uStack236 = (undefined4)((ulong)puVar5[0x6] >> 0x20);
	local_e0 = local_f0;
	uStack220 = uStack236;
	uStack216 = uStack232;
	uStack212 = uStack228;
	FUN_00200088(*(float *)(param_1 + 0x380), &local_f0);
	pMVar3 = (Matrix4x4 *)param_3;
	LoadBbox((GameNode *)param_4, pMVar3, &MStack208);
	iVar2 = FUN_001f8db0(&local_f0, (float *)&MStack208);
	if (iVar2 != 0x0) {
		local_130.zComponents.z = (pMVar3->zComponents).z;
		local_130.zComponents.w = (pMVar3->zComponents).w;
		local_130.xComponents.z = (pMVar3->xComponents).z;
		local_130.xComponents.w = (pMVar3->xComponents).w;
		local_130.yComponents.z = (pMVar3->yComponents).z;
		local_130.yComponents.w = (pMVar3->yComponents).w;
		local_130.wComponents.x = (pMVar3->wComponents).x;
		local_130.wComponents.y = (pMVar3->wComponents).y;
		local_130.wComponents.z = (pMVar3->wComponents).z;
		local_130.wComponents.w = (pMVar3->wComponents).w;
		local_130.zComponents.x = (float)*(undefined8 *)&pMVar3->zComponents;
		local_130.zComponents.y = (float)((ulong)*(undefined8 *)&pMVar3->zComponents >> 0x20);
		local_130.xComponents.x = (float)*(undefined8 *)&pMVar3->xComponents;
		local_130.xComponents.y = (float)((ulong)*(undefined8 *)&pMVar3->xComponents >> 0x20);
		local_130.yComponents.x = (float)*(undefined8 *)&pMVar3->yComponents;
		local_130.yComponents.y = (float)((ulong)*(undefined8 *)&pMVar3->yComponents >> 0x20);
		FUN_0018ef98(&local_130);
		puVar4 = (undefined8 *)param_5;
		if (*(char *)(param_1 + 0x390) == '\0') {
			MultiplyMatrixByVector(&local_130, local_60, &MStack208.wComponents);
			FUN_00200998((ushort *)(GameNode *)param_4, afStack128);
			iVar2 = FUN_00201020(*(float *)(param_1 + 0x380), param_4, (float *)&MStack208.wComponents,
				(long)(int)auStack144);
			if (iVar2 != 0x0) {
				FUN_0018ec48(param_3, auStack144, (undefined4 *)puVar4);
				uVar1 = *puVar4;
				fVar6 = *(float *)(puVar4 + 0x1);
				fVar7 = *(float *)((int)puVar4 + 0xc);
				*param_7 = (float)uVar1;
				param_7[0x1] = (float)((ulong)uVar1 >> 0x20);
				param_7[0x2] = fVar6;
				param_7[0x3] = fVar7;
				fVar6 = RSQRT(0.00000000, (Vector4 *)param_7);
				*param_7 = *param_7 * fVar6;
				param_7[0x1] = param_7[0x1] * fVar6;
				param_7[0x2] = param_7[0x2] * fVar6;
				local_170.xComponents.z = *(float *)(puVar5 + 0x1);
				local_170.xComponents.w = *(float *)((int)puVar5 + 0xc);
				local_170.wComponents.z = *(float *)(puVar5 + 0x7);
				local_170.wComponents.w = *(float *)((int)puVar5 + 0x3c);
				local_170.yComponents.x = *(float *)(puVar5 + 0x2);
				local_170.yComponents.y = *(float *)((int)puVar5 + 0x14);
				local_170.yComponents.z = *(float *)(puVar5 + 0x3);
				local_170.yComponents.w = *(float *)((int)puVar5 + 0x1c);
				local_170.zComponents.z = *(float *)(puVar5 + 0x5);
				local_170.zComponents.w = *(float *)((int)puVar5 + 0x2c);
				local_170.xComponents.x = (float)*puVar5;
				local_170.xComponents.y = (float)((ulong)*puVar5 >> 0x20);
				local_170.zComponents.x = (float)puVar5[0x4];
				local_170.zComponents.y = (float)((ulong)puVar5[0x4] >> 0x20);
				local_170.wComponents.x = (float)puVar5[0x6];
				local_170.wComponents.y = (float)((ulong)puVar5[0x6] >> 0x20);
				FUN_0018ef98(&local_170);
				FUN_0018ec48((long)(int)&local_170, param_7, param_6);
				fVar6 = -*(float *)(param_1 + 0x380);
				*param_6 = *param_6 * fVar6;
				param_6[0x2] = param_6[0x2] * fVar6;
				param_6[0x1] = param_6[0x1] * fVar6;
				return 0x1;
			}
		}
		else {
			MStack208.zComponents.z = *(float *)(param_1 + 0x380);
			MStack208.zComponents.x = MStack208.zComponents.z * *(float *)(param_1 + 0x384);
			MStack208.zComponents.y = MStack208.zComponents.z * *(float *)(param_1 + 0x388);
			MStack208.zComponents.z = MStack208.zComponents.z * *(float *)(param_1 + 0x38c);
			iVar2 = FUN_001fd908(param_4, param_2, (float *)&MStack208.zComponents, (undefined4 *)pMVar3,
				param_5, param_7);
			if (iVar2 != 0x0) {
				local_170.xComponents.z = *(float *)(puVar5 + 0x1);
				local_170.xComponents.w = *(float *)((int)puVar5 + 0xc);
				local_170.yComponents.x = *(float *)(puVar5 + 0x2);
				local_170.yComponents.y = *(float *)((int)puVar5 + 0x14);
				local_170.yComponents.z = *(float *)(puVar5 + 0x3);
				local_170.yComponents.w = *(float *)((int)puVar5 + 0x1c);
				local_170.wComponents.z = *(float *)(puVar5 + 0x7);
				local_170.wComponents.w = *(float *)((int)puVar5 + 0x3c);
				local_170.zComponents.z = *(float *)(puVar5 + 0x5);
				local_170.zComponents.w = *(float *)((int)puVar5 + 0x2c);
				local_170.xComponents.x = (float)*puVar5;
				local_170.xComponents.y = (float)((ulong)*puVar5 >> 0x20);
				local_170.zComponents.x = (float)puVar5[0x4];
				local_170.zComponents.y = (float)((ulong)puVar5[0x4] >> 0x20);
				local_170.wComponents.x = (float)puVar5[0x6];
				local_170.wComponents.y = (float)((ulong)puVar5[0x6] >> 0x20);
				FUN_0018ef98(&local_170);
				FUN_0018ec48((long)(int)&local_170, (undefined4 *)puVar4, param_6);
				fVar7 = RSQRT(0.00000000, (Vector4 *)param_6);
				fVar9 = *param_6;
				fVar10 = param_6[0x1];
				fVar6 = param_6[0x2];
				*param_6 = fVar9 * fVar7;
				param_6[0x1] = fVar10 * fVar7;
				param_6[0x2] = fVar6 * fVar7;
				fVar8 = -*(float *)(param_1 + 0x380);
				param_6[0x2] = fVar6 * fVar7 * fVar8;
				*param_6 = fVar9 * fVar7 * fVar8;
				param_6[0x1] = fVar10 * fVar7 * fVar8;
				return 0x1;
			}
		}
	}
	return 0x0;
}



int FUN_0028f428(undefined8 param_1, int param_2)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	ulong uVar4;
	long lVar5;
	int iVar6;
	int iVar7;
	ulong uVar8;
	ChunkNodeRelated *pCVar9;
	float afStack208[0x4];
	float afStack192[0x4];
	float afStack176[0x4];
	undefined auStack160[0x40];
	int local_60[0x4];

	pCVar9 = (ChunkNodeRelated *)(param_2 + 0x10);
	uVar8 = 0x0;
	iVar7 = 0x0;
	uVar4 = FUN_001f0c48(pCVar9);
	iVar6 = (int)param_1;
	if ((uVar4 & 0xff) != 0x0) {
		do {
			FUN_001f0cc8((long)(int)pCVar9, uVar8, (long)(int)local_60, (long)(int)auStack160);
			iVar2 = FUN_0028f158(iVar6, (long)(iVar6 + 0xb0), (long)(int)auStack160, (long)local_60[0],
				(long)(int)afStack192, afStack208, afStack176);
			if (iVar2 != 0x0) {
				if (param_2 == *(int *)(iVar6 + 0xa4)) {
					uVar1 = *(uint *)(iVar6 + 0x18);
				}
				else {
					FUN_00289fc0(iVar6);
					puVar3 = FUN_001ebb40((int **)pCVar9, uVar8);
					lVar5 = FUN_0028cf90(param_1, afStack208, afStack176, puVar3, param_2);
					if (lVar5 != 0x0) {
						FUN_0028db88(iVar6, afStack192, 0x1);
					}
					uVar1 = *(uint *)(iVar6 + 0x18);
				}
				*(uint *)(iVar6 + 0x18) = uVar1 | 0x10;
				if (*(code **)(iVar6 + 0x36c) != (code *)0x0) {
					(**(code **)(iVar6 + 0x36c))(param_2, uVar8, *(undefined4 *)(iVar6 + 0x370));
				}
				iVar7 = 0x1;
			}
			uVar8 = (long)((int)uVar8 + 0x1) & 0xff;
		} while (uVar8 < (uVar4 & 0xff));
	}
	if (iVar7 != 0x0) {
		*(int *)(iVar6 + 0xa0) = param_2;
	}
	return iVar7;
}



void FUN_0028f590(int param_1, int **param_2)

{
	int *piVar1;
	int *piVar2;
	ulong uVar3;
	int iVar4;
	ushort *puVar5;
	int index;
	Matrix4x4 MStack208;
	Matrix4x4 MStack144;
	float local_50;
	float fStack76;
	float local_48;
	float fStack68;
	GameNode *local_40[0x4];

	index = *(int *)(param_1 + 0x380);
	if (index != 0x0) {
		iVar4 = index + *(int *)(index + -0x10) * 0x20;
		if (index == iVar4) {
			index = *(int *)(param_1 + 0x380);
		}
		else {
			do {
				iVar4 += -0x20;
				FUN_00200590((long)iVar4, 0x0);
			} while ((long)*(int *)(param_1 + 0x380) != (long)iVar4);
			index = *(int *)(param_1 + 0x380);
		}
		MemoryDeallocate_((void *)(index + -0x10));
	}
	*(undefined4 *)(param_1 + 0x380) = 0x0;
	uVar3 = FUN_001f0c48((ChunkNodeRelated *)param_2);
	index = (int)uVar3;
	*(int *)(param_1 + 0x384) = index;
	iVar4 = index + -0x1;
	piVar2 = (int *)MemoryAllocate2((long)(index << 0x5) | 0x10);
	*piVar2 = index;
	piVar1 = piVar2 + 0x4;
	if (uVar3 != 0x0) {
		do {
			iVar4 += -0x1;
			FUN_00200550((long)(int)piVar1);
			piVar1 = piVar1 + 0x8;
		} while (iVar4 != -0x1);
	}
	index = 0x0;
	*(int **)(param_1 + 0x380) = piVar2 + 0x4;
	if (0x0 < *(int *)(param_1 + 0x384)) {
		iVar4 = *(int *)(param_1 + 0x380);
		while (true) {
			puVar5 = (ushort *)(iVar4 + index * 0x20);
			InitIdentityMatrix(&MStack144);
			FUN_001eb9f8((ChunkNodeRelated *)(*(int *)(param_1 + 0x2e4) + 0x10),
				(TransformedGeometyPoint *)&MStack144, index, local_40, &MStack208);
			index += 0x1;
			FUN_002005e0(puVar5, (undefined2 *)local_40[0]);
			local_50 = *(float *)(param_1 + 0x2f0);
			fStack76 = *(float *)(param_1 + 0x2f4);
			local_48 = *(float *)(param_1 + 0x2f8);
			fStack68 = *(float *)(param_1 + 0x2fc);
			FUN_0018ec48((long)(int)&MStack208, &local_50, &local_50);
			MStack208.wComponents.x = MStack208.wComponents.x - local_50;
			MStack208.wComponents.y = MStack208.wComponents.y - fStack76;
			MStack208.wComponents.z = MStack208.wComponents.z - local_48;
			FUN_002009d8(puVar5, (long)(int)&MStack208);
			if (*(int *)(param_1 + 0x384) <= index) break;
			iVar4 = *(int *)(param_1 + 0x380);
		}
	}
	return;
}



undefined4 FUN_0028f728(int *param_1)

{
	int *piVar1;
	uint uVar2;
	void *pvVar3;
	int iVar4;
	undefined *puVar5;
	undefined4 *puVar6;
	undefined4 uVar7;
	undefined8 uVar8;
	long lVar9;
	int iVar10;
	GameNode *pGVar11;
	float fVar12;
	float fVar13;
	Matrix4x4 MStack240;
	float afStack176[0x4];
	Vector4 VStack160;
	float local_90;
	float fStack140;
	float fStack136;
	float fStack132;
	Vector4 local_80;
	GameNode *local_70;
	int local_6c;
	int local_68;
	int local_64;

	uVar7 = 0x0;
	if ((*(ulong *)(param_1 + 0xb8) & 0x2) == 0x0) {
		local_6c = 0x0;
		fVar13 = 0.00000000;
		local_70 = GetGameNode((NodeList *)(*param_1 + 0xd4), 0x1);
		local_68 = *param_1 + 0x40;
		if (0x0 < param_1[0xe1]) {
			iVar4 = param_1[0xc0];
			iVar10 = 0x0;
			while (true) {
				if (iVar4 == 0x0) {
					pvVar3 = MemoryAllocate(0x50);
					uVar8 = FUN_00292f28((long)(int)pvVar3, param_1[0xb9], 0x50);
					param_1[0xc0] = (int)uVar8;
					iVar4 = param_1[0xe0];
				}
				else {
					iVar4 = param_1[0xe0];
				}
				piVar1 = (int *)param_1[0xc0];
				local_64 = iVar10 + 0x1;
				pGVar11 = (GameNode *)(iVar4 + iVar10 * 0x20);
				LoadBbox(pGVar11, (Matrix4x4 *)(param_1 + 0x2c), &MStack240);
				FUN_00289368((int)param_1);
				FUN_00293048(piVar1, (float *)&MStack240);
				puVar6 = (undefined4 *)FUN_00293298((int)piVar1);
				lVar9 = (long)(int)puVar6;
				if (lVar9 == 0x0) {
					iVar4 = param_1[0xe1];
				}
				else {
					do {
						iVar10 = (int)lVar9;
						FUN_001fff90();
						iVar4 = FUN_001f8db0((float *)&MStack240.zComponents, (float *)&MStack240);
						if (iVar4 != 0x0) {
							FUN_0018d830(afStack176, lVar9, puVar6 + 0x4, iVar10 + 0x20);
							iVar4 = FUN_00200b70((ushort *)pGVar11, (long)(int)(param_1 + 0x2c), afStack176);
							if (iVar4 == 0x0) {
								iVar4 = FUN_00283470(lVar9, (ushort *)pGVar11, (long)(int)(param_1 + 0x2c), &local_90,
									(float *)&VStack160);
								if (iVar4 != 0x0) {
									puVar5 = FUN_00282680(iVar10);
									if ((*(ulong *)(puVar5 + 0x8) >> 0x6 & 0x1) == 0x0) {
										local_6c = 0x1;
										FUN_0022f568((int *)local_70, lVar9, (undefined8 *)&VStack160);
										if (0.00000000 < (float)param_1[0xc9]) {
											fVar12 = VStack160.y - *(float *)(local_68 + 0x4);
											uVar2 = param_1[0x6];
											if (fVar13 < fVar12) {
												*(float *)(param_1 + 0x84) = VStack160.y;
												uVar2 = param_1[0x6];
												fVar13 = fVar12;
											}
											param_1[0x6] = uVar2 | 0x4;
											if ((code *)param_1[0xd9] != (code *)0x0) {
												(*(code *)param_1[0xd9])(lVar9, param_1[0xda]);
											}
										}
									}
									else {
										local_80.x = local_90;
										local_80.y = fStack140;
										local_80.z = fStack136;
										local_80.w = fStack132;
										fVar12 = RSQRT(0.00000000, &local_80);
										local_80.x = local_80.x * fVar12;
										local_80.y = local_80.y * fVar12;
										local_80.z = local_80.z * fVar12;
										FUN_0028db88((int)param_1, &local_90, 0x0);
										*(ulong *)(param_1 + 0xb8) = *(ulong *)(param_1 + 0xb8) | 0x4;
										MultiplyMatrixByVector((Matrix4x4 *)(param_1 + 0x3c), &VStack160, &VStack160);
										puVar5 = FUN_00282680(iVar10);
										FUN_0028c040(param_1, (undefined8 *)&VStack160, (float *)&local_80,
											(long)(int)puVar5, 0x0);
										FUN_00289fc0((int)param_1);
										param_1[0x6] = param_1[0x6] | 0x4;
										if ((code *)param_1[0xd9] != (code *)0x0) {
											(*(code *)param_1[0xd9])(lVar9, param_1[0xda]);
										}
									}
								}
							}
						}
						puVar6 = FUN_002932c0((int)piVar1);
						lVar9 = (long)(int)puVar6;
					} while (lVar9 != 0x0);
					iVar4 = param_1[0xe1];
				}
				if (iVar4 <= local_64) break;
				iVar4 = param_1[0xc0];
				iVar10 = local_64;
			}
		}
		if (local_6c == 0x0) {
			local_70[0xc].methods = (undefined *)0xffffffff;
			if (0.00000000 < (float)param_1[0xc9]) {
				if ((float)param_1[0x84] <= *(float *)(local_68 + 0x14)) {
					return 0x1;
				}
				(**(code **)(param_1[0x5] + 0x5c))((int)param_1 + (int)*(short *)(param_1[0x5] + 0x58));
				return 0x1;
			}
		}
		else {
			if (fVar13 <= 0.00000000) {
				return 0x1;
			}
			(**(code **)(param_1[0x5] + 0x5c))
				(param_1[0x84], (int)param_1 + (int)*(short *)(param_1[0x5] + 0x58));
		}
		uVar7 = 0x1;
	}
	return uVar7;
}



void FUN_0028fb00(float param_1, int *param_2)

{
	bool bVar1;
	int iVar2;
	TransformedGeometyPoint *pTVar3;
	int iVar4;
	float *pfVar5;
	long lVar6;
	float fVar7;
	float fVar8;
	undefined auStack256[0x80];
	undefined4 local_80;
	float local_7c;
	undefined4 local_78;
	undefined4 local_74;
	float fStack112;
	float local_6c;

	lVar6 = (long)(int)auStack256;
	iVar2 = *param_2;
	iVar4 = 0x6;
	do {
		bVar1 = iVar4 != -0x1;
		iVar4 += -0x1;
	} while (bVar1);
	iVar4 = 0x7;
	pTVar3 = *(TransformedGeometyPoint **)(*param_2 + 0x8);
	fVar8 = 0.30000001;
	RotateAndTranslate_(pTVar3);
	FUN_001fa308((undefined4 *)(iVar2 + 0x60), lVar6, (long)(int)pTVar3);
	do {
		pfVar5 = (float *)lVar6;
		fVar7 = param_1 - pfVar5[0x1];
		iVar4 += -0x1;
		if (0.10000000 < fVar7) {
			FUN_00289c60((int)param_2, pfVar5, &fStack112);
			local_80 = 0x0;
			local_78 = 0x0;
			local_7c = fVar7 * (float)param_2[0x7] * (float)param_2[0xc9] - local_6c * fVar8;
			local_74 = 0x3f800000;
			FUN_0028a8a8((int)param_2, &local_80, lVar6);
		}
		lVar6 = (long)(int)(pfVar5 + 0x4);
	} while (-0x1 < iVar4);
	return;
}



void FUN_0028fc50(undefined8 param_1)

{
	UnkChunkRelatedData *pUVar1;
	bool bVar2;
	int iVar3;
	GameNode *pGVar4;
	undefined *puVar5;
	ulong uVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	long lVar10;
	undefined auStack256[0x20];
	undefined auStack224[0x20];
	undefined auStack192[0x50];
	undefined *local_70;
	ushort local_6c;
	undefined2 local_6a;
	undefined4 local_68;
	uint local_64;
	undefined4 local_60;
	undefined4 local_5c;
	undefined4 local_58;
	undefined4 local_54;
	undefined4 local_50;

	iVar8 = (int)param_1;
	if (*(int *)(iVar8 + 0x380) == 0x0) {
		FUN_0028f590(iVar8, (int **)(*(int *)(iVar8 + 0x2e4) + 0x10));
		iVar9 = *(int *)(iVar8 + 0x384);
	}
	else {
		iVar9 = *(int *)(iVar8 + 0x384);
	}
	if (0x0 < iVar9) {
		LoadBbox(*(GameNode **)(iVar8 + 0x380), (Matrix4x4 *)(iVar8 + 0xb0), (Matrix4x4 *)auStack256);
		iVar9 = 0x1;
		local_70 = auStack192;
		if (0x1 < *(int *)(iVar8 + 0x384)) {
			iVar3 = *(int *)(iVar8 + 0x380);
			while (true) {
				iVar7 = iVar9 * 0x20;
				iVar9 += 0x1;
				LoadBbox((GameNode *)(iVar3 + iVar7), (Matrix4x4 *)(iVar8 + 0xb0),
					(Matrix4x4 *)(auStack256 + 0x20));
				FUN_001ffea8((Matrix4x4 *)auStack256, (Matrix4x4 *)(auStack256 + 0x20));
				if (*(int *)(iVar8 + 0x384) <= iVar9) break;
				iVar3 = *(int *)(iVar8 + 0x380);
			}
		}
		local_6a = 0x14;
		local_6c = 0x0;
		local_68 = 0x7149f2ca;
		lVar10 = 0x0;
		local_5c = 0x1;
		local_60 = 0x0;
		local_58 = 0x0;
		local_50 = 0x0;
		local_64 = local_64 & 0xfffffffe | 0x2;
		local_54 = 0x0;
		pUVar1 = (*(ChunkNode **)(iVar8 + 0x2e4))->chunkData_;
		FUN_001f0458((int)&local_70, *(ChunkNode **)(iVar8 + 0x2e4));
		FUN_001ed750((int)pUVar1, (long)(int)auStack256, *(uint *)(iVar8 + 0x330), (int *)&local_70);
		*(undefined4 *)(iVar8 + 0xa0) = 0x0;
		if (local_6c != 0x0) {
			do {
				iVar9 = *(int *)(iVar8 + 0x2e4);
				bVar2 = false;
				iVar3 = *(int *)(local_70 + (int)lVar10 * 0x4);
				if (iVar9 != 0x0) {
					if (*(int *)(iVar3 + 0xd0) == iVar9) {
						bVar2 = true;
					}
					else {
						if (*(int *)(iVar3 + 0x28) == iVar9) {
							bVar2 = true;
						}
					}
				}
				uVar6 = (ulong)local_6c;
				if (!bVar2) {
					if (((ulong)(long)*(int *)(iVar3 + 0xd4) >> 0x5 & 0x1) == 0x0) {
						if (((ulong)(long)*(int *)(iVar3 + 0x4) >> 0x4 & 0x1) == 0x0) {
							uVar6 = (ulong)local_6c;
							if (0.00000000 < *(float *)(iVar8 + 0x324)) {
								puVar5 = FUN_001ebb40((int **)(iVar3 + 0x10), 0x0);
								if (puVar5 == (undefined *)0x0) {
									uVar6 = (ulong)local_6c;
								}
								else {
									uVar6 = (ulong)local_6c;
									if ((*(ulong *)(puVar5 + 0x8) >> 0x6 & 0x1) == 0x0) {
										(**(code **)(*(int *)(iVar8 + 0x14) + 0x5c))
											(*(undefined4 *)(iVar3 + 0x54),
												iVar8 + *(short *)(*(int *)(iVar8 + 0x14) + 0x58));
										uVar6 = (ulong)local_6c;
									}
								}
							}
						}
						else {
							FUN_0028fec0(param_1, iVar3);
							uVar6 = (ulong)local_6c;
						}
					}
					else {
						pGVar4 = (GameNode *)0x0;
						if (iVar3 != 0x0) {
							pGVar4 = GetGameNode((NodeList *)(iVar3 + 0xd4), 0x5);
						}
						(**(code **)(*(int *)(iVar8 + 0x14) + 0x74))
							(iVar8 + *(short *)(*(int *)(iVar8 + 0x14) + 0x70), pGVar4);
						uVar6 = (ulong)local_6c;
					}
				}
				lVar10 = (long)((int)lVar10 + 0x1);
			} while (lVar10 < (long)uVar6);
		}
	}
	return;
}



undefined4 FUN_0028fec0(undefined8 param_1, int param_2)

{
	ChunkNode *pCVar1;
	TransformedGeometyPoint *pTVar2;
	uint uVar3;
	bool bVar4;
	int iVar5;
	undefined *puVar6;
	ulong uVar7;
	long lVar8;
	int iVar9;
	Matrix4x4 *pMVar10;
	GameNode *pGVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	undefined auStack432[0x20];
	undefined auStack400[0x20];
	Vector4 VStack368;
	float local_160;
	float fStack348;
	float local_158;
	float fStack340;
	Vector4 local_150;
	Matrix4x4 local_140;
	Matrix4x4 MStack256;
	undefined4 local_c0;
	undefined4 uStack188;
	undefined4 uStack184;
	undefined4 uStack180;
	undefined4 local_b0;
	undefined4 uStack172;
	undefined4 uStack168;
	undefined4 uStack164;
	undefined4 local_a0;
	undefined4 uStack156;
	undefined4 uStack152;
	undefined4 uStack148;
	float local_90;
	float fStack140;
	float local_88;
	float local_84;
	float local_80;
	float fStack124;
	float local_78;
	undefined4 uStack116;
	GameNode *local_70;
	int local_6c;
	int local_68;
	int local_64;
	Matrix4x4 *local_60;
	Vector4 *local_5c;
	int local_58;

	local_68 = 0x0;
	uVar7 = FUN_001f0c48((ChunkNodeRelated *)(param_2 + 0x10));
	local_64 = 0x0;
	local_6c = (int)uVar7;
	iVar9 = (int)param_1;
	if (0x0 < *(int *)(iVar9 + 0x384)) {
		do {
			uVar7 = 0x0;
			local_58 = local_64 + 0x1;
			if (0x0 < local_6c) {
				local_60 = (Matrix4x4 *)(auStack432 + 0x20);
				local_5c = &local_150;
				local_90 = *(float *)(iVar9 + 0xe0);
				fStack140 = *(float *)(iVar9 + 0xe4);
				local_88 = *(float *)(iVar9 + 0xe8);
				local_84 = *(float *)(iVar9 + 0xec);
				while (true) {
					uStack184 = *(undefined4 *)(iVar9 + 0xb8);
					uStack180 = *(undefined4 *)(iVar9 + 0xbc);
					local_b0 = *(undefined4 *)(iVar9 + 0xc0);
					uStack172 = *(undefined4 *)(iVar9 + 0xc4);
					uStack168 = *(undefined4 *)(iVar9 + 0xc8);
					uStack164 = *(undefined4 *)(iVar9 + 0xcc);
					local_a0 = *(undefined4 *)(iVar9 + 0xd0);
					uStack156 = *(undefined4 *)(iVar9 + 0xd4);
					uStack152 = *(undefined4 *)(iVar9 + 0xd8);
					uStack148 = *(undefined4 *)(iVar9 + 0xdc);
					local_78 = *(float *)(iVar9 + 0x2f8);
					uStack116 = *(undefined4 *)(iVar9 + 0x2fc);
					local_c0 = (undefined4)*(undefined8 *)(iVar9 + 0xb0);
					uStack188 = (undefined4)((ulong)*(undefined8 *)(iVar9 + 0xb0) >> 0x20);
					local_80 = (float)*(undefined8 *)(iVar9 + 0x2f0);
					fStack124 = (float)((ulong)*(undefined8 *)(iVar9 + 0x2f0) >> 0x20);
					FUN_0018ec48((long)(int)&local_c0, &local_80, &local_80);
					local_90 = local_90 - local_80;
					fStack140 = fStack140 - fStack124;
					local_88 = local_88 - local_78;
					if ((*(ulong *)(iVar9 + 0x2e0) & 0x40) == 0x0) {
						pCVar1 = *(ChunkNode **)(iVar9 + 0x2e4);
						iVar5 = FUN_0018b6d0((undefined4 *)pCVar1->transformMatrixPtr, (undefined8 *)&local_c0);
						if (iVar5 != 0x0) {
							FUN_001977d8(pCVar1);
						}
					}
					else {
						pCVar1 = *(ChunkNode **)(iVar9 + 0x2e4);
						pTVar2 = pCVar1->transformMatrixPtr;
						if ((pTVar2->unkBitfield & 0x4) != 0x0) {
							fVar14 = (pTVar2->transformMatrix).wComponents.y;
							fVar12 = (pTVar2->transformMatrix).wComponents.z;
							fVar13 = (pTVar2->transformMatrix).wComponents.w;
							(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
							(pTVar2->positionVector).w = fVar13;
							(pTVar2->positionVector).y = fVar14;
							(pTVar2->positionVector).z = fVar12;
							pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
						}
						bVar4 = false;
						if ((local_90 == (pTVar2->positionVector).x) &&
							(bVar4 = false, fStack140 == (pTVar2->positionVector).y)) {
							bVar4 = true;
						}
						if (!bVar4) {
							pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffb | 0x1;
							(pTVar2->positionVector).x = local_90;
							(pTVar2->positionVector).w = local_84;
							(pTVar2->positionVector).y = fStack140;
							(pTVar2->positionVector).z = local_88;
							FUN_001977d8(pCVar1);
						}
					}
					pMVar10 = &MStack256;
					local_140.xComponents.z = *(float *)(iVar9 + 0xb8);
					local_140.xComponents.w = *(float *)(iVar9 + 0xbc);
					local_140.yComponents.x = *(float *)(iVar9 + 0xc0);
					local_140.yComponents.y = *(float *)(iVar9 + 0xc4);
					local_140.yComponents.z = *(float *)(iVar9 + 0xc8);
					local_140.yComponents.w = *(float *)(iVar9 + 0xcc);
					pGVar11 = (GameNode *)(*(int *)(iVar9 + 0x380) + local_64 * 0x20);
					local_140.zComponents.x = *(float *)(iVar9 + 0xd0);
					local_140.zComponents.y = *(float *)(iVar9 + 0xd4);
					local_140.zComponents.z = *(float *)(iVar9 + 0xd8);
					local_140.zComponents.w = *(float *)(iVar9 + 0xdc);
					local_140.wComponents.x = *(float *)(iVar9 + 0xe0);
					local_140.wComponents.y = *(float *)(iVar9 + 0xe4);
					local_140.wComponents.z = *(float *)(iVar9 + 0xe8);
					local_140.wComponents.w = *(float *)(iVar9 + 0xec);
					local_140.xComponents.x = (float)*(undefined8 *)(iVar9 + 0xb0);
					local_140.xComponents.y = (float)((ulong)*(undefined8 *)(iVar9 + 0xb0) >> 0x20);
					FUN_001f0cc8((long)(int)(int **)(param_2 + 0x10), uVar7, (long)(int)&local_70,
						(long)(int)pMVar10);
					LoadBbox(pGVar11, &local_140, (Matrix4x4 *)auStack432);
					LoadBbox(local_70, pMVar10, local_60);
					iVar5 = FUN_001f8db0((float *)auStack432, (float *)local_60);
					if ((iVar5 != 0x0) &&
						(lVar8 = FUN_00282fd0((ushort *)pGVar11, (undefined8 *)&local_140, (ushort *)local_70,
						(long)(int)pMVar10, &local_160, (float *)&VStack368), lVar8 != 0x0)
						) {
						local_150.x = local_160;
						local_150.y = fStack348;
						local_150.z = local_158;
						local_150.w = fStack340;
						fVar12 = RSQRT(0.00000000, &local_150);
						local_150.x = local_150.x * fVar12;
						local_150.y = local_150.y * fVar12;
						local_150.z = local_150.z * fVar12;
						local_160 = -local_160;
						fStack348 = -fStack348;
						local_158 = -local_158;
						if (param_2 == *(int *)(iVar9 + 0xa4)) {
							uVar3 = *(uint *)(iVar9 + 0x18);
						}
						else {
							FUN_00289fc0(iVar9);
							MultiplyMatrixByVector((Matrix4x4 *)(iVar9 + 0xf0), &VStack368, &VStack368);
							local_150.x = -local_150.x;
							local_150.y = -local_150.y;
							local_150.z = -local_150.z;
							puVar6 = FUN_001ebb40((int **)(param_2 + 0x10), uVar7 & 0xff);
							lVar8 = FUN_0028cf90(param_1, &VStack368, local_5c, puVar6, param_2);
							if (lVar8 != 0x0) {
								FUN_0028db88(iVar9, &local_160, 0x1);
							}
							uVar3 = *(uint *)(iVar9 + 0x18);
						}
						*(uint *)(iVar9 + 0x18) = uVar3 | 0x10;
						if (*(code **)(iVar9 + 0x36c) != (code *)0x0) {
							(**(code **)(iVar9 + 0x36c))(param_2, uVar7, *(undefined4 *)(iVar9 + 0x370));
						}
						local_68 = 0x1;
					}
					uVar7 = SEXT48((int)uVar7 + 0x1);
					if ((long)local_6c <= (long)uVar7) break;
					local_90 = *(float *)(iVar9 + 0xe0);
					fStack140 = *(float *)(iVar9 + 0xe4);
					local_88 = *(float *)(iVar9 + 0xe8);
					local_84 = *(float *)(iVar9 + 0xec);
				}
			}
			if (local_68 != 0x0) {
				*(int *)(iVar9 + 0xa0) = param_2;
			}
			local_64 = local_58;
		} while (local_58 < *(int *)(iVar9 + 0x384));
	}
	return 0x1;
}



undefined4 FUN_00290320(int *param_1, int *param_2)

{
	ChunkNode *pCVar1;
	TransformedGeometyPoint *pTVar2;
	bool bVar3;
	int iVar4;
	ulong uVar5;
	long lVar6;
	GameNode *pGVar7;
	GameNode *pGVar8;
	int iVar9;
	int iVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	undefined auStack384[0x20];
	undefined auStack352[0x20];
	Matrix4x4 local_140;
	Matrix4x4 local_100;
	float afStack192[0x4];
	float local_b0;
	float fStack172;
	float local_a8;
	float fStack164;
	Vector4 local_a0;
	float local_90;
	float fStack140;
	float local_88;
	float fStack132;
	float local_80;
	float fStack124;
	float local_78;
	float fStack116;
	int *local_70;
	Matrix4x4 *local_6c;
	int local_68;

	if (param_1[0xe1] < 0x1) {
		return 0x1;
	}
	iVar4 = param_2[0xe1];
	iVar10 = 0x0;
	do {
		local_68 = iVar10 + 0x1;
		iVar9 = 0x0;
		if (0x0 < iVar4) {
			local_70 = param_1 + 0x2c;
			local_6c = (Matrix4x4 *)(auStack384 + 0x20);
			do {
				local_140.xComponents.x = (float)param_1[0x2c];
				local_140.xComponents.y = (float)param_1[0x2d];
				local_140.xComponents.z = (float)param_1[0x2e];
				local_140.xComponents.w = (float)param_1[0x2f];
				local_140.yComponents.z = (float)local_70[0x6];
				local_140.yComponents.w = (float)local_70[0x7];
				local_140.zComponents.z = (float)local_70[0xa];
				local_140.zComponents.w = (float)local_70[0xb];
				local_140.wComponents.z = (float)local_70[0xe];
				local_140.wComponents.w = (float)local_70[0xf];
				local_140.yComponents.x = (float)*(undefined8 *)(local_70 + 0x4);
				local_140.yComponents.y = (float)((ulong)*(undefined8 *)(local_70 + 0x4) >> 0x20);
				local_140.zComponents.x = (float)*(undefined8 *)(local_70 + 0x8);
				local_140.zComponents.y = (float)((ulong)*(undefined8 *)(local_70 + 0x8) >> 0x20);
				local_140.wComponents.x = (float)*(undefined8 *)(local_70 + 0xc);
				local_140.wComponents.y = (float)((ulong)*(undefined8 *)(local_70 + 0xc) >> 0x20);
				if ((*(ulong *)(param_1 + 0xb8) & 0x40) == 0x0) {
					pCVar1 = (ChunkNode *)param_1[0xb9];
					pTVar2 = pCVar1->transformMatrixPtr;
					if ((pTVar2->unkBitfield & 0x4) != 0x0) {
						fVar13 = (pTVar2->transformMatrix).wComponents.y;
						fVar11 = (pTVar2->transformMatrix).wComponents.z;
						fVar12 = (pTVar2->transformMatrix).wComponents.w;
						(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
						(pTVar2->positionVector).w = fVar12;
						(pTVar2->positionVector).y = fVar13;
						(pTVar2->positionVector).z = fVar11;
						pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
					}
					bVar3 = false;
					if ((local_140.wComponents.x == (pTVar2->positionVector).x) &&
						(bVar3 = false, local_140.wComponents.y == (pTVar2->positionVector).y)) {
						bVar3 = true;
					}
					if (bVar3) {
						uVar5 = *(ulong *)(param_2 + 0xb8);
					}
					else {
						pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffb | 0x1;
						(pTVar2->positionVector).x = local_140.wComponents.x;
						(pTVar2->positionVector).w = local_140.wComponents.w;
						(pTVar2->positionVector).y = local_140.wComponents.y;
						(pTVar2->positionVector).z = local_140.wComponents.z;
						FUN_001977d8(pCVar1);
						uVar5 = *(ulong *)(param_2 + 0xb8);
					}
				}
				else {
					pCVar1 = (ChunkNode *)param_1[0xb9];
					iVar4 = FUN_0018b6d0((undefined4 *)pCVar1->transformMatrixPtr, (undefined8 *)&local_140);
					if (iVar4 == 0x0) {
						uVar5 = *(ulong *)(param_2 + 0xb8);
					}
					else {
						FUN_001977d8(pCVar1);
						uVar5 = *(ulong *)(param_2 + 0xb8);
					}
				}
				local_100.xComponents.x = (float)param_2[0x2c];
				local_100.xComponents.y = (float)param_2[0x2d];
				local_100.xComponents.z = (float)param_2[0x2e];
				local_100.xComponents.w = (float)param_2[0x2f];
				local_100.yComponents.x = (float)param_2[0x30];
				local_100.yComponents.y = (float)param_2[0x31];
				local_100.yComponents.z = (float)param_2[0x32];
				local_100.yComponents.w = (float)param_2[0x33];
				local_100.zComponents.x = (float)param_2[0x34];
				local_100.zComponents.y = (float)param_2[0x35];
				local_100.zComponents.z = (float)param_2[0x36];
				local_100.zComponents.w = (float)param_2[0x37];
				local_100.wComponents.x = (float)param_2[0x38];
				local_100.wComponents.y = (float)param_2[0x39];
				local_100.wComponents.z = (float)param_2[0x3a];
				local_100.wComponents.w = (float)param_2[0x3b];
				if ((uVar5 & 0x40) == 0x0) {
					pCVar1 = (ChunkNode *)param_2[0xb9];
					iVar4 = FUN_0018b6d0((undefined4 *)pCVar1->transformMatrixPtr, (undefined8 *)&local_100);
					if (iVar4 == 0x0) {
						iVar4 = param_1[0xe0];
					}
					else {
						FUN_001977d8(pCVar1);
						iVar4 = param_1[0xe0];
					}
				}
				else {
					pCVar1 = (ChunkNode *)param_2[0xb9];
					pTVar2 = pCVar1->transformMatrixPtr;
					if ((pTVar2->unkBitfield & 0x4) != 0x0) {
						fVar13 = (pTVar2->transformMatrix).wComponents.y;
						fVar11 = (pTVar2->transformMatrix).wComponents.z;
						fVar12 = (pTVar2->transformMatrix).wComponents.w;
						(pTVar2->positionVector).x = (pTVar2->transformMatrix).wComponents.x;
						(pTVar2->positionVector).w = fVar12;
						(pTVar2->positionVector).y = fVar13;
						(pTVar2->positionVector).z = fVar11;
						pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffa;
					}
					bVar3 = false;
					if ((local_100.wComponents.x == (pTVar2->positionVector).x) &&
						(bVar3 = false, local_100.wComponents.y == (pTVar2->positionVector).y)) {
						bVar3 = true;
					}
					if (bVar3) {
						iVar4 = param_1[0xe0];
					}
					else {
						pTVar2->unkBitfield = pTVar2->unkBitfield & 0xfffffffffffffffb | 0x1;
						(pTVar2->positionVector).x = local_100.wComponents.x;
						(pTVar2->positionVector).w = local_100.wComponents.w;
						(pTVar2->positionVector).y = local_100.wComponents.y;
						(pTVar2->positionVector).z = local_100.wComponents.z;
						FUN_001977d8(pCVar1);
						iVar4 = param_1[0xe0];
					}
				}
				pGVar7 = (GameNode *)(iVar4 + iVar10 * 0x20);
				pGVar8 = (GameNode *)(param_2[0xe0] + iVar9 * 0x20);
				LoadBbox(pGVar7, &local_140, (Matrix4x4 *)auStack384);
				LoadBbox(pGVar8, &local_100, local_6c);
				iVar4 = FUN_001f8db0((float *)auStack384, (float *)local_6c);
				if (iVar4 == 0x0) {
				LAB_00290820:
					iVar4 = param_2[0xe1];
				}
				else {
					lVar6 = FUN_00282fd0((ushort *)pGVar7, (undefined8 *)&local_140, (ushort *)pGVar8,
						(long)(int)&local_100, &local_b0, afStack192);
					if (lVar6 != 0x0) {
						local_a0.x = local_b0;
						local_a0.y = fStack172;
						local_a0.z = local_a8;
						local_a0.w = fStack164;
						fVar11 = RSQRT(0.00000000, &local_a0);
						local_a0.x = local_a0.x * fVar11;
						local_a0.y = local_a0.y * fVar11;
						local_a0.z = local_a0.z * fVar11;
						local_b0 = -local_b0;
						fStack172 = -fStack172;
						local_a8 = -local_a8;
						FUN_00289fc0((int)param_1);
						FUN_00289fc0((int)param_2);
						fStack132 = fStack164;
						local_90 = local_b0 * 0.50005001;
						fStack140 = fStack172 * 0.50005001;
						local_88 = local_a8 * 0.50005001;
						fStack116 = fStack164;
						local_80 = -local_90;
						fStack124 = -fStack140;
						local_78 = -local_88;
						FUN_0028dca8((int)param_1, (undefined8 *)&local_b0);
						FUN_0028dca8((int)param_2, (undefined8 *)&local_80);
						FUN_0028c668(param_1, (long)(int)afStack192, (float *)&local_a0, param_2);
						iVar4 = param_2[0xb9];
						param_1[0x6] = param_1[0x6] | 0x10;
						if ((code *)param_1[0xdb] != (code *)0x0) {
							(*(code *)param_1[0xdb])(iVar4, iVar9, param_1[0xdc]);
						}
						iVar4 = param_1[0xb9];
						param_2[0x6] = param_2[0x6] | 0x10;
						if ((code *)param_2[0xdb] != (code *)0x0) {
							(*(code *)param_2[0xdb])(iVar4, iVar10, param_2[0xdc]);
						}
						goto LAB_00290820;
					}
					iVar4 = param_2[0xe1];
				}
				iVar9 += 0x1;
			} while (iVar9 < iVar4);
		}
		if (param_1[0xe1] <= local_68) {
			return 0x1;
		}
		iVar4 = param_2[0xe1];
		iVar10 = local_68;
	} while (true);
}



long FUN_00290880(int *param_1, undefined8 param_2, long param_3)

{
	short sVar1;
	void *pvVar2;
	GameNode *gameNode;

	sVar1 = *(short *)(param_1[0x2] + param_1[0x4] * 0x2);
	if (param_3 == 0x0) {
		pvVar2 = MemoryAllocate(0x390);
		_pvVar2 = (long)(int)pvVar2;
		FUN_0028be00(_pvVar2);
		*(undefined4 *)((int)pvVar2 + 0x380) = 0x0;
		*(undefined4 *)((int)pvVar2 + 0x384) = 0x0;
		*(undefined4 *)((int)pvVar2 + 0x14) = 0x305440;
	}
	else {
		pvVar2 = MemoryAllocate(0x3a0);
		_pvVar2 = (long)(int)pvVar2;
		FUN_0028be00(_pvVar2);
		*(undefined4 *)((int)pvVar2 + 0x14) = 0x3054d8;
		FUN_00289e88(1.00000000, 1.29999995, 1.29999995, 1.29999995, (int)pvVar2);
		*(undefined4 *)((int)pvVar2 + 0x384) = 0x3f800000;
		*(undefined4 *)((int)pvVar2 + 0x380) = 0x3f000000;
		*(undefined *)((int)pvVar2 + 0x390) = 0x0;
		*(undefined4 *)((int)pvVar2 + 0x38c) = 0x3f800000;
		*(undefined4 *)((int)pvVar2 + 0x388) = 0x3f800000;
	}
	gameNode = (GameNode *)_pvVar2;
	FUN_00197918((ChunkNode *)param_2, true, gameNode);
	*(short *)&gameNode[0x21].nextNode = sVar1;
	*(GameNode **)(*param_1 + (int)sVar1 * 0x4) = gameNode;
	*(undefined2 *)(param_1[0x2] + param_1[0x4] * 0x2) = 0xffff;
	param_1[0x4] = param_1[0x4] + 0x1;
	return _pvVar2;
}



void FUN_002909c8(int *param_1)

{
	ChunkNode *pCVar1;
	int iVar2;
	UnkScriptRelatedStoredInGlobal *pUVar3;
	int iVar4;
	int **ppiVar5;
	int iVar6;
	int **ppiVar7;
	int iVar8;
	float fVar9;
	float fVar10;
	undefined4 uVar11;
	int *local_690[0xc8];
	float local_370[0xc8];

	ppiVar5 = local_690;
	ppiVar7 = local_690;
	iVar4 = 0x0;
	iVar8 = 0x0;
	iVar6 = *param_1;
	while (true) {
		iVar6 = *(int *)(iVar6 + iVar4 * 0x4);
		if ((((iVar6 != 0x0) &&
			(pCVar1 = *(ChunkNode **)(iVar6 + 0x2e4), (pCVar1->unkBitField & 0x1U) != 0x1)) &&
			(pUVar3 = FUN_00197da8(pCVar1), (*(byte *)&pUVar3->field_0x0 & 0x1) != 0x0)) &&
			(iVar6 = *(int *)(*param_1 + iVar4 * 0x4), (*(int *)(iVar6 + 0x18) >> 0x3 & 0x1U) == 0x0)) {
			*(int *)ppiVar5 = iVar6;
			iVar8 += 0x1;
			*(float *)((int *)ppiVar5 + 0xc8) = (float)pUVar3->field_0x8 * DAT_00309b80;
			ppiVar5 = (int **)((int *)ppiVar5 + 0x1);
		}
		iVar4 += 0x1;
		if (0xc7 < iVar4) break;
		iVar6 = *param_1;
	}
	iVar6 = 0x0;
	if (0x0 < iVar8) {
		uVar11 = 0x3f800000;
		iVar4 = 0x0;
		do {
			iVar2 = *(int *)((int)local_690 + iVar4);
			fVar9 = *(float *)((int)local_370 + iVar4);
			iVar4 = *(int *)(iVar2 + 0x64);
			fVar10 = (float)iVar4;
			*(undefined4 *)(iVar2 + 0x214) = 0x0;
			*(uint *)(iVar2 + 0x18) = *(uint *)(iVar2 + 0x18) & 0xffffffeb;
			*(ulong *)(iVar2 + 0x2e0) = *(ulong *)(iVar2 + 0x2e0) & 0xffffffffffffffc7;
			MovePositionFromPos2ToPos1
			((Vector4 *)(iVar2 + 0x340), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
			*(undefined4 *)(iVar2 + 0x34c) = uVar11;
			iVar6 += 0x1;
			MovePositionFromPos2ToPos1
			((Vector4 *)(iVar2 + 0x350), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
			*(undefined4 *)(iVar2 + 0x35c) = uVar11;
			*(undefined4 *)(iVar2 + 0x360) = 0x0;
			if (0x0 < iVar4) {
				do {
					FUN_0028a160(fVar9 / fVar10, iVar2);
					iVar4 += -0x1;
					(**(code **)(*(int *)(iVar2 + 0x14) + 0x6c))
						(iVar2 + *(short *)(*(int *)(iVar2 + 0x14) + 0x68));
					(**(code **)(*(int *)(iVar2 + 0x14) + 0x64))
						(iVar2 + *(short *)(*(int *)(iVar2 + 0x14) + 0x60));
					*(undefined4 *)(iVar2 + 0x160) = *(undefined4 *)(iVar2 + 0x150);
					*(undefined4 *)(iVar2 + 0x164) = *(undefined4 *)(iVar2 + 0x154);
					*(undefined4 *)(iVar2 + 0x168) = *(undefined4 *)(iVar2 + 0x158);
					*(undefined4 *)(iVar2 + 0x16c) = *(undefined4 *)(iVar2 + 0x15c);
				} while (iVar4 != 0x0);
			}
			iVar4 = iVar6 * 0x4;
		} while (iVar6 < iVar8);
	}
	if (0x0 < iVar8) {
		while (true) {
			iVar8 += -0x1;
			FUN_0028da10((int)local_690[0]);
			ppiVar7 = ppiVar7 + 0x1;
			FUN_00289368((int)local_690[0]);
			MovePositionFromPos2ToPos1
			((Vector4 *)(local_690[0] + 0x70), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
			local_690[0][0x73] = 0x3f800000;
			MovePositionFromPos2ToPos1
			((Vector4 *)(local_690[0] + 0x74), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
			local_690[0][0x77] = 0x3f800000;
			FUN_0028d490(local_690[0]);
			if (iVar8 == 0x0) break;
			local_690[0] = *ppiVar7;
		}
	}
	return;
}



void FUN_00290c58(int param_1, int param_2)

{
	undefined4 *puVar1;
	int iVar2;
	int iVar3;
	undefined4 *puVar4;

	FUN_00292fb8(param_1);
	if (param_2 != 0x0) {
		puVar4 = (undefined4 *)MemoryAllocate(0x210);
		iVar2 = 0x6;
		while (iVar2 != -0x1) {
			iVar2 += -0x1;
		}
		*(undefined4 **)(param_1 + 0x40) = puVar4;
		iVar2 = 0x1;
		*puVar4 = 0x0;
		if (0x1 < param_2) {
			do {
				puVar1 = (undefined4 *)MemoryAllocate(0x210);
				iVar2 += 0x1;
				iVar3 = 0x6;
				while (iVar3 != -0x1) {
					iVar3 += -0x1;
				}
				*puVar1 = 0x0;
				*(undefined4 **)puVar4 = puVar1;
				puVar4 = puVar1;
			} while (iVar2 < param_2);
		}
	}
	return;
}



float FUN_00290d38(float param_1, int param_2)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	float fVar8;
	float fVar9;
	Vector4 local_60;

	fVar6 = 1.00000000 - param_1;
	fVar8 = fVar6 * param_1;
	fVar9 = param_1 * param_1;
	fVar7 = *(float *)(param_2 + 0x7c);
	fVar2 = fVar6 * fVar6;
	fVar3 = *(float *)(param_2 + 0x78);
	*(undefined4 *)(param_2 + 0xa0) = *(undefined4 *)(param_2 + 0x90);
	*(undefined4 *)(param_2 + 0xa4) = *(undefined4 *)(param_2 + 0x94);
	*(undefined4 *)(param_2 + 0xa8) = *(undefined4 *)(param_2 + 0x98);
	*(undefined4 *)(param_2 + 0xac) = *(undefined4 *)(param_2 + 0x9c);
	fVar5 = fVar2 * fVar6;
	fVar1 = fVar8 * *(float *)(param_2 + 0x140);
	fVar4 = *(float *)(param_2 + 0xf0);
	*(float *)(param_2 + 0xa0) = *(float *)(param_2 + 0xa0) * fVar2;
	*(float *)(param_2 + 0xa4) = *(float *)(param_2 + 0xa4) * fVar2;
	*(float *)(param_2 + 0xa8) = *(float *)(param_2 + 0xa8) * fVar2;
	MultiplyMatrixByVector((Matrix4x4 *)(param_2 + 0x150), (Vector4 *)(param_2 + 0x90), &local_60);
	local_60.x = local_60.x * fVar9;
	local_60.y = local_60.y * fVar9;
	local_60.z = local_60.z * fVar9;
	*(float *)(param_2 + 0xa0) = *(float *)(param_2 + 0xa0) + local_60.x;
	*(float *)(param_2 + 0xa4) = *(float *)(param_2 + 0xa4) + local_60.y;
	*(float *)(param_2 + 0xa8) = *(float *)(param_2 + 0xa8) + local_60.z;
	MultiplyMatrixByVector((Matrix4x4 *)(param_2 + 0x100), (Vector4 *)(param_2 + 0x90), &local_60);
	fVar6 = fVar6 / ((fVar9 * fVar7 * fVar3 + fVar1 + fVar2 * fVar4) * param_1 + fVar5);
	*(float *)(param_2 + 0xa0) = *(float *)(param_2 + 0xa0) - local_60.x * fVar8;
	*(float *)(param_2 + 0xa4) = *(float *)(param_2 + 0xa4) - local_60.y * fVar8;
	*(float *)(param_2 + 0xa8) = *(float *)(param_2 + 0xa8) - local_60.z * fVar8;
	*(float *)(param_2 + 0xa0) = *(float *)(param_2 + 0xa0) * fVar6;
	fVar1 = *(float *)(param_2 + 0xa4) * fVar6;
	fVar6 = *(float *)(param_2 + 0xa8) * fVar6;
	*(float *)(param_2 + 0xa4) = fVar1;
	*(float *)(param_2 + 0xa8) = fVar6;
	return (*(float *)(param_2 + 0xa0) * *(float *)(param_2 + 0x90) +
		fVar1 * *(float *)(param_2 + 0x94) + fVar6 * *(float *)(param_2 + 0x98)) * param_1;
}



uint FUN_00290f28(float *param_1, undefined8 param_2, int param_3, float *param_4, float *param_5,
	float *param_6, float *param_7)

{
	float *pfVar1;
	float *pfVar2;
	float *pfVar3;
	uint uVar4;
	int iVar5;
	float *pfVar6;
	float *pfVar7;
	float *pfVar8;
	Vector4 *pos1;
	ulong uVar9;
	float fVar10;
	float fVar11;
	float fVar12;
	float fVar13;
	float fVar14;
	float fVar15;
	float fVar16;
	float fVar17;
	float fVar18;
	int local_90;
	int iStack140;
	int iStack136;
	int local_84;
	int iStack128;
	int local_7c;
	Vector4 *local_78;
	Vector4 *local_74;
	uint local_70;

	local_70 = 0x0;
	local_78 = (Vector4 *)param_2;
	local_74 = (Vector4 *)param_3;
	MovePositionFromPos2ToPos1((Vector4 *)param_2, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	local_78->w = 1.00000000;
	MovePositionFromPos2ToPos1(local_74, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	local_74->w = 1.00000000;
	fVar10 = param_6[0xe];
	fVar12 = param_4[0xe];
	fVar11 = param_6[0xd];
	fVar13 = param_4[0xd];
	param_1[0x24] = param_6[0xc] - param_4[0xc];
	param_1[0x25] = fVar11 - fVar13;
	param_1[0x26] = fVar10 - fVar12;
	param_1[0x27] = 1.00000000;
	if (param_5 != (float *)0x0) {
		iVar5 = 0x2;
		pfVar1 = param_1;
		do {
			fVar10 = *param_5;
			iVar5 += -0x1;
			param_5 = param_5 + 0x1;
			*pfVar1 = fVar10;
			pfVar1 = pfVar1 + 0x1;
		} while (-0x1 < iVar5);
	}
	pfVar1 = param_1 + 0xc;
	pos1 = (Vector4 *)(param_1 + 0x24);
	if (param_7 != (float *)0x0) {
		iVar5 = 0x2;
		pfVar2 = pfVar1;
		do {
			fVar10 = *param_7;
			iVar5 += -0x1;
			param_7 = param_7 + 0x1;
			*pfVar2 = fVar10;
			pfVar2 = pfVar2 + 0x1;
		} while (-0x1 < iVar5);
	}
	FUN_0018cf08(param_1, &local_90, &iStack140, &iStack136);
	FUN_0018cf08(pfVar1, &local_84, &iStack128, &local_7c);
	pfVar2 = param_1 + 0x3;
	if (param_1[0x24] * param_1[0x24] + param_1[0x25] * param_1[0x25] + param_1[0x26] * param_1[0x26]
		<= (param_1[local_90] + pfVar1[local_84]) * (param_1[local_90] + pfVar1[local_84])) {
		if (param_1 != (float *)0x0) {
			pfVar8 = param_1 + 0x9;
			pfVar6 = param_1 + 0x6;
			param_1[0x1e] = 1.00000000;
			iVar5 = 0x2;
			pfVar3 = param_1;
			pfVar7 = pfVar2;
			do {
				iVar5 += -0x1;
				*pfVar6 = *pfVar3 * *pfVar3;
				pfVar6 = pfVar6 + 0x1;
				fVar10 = *pfVar3;
				pfVar3 = pfVar3 + 0x1;
				fVar10 = 1.00000000 / fVar10;
				*pfVar7 = fVar10;
				pfVar7 = pfVar7 + 0x1;
				*pfVar8 = fVar10 * fVar10;
				pfVar8 = pfVar8 + 0x1;
				param_1[0x1e] = param_1[0x1e] * fVar10 * fVar10;
			} while (-0x1 < iVar5);
		}
		if (pfVar1 != (float *)0x0) {
			pfVar6 = param_1 + 0x15;
			pfVar7 = param_1 + 0xf;
			param_1[0x1f] = 1.00000000;
			pfVar3 = param_1 + 0x12;
			iVar5 = 0x2;
			do {
				iVar5 += -0x1;
				*pfVar3 = *pfVar1 * *pfVar1;
				fVar10 = *pfVar1;
				pfVar1 = pfVar1 + 0x1;
				fVar10 = 1.00000000 / fVar10;
				*pfVar7 = fVar10;
				pfVar7 = pfVar7 + 0x1;
				*pfVar6 = fVar10 * fVar10;
				pfVar6 = pfVar6 + 0x1;
				fVar10 = *pfVar3;
				pfVar3 = pfVar3 + 0x1;
				param_1[0x1f] = param_1[0x1f] * fVar10;
			} while (-0x1 < iVar5);
		}
		FUN_00292500((int)param_1);
		FUN_00292598((int)param_1, param_4, param_6);
		fVar10 = param_1[0x24];
		fVar11 = param_1[0x25];
		fVar12 = param_1[0x26];
		MovePositionFromPos2ToPos1(pos1, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		param_1[0x27] = 1.00000000;
		iVar5 = 0x2;
		pfVar1 = param_4;
		do {
			fVar18 = *pfVar1;
			iVar5 += -0x1;
			fVar16 = pfVar1[0x1];
			fVar17 = pfVar1[0x2];
			fVar14 = *pfVar2;
			pfVar1 = pfVar1 + 0x4;
			pfVar2 = pfVar2 + 0x1;
			fVar14 = fVar14 * (fVar10 * fVar18 + fVar11 * fVar16 + fVar12 * fVar17);
			fVar13 = param_1[0x25];
			fVar15 = param_1[0x26];
			pos1->x = pos1->x + fVar18 * fVar14;
			param_1[0x25] = fVar13 + fVar16 * fVar14;
			param_1[0x26] = fVar15 + fVar17 * fVar14;
		} while (-0x1 < iVar5);
		fVar10 = FUN_00291800((float *)pos1, param_1 + 0x20);
		param_1[0x24] = param_1[0x24] * fVar10;
		param_1[0x25] = param_1[0x25] * fVar10;
		param_1[0x26] = param_1[0x26] * fVar10;
		uVar9 = (ulong)(0.00000000 < fVar10) ^ 0x1;
		if (uVar9 != 0x0) {
			fVar10 = param_1[local_7c + 0x12];
			param_1[0x20] =
				(float)((int)fVar10 * (uint)(fVar10 < 1.00000000) |
				(uint)(fVar10 >= 1.00000000) * 0x3f800000) * 0.00000000;
			MovePositionFromPos2ToPos1(pos1, &Vector4_00323890);
		}
		uVar4 = FUN_002913a8(param_1, (long)(int)local_78, (long)(int)local_74, param_4, param_6, uVar9);
		local_70 = (uVar4 ^ 0x1) & 0xff;
	}
	return local_70;
}



undefined4
FUN_002913a8(float *param_1, undefined8 param_2, undefined8 param_3, float *param_4, float *param_5,
	long param_6)

{
	float *pfVar1;
	float *pfVar2;
	undefined4 uVar3;
	float *pfVar4;
	undefined8 uVar5;
	float *pfVar6;
	int iVar7;
	float fVar8;
	float fVar9;
	float fVar10;
	float fVar11;
	float local_c0;
	float fStack188;
	float local_b8;
	float local_b4;
	float local_b0;
	float local_ac;
	float local_a8;
	undefined4 local_a4;
	float local_90;
	float local_8c[0x3];

	iVar7 = 0x0;
	fVar9 = 0.07692308;
	fVar11 = -0.50000000;
	fVar10 = 0.07692308;
	fVar8 = -1.00000000;
	while (true) {
		local_8c[0] = FUN_00290d38(fVar10, (int)param_1);
		fVar10 = fVar10 - fVar9;
		if (fVar8 < local_8c[0]) {
			local_90 = fVar10;
			if (1.00000000 < local_8c[0] * param_1[0x20]) {
				return 0x1;
			}
		}
		else {
			fVar9 = fVar9 * fVar11;
			local_8c[0] = fVar8;
		}
		iVar7 += 0x1;
		if (0xb < iVar7) break;
		fVar10 = fVar10 + fVar9;
		fVar8 = local_8c[0];
	}
	local_8c[0] = -local_8c[0];
	fVar8 = 0.00005000;
	local_c0 = 0.00000000;
	fStack188 = 0.00005000;
	local_b8 = 0.00005000;
	local_b4 = 0.00000000;
	local_b0 = 1.00000000;
	FUN_0018f3d0(&local_c0, param_1, 0x2924e0, &local_90, local_8c, 0x0);
	fVar11 = -local_8c[0];
	fVar9 = fVar11 * param_1[0x20];
	uVar3 = 0x1;
	if (fVar9 <= 1.00000000) {
		if (param_6 == 0x0) {
			fVar8 = 1.00000000 / SQRT(fVar9 - fVar9 * fVar8);
			local_ac = param_5[0xd] - param_4[0xd];
			local_a8 = param_5[0xe] - param_4[0xe];
			local_b0 = param_5[0xc] - param_4[0xc];
			((Vector4 *)param_2)->x = local_b0 * fVar8;
			((Vector4 *)param_2)->y = local_ac * fVar8;
			((Vector4 *)param_2)->z = local_a8 * fVar8;
			((Vector4 *)param_2)->w = 1.00000000;
			uVar5 = *(undefined8 *)(param_1 + 0x28);
			local_b8 = param_1[0x2a];
			local_b4 = param_1[0x2b];
		}
		else {
			fStack188 = 1.00000000 / SQRT(fVar11);
			local_c0 = param_1[0x24] * fStack188;
			local_b8 = param_1[0x26] * fStack188;
			local_b4 = 1.00000000;
			fStack188 = param_1[0x25] * fStack188;
			((Vector4 *)param_2)->x = local_c0;
			((Vector4 *)param_2)->y = fStack188;
			((Vector4 *)param_2)->z = local_b8;
			((Vector4 *)param_2)->w = 1.00000000;
			MovePositionFromPos2ToPos1((Vector4 *)param_2, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
			((Vector4 *)param_2)->w = 1.00000000;
			iVar7 = 0x2;
			pfVar4 = param_4;
			pfVar6 = param_1;
			do {
				local_b0 = *pfVar4;
				iVar7 += -0x1;
				pfVar1 = pfVar4 + 0x1;
				pfVar2 = pfVar4 + 0x2;
				local_ac = *pfVar6;
				pfVar4 = pfVar4 + 0x4;
				pfVar6 = pfVar6 + 0x1;
				local_ac = local_ac * (local_c0 * local_b0 + fStack188 * *pfVar1 + local_b8 * *pfVar2);
				local_a8 = *pfVar2 * local_ac;
				local_b0 = local_b0 * local_ac;
				local_ac = *pfVar1 * local_ac;
				((Vector4 *)param_2)->z = ((Vector4 *)param_2)->z + local_a8;
				((Vector4 *)param_2)->x = ((Vector4 *)param_2)->x + local_b0;
				((Vector4 *)param_2)->y = ((Vector4 *)param_2)->y + local_ac;
			} while (-0x1 < iVar7);
			uVar5 = *(undefined8 *)(param_1 + 0x28);
			local_b8 = param_1[0x2a];
			local_b4 = param_1[0x2b];
		}
		local_a4 = 0x3f800000;
		local_c0 = (float)uVar5;
		fStack188 = (float)((ulong)uVar5 >> 0x20);
		((Vector4 *)param_3)->x = local_c0;
		((Vector4 *)param_3)->y = fStack188;
		((Vector4 *)param_3)->z = local_b8;
		((Vector4 *)param_3)->w = local_b4;
		MovePositionFromPos2ToPos1((Vector4 *)param_3, (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
		((Vector4 *)param_3)->w = 1.00000000;
		iVar7 = 0x2;
		do {
			fVar9 = *param_4;
			iVar7 += -0x1;
			pfVar4 = param_4 + 0x1;
			pfVar6 = param_4 + 0x2;
			fVar8 = *param_1;
			param_4 = param_4 + 0x4;
			param_1 = param_1 + 0x1;
			fVar8 = fVar8 * (local_c0 * fVar9 + fStack188 * *pfVar4 + local_b8 * *pfVar6);
			fVar9 = ((Vector4 *)param_3)->x + fVar9 * fVar8;
			fVar10 = ((Vector4 *)param_3)->y + *pfVar4 * fVar8;
			fVar8 = ((Vector4 *)param_3)->z + *pfVar6 * fVar8;
			((Vector4 *)param_3)->x = fVar9;
			((Vector4 *)param_3)->y = fVar10;
			((Vector4 *)param_3)->z = fVar8;
		} while (-0x1 < iVar7);
		fVar11 = 1.00000000 / SQRT(fVar11);
		((Vector4 *)param_3)->z = fVar8 * fVar11;
		((Vector4 *)param_3)->x = fVar9 * fVar11;
		((Vector4 *)param_3)->y = fVar10 * fVar11;
		uVar3 = 0x0;
	}
	return uVar3;
}



void FUN_002917d0(long param_1, long param_2)

{
	if ((param_2 == 0xffff) && (param_1 != 0x0)) {
		uRam0030aa68 = 0x0;
	}
	return;
}



float FUN_00291800(float *param_1, float *param_2)

{
	float fVar1;

	fVar1 = *param_1 * *param_1 + param_1[0x1] * param_1[0x1] + param_1[0x2] * param_1[0x2];
	*param_2 = fVar1;
	if (fVar1 <= 0.00000000) {
		return 0.00000000;
	}
	return 1.00000000 / SQRT(fVar1);
}



void FUN_002918c0(uint *param_1, undefined8 *param_2)

{
	uint auStack48[0x4];

	FUN_0018ec48((long)(int)(param_1[0x2c] + 0xb0), (undefined4 *)param_2, auStack48);
	FUN_00288950(param_1, param_2, auStack48);
	return;
}



void FUN_00291910(uint param_1, uint *param_2)

{
	uint uVar1;

	param_2[0xc] = param_1;
	uVar1 = param_2[0x2c];
	*param_2 = *param_2 | 0x100;
	param_2[0x18] = *(uint *)(uVar1 + 0x80);
	param_2[0x19] = *(uint *)(uVar1 + 0x84);
	param_2[0x1a] = *(uint *)(uVar1 + 0x88);
	param_2[0x1b] = *(uint *)(uVar1 + 0x8c);
	return;
}



void FUN_00291960(uint *param_1)

{
	FUN_00291980(param_1, (undefined8 *)(param_1[0x2c] + 0xe0));
	return;
}



void FUN_00291980(uint *param_1, undefined8 *param_2)

{
	undefined8 uVar1;
	uint uVar2;
	uint uVar3;

	*param_1 = *param_1 & 0xffffff8f | 0x10;
	uVar1 = *param_2;
	uVar2 = *(uint *)(param_2 + 0x1);
	uVar3 = *(uint *)((int)param_2 + 0xc);
	param_1[0x1c] = (uint)uVar1;
	param_1[0x1d] = (uint)((ulong)uVar1 >> 0x20);
	param_1[0x1e] = uVar2;
	param_1[0x1f] = uVar3;
	return;
}



void FUN_002919a0(uint *param_1, undefined8 *param_2)

{
	undefined8 uVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	float fVar6;

	uVar5 = param_1[0x2c];
	*param_1 = *param_1 & 0xffffff8f | 0x20;
	uVar2 = *(uint *)(uVar5 + 0xe4);
	uVar3 = *(uint *)(uVar5 + 0xe8);
	uVar4 = *(uint *)(uVar5 + 0xec);
	param_1[0x20] = *(uint *)(uVar5 + 0xe0);
	param_1[0x21] = uVar2;
	param_1[0x22] = uVar3;
	param_1[0x23] = uVar4;
	uVar1 = *param_2;
	uVar5 = *(uint *)(param_2 + 0x1);
	uVar2 = *(uint *)((int)param_2 + 0xc);
	param_1[0x24] = (uint)uVar1;
	param_1[0x25] = (uint)((ulong)uVar1 >> 0x20);
	param_1[0x26] = uVar5;
	param_1[0x27] = uVar2;
	fVar6 = RSQRT(0.00000000, (Vector4 *)(param_1 + 0x24));
	*(float *)(param_1 + 0x24) = (float)param_1[0x24] * fVar6;
	*(float *)(param_1 + 0x25) = (float)param_1[0x25] * fVar6;
	*(float *)(param_1 + 0x26) = (float)param_1[0x26] * fVar6;
	return;
}



void FUN_00291a38(uint *param_1, float *param_2)

{
	undefined8 auStack32[0x2];

	FUN_0018d908((float *)auStack32, param_2, (float *)(param_1[0x2c] + 0xe0));
	FUN_00291a78(param_1, auStack32);
	return;
}



void FUN_00291a78(uint *param_1, undefined8 *param_2)

{
	undefined8 uVar1;
	uint uVar2;
	uint uVar3;

	*param_1 = *param_1 & 0xffffff8f | 0x40;
	uVar1 = *param_2;
	uVar2 = *(uint *)(param_2 + 0x1);
	uVar3 = *(uint *)((int)param_2 + 0xc);
	param_1[0x28] = (uint)uVar1;
	param_1[0x29] = (uint)((ulong)uVar1 >> 0x20);
	param_1[0x2a] = uVar2;
	param_1[0x2b] = uVar3;
	return;
}



void FUN_00291ab0(ulong param_1, ulong param_2)

{
	((GameNode *)param_1)->methods = DAT(0x00305608);
	DestroyNode_((GameNode *)param_1, param_2);
	return;
}



Vector4 * FUN_00291ad8(int param_1)

{
	Vector4 *pVVar1;
	undefined4 uVar2;

	*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) | 0x8;
	uVar2 = *(undefined4 *)(param_1 + 0x7c);
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x70), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x7c) = uVar2;
	uVar2 = *(undefined4 *)(param_1 + 0x9c);
	pVVar1 = MovePositionFromPos2ToPos1
	((Vector4 *)(param_1 + 0x90), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x9c) = uVar2;
	*(undefined4 *)(param_1 + 0xa0) = 0x0;
	return pVVar1;
}



void FUN_00291b60(int *param_1)

{
	GameNode *pGVar1;
	long lVar2;

	if ((param_1[0x6] >> 0x3 & 0x1U) != 0x0) {
		param_1[0x6] = param_1[0x6] & 0xfffffff7;
		if (*(char *)(*param_1 + 0x5) < '\0') {
			pGVar1 = GetGameNode((NodeList *)(*param_1 + 0xd4), 0x1);
			lVar2 = (**(code **)(pGVar1->methods + 0x7c))
				((int)&pGVar1->ChunkNode + (int)*(short *)(pGVar1->methods + 0x78));
			if (lVar2 != 0x0) {
				FUN_0023a290((int **)pGVar1[0xb].ChunkNode);
			}
		}
		FUN_00291c40((int)param_1);
	}
	return;
}



void FUN_00291bf0(int param_1)

{
	undefined4 local_20;
	undefined4 local_1c;
	undefined4 local_18;
	undefined4 local_14;

	local_14 = 0x3f800000;
	local_20 = 0x0;
	local_1c = 0x0;
	local_18 = 0x0;
	FUN_00289d80(param_1, &local_20);
	FUN_00291e28(param_1, &local_20);
	return;
}



Vector4 * FUN_00291c40(int param_1)

{
	Vector4 *pVVar1;

	FUN_00289368(param_1);
	MovePositionFromPos2ToPos1((Vector4 *)(param_1 + 0x1c0), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x1cc) = 0x3f800000;
	pVVar1 = MovePositionFromPos2ToPos1
	((Vector4 *)(param_1 + 0x1d0), (Vector4 *)&GlobalQuaternion_x0_y0_z0_w1);
	*(undefined4 *)(param_1 + 0x1dc) = 0x3f800000;
	return pVVar1;
}



void FUN_00291cb8(int param_1, undefined4 *param_2)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	undefined4 auStack80[0x10];

	uVar1 = param_2[0xd];
	uVar2 = param_2[0xe];
	uVar3 = param_2[0xf];
	*(undefined4 *)(param_1 + 0xe0) = param_2[0xc];
	*(undefined4 *)(param_1 + 0xe4) = uVar1;
	*(undefined4 *)(param_1 + 0xe8) = uVar2;
	*(undefined4 *)(param_1 + 0xec) = uVar3;
	FUN_0018c588(param_2, 0x3, auStack80);
	FUN_00187090((Vector4 *)(param_1 + 0x80), (TransformedGeometyPoint *)auStack80);
	*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) | 0x3;
	return;
}



void FUN_00291d08(int param_1, undefined4 *param_2)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;

	uVar1 = param_2[0x1];
	uVar2 = param_2[0x2];
	uVar3 = param_2[0x3];
	*(undefined4 *)(param_1 + 0xe0) = *param_2;
	*(undefined4 *)(param_1 + 0xe4) = uVar1;
	*(undefined4 *)(param_1 + 0xe8) = uVar2;
	*(undefined4 *)(param_1 + 0xec) = uVar3;
	*(undefined4 *)(param_1 + 0xf0) = *(undefined4 *)(param_1 + 0xb0);
	*(undefined4 *)(param_1 + 0xf4) = *(undefined4 *)(param_1 + 0xb4);
	*(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xb8);
	*(undefined4 *)(param_1 + 0xfc) = *(undefined4 *)(param_1 + 0xbc);
	*(undefined4 *)(param_1 + 0x100) = *(undefined4 *)(param_1 + 0xc0);
	*(undefined4 *)(param_1 + 0x104) = *(undefined4 *)(param_1 + 0xc4);
	*(undefined4 *)(param_1 + 0x108) = *(undefined4 *)(param_1 + 0xc8);
	*(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0xcc);
	*(undefined4 *)(param_1 + 0x110) = *(undefined4 *)(param_1 + 0xd0);
	*(undefined4 *)(param_1 + 0x114) = *(undefined4 *)(param_1 + 0xd4);
	*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0xd8);
	*(undefined4 *)(param_1 + 0x11c) = *(undefined4 *)(param_1 + 0xdc);
	*(undefined4 *)(param_1 + 0x120) = *(undefined4 *)(param_1 + 0xe0);
	*(undefined4 *)(param_1 + 0x124) = *(undefined4 *)(param_1 + 0xe4);
	*(undefined4 *)(param_1 + 0x128) = *(undefined4 *)(param_1 + 0xe8);
	*(undefined4 *)(param_1 + 0x12c) = *(undefined4 *)(param_1 + 0xec);
	FUN_0018ef98((Matrix4x4 *)(param_1 + 0xf0));
	return;
}



void FUN_00291d58(int param_1, float *param_2)

{
	*(float *)(param_1 + 0xe0) = *(float *)(param_1 + 0xe0) + *param_2;
	*(float *)(param_1 + 0xe4) = *(float *)(param_1 + 0xe4) + param_2[0x1];
	*(float *)(param_1 + 0xe8) = *(float *)(param_1 + 0xe8) + param_2[0x2];
	*(undefined4 *)(param_1 + 0xf0) = *(undefined4 *)(param_1 + 0xb0);
	*(undefined4 *)(param_1 + 0xf4) = *(undefined4 *)(param_1 + 0xb4);
	*(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xb8);
	*(undefined4 *)(param_1 + 0xfc) = *(undefined4 *)(param_1 + 0xbc);
	*(undefined4 *)(param_1 + 0x100) = *(undefined4 *)(param_1 + 0xc0);
	*(undefined4 *)(param_1 + 0x104) = *(undefined4 *)(param_1 + 0xc4);
	*(undefined4 *)(param_1 + 0x108) = *(undefined4 *)(param_1 + 0xc8);
	*(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0xcc);
	*(undefined4 *)(param_1 + 0x110) = *(undefined4 *)(param_1 + 0xd0);
	*(undefined4 *)(param_1 + 0x114) = *(undefined4 *)(param_1 + 0xd4);
	*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0xd8);
	*(undefined4 *)(param_1 + 0x11c) = *(undefined4 *)(param_1 + 0xdc);
	*(undefined4 *)(param_1 + 0x120) = *(undefined4 *)(param_1 + 0xe0);
	*(undefined4 *)(param_1 + 0x124) = *(undefined4 *)(param_1 + 0xe4);
	*(undefined4 *)(param_1 + 0x128) = *(undefined4 *)(param_1 + 0xe8);
	*(undefined4 *)(param_1 + 0x12c) = *(undefined4 *)(param_1 + 0xec);
	FUN_0018ef98((Matrix4x4 *)(param_1 + 0xf0));
	return;
}



void FUN_00291de0(int param_1, undefined4 *param_2)

{
	undefined4 auStack80[0x10];

	FUN_0018c588(param_2, 0x3, auStack80);
	FUN_00187090((Vector4 *)(param_1 + 0x80), (TransformedGeometyPoint *)auStack80);
	*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) | 0x3;
	return;
}



void FUN_00291e28(int param_1, undefined4 *param_2)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	float fVar4;

	uVar1 = param_2[0x1];
	uVar2 = param_2[0x2];
	uVar3 = param_2[0x3];
	*(undefined4 *)(param_1 + 0x150) = *param_2;
	*(undefined4 *)(param_1 + 0x154) = uVar1;
	*(undefined4 *)(param_1 + 0x158) = uVar2;
	*(undefined4 *)(param_1 + 0x15c) = uVar3;
	fVar4 = *(float *)(param_1 + 0x1c);
	*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) & 0xfffffffe;
	*(float *)(param_1 + 0x70) = *(float *)(param_1 + 0x150) * fVar4;
	*(float *)(param_1 + 0x74) = *(float *)(param_1 + 0x154) * fVar4;
	*(float *)(param_1 + 0x78) = *(float *)(param_1 + 0x158) * fVar4;
	*(undefined4 *)(param_1 + 0x7c) = 0x3f800000;
	FUN_00289368(param_1);
	return;
}



void FUN_00291ea8(int param_1)

{
	*(float *)(param_1 + 0x70) = *(float *)(param_1 + 0x70) * 0.00000000;
	*(float *)(param_1 + 0x74) = *(float *)(param_1 + 0x74) * 0.00000000;
	*(float *)(param_1 + 0x78) = *(float *)(param_1 + 0x78) * 0.00000000;
	*(float *)(param_1 + 0x90) = *(float *)(param_1 + 0x90) * 0.00000000;
	*(float *)(param_1 + 0x94) = *(float *)(param_1 + 0x94) * 0.00000000;
	*(float *)(param_1 + 0x98) = *(float *)(param_1 + 0x98) * 0.00000000;
	*(uint *)(param_1 + 0x18) = *(uint *)(param_1 + 0x18) | 0x1;
	return;
}



void FUN_00291f38(float param_1, float param_2, int *param_3)

{
	TransformedGeometyPoint *pTVar1;
	undefined8 uVar2;
	float fVar3;
	float local_40;
	undefined4 uStack60;
	float fStack56;
	float fStack52;

	fVar3 = 1.00000000 - param_1 * param_2 * 60.00000000;
	if (fVar3 < 0.00000000) {
		fVar3 = 0.00000000;
	}
	pTVar1 = *(TransformedGeometyPoint **)(*param_3 + 0x8);
	RotateAndTranslate_(pTVar1);
	uVar2 = *(undefined8 *)&(pTVar1->transformMatrix).xComponents;
	fStack56 = (pTVar1->transformMatrix).xComponents.z;
	fStack52 = (pTVar1->transformMatrix).xComponents.w;
	local_40 = (float)uVar2;
	uStack60 = (undefined4)((ulong)uVar2 >> 0x20);
	FUN_0018e310(fVar3, (float *)(param_3 + 0x1c), &local_40, 0x1);
	param_3[0x6] = param_3[0x6] | 0x1;
	return;
}



void FUN_00291fd0(float param_1, float param_2, int *param_3)

{
	TransformedGeometyPoint *pTVar1;
	float fVar2;
	float local_40;
	float fStack60;
	float fStack56;
	float fStack52;

	fVar2 = 1.00000000 - param_1 * param_2 * 60.00000000;
	if (fVar2 < 0.00000000) {
		fVar2 = 0.00000000;
	}
	pTVar1 = *(TransformedGeometyPoint **)(*param_3 + 0x8);
	RotateAndTranslate_(pTVar1);
	local_40 = (pTVar1->transformMatrix).yComponents.x;
	fStack60 = (pTVar1->transformMatrix).yComponents.y;
	fStack56 = (pTVar1->transformMatrix).yComponents.z;
	fStack52 = (pTVar1->transformMatrix).yComponents.w;
	FUN_0018e310(fVar2, (float *)(param_3 + 0x1c), &local_40, 0x1);
	param_3[0x6] = param_3[0x6] | 0x1;
	return;
}



void FUN_00292068(float param_1, float param_2, int *param_3)

{
	TransformedGeometyPoint *pTVar1;
	float fVar2;
	float local_40;
	float fStack60;
	float fStack56;
	float fStack52;

	fVar2 = 1.00000000 - param_1 * param_2 * 60.00000000;
	if (fVar2 < 0.00000000) {
		fVar2 = 0.00000000;
	}
	pTVar1 = *(TransformedGeometyPoint **)(*param_3 + 0x8);
	RotateAndTranslate_(pTVar1);
	local_40 = (pTVar1->transformMatrix).zComponents.x;
	fStack60 = (pTVar1->transformMatrix).zComponents.y;
	fStack56 = (pTVar1->transformMatrix).zComponents.z;
	fStack52 = (pTVar1->transformMatrix).zComponents.w;
	FUN_0018e310(fVar2, (float *)(param_3 + 0x1c), &local_40, 0x1);
	param_3[0x6] = param_3[0x6] | 0x1;
	return;
}



void FUN_00292108(int param_1, undefined4 *param_2, float *param_3)

{
	float local_60;
	float local_5c;
	float local_58;
	float local_50;
	float local_4c;
	float local_48;
	float local_40;
	float local_3c;
	float local_38;
	undefined4 local_34;
	float local_30;
	float local_2c;
	float local_28;

	FUN_0018ec48((long)(param_1 + 0xf0), param_2, &local_60);
	FUN_00289368(param_1);
	FUN_0018ec48((long)(param_1 + 0xb0), &local_60, &local_50);
	*(float *)(param_1 + 0x1c0) = *(float *)(param_1 + 0x1c0) + local_50;
	*(float *)(param_1 + 0x1c4) = *(float *)(param_1 + 0x1c4) + local_4c;
	*(float *)(param_1 + 0x1c8) = *(float *)(param_1 + 0x1c8) + local_48;
	local_3c = local_58 * *param_3 - local_60 * param_3[0x2];
	local_40 = local_5c * param_3[0x2] - local_58 * param_3[0x1];
	local_38 = local_60 * param_3[0x1] - local_5c * *param_3;
	local_34 = 0x3f800000;
	FUN_0018ec48((long)(param_1 + 0xb0), &local_40, &local_30);
	*(float *)(param_1 + 0x1d0) = *(float *)(param_1 + 0x1d0) + local_30;
	*(float *)(param_1 + 0x1d4) = *(float *)(param_1 + 0x1d4) + local_2c;
	*(float *)(param_1 + 0x1d8) = *(float *)(param_1 + 0x1d8) + local_28;
	return;
}



void FUN_00292240(int *param_1, int param_2)

{
	param_1[0xb9] = param_2;
	SetChunkNodeIfNone((GameNode *)param_1, (ChunkNode *)param_2);
	return;
}



int FUN_002922a0(int param_1)

{
	void *pvVar1;
	int iVar2;
	undefined8 uVar3;

	iVar2 = *(int *)(param_1 + 0x300);
	if (iVar2 == 0x0) {
		pvVar1 = MemoryAllocate(0x50);
		uVar3 = FUN_00292f28((long)(int)pvVar1, *(undefined4 *)(param_1 + 0x2e4), 0x50);
		*(undefined4 *)(param_1 + 0x300) = (int)uVar3;
		iVar2 = *(int *)(param_1 + 0x300);
	}
	return iVar2;
}



void FUN_00292378(undefined4 param_1, int param_2)

{
	*(undefined4 *)(param_2 + 0x308) = param_1;
	return;
}



void FUN_00292380(float param_1, int param_2)

{
	*(float *)(param_2 + 0x30c) = param_1 * param_1;
	return;
}



void FUN_00292390(undefined4 param_1, int param_2)

{
	*(undefined4 *)(param_2 + 0x310) = param_1;
	return;
}



void FUN_00292398(undefined4 param_1, undefined4 param_2, int param_3)

{
	*(undefined4 *)(param_3 + 0x318) = param_2;
	*(undefined4 *)(param_3 + 0x314) = param_1;
	return;
}



void FUN_002923b8(int param_1, float *param_2)

{
	float fVar1;
	float fVar2;
	float fVar3;
	float fVar4;

	fVar1 = *param_2;
	fVar2 = param_2[0x1];
	fVar3 = param_2[0x2];
	fVar4 = param_2[0x3];
	*(undefined4 *)(param_1 + 0xf0) = *(undefined4 *)(param_1 + 0xb0);
	*(undefined4 *)(param_1 + 0xf4) = *(undefined4 *)(param_1 + 0xb4);
	*(undefined4 *)(param_1 + 0xf8) = *(undefined4 *)(param_1 + 0xb8);
	*(undefined4 *)(param_1 + 0xfc) = *(undefined4 *)(param_1 + 0xbc);
	*(float *)(param_1 + 0xe0) = fVar1 + *(float *)(param_1 + 0x2f0);
	*(float *)(param_1 + 0xe4) = fVar2 + *(float *)(param_1 + 0x2f4);
	*(float *)(param_1 + 0xe8) = fVar3 + *(float *)(param_1 + 0x2f8);
	*(float *)(param_1 + 0xec) = fVar4;
	*(undefined4 *)(param_1 + 0x100) = *(undefined4 *)(param_1 + 0xc0);
	*(undefined4 *)(param_1 + 0x104) = *(undefined4 *)(param_1 + 0xc4);
	*(undefined4 *)(param_1 + 0x108) = *(undefined4 *)(param_1 + 0xc8);
	*(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0xcc);
	*(undefined4 *)(param_1 + 0x110) = *(undefined4 *)(param_1 + 0xd0);
	*(undefined4 *)(param_1 + 0x114) = *(undefined4 *)(param_1 + 0xd4);
	*(undefined4 *)(param_1 + 0x118) = *(undefined4 *)(param_1 + 0xd8);
	*(undefined4 *)(param_1 + 0x11c) = *(undefined4 *)(param_1 + 0xdc);
	*(undefined4 *)(param_1 + 0x120) = *(undefined4 *)(param_1 + 0xe0);
	*(undefined4 *)(param_1 + 0x124) = *(undefined4 *)(param_1 + 0xe4);
	*(undefined4 *)(param_1 + 0x128) = *(undefined4 *)(param_1 + 0xe8);
	*(undefined4 *)(param_1 + 0x12c) = *(undefined4 *)(param_1 + 0xec);
	FUN_0018ef98((Matrix4x4 *)(param_1 + 0xf0));
	return;
}



void FUN_00292468(int param_1, undefined4 param_2)

{
	void *pvVar1;
	int iVar2;
	undefined8 uVar3;

	iVar2 = *(int *)(param_1 + 0x300);
	if (iVar2 == 0x0) {
		pvVar1 = MemoryAllocate(0x50);
		uVar3 = FUN_00292f28((long)(int)pvVar1, *(undefined4 *)(param_1 + 0x2e4), 0x50);
		*(undefined4 *)(param_1 + 0x300) = (int)uVar3;
		iVar2 = *(int *)(param_1 + 0x300);
	}
	*(undefined4 *)(iVar2 + 0x34) = param_2;
	return;
}



float FUN_002924e0(float param_1, int param_2)

{
	float fVar1;

	fVar1 = FUN_00290d38(param_1, param_2);
	return -fVar1;
}



void FUN_00292500(int param_1)

{
	undefined *puVar1;
	int iVar2;
	uint uVar3;
	int iVar4;
	float *pfVar5;
	int *piVar6;
	int iVar7;
	undefined8 local_10;
	undefined4 local_8;

	piVar6 = (int *)&local_10;
	puVar1 = &local_10 + 0x7;
	uVar3 = (uint)puVar1 & 0x7;
	*(ulong *)(puVar1 + -uVar3) =
		*(ulong *)(puVar1 + -uVar3) & -0x1 << (uVar3 + 0x1) * 0x8 |
		0x200000001U >> (0x7 - uVar3) * 0x8;
	local_10 = 0x200000001;
	local_8 = 0x0;
	pfVar5 = (float *)(param_1 + 0x6c);
	iVar7 = 0x2;
	do {
		iVar4 = *piVar6;
		iVar7 += -0x1;
		piVar6 = piVar6 + 0x1;
		iVar4 *= 0x4;
		iVar2 = *(int *)(&local_10 + iVar4);
		pfVar5[-0x3] = *(float *)(param_1 + 0xc + iVar4) * *(float *)(param_1 + 0xc + iVar2 * 0x4);
		*pfVar5 = *(float *)(param_1 + 0x48 + iVar4) * *(float *)(param_1 + 0x48 + iVar2 * 0x4);
		pfVar5 = pfVar5 + 0x1;
	} while (-0x1 < iVar7);
	return;
}



void FUN_00292598(int param_1, float *param_2, float *param_3)

{
	float *pfVar1;
	float *pfVar2;
	float *pfVar3;
	int iVar4;
	float *pfVar5;
	int iVar6;
	float *pfVar7;
	float *pfVar8;
	float fVar9;
	float fVar10;
	undefined local_170;
	undefined7 uStack367;
	undefined4 uStack360;
	undefined4 uStack356;
	undefined4 local_160;
	undefined4 uStack348;
	undefined4 uStack344;
	undefined4 uStack340;
	undefined4 local_150;
	undefined4 uStack332;
	undefined4 uStack328;
	undefined4 uStack324;
	undefined4 local_140;
	undefined4 uStack316;
	undefined4 uStack312;
	undefined4 uStack308;
	float local_130;
	undefined4 uStack300;
	undefined4 uStack296;
	undefined4 uStack292;
	undefined4 local_120;
	undefined4 uStack284;
	undefined4 uStack280;
	undefined4 uStack276;
	undefined4 local_110;
	undefined4 uStack268;
	undefined4 uStack264;
	undefined4 uStack260;
	undefined4 local_100;
	undefined4 uStack252;
	undefined4 uStack248;
	undefined4 uStack244;
	float local_f0;
	undefined4 uStack236;
	undefined4 uStack232;
	undefined4 uStack228;
	undefined4 local_e0;
	undefined4 uStack220;
	undefined4 uStack216;
	undefined4 uStack212;
	undefined4 local_d0;
	undefined4 uStack204;
	undefined4 uStack200;
	undefined4 uStack196;
	undefined4 local_c0;
	undefined4 uStack188;
	undefined4 uStack184;
	undefined4 uStack180;
	float *local_b0;
	int local_ac;
	float *local_a8;
	int local_a4;
	int local_a0;
	float *local_9c;
	float *local_98;
	int local_94;
	float *local_90;
	float *local_8c;
	float *local_88;
	float *local_84;
	int local_80;
	int local_7c;
	int local_78;
	float *local_74;
	float *local_70;
	int local_6c;
	int local_68;
	int local_64;
	float *local_60;
	int local_5c;
	int local_58;

	local_94 = param_1 + 0xb0;
	local_78 = param_1 + 0x48;
	local_80 = param_1 + 0x24;
	local_6c = param_1 + 0x6c;
	local_70 = (float *)(param_1 + 0x60);
	local_74 = (float *)(param_1 + 0x150);
	local_60 = (float *)(param_1 + 0x100);
	*(undefined4 *)(param_1 + 0x140) = 0x0;
	*(undefined4 *)(param_1 + 0xf0) = 0x0;
	*(undefined4 *)(param_1 + 0x10c) = 0x0;
	*(undefined4 *)(param_1 + 0x108) = 0x0;
	*(undefined4 *)(param_1 + 0x104) = 0x0;
	*(undefined4 *)(param_1 + 0x100) = 0x0;
	*(undefined4 *)(param_1 + 0x11c) = 0x0;
	*(undefined4 *)(param_1 + 0x118) = 0x0;
	local_ac = 0x0;
	local_9c = &local_130;
	*(undefined4 *)(param_1 + 0x114) = 0x0;
	*(undefined4 *)(param_1 + 0x110) = 0x0;
	*(undefined4 *)(param_1 + 0x12c) = 0x0;
	*(undefined4 *)(param_1 + 0x128) = 0x0;
	*(undefined4 *)(param_1 + 0x124) = 0x0;
	*(undefined4 *)(param_1 + 0x120) = 0x0;
	*(undefined4 *)(param_1 + 0x138) = 0x0;
	*(undefined4 *)(param_1 + 0x134) = 0x0;
	*(undefined4 *)(param_1 + 0x130) = 0x0;
	*(undefined4 *)(param_1 + 0x13c) = 0x3f800000;
	*(undefined4 *)(param_1 + 0x15c) = 0x0;
	*(undefined4 *)(param_1 + 0x158) = 0x0;
	*(undefined4 *)(param_1 + 0x154) = 0x0;
	*(undefined4 *)(param_1 + 0x150) = 0x0;
	*(undefined4 *)(param_1 + 0x180) = 0x0;
	*(undefined4 *)(param_1 + 0x16c) = 0x0;
	*(undefined4 *)(param_1 + 0x168) = 0x0;
	*(undefined4 *)(param_1 + 0x164) = 0x0;
	*(undefined4 *)(param_1 + 0x160) = 0x0;
	*(undefined4 *)(param_1 + 0x17c) = 0x0;
	*(undefined4 *)(param_1 + 0x178) = 0x0;
	*(undefined4 *)(param_1 + 0x174) = 0x0;
	*(undefined4 *)(param_1 + 0x170) = 0x0;
	*(undefined4 *)(param_1 + 0x188) = 0x0;
	*(undefined4 *)(param_1 + 0x184) = 0x0;
	*(undefined4 *)(param_1 + 0x18c) = 0x3f800000;
	pfVar3 = param_2;
	do {
		iVar4 = 0x2;
		pfVar2 = (float *)(local_94 + local_ac * 0x10);
		pfVar1 = param_3;
		do {
			fVar9 = *pfVar1;
			iVar4 += -0x1;
			pfVar5 = pfVar1 + 0x1;
			pfVar7 = pfVar1 + 0x2;
			pfVar1 = pfVar1 + 0x4;
			*pfVar2 = *pfVar3 * fVar9 + pfVar3[0x1] * *pfVar5 + pfVar3[0x2] * *pfVar7;
			pfVar2 = pfVar2 + 0x1;
		} while (-0x1 < iVar4);
		pfVar3 = pfVar3 + 0x4;
		local_ac += 0x1;
	} while ((int)pfVar3 < (int)(param_2 + 0xc));
	local_ac = 0x0;
	local_b0 = param_2;
	local_7c = local_94;
	do {
		local_58 = local_ac * 0x10;
		local_a8 = local_b0 + local_ac * 0x4;
		local_a4 = local_7c + local_58;
		local_a0 = local_ac * 0x4;
		local_98 = local_70 + local_ac;
		local_68 = local_ac + 0x1;
		iVar4 = 0x0;
		local_5c = local_a0;
		do {
			iVar6 = iVar4 * 0x4;
			FUN_0018d728((float *)&local_170, local_a8, local_a8);
			pfVar1 = (float *)(local_6c + iVar6);
			pfVar3 = (float *)(local_a4 + iVar6);
			fVar9 = *pfVar3;
			fVar9 = *(float *)(local_78 + iVar6) * *(float *)(local_80 + local_a0) * fVar9 * fVar9;
			local_130 = (float)CONCAT71(uStack367, local_170);
			uStack300 = (undefined4)((uint7)uStack367 >> 0x18);
			uStack296 = uStack360;
			uStack292 = uStack356;
			local_120 = local_160;
			uStack284 = uStack348;
			uStack280 = uStack344;
			uStack276 = uStack340;
			local_110 = local_150;
			uStack268 = uStack332;
			uStack264 = uStack328;
			uStack260 = uStack324;
			local_100 = local_140;
			uStack252 = uStack316;
			uStack248 = uStack312;
			uStack244 = uStack308;
			*(float *)(param_1 + 0xf0) = *(float *)(param_1 + 0xf0) + fVar9;
			local_64 = iVar4 + 0x1;
			FUN_0018d530(fVar9, local_9c);
			FUN_0018d490(local_60, local_9c);
			fVar9 = *local_98 * *pfVar3;
			fVar9 = *pfVar1 * fVar9 * fVar9;
			local_130 = (float)CONCAT71(uStack367, local_170);
			uStack300 = (undefined4)((uint7)uStack367 >> 0x18);
			uStack296 = uStack360;
			uStack292 = uStack356;
			local_100 = local_140;
			uStack252 = uStack316;
			uStack248 = uStack312;
			uStack244 = uStack308;
			local_120 = local_160;
			uStack284 = uStack348;
			uStack280 = uStack344;
			uStack276 = uStack340;
			local_110 = local_150;
			uStack268 = uStack332;
			uStack264 = uStack328;
			uStack260 = uStack324;
			*(float *)(param_1 + 0x140) = *(float *)(param_1 + 0x140) + fVar9;
			FUN_0018d530(fVar9, local_9c);
			FUN_0018d490(local_74, local_9c);
			iVar4 = local_58;
			if (0x0 < local_ac) {
				local_90 = (float *)(param_1 + 0x30 + iVar6);
				pfVar7 = (float *)(param_1 + 0xc);
				pfVar8 = (float *)(local_94 + local_58 + iVar6);
				local_8c = (float *)((int)pfVar7 + local_5c);
				pfVar5 = (float *)(local_94 + iVar6);
				local_84 = (float *)((int)local_70 + local_5c);
				pfVar3 = local_70;
				pfVar2 = local_b0;
				iVar6 = local_ac;
				local_88 = pfVar1;
				do {
					iVar6 += -0x1;
					FUN_0018d728((float *)&local_170, (float *)((int)local_b0 + iVar4), pfVar2);
					local_e0 = local_160;
					uStack220 = uStack348;
					uStack216 = uStack344;
					uStack212 = uStack340;
					local_d0 = local_150;
					uStack204 = uStack332;
					uStack200 = uStack328;
					uStack196 = uStack324;
					local_c0 = local_140;
					uStack188 = uStack316;
					uStack184 = uStack312;
					uStack180 = uStack308;
					local_f0 = (float)CONCAT71(uStack367, local_170);
					uStack236 = (undefined4)((uint7)uStack367 >> 0x18);
					uStack232 = uStack360;
					uStack228 = uStack356;
					FUN_0018c510((int)&local_f0, 0x3);
					FUN_0018d490((float *)&local_170, &local_f0);
					fVar9 = *pfVar7;
					pfVar7 = pfVar7 + 0x1;
					local_f0 = (float)CONCAT71(uStack367, local_170);
					uStack236 = (undefined4)((uint7)uStack367 >> 0x18);
					uStack232 = uStack360;
					uStack228 = uStack356;
					local_e0 = local_160;
					uStack220 = uStack348;
					uStack216 = uStack344;
					uStack212 = uStack340;
					local_d0 = local_150;
					uStack204 = uStack332;
					uStack200 = uStack328;
					uStack196 = uStack324;
					local_c0 = local_140;
					uStack188 = uStack316;
					uStack184 = uStack312;
					uStack180 = uStack308;
					FUN_0018d530(*local_90 * *local_8c * fVar9 * *pfVar8 * *pfVar5, &local_f0);
					FUN_0018d490(local_60, &local_f0);
					fVar9 = *pfVar3;
					fVar10 = *pfVar5;
					pfVar3 = pfVar3 + 0x1;
					pfVar5 = pfVar5 + 0x4;
					local_c0 = local_140;
					uStack188 = uStack316;
					uStack184 = uStack312;
					uStack180 = uStack308;
					local_f0 = (float)CONCAT71(uStack367, local_170);
					uStack236 = (undefined4)((uint7)uStack367 >> 0x18);
					uStack232 = uStack360;
					uStack228 = uStack356;
					local_e0 = local_160;
					uStack220 = uStack348;
					uStack216 = uStack344;
					uStack212 = uStack340;
					local_d0 = local_150;
					uStack204 = uStack332;
					uStack200 = uStack328;
					uStack196 = uStack324;
					FUN_0018d530(*local_88 * *local_84 * fVar9 * *pfVar8 * fVar10, &local_f0);
					FUN_0018d490(local_74, &local_f0);
					pfVar2 = pfVar2 + 0x4;
				} while (iVar6 != 0x0);
			}
			iVar4 = local_64;
		} while (local_64 < 0x3);
		local_ac = local_68;
	} while (local_68 < 0x3);
	FUN_0018d4e8(-*(float *)(param_1 + 0xf0), local_60, 0x0);
	return;
}



void FUN_00292a68(ulong param_1, ulong param_2)

{
	int *piVar1;
	GameNode *pGVar2;

	piVar1 = UnkStruct_0x14_HasSomeDataPTRs;
	pGVar2 = (GameNode *)param_1;
	pGVar2->methods = DAT(0x00305570);
	FUN_00292e90(piVar1, (int *)pGVar2);
	if ((long)(int)pGVar2[0x20].ChunkNode != 0x0) {
		FUN_00292f70((long)(int)pGVar2[0x20].ChunkNode, 0x3);
	}
	pGVar2->methods = DAT(0x00305608);
	DestroyNode_(pGVar2, param_2);
	return;
}



int FUN_00292ae0(ulong param_1, ulong param_2)

{
	char cVar1;
	int iVar2;
	long lVar3;
	int *piVar4;
	int *piVar5;

	piVar4 = (int *)param_2;
	lVar3 = (**(code **)(piVar4[0x5] + 0x7c))((int)piVar4 + (int)*(short *)(piVar4[0x5] + 0x78));
	piVar5 = (int *)param_1;
	if (lVar3 == 0x0) {
		if (((piVar4[0x6] >> 0x3 & 0x1U) != 0x0) || (iVar2 = 0x0, param_1 <= param_2)) {
			iVar2 = FUN_0028edb0(piVar5, piVar4);
		}
	}
	else {
		if ((piVar4[0x6] >> 0x3 & 0x1U) == 0x0) {
			if (param_2 < param_1) {
				return 0x0;
			}
			cVar1 = *(char *)(piVar5 + 0xe4);
		}
		else {
			cVar1 = *(char *)(piVar5 + 0xe4);
		}
		if ((cVar1 == '\0') && (*(char *)(piVar4 + 0xe4) == '\0')) {
			iVar2 = FUN_0028e798(piVar5, piVar4);
		}
		else {
			iVar2 = FUN_0028ea70(piVar5, piVar4);
		}
	}
	return iVar2;
}



void FUN_00292ba0(float param_1, float param_2, float param_3, int param_4)

{
	float fVar1;

	*(undefined *)(param_4 + 0x390) = 0x1;
	*(float *)(param_4 + 0x380) = param_1;
	if (param_1 < param_2) {
		*(float *)(param_4 + 0x380) = param_2;
	}
	*(float *)(param_4 + 0x380) = param_3;
	fVar1 = *(float *)(param_4 + 0x380);
	*(float *)(param_4 + 0x38c) = param_3 / fVar1;
	*(float *)(param_4 + 0x384) = param_1 / fVar1;
	*(float *)(param_4 + 0x388) = param_2 / fVar1;
	return;
}



void FUN_00292d08(int param_1, undefined8 *param_2)

{
	FUN_0028bf48(param_1, param_2);
	FUN_0028f590(param_1, (int **)(*(int *)(param_1 + 0x2e4) + 0x10));
	return;
}



int FUN_00292d40(ulong param_1, ulong param_2)

{
	int iVar1;
	long lVar2;
	int *piVar3;

	piVar3 = (int *)param_2;
	lVar2 = (**(code **)(piVar3[0x5] + 0x7c))((int)piVar3 + (int)*(short *)(piVar3[0x5] + 0x78));
	if (lVar2 == 0x0) {
		if (((piVar3[0x6] >> 0x3 & 0x1U) != 0x0) || (iVar1 = 0x0, param_1 <= param_2)) {
			iVar1 = FUN_00290320((int *)param_1, piVar3);
		}
	}
	else {
		if (((piVar3[0x6] >> 0x3 & 0x1U) != 0x0) || (iVar1 = 0x0, param_1 <= param_2)) {
			iVar1 = FUN_0028edb0(piVar3, (int *)param_1);
		}
	}
	return iVar1;
}



undefined4 FUN_00292de0(int param_1, float *param_2)

{
	undefined4 uVar1;

	uVar1 = FUN_001f8db0((float *)(*(int *)(param_1 + 0x2e4) + 0x40), param_2);
	return uVar1;
}



undefined8 FUN_00292e00(undefined8 param_1)

{
	void *pvVar1;
	int iVar2;
	void **ppvVar3;

	ppvVar3 = (void **)param_1;
	ppvVar3[0x1] = (void *)0xc8;
	pvVar1 = MemoryAllocate2(0x320);
	ppvVar3[0x3] = (void *)0xc8;
	*ppvVar3 = pvVar1;
	pvVar1 = MemoryAllocate2(0x190);
	ppvVar3[0x2] = pvVar1;
	iVar2 = 0x0;
	pvVar1 = *ppvVar3;
	while (true) {
		*(undefined4 *)((int)pvVar1 + iVar2 * 0x4) = 0x0;
		*(undefined2 *)((int)ppvVar3[0x2] + iVar2 * 0x2) = (short)iVar2;
		iVar2 += 0x1;
		if (0xc7 < iVar2) break;
		pvVar1 = *ppvVar3;
	}
	ppvVar3[0x4] = (void *)0x0;
	return param_1;
}



void FUN_00292e90(int *param_1, int *param_2)

{
	short sVar1;
	int iVar2;

	sVar1 = *(short *)(param_2 + 0xca);
	if (param_2 == *(int **)(*param_1 + (int)sVar1 * 0x4)) {
		if (*(int *)(*param_2 + 0xa0) == 0x0) {
			GetGameNode((NodeList *)(*param_2 + 0xd4), 0x1);
			iVar2 = *param_1;
		}
		else {
			FUN_00197c10(param_2[0xb9], (int)param_2);
			iVar2 = *param_1;
		}
		*(undefined4 *)(iVar2 + (int)sVar1 * 0x4) = 0x0;
		iVar2 = param_1[0x4];
		param_1[0x4] = iVar2 + -0x1;
		*(short *)(param_1[0x2] + (iVar2 + -0x1) * 0x2) = sVar1;
	}
	return;
}



undefined8 FUN_00292f28(undefined8 param_1, undefined4 param_2, undefined4 param_3)

{
	float fVar1;
	float fVar2;
	float fVar3;
	undefined4 *puVar4;

	puVar4 = (undefined4 *)param_1;
	*(undefined2 *)((int)puVar4 + 0x3a) = 0xffff;
	*puVar4 = param_2;
	puVar4[0xc] = 0x3f800000;
	puVar4[0xd] = param_3;
	*(undefined2 *)(puVar4 + 0xe) = 0x0;
	puVar4[0xf] = 0x0;
	puVar4[0x10] = 0x0;
	fVar3 = GlobalQuaternion_x0_y0_z0_w1.bboxMin.w;
	fVar2 = GlobalQuaternion_x0_y0_z0_w1.bboxMin.z;
	fVar1 = GlobalQuaternion_x0_y0_z0_w1.bboxMin.y;
	*(float *)(puVar4 + 0x4) = GlobalQuaternion_x0_y0_z0_w1.bboxMin.x;
	*(float *)(puVar4 + 0x5) = fVar1;
	*(float *)(puVar4 + 0x6) = fVar2;
	*(float *)(puVar4 + 0x7) = fVar3;
	fVar3 = GlobalQuaternion_x0_y0_z0_w1.bboxMin.w;
	fVar2 = GlobalQuaternion_x0_y0_z0_w1.bboxMin.z;
	fVar1 = GlobalQuaternion_x0_y0_z0_w1.bboxMin.y;
	*(float *)(puVar4 + 0x8) = GlobalQuaternion_x0_y0_z0_w1.bboxMin.x;
	*(float *)(puVar4 + 0x9) = fVar1;
	*(float *)(puVar4 + 0xa) = fVar2;
	*(float *)(puVar4 + 0xb) = fVar3;
	return param_1;
}



void FUN_00292f70(ulong param_1, ulong param_2)

{
	FUN_00292fb8((int)(void *)param_1);
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_((void *)param_1);
	}
	return;
}



void FUN_00292fb8(int param_1)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	int *piVar4;
	int *address;

	address = *(int **)(param_1 + 0x40);
	if (*(int **)(param_1 + 0x40) == (int *)0x0) {
		*(undefined4 *)(param_1 + 0x40) = 0x0;
	}
	else {
		do {
			piVar1 = (int *)*address;
			if (address != (int *)0x0) {
				if (address != (int *)0xfffffff0) {
					piVar3 = address + 0x74;
					piVar4 = address + 0x84;
					while (piVar2 = piVar3, address + 0x4 != piVar4) {
						piVar3 = piVar2 + -0x10;
						piVar4 = piVar2;
					}
				}
				MemoryDeallocate2_(address);
			}
			address = piVar1;
		} while (piVar1 != (int *)0x0);
		*(undefined4 *)(param_1 + 0x40) = 0x0;
	}
	return;
}



undefined4 FUN_00293048(int *param_1, float *param_2)

{
	int iVar1;
	int iVar2;
	undefined4 *puVar3;
	undefined4 uVar4;
	float fVar5;
	float fVar6;
	float fVar7;
	ulong **ppuVar8;
	float *pfVar9;
	ulong *local_1030[0x400];

	pfVar9 = (float *)(param_1 + 0x4);
	iVar1 = FUN_001f8e58(param_2, pfVar9);
	uVar4 = 0x0;
	if (iVar1 == 0x0) {
		fVar5 = param_2[0x1];
		fVar6 = param_2[0x2];
		fVar7 = param_2[0x3];
		*(float *)(param_1 + 0x4) = *param_2;
		*(float *)(param_1 + 0x5) = fVar5;
		*(float *)(param_1 + 0x6) = fVar6;
		*(float *)(param_1 + 0x7) = fVar7;
		fVar5 = param_2[0x5];
		fVar6 = param_2[0x6];
		fVar7 = param_2[0x7];
		*(float *)(param_1 + 0x8) = param_2[0x4];
		*(float *)(param_1 + 0x9) = fVar5;
		*(float *)(param_1 + 0xa) = fVar6;
		*(float *)(param_1 + 0xb) = fVar7;
		FUN_00200088((float)param_1[0xc], pfVar9);
		iVar1 = *(int *)(*param_1 + 0xa0);
		iVar2 = FUN_002828f0((long)iVar1, (long)(int)pfVar9, param_1[0xd], (int)local_1030, 0x400);
		iVar1 = FUN_00282928((long)iVar1);
		*(short *)(param_1 + 0xe) = (short)iVar2;
		FUN_00290c58((int)param_1, (int)(short)iVar2 + 0x7 >> 0x3);
		puVar3 = (undefined4 *)FUN_00293298((int)param_1);
		if (puVar3 != (undefined4 *)0x0) {
			ppuVar8 = local_1030;
			do {
				FUN_00281128(puVar3, *ppuVar8, iVar1);
				puVar3 = FUN_002932c0((int)param_1);
				ppuVar8 = ppuVar8 + 0x1;
			} while (puVar3 != (undefined4 *)0x0);
		}
		uVar4 = 0x1;
	}
	return uVar4;
}



uint FUN_00293140(int param_1, undefined8 param_2, undefined8 param_3, long param_4, long param_5,
	long param_6)

{
	undefined8 uVar1;
	long lVar2;
	float fVar3;
	undefined8 *puVar4;
	undefined4 uVar5;
	undefined4 uVar6;
	undefined4 *puVar7;
	float fVar8;
	float fVar9;
	undefined local_70;
	undefined7 uStack111;
	undefined4 uStack104;
	undefined4 uStack100;

	puVar4 = (undefined8 *)FUN_00293298(param_1);
	fVar9 = 1000000015047466219876688855040.00000000;
	fVar3 = fVar9;
	while (lVar2 = (long)(int)puVar4, lVar2 != 0x0) {
		puVar4 = (undefined8 *)FUN_002932c0(param_1);
		fVar8 = FUN_00280c28(lVar2, param_2, param_3, (float *)&local_70);
		if ((fVar8 < fVar9) && (fVar8 < fVar3)) {
			if (param_5 != 0x0) {
				puVar7 = (undefined4 *)param_5;
				*puVar7 = (int)CONCAT71(uStack111, local_70);
				puVar7[0x1] = (int)((uint7)uStack111 >> 0x18);
				puVar7[0x2] = uStack104;
				puVar7[0x3] = uStack100;
			}
			fVar3 = fVar8;
			if (param_6 != 0x0) {
				uVar1 = *puVar4;
				uVar5 = *(undefined4 *)(puVar4 + 0x1);
				uVar6 = *(undefined4 *)((int)puVar4 + 0xc);
				puVar7 = (undefined4 *)param_6;
				*puVar7 = (int)uVar1;
				puVar7[0x1] = (int)((ulong)uVar1 >> 0x20);
				puVar7[0x2] = uVar5;
				puVar7[0x3] = uVar6;
				uVar1 = puVar4[0x2];
				uVar5 = *(undefined4 *)(puVar4 + 0x3);
				uVar6 = *(undefined4 *)((int)puVar4 + 0x1c);
				puVar7[0x4] = (int)uVar1;
				puVar7[0x5] = (int)((ulong)uVar1 >> 0x20);
				puVar7[0x6] = uVar5;
				puVar7[0x7] = uVar6;
				uVar1 = puVar4[0x4];
				uVar5 = *(undefined4 *)(puVar4 + 0x5);
				uVar6 = *(undefined4 *)((int)puVar4 + 0x2c);
				puVar7[0x8] = (int)uVar1;
				puVar7[0x9] = (int)((ulong)uVar1 >> 0x20);
				puVar7[0xa] = uVar5;
				puVar7[0xb] = uVar6;
				*(undefined2 *)(puVar7 + 0xc) = *(undefined2 *)(puVar4 + 0x6);
				*(undefined2 *)((int)puVar7 + 0x32) = *(undefined2 *)((int)puVar4 + 0x32);
			}
		}
	}
	if (param_4 != 0x0) {
		*(float *)param_4 = fVar3;
	}
	return (uint)(fVar3 < 1000000015047466219876688855040.00000000);
}



int FUN_00293298(int param_1)

{
	if (*(short *)(param_1 + 0x38) != 0x0) {
		*(undefined2 *)(param_1 + 0x3a) = 0x0;
		*(int *)(param_1 + 0x3c) = *(int *)(param_1 + 0x40);
		return *(int *)(param_1 + 0x40) + 0x10;
	}
	return 0x0;
}



undefined4 * FUN_002932c0(int param_1)

{
	uint uVar1;
	undefined4 *puVar2;

	uVar1 = (uint)*(ushort *)(param_1 + 0x3a) + 0x1;
	*(undefined2 *)(param_1 + 0x3a) = (short)uVar1;
	if ((long)((int)(uVar1 * 0x10000) >> 0x10) == (long)*(short *)(param_1 + 0x38)) {
		return (undefined4 *)0x0;
	}
	puVar2 = *(undefined4 **)(param_1 + 0x3c);
	if ((uVar1 & 0x7) == 0x0) {
		*(undefined4 *)(param_1 + 0x3c) = *puVar2;
		puVar2 = *(undefined4 **)(param_1 + 0x3c);
	}
	return puVar2 + (uVar1 & 0x7) * 0x10 + 0x4;
}



void FUN_00293340(void)

{
	undefined4 *in_a3_lo;
	undefined4 in_vf12x;
	undefined4 in_vf13x;

	*in_a3_lo = in_vf12x;
	in_a3_lo[0x1] = in_vf13x;
	return;
}



void FUN_002933e4(undefined4 *param_1)

{
	undefined4 in_vf17x;
	undefined4 in_vf18x;
	undefined4 in_vf22x;
	undefined4 in_vf23x;
	undefined4 in_vf27x;
	undefined4 in_vf28x;

	*param_1 = in_vf17x;
	param_1[0x1] = in_vf18x;
	param_1[0x2] = in_vf22x;
	param_1[0x3] = in_vf23x;
	param_1[0x4] = in_vf27x;
	param_1[0x5] = in_vf28x;
	return;
}



void FUN_0029345c(int *param_1)

{
	int iVar1;
	int iVar2;
	int iVar3;
	undefined4 *puVar4;
	undefined4 *puVar5;
	undefined4 *puVar6;
	undefined4 uVar7;
	undefined4 uVar8;
	undefined4 uVar9;
	undefined4 uVar10;
	undefined4 in_vf11x;
	undefined4 in_vf11y;
	undefined4 in_vf11z;
	undefined4 in_vf11w;

	iVar2 = *param_1;
	iVar1 = param_1[0x2];
	iVar3 = param_1[0x5];
	puVar4 = (undefined4 *)param_1[0x6];
	uVar7 = *(undefined4 *)(iVar2 + 0x20);
	uVar8 = *(undefined4 *)(iVar2 + 0x24);
	uVar9 = *(undefined4 *)(iVar2 + 0x28);
	uVar10 = *(undefined4 *)(iVar2 + 0x2c);
	puVar5 = (undefined4 *)param_1[0x7];
	do {
		iVar1 += -0x1;
		puVar6 = puVar5 + 0x4;
		*puVar5 = in_vf11x;
		puVar5[0x1] = in_vf11y;
		puVar5[0x2] = in_vf11z;
		puVar5[0x3] = in_vf11w;
		puVar5 = puVar6;
	} while (iVar1 != 0x0);
	do {
		iVar3 += -0x1;
		*puVar6 = in_vf11x;
		puVar6[0x1] = in_vf11y;
		puVar6[0x2] = in_vf11z;
		puVar6[0x3] = in_vf11w;
		puVar6 = puVar6 + 0x4;
	} while (iVar3 != 0x0);
	iVar2 = param_1[0x2];
	do {
		iVar1 = param_1[0x5];
		do {
			iVar1 += -0x1;
			*puVar4 = uVar7;
			puVar4[0x1] = uVar8;
			puVar4[0x2] = uVar9;
			puVar4[0x3] = uVar10;
			puVar4 = puVar4 + 0x4;
		} while (iVar1 != 0x0);
		iVar2 += -0x1;
	} while (iVar2 != 0x0);
	return;
}



void FUN_00293540(undefined8 *param_1, int param_2)

{
	undefined8 uVar1;
	undefined8 uVar2;
	undefined8 uVar3;
	undefined8 *puVar4;
	undefined4 uVar5;
	undefined4 uVar6;
	undefined4 uVar7;
	undefined4 uVar8;
	undefined4 uVar9;
	undefined4 uVar10;

	puVar4 = param_1;
	do {
		uVar1 = *puVar4;
		uVar5 = *(undefined4 *)(puVar4 + 0x1);
		uVar2 = puVar4[0x2];
		uVar6 = *(undefined4 *)(puVar4 + 0x3);
		uVar3 = puVar4[0x4];
		uVar7 = *(undefined4 *)(puVar4 + 0x5);
		uVar8 = *(undefined4 *)(puVar4 + 0x6);
		uVar9 = *(undefined4 *)((int)puVar4 + 0x34);
		uVar10 = *(undefined4 *)(puVar4 + 0x7);
		*(int *)param_1 = (int)uVar1;
		*(undefined4 *)((int)param_1 + 0x4) = (int)uVar2;
		*(int *)(param_1 + 0x1) = (int)uVar3;
		*(undefined4 *)((int)param_1 + 0xc) = uVar8;
		*(int *)(param_1 + 0x2) = (int)((ulong)uVar1 >> 0x20);
		*(undefined4 *)((int)param_1 + 0x14) = (int)((ulong)uVar2 >> 0x20);
		*(int *)(param_1 + 0x3) = (int)((ulong)uVar3 >> 0x20);
		*(undefined4 *)((int)param_1 + 0x1c) = uVar9;
		*(undefined4 *)(param_1 + 0x4) = uVar5;
		*(undefined4 *)((int)param_1 + 0x24) = uVar6;
		*(undefined4 *)(param_1 + 0x5) = uVar7;
		*(undefined4 *)((int)param_1 + 0x2c) = uVar10;
		param_2 += -0x1;
		puVar4 = puVar4 + 0x8;
		param_1 = param_1 + 0x6;
	} while (param_2 != 0x0);
	return;
}



void FUN_0029359c(undefined8 param_1, int param_2, undefined8 param_3, undefined4 *param_4)

{
	float in_vf5x;
	float in_vf5y;
	float in_vf5z;
	float in_vf7x;
	float in_vf7y;
	float in_vf7z;
	undefined4 in_vf10x;
	undefined4 in_vf13x;

	do {
		param_2 += -0x1;
		if (in_vf7x <= in_vf5x) {
			in_vf7x = in_vf5x;
		}
		if (in_vf7y <= in_vf5y) {
			in_vf7y = in_vf5y;
		}
	} while ((in_vf5z < in_vf7z) && (param_2 != 0x0));
	*param_4 = in_vf10x;
	param_4[0x1] = in_vf13x;
	return;
}



void FUN_00293624(undefined8 param_1, undefined8 param_2, undefined4 *param_3)

{
	int iVar1;
	undefined4 in_vf10x;
	undefined4 in_vf13x;
	float in_vf29x;
	float in_vf29y;
	float in_vf29z;
	float in_vf31x;
	float in_vf31y;
	float in_vf31z;

	iVar1 = 0x8;
	do {
		iVar1 += -0x1;
		if (in_vf31x <= in_vf29x) {
			in_vf31x = in_vf29x;
		}
		if (in_vf31y <= in_vf29y) {
			in_vf31y = in_vf29y;
		}
	} while ((in_vf29z < in_vf31z) && (iVar1 != 0x0));
	*param_3 = in_vf10x;
	param_3[0x1] = in_vf13x;
	return;
}



void FUN_002936d8(void)

{
	return;
}



void FUN_002938bc(undefined8 param_1, undefined4 *param_2)

{
	undefined4 in_vf30x;
	undefined4 in_vf31x;

	*param_2 = in_vf30x;
	param_2[0x1] = in_vf31x;
	return;
}



void FUN_00293960(uint *param_1, long param_2, UnkOgiRelateddddd *param_3, long param_4)

{
	uint *puVar1;
	void *pvVar2;
	uint uVar3;
	int iVar4;
	ulong uVar5;
	uint uVar6;
	uint *puVar7;
	uint *puVar8;

	if (param_2 == 0x0) {
		puVar1 = (uint *)param_1[0x2];
	}
	else {
		puVar1 = (uint *)param_1[0x1];
	}
	pvVar2 = MemoryAllocate(0x30);
	uVar5 = FUN_00293f18((long)(int)pvVar2, param_3->gameAnim, param_3->field_0x10,
		(long)param_3->field_0xc);
	puVar8 = (uint *)uVar5;
	uVar6 = *puVar8;
	uVar3 = ((uint)*(byte *)&param_3->field_0x0 & 0x1) << 0x2;
	*puVar8 = uVar6 & 0xfffffffb | uVar3;
	uVar6 = uVar6 & 0xfffffff3 | uVar3 | (param_3->field_0x0 & 0x4U) << 0x1;
	*puVar8 = uVar6;
	if ((param_3->field_0x0 >> 0x4 & 0x1U) != 0x0) {
		uVar3 = 0x0;
		if ((param_3->field_0x0 & 0x10U) != 0x0) {
			uVar3 = param_3->field_0x4;
		}
		puVar8[0x3] = uVar3;
		*puVar8 = uVar6 | 0x200000;
	}
	if ((param_4 == 0x0) || (iVar4 = param_3->field_0x0, (iVar4 >> 0x1 & 0x1U) == 0x0)) {
		FUN_00298038((int)param_1, param_2);
		if (param_2 == 0x0) {
			*(uint **)(param_1 + 0x2) = puVar8;
		}
		else {
			*(uint **)(param_1 + 0x1) = puVar8;
		}
	}
	else {
		if (puVar1 == (uint *)0x0) {
			if (param_2 == 0x0) {
				*(uint **)(param_1 + 0x2) = puVar8;
			}
			else {
				*(uint **)(param_1 + 0x1) = puVar8;
			}
		}
		else {
			do {
				puVar7 = puVar1;
				puVar1 = (uint *)puVar7[0xb];
			} while ((uint *)puVar7[0xb] != (uint *)0x0);
			if ((iVar4 >> 0x5 & 0x1U) == 0x0) {
				if (((long)((int)*puVar7 >> 0x2) & 0x1U) == ((ulong)*(byte *)&param_3->field_0x0 & 0x1)) {
					if (((int)*puVar7 >> 0x3 & 0x1U) == (iVar4 >> 0x2 & 0x1U)) {
						iVar4 = FUN_002981d0((int)puVar7, (int)puVar8);
						if (iVar4 != 0x0) {
							if (uVar5 == 0x0) {
								return;
							}
							FUN_002980d0(uVar5, 0x3);
							return;
						}
						*(uint **)(puVar7 + 0xb) = puVar8;
					}
					else {
						*(uint **)(puVar7 + 0xb) = puVar8;
					}
				}
				else {
					*(uint **)(puVar7 + 0xb) = puVar8;
				}
			}
			else {
				*(uint **)(puVar7 + 0xb) = puVar8;
			}
			if ((param_3->field_0x0 >> 0x3 & 0x1U) != 0x0) {
				FUN_00298138(puVar8, puVar7);
			}
		}
	}
	return;
}



void FUN_00293b50(int param_1, long param_2, uint param_3)

{
	int *piVar1;
	int iVar2;
	uint *puVar3;
	int *piVar4;
	uint uVar5;
	ulong uVar6;
	ulong uVar7;
	ulong uVar8;
	ulong uVar9;

	if (param_2 == 0x0) {
		iVar2 = *(int *)(param_1 + 0x8);
	}
	else {
		iVar2 = *(int *)(param_1 + 0x4);
	}
	uVar8 = SEXT48(iVar2);
	uVar6 = uVar8;
	while (uVar6 != 0x0) {
		puVar3 = (uint *)uVar6;
		uVar6 = SEXT48((int)puVar3[0xb]);
		FUN_00294000(puVar3, param_3, param_2);
	}
	if (uVar8 != 0x0) {
		piVar1 = *(int **)(iVar2 + 0x2c);
		uVar6 = 0x0;
		while (true) {
			uVar7 = SEXT48((int)piVar1);
			if (uVar7 == 0x0) {
				piVar4 = (int *)uVar8;
				uVar5 = 0x0;
				if ((*piVar4 >> 0x4 & 0x1U) == 0x0) {
					if (param_2 == 0x0) {
						iVar2 = piVar4[0x2];
					}
					else {
						iVar2 = piVar4[0x1];
					}
					uVar5 = 0x0;
					if (iVar2 == 0x0) {
						uVar5 = 0x1;
					}
				}
			}
			else {
				uVar5 = *piVar1 >> 0x4 & 0x1U ^ 0x1;
			}
			uVar9 = uVar8;
			if (uVar5 != 0x0) {
				if (uVar8 != 0x0) {
					FUN_002980d0(uVar8, 0x3);
				}
				uVar9 = uVar6;
				if (uVar6 == 0x0) {
					if (param_2 == 0x0) {
						*(int **)(param_1 + 0x8) = piVar1;
					}
					else {
						*(int **)(param_1 + 0x4) = piVar1;
					}
				}
				else {
					*(int **)((int)uVar6 + 0x2c) = piVar1;
				}
			}
			if (uVar7 == 0x0) break;
			piVar1 = (int *)piVar1[0xb];
			uVar8 = uVar7;
			uVar6 = uVar9;
		}
	}
	return;
}



int FUN_00293c78(int param_1)

{
	int iVar1;
	int in_v0_lo;
	float fVar2;

	iVar1 = *(int *)(param_1 + 0x4);
	while (iVar1 != 0x0) {
		fVar2 = ((float)*(int *)(iVar1 + 0x14) * DAT_00309b80 -
			(float)*(int *)(iVar1 + 0x18) * DAT_00309b80) * DAT_00309b7c;
		if ((byte)((uint)fVar2 >> 0x17) < 0x9e) {
			in_v0_lo = (int)fVar2;
		}
		else {
			if ((int)fVar2 < 0x0) {
				in_v0_lo = 0x7fffffff;
			}
			else {
				in_v0_lo = -0x80000000;
			}
		}
		iVar1 = *(int *)(iVar1 + 0x2c);
	}
	return in_v0_lo;
}



void FUN_00293cf0(uint *param_1, long param_2)

{
	uint *puVar1;
	uint uVar2;
	uint *puVar3;
	undefined *puVar4;
	uint uVar5;
	uint uVar6;
	uint **ppuVar7;
	uint uVar8;
	float fVar9;
	uint uVar10;

	if (param_2 == 0x0) {
		uVar10 = param_1[0x2];
	}
	else {
		uVar10 = param_1[0x1];
	}
	if (uVar10 != 0x0) {
		uVar5 = *param_1 >> 0x5 & 0xffff;
		uVar6 = uVar5 - 0x1;
		uVar10 = uVar6;
		if ((*param_1 & 0x4) != 0x0) {
			uVar10 = uVar5;
		}
		fVar9 = (float)uVar10 *
			(((float)param_1[0x6] * DAT_00309b80) / ((float)param_1[0x5] * DAT_00309b80));
		if ((byte)((uint)fVar9 >> 0x17) < 0x9e) {
			uVar10 = (uint)fVar9;
		}
		else {
			if ((int)fVar9 < 0x0) {
				uVar10 = 0x7fffffff;
			}
			else {
				uVar10 = 0x80000000;
			}
		}
		*(float *)(param_1 + 0x7) = fVar9 - (float)uVar10;
		if (uVar10 == uVar6) {
			uVar5 = *param_1;
			uVar8 = 0x0;
			if ((uVar5 & 0x4) == 0x0) {
				uVar8 = uVar10;
			}
		}
		else {
			uVar5 = *param_1;
			uVar8 = uVar10 + 0x1;
		}
		uVar2 = uVar6 - uVar8;
		if ((uVar5 & 0x8) != 0x0) {
			uVar8 = uVar6 - uVar10;
			*(float *)(param_1 + 0x7) = 1.00000000 - (float)param_1[0x7];
			uVar10 = uVar2;
		}
		ppuVar7 = (uint **)param_1[0x1];
		if (ppuVar7 == (uint **)0x0) {
			ppuVar7 = (uint **)param_1[0x2];
		}
		else {
			puVar1 = *ppuVar7;
			puVar4 = GetDataAt_0x31B4B8();
			puVar3 = (uint *)FUN_00205cb8((int)puVar4, (int *)(puVar1 + 0x2));
			ppuVar7[0x1] = puVar3;
			puVar3 = puVar3 + (*puVar1 & 0x7f) * 0x2;
			ppuVar7[0x2] = puVar3;
			ppuVar7[0x3] = (uint *)((int)puVar3 +
				uVar10 * (*puVar1 >> 0x16) * 0x2 + (*puVar1 >> 0xa & 0xffe));
			ppuVar7[0x4] = (uint *)((int)puVar3 +
				uVar8 * (**ppuVar7 >> 0x16) * 0x2 + (**ppuVar7 >> 0xa & 0xffe));
			ppuVar7 = (uint **)param_1[0x2];
		}
		if (ppuVar7 != (uint **)0x0) {
			puVar1 = *ppuVar7;
			puVar4 = GetDataAt_0x31B4B8();
			puVar3 = (uint *)FUN_00205cb8((int)puVar4, (int *)(puVar1 + 0x2));
			ppuVar7[0x1] = puVar3;
			puVar3 = puVar3 + (*puVar1 & 0x7f) * 0x2;
			ppuVar7[0x2] = puVar3;
			ppuVar7[0x3] = (uint *)((int)puVar3 +
				uVar10 * (*puVar1 >> 0x16) * 0x2 + (*puVar1 >> 0xa & 0xffe));
			ppuVar7[0x4] = (uint *)((int)puVar3 +
				uVar8 * (**ppuVar7 >> 0x16) * 0x2 + (**ppuVar7 >> 0xa & 0xffe));
		}
	}
	return;
}



undefined8 FUN_00293f18(undefined8 param_1, GameAnimation *param_2, uint param_3, long param_4)

{
	int *piVar1;
	uint uVar2;
	uint *puVar3;

	uVar2 = (uint)(param_4 != 0x0) << 0x4;
	puVar3 = (uint *)param_1;
	puVar3[0x5] = param_3;
	puVar3[0xa] = 0x3f800000;
	puVar3[0x9] = (uint)param_4;
	puVar3[0xb] = 0x0;
	*puVar3 = uVar2;
	puVar3[0x6] = 0x0;
	puVar3[0x4] = 0x0;
	puVar3[0x8] = 0x0;
	if (param_2 == (GameAnimation *)0x0) {
		puVar3[0x1] = 0x0;
		puVar3[0x2] = 0x0;
		*puVar3 = uVar2 | (uint)(param_4 == 0x0) << 0x1;
	}
	else {
		*puVar3 = uVar2 | ((uint)param_2->field_0x8 >> 0x2 & 0xffff) << 0x5;
		piVar1 = (int *)0x0;
		if ((*(byte *)&param_2->field_0x8 & 0x1) != 0x0) {
			piVar1 = (int *)MemoryAllocate(0x14);
			*(undefined4 **)piVar1 = &param_2->field_0xc;
		}
		*(int **)(puVar3 + 0x1) = piVar1;
		piVar1 = (int *)0x0;
		if (((int)param_2->field_0x8 >> 0x1 & 0x1U) != 0x0) {
			piVar1 = (int *)MemoryAllocate(0x14);
			*(undefined4 **)piVar1 = &param_2->field_0x18;
		}
		*(int **)(puVar3 + 0x2) = piVar1;
	}
	return param_1;
}



void FUN_00294000(uint *param_1, uint param_2, long param_3)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	float fVar4;
	int iVar5;
	float fVar6;

	uVar1 = *param_1;
	if ((uVar1 & 0x2) == 0x0) {
		if ((uVar1 & 0x1) == 0x0) {
			if ((uVar1 & 0x200000) == 0x0) {
				param_1[0x4] = param_2;
			}
			else {
				fVar6 = (float)param_1[0x3];
				fVar4 = FUN_0025a160((int *)(param_1 + 0x5));
				fVar4 = fVar4 * fVar6 * DAT_00309b7c;
				if ((byte)((uint)fVar4 >> 0x17) < 0x9e) {
					iVar5 = (int)fVar4;
				}
				else {
					if ((int)fVar4 < 0x0) {
						iVar5 = 0x7fffffff;
					}
					else {
						iVar5 = -0x80000000;
					}
				}
				param_1[0x4] = param_2 - iVar5;
			}
			uVar1 = *param_1;
			*param_1 = uVar1 | 0x1;
			if ((uVar1 & 0x10) != 0x0) {
				param_1[0x8] = param_2;
			}
		}
		else {
			uVar2 = param_1[0x5];
			uVar3 = param_2 - param_1[0x4];
			param_1[0x6] = uVar3;
			if ((int)uVar2 <= (int)uVar3) {
				if ((uVar1 & 0x4) == 0x0) {
					param_1[0x6] = uVar2;
					*param_1 = uVar1 | 0x2;
				}
				else {
					fVar4 = ((float)uVar3 * DAT_00309b80) / ((float)uVar2 * DAT_00309b80);
					if ((byte)((uint)fVar4 >> 0x17) < 0x9e) {
						iVar5 = (int)fVar4;
					}
					else {
						if ((int)fVar4 < 0x0) {
							iVar5 = 0x7fffffff;
						}
						else {
							iVar5 = -0x80000000;
						}
					}
					param_1[0x4] = param_1[0x4] + uVar2 * iVar5;
					param_1[0x6] = uVar3 - uVar2 * iVar5;
				}
			}
		}
	}
	FUN_00293cf0(param_1, param_3);
	if ((*param_1 & 0x10) != 0x0) {
		if ((int)(param_2 - param_1[0x8]) < (int)param_1[0x9]) {
			*(float *)(param_1 + 0xa) =
				((float)(param_2 - param_1[0x8]) * DAT_00309b80) / ((float)param_1[0x9] * DAT_00309b80);
		}
		else {
			*param_1 = *param_1 & 0xffffffef;
			param_1[0xa] = 0x3f800000;
		}
	}
	return;
}



void FUN_002941b0(float param_1, float param_2, byte *param_3, int param_4)

{
	byte bVar1;
	short sVar2;
	short sVar3;
	ushort uVar4;
	ushort *puVar5;
	int iVar6;
	int iVar7;
	ulong uVar8;
	ulong uVar9;
	float fVar10;
	ushort local_10;
	short *local_c;
	short *local_8;
	short *local_4;

	puVar5 = *(ushort **)(param_4 + 0x4);
	local_10 = puVar5[0x1];
	uVar9 = (long)(int)(uint)(*puVar5 >> 0x8) & 0xf;
	iVar6 = *(int *)(param_4 + 0x10);
	local_c = (short *)(*(int *)(param_4 + 0x8) + (uint)puVar5[0x2] * 0x2);
	local_8 = (short *)(*(int *)(param_4 + 0xc) + (uint)puVar5[0x3] * 0x2);
	uVar4 = puVar5[0x3];
	*(undefined4 *)(param_3 + 0x8) = *(undefined4 *)(param_3 + 0xc);
	local_4 = (short *)(iVar6 + (uint)uVar4 * 0x2);
	if (*param_3 < uVar9) {
		iVar6 = (int)uVar9 * 0x4;
		if (DAT(0x003db200) < (undefined *)(iRam0030a22c + iVar6)) {
			iRam0030a22c = 0x3da260;
		}
		iVar7 = iRam0030a22c;
		uVar8 = 0x0;
		*param_3 = (byte)uVar9;
		*(int *)(param_3 + 0x4) = iVar7;
		if (uVar9 != 0x0) {
			do {
				iVar7 = (int)uVar8;
				uVar8 = SEXT48(iVar7 + 0x1);
				*(undefined4 *)(iVar7 * 0x4 + *(int *)(param_3 + 0x4)) = 0x0;
			} while (uVar8 < uVar9);
		}
		iRam0030a22c += iVar6;
	}
	uVar8 = 0x0;
	param_3[0x1] = 0x0;
	*(undefined4 *)(param_3 + 0xc) = *(undefined4 *)(param_3 + 0x4);
	if (uVar9 != 0x0) {
		do {
			if ((local_10 & 0x1) == 0x0) {
				sVar2 = *local_8;
				sVar3 = *local_4;
				local_8 = local_8 + 0x1;
				local_4 = local_4 + 0x1;
				fVar10 = (float)(int)sVar3 * 0.00024414 * param_2 +
					(float)(int)sVar2 * 0.00024414 * (1.00000000 - param_2);
			}
			else {
				sVar2 = *local_c;
				local_c = local_c + 0x1;
				fVar10 = (float)(int)sVar2 * 0.00024414;
			}
			local_10 >>= 0x1;
			if (*(int *)(param_3 + 0x8) == 0x0) {
				fVar10 = fVar10 * param_1;
			}
			else {
				fVar10 = fVar10 * param_1 +
					*(float *)((uint)param_3[0x1] * 0x4 + *(int *)(param_3 + 0x8)) *
					(1.00000000 - param_1);
			}
			bVar1 = param_3[0x1];
			uVar8 = SEXT48((int)uVar8 + 0x1);
			param_3[0x1] = bVar1 + 0x1;
			*(float *)((uint)bVar1 * 0x4 + *(int *)(param_3 + 0xc)) = fVar10;
		} while (uVar8 < uVar9);
	}
	return;
}



undefined8 FUN_002943c8(undefined8 param_1)

{
	TransformedGeometyPoint *mat2;
	Matrix4x4 *mat1;
	Matrix4x4 *mat2_00;
	undefined8 uVar1;
	ulong uVar2;
	float fVar3;
	float fVar4;
	Matrix4x4 *resMat;
	float fVar5;
	Matrix4x4 MStack96;

	resMat = (Matrix4x4 *)param_1;
	if ((*(ulong *)&resMat[0x1].xComponents & 0x3) == 0x0) {
		return param_1;
	}
	mat2 = (TransformedGeometyPoint *)resMat[0x1].xComponents.y;
	RotateAndTranslate_(mat2);
	mat1 = (Matrix4x4 *)resMat[0x1].xComponents.z;
	if (mat1 == (Matrix4x4 *)0x0) {
		if ((*(ulong *)&resMat[0x1].xComponents & 0x1) == 0x0) {
			uVar2 = *(ulong *)&resMat[0x1].xComponents;
			goto LAB_00294480;
		}
		uVar1 = *(undefined8 *)&(mat2->transformMatrix).xComponents;
		fVar5 = (mat2->transformMatrix).xComponents.z;
		fVar3 = (mat2->transformMatrix).xComponents.w;
		(resMat->xComponents).x = (float)uVar1;
		(resMat->xComponents).y = (float)((ulong)uVar1 >> 0x20);
		(resMat->xComponents).z = fVar5;
		(resMat->xComponents).w = fVar3;
		fVar5 = (mat2->transformMatrix).yComponents.y;
		fVar3 = (mat2->transformMatrix).yComponents.z;
		fVar4 = (mat2->transformMatrix).yComponents.w;
		(resMat->yComponents).x = (mat2->transformMatrix).yComponents.x;
		(resMat->yComponents).y = fVar5;
		(resMat->yComponents).z = fVar3;
		(resMat->yComponents).w = fVar4;
		fVar5 = (mat2->transformMatrix).zComponents.y;
		fVar3 = (mat2->transformMatrix).zComponents.z;
		fVar4 = (mat2->transformMatrix).zComponents.w;
		(resMat->zComponents).x = (mat2->transformMatrix).zComponents.x;
		(resMat->zComponents).y = fVar5;
		(resMat->zComponents).z = fVar3;
		(resMat->zComponents).w = fVar4;
		fVar5 = (mat2->transformMatrix).wComponents.y;
		fVar3 = (mat2->transformMatrix).wComponents.z;
		fVar4 = (mat2->transformMatrix).wComponents.w;
		(resMat->wComponents).x = (mat2->transformMatrix).wComponents.x;
		(resMat->wComponents).y = fVar5;
		(resMat->wComponents).z = fVar3;
		(resMat->wComponents).w = fVar4;
	}
	else {
		mat2_00 = (Matrix4x4 *)resMat[0x1].xComponents.w;
		if (mat2_00 == (Matrix4x4 *)0x0) {
			if ((*(ulong *)&resMat[0x1].xComponents & 0x1) != 0x0) {
				MultiplyMatrices(mat1, (Matrix4x4 *)mat2, resMat);
				uVar2 = *(ulong *)&resMat[0x1].xComponents;
				goto LAB_00294480;
			}
		}
		else {
			MultiplyMatrices(mat1, mat2_00, &MStack96);
			MultiplyMatrices(&MStack96, (Matrix4x4 *)mat2, resMat);
		}
	}
	uVar2 = *(ulong *)&resMat[0x1].xComponents;
LAB_00294480:
	if ((uVar2 & 0x4) != 0x0) {
		fVar5 = RSQRT(0.00000000, (Vector4 *)resMat);
		(resMat->xComponents).x = (resMat->xComponents).x * fVar5;
		(resMat->xComponents).y = (resMat->xComponents).y * fVar5;
		(resMat->xComponents).z = (resMat->xComponents).z * fVar5;
		fVar5 = RSQRT(0.00000000, &resMat->yComponents);
		(resMat->yComponents).x = (resMat->yComponents).x * fVar5;
		(resMat->yComponents).y = (resMat->yComponents).y * fVar5;
		(resMat->yComponents).z = (resMat->yComponents).z * fVar5;
		fVar5 = RSQRT(0.00000000, &resMat->zComponents);
		(resMat->zComponents).x = (resMat->zComponents).x * fVar5;
		(resMat->zComponents).y = (resMat->zComponents).y * fVar5;
		(resMat->zComponents).z = (resMat->zComponents).z * fVar5;
	}
	*(ulong *)&resMat[0x1].xComponents = *(ulong *)&resMat[0x1].xComponents & 0xfffffffffffffffc;
	return param_1;
}



void FUN_00294570(undefined8 param_1, int *param_2)

{
	int iVar1;
	undefined local_40[0x4];
	undefined local_3c;
	undefined local_38;
	int local_34;
	uint local_30[0x4];

	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), local_40);
	(**(code **)(*param_2 + 0x8c))
		((int)param_2 + (int)*(short *)(*param_2 + 0x88), (uint)local_40 | 0x4);
	(**(code **)(*param_2 + 0x8c))
		((int)param_2 + (int)*(short *)(*param_2 + 0x88), (uint)local_40 | 0x8);
	(**(code **)(*param_2 + 0x8c))
		((int)param_2 + (int)*(short *)(*param_2 + 0x88), (uint)local_40 | 0xc);
	(**(code **)(*param_2 + 0x8c))((int)param_2 + (int)*(short *)(*param_2 + 0x88), local_30);
	iVar1 = (int)param_1;
	*(undefined *)(iVar1 + 0x50) = local_40[0];
	*(undefined *)(iVar1 + 0x52) = local_38;
	*(undefined *)(iVar1 + 0x51) = local_3c;
	*(ulong *)(iVar1 + 0x50) =
		*(ulong *)(iVar1 + 0x50) & 0xffffffff00ffffff | ((long)local_34 & 0xfU) << 0x18 |
		((ulong)local_30[0] & 0xf) << 0x1c;
	(**(code **)(*param_2 + 0x14))((int)param_2 + (int)*(short *)(*param_2 + 0x10), param_1, 0x10, 0x1);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar1 + 0x20, 0x10, 0x1);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar1 + 0x10, 0x10, 0x1);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar1 + 0x30, 0x10, 0x1);
	(**(code **)(*param_2 + 0x14))
		((int)param_2 + (int)*(short *)(*param_2 + 0x10), iVar1 + 0x40, 0x10, 0x1);
	return;
}



void FUN_00294718(float param_1, undefined4 param_2, ulong *param_3, int param_4)

{
	short sVar1;
	ulong uVar2;
	float *pfVar3;
	float *pfVar4;
	int iVar5;
	float *pfVar6;
	float *pfVar7;
	ushort *puVar8;
	undefined4 extraout_vf1x;
	undefined4 extraout_vf1x_00;
	undefined4 extraout_vf1y;
	undefined4 extraout_vf1y_00;
	undefined4 extraout_vf1z;
	undefined4 extraout_vf1z_00;
	undefined4 extraout_vf1w;
	undefined4 extraout_vf1w_00;
	undefined4 extraout_vf2x;
	undefined4 extraout_vf2y;
	undefined4 extraout_vf2z;
	undefined4 extraout_vf2w;
	ushort local_f0;
	ushort local_ee;
	short *local_ec;
	short *local_e8;
	short *local_e4;
	float local_e0[0x4];
	float local_d0[0x4];
	float local_c0[0x4];
	float local_b0[0x3];
	undefined4 uStack164;
	float local_a0[0x4];
	float local_90[0x4];
	float local_80;
	float fStack124;
	float fStack120;
	undefined4 uStack116;
	undefined4 local_70;
	undefined4 uStack108;
	undefined4 uStack104;
	undefined4 uStack100;

	pfVar3 = local_90;
	iVar5 = 0x2;
	puVar8 = (ushort *)
		(*(int *)(param_4 + 0x4) + (uint)*(byte *)(*(int *)((int)param_3 + 0x4) + 0x51) * 0x8);
	local_f0 = puVar8[0x1];
	pfVar6 = local_c0;
	pfVar4 = local_d0;
	local_ee = (short)(0x1 << ((uint)(*puVar8 >> 0x8) & 0xf)) - 0x1;
	local_ec = (short *)(*(int *)(param_4 + 0x8) + (uint)puVar8[0x2] * 0x2);
	local_e8 = (short *)(*(int *)(param_4 + 0xc) + (uint)puVar8[0x3] * 0x2);
	local_e4 = (short *)(*(int *)(param_4 + 0x10) + (uint)puVar8[0x3] * 0x2);
	pfVar7 = local_e0;
	do {
		if ((local_f0 & 0x1) == 0x0) {
			*pfVar7 = (float)(int)*local_e8 * 0.00024414;
			*pfVar4 = (float)(int)*local_e4 * 0.00024414;
			local_e8 = local_e8 + 0x1;
			local_e4 = local_e4 + 0x1;
		}
		else {
			sVar1 = *local_ec;
			*pfVar7 = (float)(int)sVar1 * 0.00024414;
			*pfVar4 = (float)(int)sVar1 * 0.00024414;
			local_ec = local_ec + 0x1;
		}
		pfVar4 = pfVar4 + 0x1;
		pfVar7 = pfVar7 + 0x1;
		local_f0 >>= 0x1;
		iVar5 += -0x1;
		local_ee >>= 0x1;
	} while (-0x1 < iVar5);
	iVar5 = 0x2;
	pfVar7 = local_b0;
	do {
		FUN_00298400(&local_f0, pfVar6, pfVar7);
		iVar5 += -0x1;
		pfVar6 = pfVar6 + 0x1;
		pfVar7 = pfVar7 + 0x1;
	} while (-0x1 < iVar5);
	iVar5 = 0x2;
	pfVar7 = local_a0;
	do {
		if ((local_f0 & 0x1) == 0x0) {
			*pfVar7 = (float)(int)*local_e8 * 0.00024414;
			*pfVar3 = (float)(int)*local_e4 * 0.00024414;
			local_e8 = local_e8 + 0x1;
			local_e4 = local_e4 + 0x1;
		}
		else {
			sVar1 = *local_ec;
			*pfVar7 = (float)(int)sVar1 * 0.00024414;
			*pfVar3 = (float)(int)sVar1 * 0.00024414;
			local_ec = local_ec + 0x1;
		}
		pfVar3 = pfVar3 + 0x1;
		pfVar7 = pfVar7 + 0x1;
		local_f0 >>= 0x1;
		iVar5 += -0x1;
		local_ee >>= 0x1;
	} while (-0x1 < iVar5);
	if ((*puVar8 >> 0xd & 0x1) != 0x0) {
		*param_3 = *param_3 | 0x8;
	}
	local_a0[0] = local_90[0];
	local_a0[1] = local_90[1];
	local_a0[2] = local_90[2];
	local_a0[3] = local_90[3];
	uVar2 = *param_3;
	if (param_1 < 1.00000000) {
		uStack116 = 0x3f800000;
		if ((*param_3 & 0x1) == 0x0) {
			iVar5 = *(int *)((int)param_3 + 0x4);
			local_70 = *(undefined4 *)(iVar5 + 0x10);
			uStack108 = *(undefined4 *)(iVar5 + 0x14);
			uStack104 = *(undefined4 *)(iVar5 + 0x18);
			uStack100 = *(undefined4 *)(iVar5 + 0x1c);
			*param_3 = *param_3 | 0x1;
		}
		else {
			local_70 = *(undefined4 *)(param_3 + 0x2);
			uStack108 = *(undefined4 *)((int)param_3 + 0x14);
			uStack104 = *(undefined4 *)(param_3 + 0x3);
			uStack100 = *(undefined4 *)((int)param_3 + 0x1c);
		}
		uStack164 = param_2;
		local_80 = param_1;
		fStack124 = param_1;
		fStack120 = param_1;
		FUN_002985e0(param_1, param_3, local_a0);
		FUN_002986c0(param_1, param_3, local_e0);
		*(undefined4 *)(param_3 + 0x2) = extraout_vf1x_00;
		*(undefined4 *)((int)param_3 + 0x14) = extraout_vf1y_00;
		*(undefined4 *)(param_3 + 0x3) = extraout_vf1z_00;
		*(undefined4 *)((int)param_3 + 0x1c) = extraout_vf1w_00;
	}
	else {
		*(float *)(param_3 + 0x6) = local_90[0];
		*(undefined4 *)((int)param_3 + 0x34) = local_90[1];
		*(undefined4 *)(param_3 + 0x7) = local_90[2];
		*(undefined4 *)((int)param_3 + 0x3c) = local_90[3];
		*(undefined4 *)(param_3 + 0x4) = extraout_vf2x;
		*(undefined4 *)((int)param_3 + 0x24) = extraout_vf2y;
		*(undefined4 *)(param_3 + 0x5) = extraout_vf2z;
		*(undefined4 *)((int)param_3 + 0x2c) = extraout_vf2w;
		*param_3 = uVar2 | 0x6;
		*(undefined4 *)(param_3 + 0x2) = extraout_vf1x;
		*param_3 = uVar2 | 0x7;
		*(undefined4 *)((int)param_3 + 0x14) = extraout_vf1y;
		*(undefined4 *)(param_3 + 0x3) = extraout_vf1z;
		*(undefined4 *)((int)param_3 + 0x1c) = extraout_vf1w;
	}
	return;
}



void FUN_00294b58(ulong *param_1, long param_2, long param_3, undefined4 *param_4)

{
	ulong uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	int iVar4;
	int iVar5;
	undefined4 in_vf1x;
	undefined4 in_vf1y;
	undefined4 in_vf1z;
	undefined4 in_vf1w;
	undefined4 in_vf2x;
	undefined4 in_vf2y;
	undefined4 in_vf2z;
	undefined4 in_vf2w;
	undefined4 in_vf3x;
	undefined4 in_vf3y;
	undefined4 in_vf3z;
	undefined4 in_vf3w;
	undefined4 in_vf4x;
	undefined4 in_vf4y;
	undefined4 in_vf4z;
	undefined4 in_vf4w;

	if ((*param_1 & 0x20) != 0x0) {
		return;
	}
	if ((*param_1 & 0x1) == 0x0) {
		uVar1 = *param_1;
	}
	else {
		if ((*param_1 & 0x4) == 0x0) {
			uVar1 = *param_1;
		}
		else {
			uVar1 = *param_1;
		}
	}
	if ((uVar1 & 0x4) == 0x0) {
		iVar4 = *(int *)(param_1 + 0x1);
		if (param_2 == 0x0) {
			*(ulong *)(iVar4 + 0x50) = *(ulong *)(iVar4 + 0x50) | 0x1;
			*(undefined4 *)(iVar4 + 0x40) = 0x3f800000;
			*(undefined4 *)(iVar4 + 0x44) = 0x3f800000;
			*(undefined4 *)(iVar4 + 0x48) = 0x3f800000;
			*(undefined4 *)(iVar4 + 0x4c) = 0x3f800000;
			goto LAB_00294c50;
		}
		iVar5 = (int)param_2;
		uVar1 = *(ulong *)(iVar5 + 0x40);
		uVar2 = *(undefined4 *)(iVar5 + 0x48);
		uVar3 = *(undefined4 *)(iVar5 + 0x4c);
	}
	else {
		iVar4 = *(int *)(param_1 + 0x1);
		uVar1 = param_1[0x6];
		uVar2 = *(undefined4 *)(param_1 + 0x7);
		uVar3 = *(undefined4 *)((int)param_1 + 0x3c);
	}
	*(undefined4 *)(iVar4 + 0x40) = (int)uVar1;
	*(undefined4 *)(iVar4 + 0x44) = (int)(uVar1 >> 0x20);
	*(undefined4 *)(iVar4 + 0x48) = uVar2;
	*(undefined4 *)(iVar4 + 0x4c) = uVar3;
	*(ulong *)(iVar4 + 0x50) = *(ulong *)(iVar4 + 0x50) | 0x1;
LAB_00294c50:
	if ((*param_1 & 0x2) != 0x0) {
		in_vf4x = *(undefined4 *)(param_1 + 0x4);
		in_vf4y = *(undefined4 *)((int)param_1 + 0x24);
		in_vf4z = *(undefined4 *)(param_1 + 0x5);
		in_vf4w = *(undefined4 *)((int)param_1 + 0x2c);
	}
	if (param_3 != 0x0) {
		*param_1 = *param_1 | 0x20;
	}
	*param_4 = in_vf1x;
	param_4[0x1] = in_vf1y;
	param_4[0x2] = in_vf1z;
	param_4[0x3] = in_vf1w;
	param_4[0x4] = in_vf2x;
	param_4[0x5] = in_vf2y;
	param_4[0x6] = in_vf2z;
	param_4[0x7] = in_vf2w;
	param_4[0x8] = in_vf3x;
	param_4[0x9] = in_vf3y;
	param_4[0xa] = in_vf3z;
	param_4[0xb] = in_vf3w;
	param_4[0xc] = in_vf4x;
	param_4[0xd] = in_vf4y;
	param_4[0xe] = in_vf4z;
	param_4[0xf] = in_vf4w;
	return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_00294cd8(float param_1, undefined8 param_2, long param_3)

{
	int iVar1;
	undefined8 uVar2;
	undefined4 uVar3;
	undefined4 uVar4;
	int iVar5;
	ulong uVar6;
	float param_1_00;
	float fVar7;
	long param_3_00;
	ulong *puVar8;
	undefined8 *puVar9;
	undefined4 extraout_vf1x;
	undefined4 extraout_vf1x_00;
	undefined4 extraout_vf1x_01;
	undefined4 extraout_vf1y;
	undefined4 extraout_vf1y_00;
	undefined4 extraout_vf1y_01;
	undefined4 extraout_vf1z;
	undefined4 extraout_vf1z_00;
	undefined4 extraout_vf1z_01;
	undefined4 extraout_vf1w;
	undefined4 extraout_vf1w_00;
	undefined4 extraout_vf1w_01;

	iVar5 = 0x0;
	if (param_3 != 0x0) {
		iVar5 = ((int *)param_3)[0x1];
	}
	puVar8 = (ulong *)param_2;
	if (iVar5 == 0x0) {
		puVar9 = *(undefined8 **)((int)puVar8 + 0x4);
		if (param_1 < 1.00000000) {
			FUN_00298398(puVar8);
			FUN_002985e0(param_1, puVar8, (float *)DAT(0x00323870));
			FUN_002986c0(param_1, puVar8, (float *)puVar9);
			*(undefined4 *)(puVar8 + 0x2) = extraout_vf1x;
			*(undefined4 *)((int)puVar8 + 0x14) = extraout_vf1y;
			*(undefined4 *)(puVar8 + 0x3) = extraout_vf1z;
			*(undefined4 *)((int)puVar8 + 0x1c) = extraout_vf1w;
		}
		else {
			*puVar8 = *puVar8 | 0x1;
			*(float *)(puVar8 + 0x2) = *(float *)(puVar9 + 0x2);
			*(float *)((int)puVar8 + 0x14) = *(float *)((int)puVar9 + 0x14);
			*(float *)(puVar8 + 0x3) = *(float *)(puVar9 + 0x3);
			*(float *)((int)puVar8 + 0x1c) = *(float *)((int)puVar9 + 0x1c);
			uVar6 = *puVar8;
			*puVar8 = uVar6 | 0x4;
			uVar4 = DAT_0032387c;
			uVar3 = DAT_00323878;
			uVar2 = _DAT_00323870;
			*puVar8 = uVar6 | 0x6;
			*(int *)(puVar8 + 0x6) = (int)uVar2;
			*(undefined4 *)((int)puVar8 + 0x34) = (int)((ulong)uVar2 >> 0x20);
			*(undefined4 *)(puVar8 + 0x7) = uVar3;
			*(undefined4 *)((int)puVar8 + 0x3c) = uVar4;
			uVar2 = *puVar9;
			param_1_00 = *(float *)(puVar9 + 0x1);
			fVar7 = *(float *)((int)puVar9 + 0xc);
			*(int *)(puVar8 + 0x4) = (int)uVar2;
			*(undefined4 *)((int)puVar8 + 0x24) = (int)((ulong)uVar2 >> 0x20);
			*(float *)(puVar8 + 0x5) = param_1_00;
			*(float *)((int)puVar8 + 0x2c) = fVar7;
		}
		return;
	}
	param_1_00 = *(float *)(iVar5 + 0x28);
	do {
		param_1_00 = param_1_00 * param_1;
		iVar1 = *(int *)(iVar5 + 0x2c);
		if (*(int *)(iVar5 + 0x4) == 0x0) {
			if (*(int *)(iVar5 + 0x8) == 0x0) {
				param_3_00 = (long)*(int *)param_3;
				if (param_3_00 == 0x0) {
					puVar9 = *(undefined8 **)((int)puVar8 + 0x4);
					if (1.00000000 <= param_1_00) goto LAB_00294efc;
					FUN_00298398(puVar8);
					FUN_002985e0(param_1_00, puVar8, (float *)DAT(0x00323870));
					FUN_002986c0(param_1_00, puVar8, (float *)puVar9);
					*(undefined4 *)(puVar8 + 0x2) = extraout_vf1x_01;
					*(undefined4 *)((int)puVar8 + 0x14) = extraout_vf1y_01;
					*(undefined4 *)(puVar8 + 0x3) = extraout_vf1z_01;
					*(undefined4 *)((int)puVar8 + 0x1c) = extraout_vf1w_01;
				}
				else {
					FUN_00294cd8(param_1_00, param_2, param_3_00);
				}
			}
			else {
				puVar9 = *(undefined8 **)((int)puVar8 + 0x4);
				if (1.00000000 <= param_1_00) {
				LAB_00294efc:
					*puVar8 = *puVar8 | 0x1;
					*(float *)(puVar8 + 0x2) = *(float *)(puVar9 + 0x2);
					*(float *)((int)puVar8 + 0x14) = *(float *)((int)puVar9 + 0x14);
					*(float *)(puVar8 + 0x3) = *(float *)(puVar9 + 0x3);
					*(float *)((int)puVar8 + 0x1c) = *(float *)((int)puVar9 + 0x1c);
					uVar6 = *puVar8;
					*puVar8 = uVar6 | 0x4;
					uVar4 = DAT_0032387c;
					uVar3 = DAT_00323878;
					uVar2 = _DAT_00323870;
					*puVar8 = uVar6 | 0x6;
					*(int *)(puVar8 + 0x6) = (int)uVar2;
					*(undefined4 *)((int)puVar8 + 0x34) = (int)((ulong)uVar2 >> 0x20);
					*(undefined4 *)(puVar8 + 0x7) = uVar3;
					*(undefined4 *)((int)puVar8 + 0x3c) = uVar4;
					uVar2 = *puVar9;
					param_1_00 = *(float *)(puVar9 + 0x1);
					fVar7 = *(float *)((int)puVar9 + 0xc);
					*(int *)(puVar8 + 0x4) = (int)uVar2;
					*(undefined4 *)((int)puVar8 + 0x24) = (int)((ulong)uVar2 >> 0x20);
					*(float *)(puVar8 + 0x5) = param_1_00;
					*(float *)((int)puVar8 + 0x2c) = fVar7;
				}
				else {
					FUN_00298398(puVar8);
					FUN_002985e0(param_1_00, puVar8, (float *)DAT(0x00323870));
					FUN_002986c0(param_1_00, puVar8, (float *)puVar9);
					*(undefined4 *)(puVar8 + 0x2) = extraout_vf1x_00;
					*(undefined4 *)((int)puVar8 + 0x14) = extraout_vf1y_00;
					*(undefined4 *)(puVar8 + 0x3) = extraout_vf1z_00;
					*(undefined4 *)((int)puVar8 + 0x1c) = extraout_vf1w_00;
				}
			}
		}
		else {
			FUN_00294718(param_1_00, *(undefined4 *)(iVar5 + 0x1c), puVar8, *(int *)(iVar5 + 0x4));
		}
		if (iVar1 == 0x0) {
			return;
		}
		param_1_00 = *(float *)(iVar1 + 0x28);
		iVar5 = iVar1;
	} while (true);
}



void FUN_00294fb0(OgiOgiRelated *param_1, ulong param_2)

{
	void *address;
	int iVar1;
	long lVar2;
	OgiOgiRelated **ppOVar3;
	ulong uVar4;
	ulong counter;
	OgiOgiRelated *local_s2_lo_32;

	counter = 0x0;
	if (((*(long *)&param_1->field_0x50 << 0x1f) >> 0x20 & 0x1fU) != 0x0) {
		ppOVar3 = &param_1->field_0x64;
		do {
			if (*ppOVar3 == (OgiOgiRelated *)0x0) {
				lVar2 = *(long *)&param_1->field_0x50;
			}
			else {
				FUN_00294fb0(*ppOVar3, 0x3);
				lVar2 = *(long *)&param_1->field_0x50;
			}
			counter = SEXT48((int)counter + 0x1);
			ppOVar3 = ppOVar3 + 0x1;
		} while (counter < ((lVar2 << 0x1f) >> 0x20 & 0x1fU));
	}
	address = param_1->field_0x5c;
	if (address != (void *)0x0) {
		counter = (long)*(int *)((int)address + 0x4);
		if ((long)*(int *)((int)address + 0x4) == 0x0) {
			iVar1 = *(int *)((int)address + 0x8);
		}
		else {
			do {
				uVar4 = SEXT48(*(int *)((int)counter + 0x2c));
				if (counter != 0x0) {
					FUN_002980d0(counter, 0x3);
				}
				counter = uVar4;
			} while (uVar4 != 0x0);
			iVar1 = *(int *)((int)address + 0x8);
		}
		*(undefined4 *)((int)address + 0x4) = 0x0;
		while (counter = SEXT48(iVar1), counter != 0x0) {
			iVar1 = *(int *)(iVar1 + 0x2c);
			if (counter != 0x0) {
				FUN_002980d0(counter, 0x3);
			}
		}
		*(undefined4 *)((int)address + 0x8) = 0x0;
		MemoryDeallocate2_(address);
	}
	if ((param_2 & 0x1) != 0x0) {
		MemoryDeallocate2_(param_1);
	}
	return;
}



int ** FUN_002950c0(int *param_1, int *param_2)

{
	Matrix4x4 *pMVar1;
	ulong uVar2;
	long lVar3;
	Matrix4x4 **ppMVar4;
	Matrix4x4 *matrix;
	ulong uVar5;

	uVar2 = (*(long *)(param_1 + 0x14) << 0x1f) >> 0x20 & 0x1f;
	if (uVar2 < 0xc) {
		uVar5 = 0x0;
		matrix = (Matrix4x4 *)0x0;
		if (uVar2 != 0x0) {
			ppMVar4 = (Matrix4x4 **)(param_1 + 0x19);
			pMVar1 = *ppMVar4;
			while (true) {
				uVar5 = SEXT48((int)uVar5 + 0x1);
				ppMVar4 = ppMVar4 + 0x1;
				if ((int *)pMVar1[0x1].yComponents.y == param_2) {
					matrix = pMVar1;
				}
				if ((uVar2 <= uVar5) || (matrix != (Matrix4x4 *)0x0)) break;
				pMVar1 = *ppMVar4;
			}
		}
		if (matrix == (Matrix4x4 *)0x0) {
			matrix = (Matrix4x4 *)MemoryAllocate(0xa0);
			*(int **)&matrix[0x1].yComponents.y = param_2;
			matrix[0x1].yComponents.z = 0.00000000;
			matrix[0x1].yComponents.w = 0.00000000;
			*(int **)&matrix[0x1].zComponents.x = param_1;
			InitIdentityMatrix(matrix);
			lVar3 = *(long *)(param_1 + 0x14);
			matrix[0x1].yComponents.x = 0.00000000;
			*(Matrix4x4 **)(param_1 + ((uint)((ulong)(lVar3 << 0x1f) >> 0x20) & 0x1f) + 0x19) = matrix;
			*(ulong *)(param_1 + 0x14) =
				*(ulong *)(param_1 + 0x14) & 0xffffffffffffffc1 |
				((long)(int)(((uint)((*(ulong *)(param_1 + 0x14) << 0x1f) >> 0x20) & 0x1f) + 0x1) & 0x1fU
					) << 0x1;
		}
	}
	else {
		matrix = (Matrix4x4 *)0x0;
	}
	return (int **)matrix;
}



// WARNING: Removing unreachable block (ram,0x002951b8)

void * FUN_00295134(undefined8 param_1, undefined8 param_2, void *param_3, undefined param_4,
	undefined param_5, undefined param_6, undefined param_7, undefined param_8,
	undefined8 param_9, undefined8 param_10, undefined8 param_11, undefined8 param_12)

{
	long lVar1;
	float unaff_s1_lo;
	float unaff_s2_lo;

	if (param_3 == (void *)0x0) {
		param_3 = MemoryAllocate(0xa0);
		((Matrix4x4 *)param_3)[0x1].yComponents.y = unaff_s2_lo;
		((Matrix4x4 *)param_3)[0x1].yComponents.z = 0.00000000;
		((Matrix4x4 *)param_3)[0x1].yComponents.w = 0.00000000;
		((Matrix4x4 *)param_3)[0x1].zComponents.x = unaff_s1_lo;
		InitIdentityMatrix((Matrix4x4 *)param_3);
		lVar1 = *(long *)((int)unaff_s1_lo + 0x50);
		((Matrix4x4 *)param_3)[0x1].yComponents.x = 0.00000000;
		*(Matrix4x4 **)((int)unaff_s1_lo + ((uint)((ulong)(lVar1 << 0x1f) >> 0x20) & 0x1f) * 0x4 + 0x64)
			= param_3;
		*(ulong *)((int)unaff_s1_lo + 0x50) =
			*(ulong *)((int)unaff_s1_lo + 0x50) & 0xffffffffffffffc1 |
			((long)(int)(((uint)((*(ulong *)((int)unaff_s1_lo + 0x50) << 0x1f) >> 0x20) & 0x1f) + 0x1)
				& 0x1fU) << 0x1;
	}
	return param_3;
}

*/